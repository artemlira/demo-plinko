var zr=Object.defineProperty;var qr=(Di,$t,Gt)=>$t in Di?zr(Di,$t,{enumerable:!0,configurable:!0,writable:!0,value:Gt}):Di[$t]=Gt;var Ui=(Di,$t,Gt)=>(qr(Di,typeof $t!="symbol"?$t+"":$t,Gt),Gt);(function(){const $t=document.createElement("link").relList;if($t&&$t.supports&&$t.supports("modulepreload"))return;for(const Ot of document.querySelectorAll('link[rel="modulepreload"]'))Gi(Ot);new MutationObserver(Ot=>{for(const ut of Ot)if(ut.type==="childList")for(const Ae of ut.addedNodes)Ae.tagName==="LINK"&&Ae.rel==="modulepreload"&&Gi(Ae)}).observe(document,{childList:!0,subtree:!0});function Gt(Ot){const ut={};return Ot.integrity&&(ut.integrity=Ot.integrity),Ot.referrerPolicy&&(ut.referrerPolicy=Ot.referrerPolicy),Ot.crossOrigin==="use-credentials"?ut.credentials="include":Ot.crossOrigin==="anonymous"?ut.credentials="omit":ut.credentials="same-origin",ut}function Gi(Ot){if(Ot.ep)return;Ot.ep=!0;const ut=Gt(Ot);fetch(Ot.href,ut)}})();const Qr=()=>{console.log("loader");var Di={405:()=>{var Ot=window.SKIN_DIRS||{};Gt=window.__OPTIONS__.rules_url,Gi=Gt.slice(Gt.indexOf(`/${window.__OPTIONS__.locale}/`)+1);function ut(Ae){var le=(Ae.ui.skin||"basic").toLocaleLowerCase(),d=window.location.search.match(new RegExp("[?&]skin=([^&]*)(&?)","i")),k=d?d[1]:null;return k||le}window.initializeCasinoOptions=Ae=>{console.log(Ae);var le=ut(Ae),{root:d,res:k="v0.0.27_v14.6.4"}=Ot[le]||Ot.basic||{};Ae.ui.applied_skin=d,Ae.resources_root_path=Ae.resources_path+(d?`/${d}`:""),Ae.resources_path+=`/${k}`,Ae.game_bundle_source=Ae.resources_path+"/bundle.js",window.__OPTIONS__=Ae}}},$t={};function Gt(Ot){var ut=$t[Ot];if(ut!==void 0)return ut.exports;var Ae=$t[Ot]={exports:{}};return Di[Ot](Ae,Ae.exports,Gt),Ae.exports}Gt.n=Ot=>{var ut=Ot&&Ot.__esModule?()=>Ot.default:()=>Ot;return Gt.d(ut,{a:ut}),ut},Gt.d=(Ot,ut)=>{for(var Ae in ut)Gt.o(ut,Ae)&&!Gt.o(Ot,Ae)&&Object.defineProperty(Ot,Ae,{enumerable:!0,get:ut[Ae]})},Gt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Gt.o=(Ot,ut)=>Object.prototype.hasOwnProperty.call(Ot,ut);var Gi;(Gi=typeof window<"u"?window:Gt.g!==void 0?Gt.g:typeof self<"u"?self:{}).SENTRY_RELEASE={id:"Plinko (game: v0.0.27_v14.6.4, utils: v14.6.4)"},Gi.SENTRY_RELEASES=Gi.SENTRY_RELEASES||{},Gi.SENTRY_RELEASES["games-front-end@sentry"]={id:"Plinko (game: v0.0.27_v14.6.4, utils: v14.6.4)"},(()=>{Gt(405);var Ot=window.__OPTIONS__;Ot.identifier,window.initializeCasinoOptions(Ot)})()},Kr=()=>{console.log("bundle");var Di,$t,Gt,Gi={274:(Ae,le,d)=>{var k={"./bg":[5278,278],"./bg.js":[5278,278],"./de":[7610,610],"./de.js":[7610,610],"./el":[4254,254],"./el.js":[4254,254],"./en":[8409,409],"./en.js":[8409,409],"./es":[2688,688],"./es.js":[2688,688],"./fi":[6115,115],"./fi.js":[6115,115],"./fr":[2818,818],"./fr.js":[2818,818],"./id":[6182,182],"./id.js":[6182,182],"./it":[20,20],"./it.js":[20,20],"./ja":[830,830],"./ja.js":[830,830],"./kde":[8483,483],"./kde.js":[8483,483],"./ko":[4350,350],"./ko.js":[4350,350],"./nl":[4333,333],"./nl.js":[4333,333],"./nn":[9991,991],"./nn.js":[9991,991],"./pl":[7597,597],"./pl.js":[7597,597],"./pt":[1682,682],"./pt.js":[1682,682],"./ro":[1503,503],"./ro.js":[1503,503],"./ru":[8171,171],"./ru.js":[8171,171],"./ses":[4287,287],"./ses.js":[4287,287],"./sv":[6793,793],"./sv.js":[6793,793],"./th":[1385,385],"./th.js":[1385,385],"./tr":[5924,924],"./tr.js":[5924,924],"./vi":[5269,269],"./vi.js":[5269,269],"./zh":[6357,357],"./zh.js":[6357,357]};function h(P){if(!d.o(k,P))return Promise.resolve().then(()=>{var N=new Error("Cannot find module '"+P+"'");throw N.code="MODULE_NOT_FOUND",N});var j=k[P],z=j[0];return d.e(j[1]).then(()=>d.t(z,23))}h.keys=()=>Object.keys(k),h.id=274,Ae.exports=h},2447:Ae=>{Ae.exports={scenes:{main:{c:"MainMenu",p:{backgroundColor:2371125},":":[{c:"Resizer",p:{name:"middle",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"OrientationTrigger",p:{name:"bg",portraitX:-450},":":[{c:"BG",p:{name:"bg","pivot.y":.5,image:"bg/bg.jpg"}}]},{c:"Trigger",p:{dataPath:"game.currentScene.isLeftPanelTurnedOn",invert:!0,pow:.05,damp:.7,alphaShift:0,xShift:76,isApplyInteractivity:!1},":":[{c:"Sprite",p:{x:-348,y:-308,rotation:-.756,alpha:.09,visible:!1,image:"bg/bg-flowers.png"}}]},{c:"Resizer",p:{name:"left-panel-btn",relativeX:!0,xPos:-.5},":":[{c:"Trigger",p:{x:9,dataPath:"game.currentScene.isLeftPanelVisible",invert:!0,pow:.04,damp:.7,xShift:-30},":":[{c:"Button",p:{name:"open-table-btn",x:21,y:3,image:"ui/arrow-tabl-left.png",hoverImage:"ui/arrow-tabl-left.png",pressImage:"ui/arrow-tabl-left.png",disabledImage:"ui/arrow-tabl-left.png",onClick:"game.currentScene.toggleTableView",sndClick:"click",sndOver:"over"}}]}]},{c:"Resizer",p:{name:"right-panel-btn",y:-1,relativeX:!0,xPos:.5},":":[{c:"Trigger",p:{x:-9,"scale.x":-1,"scale.y":-1,dataPath:"game.currentScene.isRightPanelVisible",invert:!0,pow:.04,damp:.7,xShift:30},":":[{c:"Button",p:{name:"open-table-btn",x:21,y:3,image:"ui/arrow-tabl-left.png",hoverImage:"ui/arrow-tabl-left.png",pressImage:"ui/arrow-tabl-left.png",disabledImage:"ui/arrow-tabl-left.png",onClick:"game.currentScene.toggleTableView",sndClick:"click",sndOver:"over"}}]}]},{c:"Trigger",p:{name:"left-panel-switcher",x:1,y:1,dataPath:"game.currentScene.isLeftPanelVisible",pow:.05,damp:.7,alphaShift:-.97,xShift:-900},":":[{c:"OrientationTrigger",p:{name:"left-part",portraitX:525,portraitY:17},":":[{c:"Text",p:{x:-774,y:-345,translatableText:"plinko.time","style.fontSize":22,verticalAlign:"center","style.fontWeight":"bold",maxWidth:108}},{c:"Text",p:{x:-638,y:-345,translatableText:"plinko.bet_history","style.fontSize":22,verticalAlign:"center","style.fontWeight":"bold",maxWidth:108}},{c:"Text",p:{x:-496,y:-345,translatableText:"plinko.payout","style.fontSize":22,verticalAlign:"center","style.fontWeight":"bold",maxWidth:108}},{c:"Text",p:{x:-335,y:-345,translatableText:"plinko.profit","style.fontSize":22,verticalAlign:"center","style.fontWeight":"bold",maxWidth:108}},{c:"Sprite",p:{x:-821,y:-323,"scale.x":5.4,image:"ui/line.png",tint:10396592}},{c:"ResultList",p:{name:"resultList",x:-892,y:-293}},{c:"OrientationTrigger",p:{landscapeY:16,landscapeAlpha:0,portraitX:-539,portraitY:-484},":":[{c:"Sprite",p:{y:57,"scale.x":.5,"scale.y":.5,"pivot.x":204,"pivot.y":118,image:"ui/logo.png"},":":[{c:"Trigger",p:{dataPath:"game.casinoOptions.ui.logo_visible",isApplyInteractivity:!1},":":[{c:"Sprite",p:{x:104,y:182,alpha:.4,"scale.x":.5,"scale.y":.5,image:"ui/b-gaming.png"}}]}]}]}]}]},{c:"Trigger",p:{name:"right-panel-switcher",dataPath:"game.currentScene.isRightPanelVisible",pow:.05,damp:.7,alphaShift:-.97,xShift:900},":":[{c:"Trigger",p:{name:"ios-safari-fix",dataPath:"game.isLandscapeSafariIos",invert:!0,pow:1,alphaShift:0,yShift:-70,isApplyInteractivity:!1},":":[{c:"OrientationTrigger",p:{name:"right-part",portraitX:-505},":":[{c:"Trigger",p:{x:682,y:350,dataPath:"game.data.autoPanelActiveted",pow:.06,damp:.7,alphaShift:0,yShift:45,isApplyInteractivity:!1},":":[{c:"NineSlicePlane",p:{name:"autoplayPanel",x:-65,y:-64,image:"ui/panel-ui.png",width:130,height:146,leftWidth:14,rightWidth:14,topHeight:14,bottomHeight:14},":":[{c:"Text",p:{x:68,y:-1,translatableText:"plinko.bet_mode","style.fontSize":16,verticalAlign:"bottom","style.fill":"#ffb744",maxWidth:128}},{c:"Sprite",p:{x:11,y:41,image:"ui/line.png",tint:10396592}},{c:"Button",p:{name:"manualGameBtn",x:32,y:24,interactive:!1,image:"ui/small-btn.png",hoverImage:"ui/small-btn.png",pressImage:"ui/small-btn.png",disabledImage:"ui/small-btn-d.png",onClick:"game.currentScene.deactivateAutoPanel",sndClick:"click",sndOver:"over"},":":[{c:"DSprite",p:{image:"ui/manual-icon.png"}},{c:"MovieClip",p:{timeline:{l:{"btn-out":3,"btn-over":42},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:0,t:13,m:1,a:"this.stop"},{v:1,t:47,m:1}]}]}},":":[{c:"Text",p:{x:14,translatableText:"plinko.manual","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.strokeThickness":1,"style.stroke":"#fff","style.padding":1,maxWidth:74}}]},{c:"Shape",p:{x:-23,y:-20,visible:!1,width:113,height:39,isItHitArea:!0}},{c:"Text",p:{x:15,translatableText:"plinko.manual","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.padding":1,maxWidth:74}}]},{c:"Button",p:{name:"autoGameBtn",x:32,y:65,image:"ui/small-btn.png",hoverImage:"ui/small-btn.png",pressImage:"ui/small-btn.png",disabledImage:"ui/small-btn-d.png",onClick:"game.currentScene.activateAutoPanel",sndClick:"click",sndOver:"over"},":":[{c:"DSprite",p:{image:"ui/auto-icon.png"}},{c:"MovieClip",p:{timeline:{l:{"btn-out":3,"btn-over":42},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:0,t:13,m:1,a:"this.stop"},{v:1,t:47,m:1}]}]}},":":[{c:"Text",p:{x:14,translatableText:"plinko.auto","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.strokeThickness":1,"style.stroke":"#fff","style.padding":1,maxWidth:73}}]},{c:"Shape",p:{x:-23,y:-20,visible:!1,width:113,height:39,isItHitArea:!0}},{c:"Text",p:{x:15,translatableText:"plinko.auto","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.padding":1,maxWidth:73}}]},{c:"Trigger",p:{name:"auto-game-counter",dataPath:"game.data.autoPanelActiveted",pow:.06,damp:.7},":":[{c:"Sprite",p:{x:47,y:98,image:"ui/counter-bg.png"},":":[{c:"NumberInput",p:{name:"autoplayNumberInput",x:19,y:12,textView:"counter-text",dataPath:"game.data.autoplayCount",valuesList:"10,20,30,50,70,100,150,200,250,300,400,500,600,700,800,900,1000"},":":[{c:"Shape",p:{x:-23,y:-25,alpha:.71,visible:!1,width:45,height:44,isItHitArea:!0}}]},{c:"Sprite",p:{name:"number-mask",x:1,y:-23,"scale.x":2.2,"scale.y":1.52,image:"WHITE",tint:4937571}},{c:"Sprite",p:{name:"number-mask",x:1,y:22,"scale.x":2.2,"scale.y":1.5,image:"WHITE",tint:4937571}},{c:"Trigger",p:{dataPath:"this.parent.#autoplayNumberInput.canIncrease",alphaShift:-.65},":":[{c:"Button",p:{x:59,y:12,image:"ui/counter-btn.png",hoverImage:"ui/counter-btn-h.png",onClick:"this.parent.parent.#autoplayNumberInput.increase",sndClick:"click",sndOver:"over",repeatDelay:20,repeatInterval:6},":":[{c:"Text",p:{y:-1,text:"+","style.fontSize":18,verticalAlign:"center","style.fontWeight":"bold"}}]}]},{c:"Trigger",p:{dataPath:"this.parent.#autoplayNumberInput.canDecrease",alphaShift:-.65},":":[{c:"Button",p:{x:-21,y:12,image:"ui/counter-btn.png",hoverImage:"ui/counter-btn-h.png",onClick:"this.parent.parent.#autoplayNumberInput.decrease",sndClick:"click",sndOver:"over",repeatDelay:20,repeatInterval:6},":":[{c:"Text",p:{y:-1,text:"—","style.fontSize":18,verticalAlign:"center","style.fontWeight":"bold"}}]}]}]},{c:"Text",p:{x:66,y:96,translatableText:"plinko.autoplay_count",verticalAlign:"bottom",maxWidth:115}}]}]}]},{c:"Container",p:{name:"gameUI"},":":[{c:"NineSlicePlane",p:{x:252,y:286,image:"ui/panel-ui.png",width:130,height:146,leftWidth:14,rightWidth:14,topHeight:14,bottomHeight:14},":":[{c:"Text",p:{x:65,y:-1,translatableText:"plinko.risk_level","style.fontSize":16,verticalAlign:"bottom","style.fill":"#ffb744",maxWidth:128}},{c:"Sprite",p:{x:11,y:41,image:"ui/line.png",tint:10396592}},{c:"Sprite",p:{x:11,y:85,image:"ui/line.png",tint:10396592}},{c:"Button",p:{name:"high-risk-btn",x:32,y:24,image:"ui/small-btn.png",hoverImage:"ui/small-btn.png",disabledImage:"ui/small-btn-d.png",onClick:"all.gameTable.setRiskMode`high",sndClick:"click",sndOver:"over"},":":[{c:"DSprite",p:{image:"ui/lvl-high-icon.png"}},{c:"MovieClip",p:{timeline:{l:{"btn-out":3,"btn-over":42},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:0,t:13,m:1,a:"this.stop"},{v:1,t:47,m:1}]}]}},":":[{c:"Text",p:{x:14,translatableText:"plinko.high","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.strokeThickness":1,"style.stroke":"#fff","style.padding":1,maxWidth:73}}]},{c:"Shape",p:{x:-23,y:-20,visible:!1,width:113,height:39,isItHitArea:!0}},{c:"Text",p:{x:15,translatableText:"plinko.high","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.padding":1,maxWidth:73}}]},{c:"Button",p:{name:"medium-risk-btn",x:32,y:65,image:"ui/small-btn.png",hoverImage:"ui/small-btn.png",disabledImage:"ui/small-btn-d.png",onClick:"all.gameTable.setRiskMode`medium",sndClick:"click",sndOver:"over"},":":[{c:"DSprite",p:{image:"ui/lvl-mid-icon.png"}},{c:"MovieClip",p:{timeline:{l:{"btn-out":3,"btn-over":42},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:0,t:13,m:1,a:"this.stop"},{v:1,t:47,m:1}]}]}},":":[{c:"Text",p:{x:14,translatableText:"plinko.normal","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.strokeThickness":1,"style.stroke":"#fff","style.padding":1,maxWidth:73}}]},{c:"Shape",p:{x:-23,y:-20,visible:!1,width:113,height:39,isItHitArea:!0}},{c:"Text",p:{x:15,translatableText:"plinko.normal","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.padding":1,maxWidth:73}}]},{c:"Button",p:{name:"low-risk-btn",x:32,y:107,image:"ui/small-btn.png",hoverImage:"ui/small-btn.png",disabledImage:"ui/small-btn-d.png",onClick:"all.gameTable.setRiskMode`low",sndClick:"click",sndOver:"over"},":":[{c:"DSprite",p:{image:"ui/lvl-low-icon.png"}},{c:"MovieClip",p:{timeline:{l:{"btn-out":3,"btn-over":42},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:0,t:13,m:1,a:"this.stop"},{v:1,t:47,m:1}]}]}},":":[{c:"Text",p:{x:14,translatableText:"plinko.low","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.strokeThickness":1,"style.stroke":"#fff","style.padding":1,maxWidth:73}}]},{c:"Shape",p:{x:-23,y:-20,visible:!1,width:113,height:39,isItHitArea:!0}},{c:"Text",p:{x:15,translatableText:"plinko.low","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.padding":1,maxWidth:73}}]}]},{c:"Sprite",p:{name:"bet-panel",x:250,y:408,image:"bg/bg-ui.png"},":":[{c:"Trigger",p:{dataPath:"game.currentScene.isBetCanBeDecreased",pow:1,alphaShift:-.65},":":[{c:"Button",p:{x:34,y:43,image:"ui/bet-btn.png",hoverImage:"ui/bet-btn-h.png",onClick:"game.currentScene.minimizeBet",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{translatableText:"plinko.min","style.fontSize":18,verticalAlign:"center",maxWidth:54}}]},{c:"Button",p:{x:100,y:43,image:"ui/bet-btn.png",hoverImage:"ui/bet-btn-h.png",onClick:"game.currentScene.decreaseBet",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{text:"—","style.fontSize":18,verticalAlign:"center","style.fontWeight":"bold"}}]}]},{c:"Trigger",p:{dataPath:"game.currentScene.isBetCanBeIncreased",pow:1,alphaShift:-.65},":":[{c:"Button",p:{x:399,y:43,image:"ui/bet-btn.png",hoverImage:"ui/bet-btn-h.png",onClick:"game.currentScene.increaseBet",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{text:"+","style.fontSize":18,verticalAlign:"center","style.fontWeight":"bold"}}]},{c:"Button",p:{x:465,y:43,image:"ui/bet-btn.png",hoverImage:"ui/bet-btn-h.png",onClick:"game.currentScene.maximizeBet",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{translatableText:"plinko.max","style.fontSize":18,verticalAlign:"center",maxWidth:54}}]}]},{c:"MoneyLabel",p:{name:"bet-label",x:249,y:49,translatableText:"plinko.bet","style.fontSize":27,verticalAlign:"center","style.fontWeight":"bold","style.letterSpacing":1,maxWidth:225,dataPath:"game.data.bet",refreshInterval:0,decimalsCount:2,dataPath2:"game.data.currency"}},{c:"MoneyLabel",p:{name:"balance-label",x:247,y:100,translatableText:"plinko.balance","style.fontSize":27,verticalAlign:"center","style.fill":"#ffb744","style.fontWeight":"bold","style.letterSpacing":1,textTransform:1,maxWidth:225,dataPath:"game.data.balance",refreshInterval:0,decimalsCount:2,dataPath2:"game.data.currency",decimalsCountPath:"game.data.balanceDigitsCount"}}]},{c:"Trigger",p:{name:"ios-safari-fix",dataPath:"game.isLandscapeSafariIos",invert:!0,pow:1,alphaShift:0,xShift:50,yShift:130,isApplyInteractivity:!1},":":[{c:"Button",p:{name:"lines-button",x:737,y:-399,image:"ui/select-btn.png",hoverImage:"ui/select-btn-h.png",disabledImage:"ui/select-btn-d.png",onClick:"all.gameTable.setLinesCount`8",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",y:-1,text:"8","style.fontSize":18,verticalAlign:"center","style.fill":"#c6d6e3"}}]},{c:"Button",p:{name:"lines-button",x:737,y:-367.99999999999994,image:"ui/select-btn.png",hoverImage:"ui/select-btn-h.png",disabledImage:"ui/select-btn-d.png",onClick:"all.gameTable.setLinesCount`9",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",y:-1,text:"9","style.fontSize":18,verticalAlign:"center","style.fill":"#c6d6e3"}}]},{c:"Button",p:{name:"lines-button",x:737,y:-336.99999999999994,image:"ui/select-btn.png",hoverImage:"ui/select-btn-h.png",disabledImage:"ui/select-btn-d.png",onClick:"all.gameTable.setLinesCount`10",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",y:-1,text:"10","style.fontSize":18,verticalAlign:"center","style.fill":"#c6d6e3"}}]},{c:"Button",p:{name:"lines-button",x:737,y:-305.99999999999994,image:"ui/select-btn.png",hoverImage:"ui/select-btn-h.png",disabledImage:"ui/select-btn-d.png",onClick:"all.gameTable.setLinesCount`11",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",y:-1,text:"11","style.fontSize":18,verticalAlign:"center","style.fill":"#c6d6e3"}}]},{c:"Button",p:{name:"lines-button",x:737,y:-274.99999999999994,image:"ui/select-btn.png",hoverImage:"ui/select-btn-h.png",disabledImage:"ui/select-btn-d.png",onClick:"all.gameTable.setLinesCount`12",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",y:-1,text:"12","style.fontSize":18,verticalAlign:"center","style.fill":"#c6d6e3"}}]},{c:"Button",p:{name:"lines-button",x:737,y:-243.99999999999994,image:"ui/select-btn.png",hoverImage:"ui/select-btn-h.png",disabledImage:"ui/select-btn-d.png",onClick:"all.gameTable.setLinesCount`13",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",y:-1,text:"13","style.fontSize":18,verticalAlign:"center","style.fill":"#c6d6e3"}}]},{c:"Button",p:{name:"lines-button",x:737,y:-212.99999999999994,image:"ui/select-btn.png",hoverImage:"ui/select-btn-h.png",disabledImage:"ui/select-btn-d.png",onClick:"all.gameTable.setLinesCount`14",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",y:-1,text:"14","style.fontSize":18,verticalAlign:"center","style.fill":"#c6d6e3"}}]},{c:"Button",p:{name:"lines-button",x:737,y:-181.99999999999994,image:"ui/select-btn.png",hoverImage:"ui/select-btn-h.png",disabledImage:"ui/select-btn-d.png",onClick:"all.gameTable.setLinesCount`15",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",y:-1,text:"15","style.fontSize":18,verticalAlign:"center","style.fill":"#c6d6e3"}}]},{c:"Button",p:{name:"lines-button",x:737,y:-150.99999999999994,image:"ui/select-btn.png",hoverImage:"ui/select-btn-h.png",disabledImage:"ui/select-btn-d.png",onClick:"all.gameTable.setLinesCount`16",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",y:-1,text:"16","style.fontSize":18,verticalAlign:"center","style.fill":"#c6d6e3"}}]},{c:"TextInput",p:{x:736,y:-416,translatableText:"plinko.lines","style.fontSize":18,verticalAlign:"bottom","style.fill":"#ffb744",maxWidth:344}}]}]},{c:"Button",p:{name:"playButton",x:500,y:328,"pivot.x":-15,"pivot.y":-15,image:"ui/play-btn.png",hoverImage:"ui/play-btn-h.png",onClick:"game.currentScene.playButtonClick",sndClick:"play seobanda",sndOver:"over"},":":[{c:"Trigger",p:{x:-17,y:-16,dataPath:"game.currentScene.isAutoplayStarted",invert:!0},":":[{c:"Text",p:{x:1,translatableText:"plinko.play","style.fontSize":46,verticalAlign:"center","style.fill":"#36434a","style.fontWeight":"bold",textTransform:1,maxWidth:126}}]},{c:"Trigger",p:{x:-17,y:-16,dataPath:"game.currentScene.isAutoplayStarted"},":":[{c:"Text",p:{x:1,translatableText:"plinko.stop","style.fontSize":46,verticalAlign:"center","style.fill":"#36434a","style.fontWeight":"bold",textTransform:1,maxWidth:126}},{c:"Label",p:{y:39,text:"22","style.fontSize":25,verticalAlign:"center","style.fill":"#36434a","style.fontWeight":"bold",dataPath:"game.data.autoplayCurrentCount"}}]},{c:"Shape",p:{x:-15,y:-15,alpha:0,shape:2,shapeRadius:82,isItHitArea:!0}}]},{c:"MovieClip",p:{name:"win-panel",x:500,isPlaying:!1,timeline:{l:{"on-win":9,hide:262},p:.2,d:.85,f:[{n:"y",t:[{v:214,t:0},{v:214,t:14,s:5},{v:214,t:120}]},{n:"scale.y",t:[{v:0,t:0},{v:1,t:17,m:1},{v:1,t:254,m:1},{v:0,t:269,m:1}]},{n:"scale.x",t:[{v:0,t:0},{v:1,t:17,m:1},{v:1,t:254,m:1},{v:0,t:269,m:1}]}]}},":":[{c:"NineSlicePlane",p:{x:-250,y:-25,image:"ui/win-panel.png",width:500,height:50,leftWidth:25,rightWidth:25,topHeight:25,bottomHeight:25},":":[{c:"Fill",p:{x:10,y:10,"scale.x":3.74,"scale.y":.23,image:"ui/stars-pattern.png",tint:16764160,verticesX:4,xRepeat:3.74,yRepeat:.23,xShiftSpeed:.010480000000000001,yShiftSpeed:.0039900000000000005,xWaveAmp:1.012,xWaveStep:3.357,xWaveSpeed:.01312,yWaveAmp:-.034,yWaveStep:2.064,yWaveSpeed:.0753}},{c:"MoneyLabel",p:{name:"bet-label",x:251,y:24,translatableText:"plinko.win","style.fontSize":27,verticalAlign:"center","style.fill":"#4a2c01","style.fontWeight":"bold","style.letterSpacing":1,maxWidth:225,dataPath:"game.data.winToShow",refreshInterval:0,decimalsCount:2,dataPath2:"game.data.currency"}}]}]},{c:"GameTable",p:{name:"gameTable",x:500,y:-394},":":[{c:"DSprite",p:{name:"hole",image:"ui/hole.png"}},{c:"Container",p:{name:"ballsContainer"}},{c:"Container",p:{name:"pinsContainer"}},{c:"Container",p:{name:"particlesContainer"}},{c:"DSprite",p:{name:"tooltip",x:-185,y:478,"pivot.x":-1,"pivot.y":-2,image:"ui/tooltip.png"},":":[{c:"Sprite",p:{name:"pointer",x:-52,y:56,"pivot.x":10,image:"ui/tooltip-pointer.png"}},{c:"Text",p:{y:-40,translatableText:"plinko.tooltip_win","style.fontSize":22,verticalAlign:"center",maxWidth:98}},{c:"Text",p:{y:18,translatableText:"plinko.chance","style.fontSize":22,verticalAlign:"center",maxWidth:98}},{c:"MoneyLabel",p:{name:"profit",x:1,y:-14,text:"%d %s","style.fontSize":20,verticalAlign:"center","style.letterSpacing":1,maxWidth:141,dataPath:"this.parent.profit",refreshInterval:0,template:"%d %s",decimalsCount:2,dataPath2:"game.data.currency"}},{c:"Label",p:{name:"chance",x:1,y:44,text:"0.123123","style.fontSize":20,verticalAlign:"center",maxWidth:141,dataPath:"this.parent.chance",refreshInterval:0}}]}]},{c:"OrientationTrigger",p:{landscapeY:16,landscapeAlpha:0,portraitX:212,portraitY:-314,portraitR:-1.5707963267948966},":":[{c:"Sprite",p:{y:57,"scale.x":.5,"scale.y":.5,"pivot.x":204,"pivot.y":118,image:"ui/logo.png"},":":[{c:"Trigger",p:{dataPath:"game.casinoOptions.ui.logo_visible",isApplyInteractivity:!1},":":[{c:"Sprite",p:{x:104,y:182,alpha:.4,"scale.x":.5,"scale.y":.5,image:"ui/b-gaming.png"}}]}]}]}]}]}]}]},{c:"PrefabReference",p:{name:"ui",prefabName:"ui/ui-panel"}},{c:"BgMusic",p:{name:"bgMusic",loop:"mus/bg"}}]},root:{c:"BaseRootScene",p:{backgroundColor:0}}},prefabs:{ball:{c:"Ball",p:{name:"ball","pivot.x":-3,"pivot.y":-5,image:"ui/ball.png"},":":[{c:"MovieClip",p:{x:-3,y:-5,rotation:-.712,timeline:{l:{},p:.02,d:.85,f:[{n:"rotation",t:[{v:-.712,t:0},{v:.768,t:10,m:1},{v:-.712,t:19,m:1},{v:.768,t:26,m:1},{v:-.712,t:33,m:1},{v:.768,t:39,m:1,j:4}]}]}},":":[{c:"Spawner",p:{name:"particles-spawner",x:-1,y:-15,rotation:-1.5707963267948966,prefabToSpawn:"spark",enabled:!1,interval:2,speed:0,speedRandom:0,container:"game.currentScene.all.particlesContainer"}}]}]},"ball-target":{c:"Button",p:{name:"ball-target",hoverImage:"EMPTY",pressImage:"EMPTY",disabledImage:"EMPTY",sndClick:"click",sndOver:"over"},":":[{c:"MovieClip",p:{name:"body",image:"ui/target.png",tint:16776960,isPlaying:!1,timeline:{l:{"ball-touch":12},p:.2,d:.85,f:[{n:"y",t:[{v:0,t:0},{v:0,t:13,s:2.3000000000000003},{v:0,t:80}]},{n:"tintB",t:[{v:0,t:0,m:1},{v:0,t:12,m:1},{v:255,t:15,m:1},{v:0,t:34,m:1}]}]}},":":[{c:"Sprite",p:{x:-31,y:-19,image:"ui/target-overlay.png"}},{c:"Text",p:{name:"label",y:1,alpha:.85,text:"---","style.fontSize":20,verticalAlign:"center","style.fill":"#000022","style.fontWeight":"bold",maxWidth:47}},{c:"SpawnerRing",p:{name:"spawner",rotation:1.5707963267948966,prefabToSpawn:"spark",speed:2,speedRandom:2,count:15,countRandom:5,container:"all.particlesContainer"}}]},{c:"Shape",p:{x:-28,y:-37,width:57,height:76,isItHitArea:!0}}]},container:{c:"Container",p:{name:"container"}},"counter-text":{c:"Text",p:{name:"counter-text",x:640,y:360,text:"100","style.fontSize":20,verticalAlign:"center",maxWidth:34}},"fader/curtains":{c:"Resizer",p:{name:"fader/curtains",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"MovieClip",p:{timeline:{l:{},p:.02,d:.85,f:[{n:"visible",t:[{v:!0,t:0,m:2},{v:!0,t:121,m:2,a:"this.playRecursive"}]}]}},":":[{c:"Resizer",p:{resizeX:!0,resizeY:!0},":":[{c:"MovieClip",p:{"scale.y":8.4375,image:"WHITE_FOR_CANVAS.jpg",tint:0,isPlaying:!1,timeline:{l:{"hide fader":81},p:.02,d:.85,f:[{n:"x",t:[{v:-960,t:0},{v:-480,t:70,m:3,b:.4,g:2,a:"game.faderShoot"},{v:-480,t:74,m:1,a:"this.stop"},{v:-480,t:83,m:1},{v:-960,t:120,m:1,a:"game.faderEnd"}]},{n:"scale.x",t:[{v:0,t:0},{v:7.5,t:15,m:1},{v:7.5,t:70,m:1},{v:7.5,t:74,m:1},{v:7.5,t:83,m:1},{v:.1,t:120,m:1}]}]}}},{c:"MovieClip",p:{"scale.y":8.4375,image:"WHITE_FOR_CANVAS.jpg",tint:0,isPlaying:!1,timeline:{l:{"hide fader":81},p:.02,d:.85,f:[{n:"x",t:[{v:960,t:0},{v:480,t:70,m:4,b:.4,g:2},{v:480,t:74,m:1},{v:480,t:83,m:1},{v:966,t:120,m:1}]},{n:"scale.x",t:[{v:.625,t:0},{v:7.5,t:15,m:1},{v:7.5,t:70,m:1},{v:7.5,t:74,m:1,a:"this.stop"},{v:7.5,t:83,m:1},{v:.1,t:120,m:1}]}]}}}]},{c:"MovieClip",p:{isPlaying:!1,timeline:{l:{"hide fader":180},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:0,t:123,m:1},{v:1,t:130,m:1},{v:.8200000000000001,t:139,m:1},{v:1,t:150,m:1},{v:.4,t:161,m:1},{v:1,t:173,m:1,j:122}]}]}},":":[{c:"Text",p:{y:26,translatableText:"loading","style.fontSize":35,maxWidth:688}},{c:"MovieClip",p:{y:-22,image:"ui/spinner.png",rSpeed:.03,timeline:{l:{},p:.048,d:.81,f:[{n:"scale.y",t:[{v:.66,t:0},{v:.5499999999999999,t:13},{v:.66,t:60,j:0}]},{n:"scale.x",t:[{v:.66,t:0},{v:.55,t:13},{v:.66,t:60,j:0}]}]}}}]}]}]},"fader/default":{c:"Container",p:{name:"fader/default"},":":[{c:"Resizer",p:{name:"fader/default",resizeX:!0,resizeY:!0,relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"MovieClip",p:{name:"fader/default","scale.x":15,"scale.y":8.4375,image:"WHITE_FOR_CANVAS.jpg",tint:0,timeline:{l:{"hide fader":74},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:1,t:12,m:1,a:"game.faderShoot"},{v:1,t:23,m:1,a:"this.stop"},{v:1,t:74,m:1},{v:0,t:88,m:1,a:"game.faderEnd"}]}]}}}]},{c:"Resizer",p:{relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"MovieClip",p:{timeline:{l:{"hide fader":324},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:0,t:209,m:1},{v:1,t:217,m:1},{v:.8200000000000001,t:228,m:1},{v:1,t:241,m:1},{v:.4,t:255,m:1},{v:1,t:267,m:1,j:213},{v:0,t:335,m:1}]}]}},":":[{c:"Text",p:{y:26,translatableText:"loading","style.fontSize":35,maxWidth:795}},{c:"MovieClip",p:{y:-22,image:"ui/spinner.png",rSpeed:.03,timeline:{l:{},p:.048,d:.81,f:[{n:"scale.y",t:[{v:.66,t:0},{v:.5499999999999999,t:13},{v:.66,t:60,j:0}]},{n:"scale.x",t:[{v:.66,t:0},{v:.55,t:13},{v:.66,t:60,j:0}]}]}}}]}]}]},"fader/default-slow":{c:"Container",p:{name:"fader/default-slow"},":":[{c:"Resizer",p:{name:"fader/default",resizeX:!0,resizeY:!0,relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"MovieClip",p:{name:"fader/default","scale.x":15,"scale.y":8.4375,image:"WHITE_FOR_CANVAS.jpg",tint:0,timeline:{l:{"hide fader":122},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:1,t:60,m:1,a:"game.faderShoot"},{v:1,t:70,m:1,a:"this.stop"},{v:1,t:123,m:1},{v:0,t:187,m:1,a:"game.faderEnd"}]}]}}}]},{c:"Resizer",p:{relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"MovieClip",p:{timeline:{l:{"hide fader":324},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:0,t:209,m:1},{v:1,t:217,m:1},{v:.8200000000000001,t:228,m:1},{v:1,t:241,m:1},{v:.4,t:255,m:1},{v:1,t:267,m:1,j:212},{v:0,t:335,m:1}]}]}},":":[{c:"Text",p:{y:26,translatableText:"loading","style.fontSize":35,maxWidth:824}},{c:"MovieClip",p:{y:-22,image:"ui/spinner.png",rSpeed:.03,timeline:{l:{},p:.048,d:.81,f:[{n:"scale.y",t:[{v:.66,t:0},{v:.5499999999999999,t:13},{v:.66,t:60,j:0}]},{n:"scale.x",t:[{v:.66,t:0},{v:.55,t:13},{v:.66,t:60,j:0}]}]}}}]}]}]},flytext:{c:"FlyText",p:{name:"flytext",x:513,y:295,text:"qwdqwdqwd","style.fontSize":28,verticalAlign:"center","style.fill":"#ffff00","style.strokeThickness":4,"style.stroke":"#773300"}},logo:{c:"DSprite",p:{name:"logo",x:1,y:61,"scale.x":.666,"scale.y":.666,image:"ui/logo.png"},":":[{c:"MovieClip",p:{timeline:{l:{},p:.02,d:.85,f:[{n:"x",t:[{v:122,t:0,m:1},{v:-30,t:9,m:1},{v:122.9661363162408,t:42,m:1,j:0}]},{n:"y",t:[{v:48,t:0,m:1},{v:-80,t:16,m:1},{v:50.41431393721814,t:35,m:1,j:0}]}]}},":":[{c:"MovieClip",p:{image:"ui/particle.png",timeline:{l:{},p:.06,d:.8,f:[{n:"scale.x",t:[{v:0,t:0},{v:0,t:61,a:"this.parent.stop"},{v:1,t:82},{v:0,t:116,j:0,a:"this.parent.play"}]},{n:"scale.y",t:[{v:0,t:0},{v:0,t:61},{v:1,t:83},{v:0,t:116,j:0}]}]}}}]},{c:"MovieClip",p:{timeline:{l:{},p:.02,d:.85,f:[{n:"x",t:[{v:126,t:0,m:1},{v:-31,t:15,m:1},{v:123,t:30,m:1,j:0}]},{n:"y",t:[{v:77,t:0,m:1},{v:-75,t:10,m:1},{v:82,t:23,m:1,j:0}]}]}},":":[{c:"MovieClip",p:{image:"ui/particle.png",timeline:{l:{},p:.06,d:.8,f:[{n:"scale.x",t:[{v:0,t:0},{v:0,t:61,a:"this.parent.stop"},{v:1,t:82},{v:0,t:108,j:0,a:"this.parent.play"}]},{n:"scale.y",t:[{v:0,t:0},{v:0,t:61},{v:1,t:83},{v:0,t:108,j:0}]}]}}}]},{c:"MovieClip",p:{x:-33,y:-36,image:"ui/particle.png",timeline:{l:{},p:.06,d:.8,f:[{n:"scale.x",t:[{v:0,t:0},{v:0,t:29},{v:1.44,t:49},{v:0,t:136,j:0}]},{n:"scale.y",t:[{v:0,t:0},{v:0,t:29},{v:1.44,t:49},{v:0,t:136,j:0}]}]}}},{c:"MovieClip",p:{x:123,y:-66,image:"ui/particle.png",timeline:{l:{},p:.06,d:.8,f:[{n:"scale.x",t:[{v:0,t:0},{v:0,t:87},{v:1.58,t:112},{v:0,t:186,j:0}]},{n:"scale.y",t:[{v:0,t:0},{v:0,t:87},{v:1.67,t:112},{v:0,t:185,j:0}]}]}}},{c:"Trigger",p:{dataPath:"game.casinoOptions.ui.logo_visible"},":":[{c:"Sprite",p:{x:135,y:37,alpha:.4,"scale.x":.37,"scale.y":.37,image:"ui/b-gaming.png"}}]}]},pin:{c:"DSprite",p:{name:"pin","pivot.x":-1,"pivot.y":-2,image:"ui/pin.png"}},"pin-light":{c:"MovieClip",p:{name:"pin-light",alpha:1,"scale.x":1,"scale.y":1,"pivot.x":1,"pivot.y":2,image:"ui/light.png",timeline:{l:{},p:.02,d:.85,f:[{n:"alpha",t:[{v:1,t:0,m:1},{v:1,t:3,m:1},{v:0,t:14,m:1,a:"this.remove"}]},{n:"scale.x",t:[{v:1,t:0,m:1},{v:1.5,t:14,m:1}]},{n:"scale.y",t:[{v:1,t:0,m:1},{v:1.5,t:14,m:1}]}]}}},"provability-count-text":{c:"Text",p:{name:"provability-count-text",x:640,y:360,text:"100","style.fontSize":30,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"bold"}},"result-list-item":{c:"ListItem",p:{name:"result-list-item",timeline:{l:{remove:69,"no-animation":66},p:.05,d:.74,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:1,t:23,m:1},{v:1,t:67,m:1},{v:0,t:86,m:1,a:"this.remove"}]},{n:"pivot.x",t:[{v:222,t:0},{v:0,t:61},{v:0,t:67,a:"this.stop",m:1},{v:199,t:86,m:1}]}]}},":":[{c:"Sprite",p:{name:"lose-bg",x:447,y:-16,image:"ui/profit-bg.png",tint:7610143},":":[{c:"MoneyLabel",p:{name:"win",x:105,y:15,text:"%d %s","style.fontSize":21,verticalAlign:"center","style.letterSpacing":1,maxWidth:170,dataPath:"this.parent.parent.data.win",refreshInterval:1e5,template:"%d %s",plusMinus:!0,decimalsCount:2,dataPath2:"game.data.currency"}}]},{c:"Sprite",p:{name:"win-bg",x:447,y:-16,image:"ui/profit-bg.png",tint:1069106},":":[{c:"MoneyLabel",p:{name:"win",x:105,y:15,text:"%d %s","style.fontSize":21,verticalAlign:"center","style.letterSpacing":1,maxWidth:171,dataPath:"this.parent.parent.data.win",refreshInterval:1e5,template:"%d %s",plusMinus:!0,decimalsCount:2,dataPath2:"game.data.currency"}}]},{c:"Label",p:{name:"payout",x:397,text:"1235.88×","style.fontSize":21,verticalAlign:"center",maxWidth:80,dataPath:"this.parent.data.payout",refreshInterval:1e5,template:"%d×",isNumeric:!0,decimalsCount:1}},{c:"Label",p:{name:"time",x:113,text:"12:28:03","style.fontSize":21,verticalAlign:"center",dataPath:"this.parent.data.time",refreshInterval:1e5}},{c:"MoneyLabel",p:{name:"bet",x:258,y:-1,text:"123123123123%d %s","style.fontSize":21,verticalAlign:"center","style.letterSpacing":1,maxWidth:180,dataPath:"this.parent.data.bet",refreshInterval:1e5,template:"%d %s",decimalsCount:2,dataPath2:"game.data.currency"}}]},spark:{c:"ParticleSimple",p:{name:"spark",x:640,y:360,image:"ui/spark.png"}},"thing-games-utils/api-message":{c:"Resizer",p:{name:"thing-games-utils/api-message",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"Resizer",p:{resizeX:!0,resizeY:!0},":":[{c:"MovieClip",p:{name:"backdrop","scale.x":192,"scale.y":108,image:"WHITE",tint:40,timeline:{l:{},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:.7,t:7,m:1}]}]}}}]},{c:"MovieClip",p:{name:"main",tint:0,timeline:{l:{},p:.06,d:.73,f:[{n:"scale.x",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]},{n:"scale.y",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]}]}},":":[{c:"Trigger",p:{dataPath:"isMobile.any",invert:!0,pow:1,alphaShift:0,scaleShift:.7,isApplyInteractivity:!1},":":[{c:"NineSlicePlane",p:{x:-300,y:-173,alpha:.9,interactive:!0,image:"ui/panel.png",width:600,height:271,leftWidth:25,rightWidth:25,topHeight:25,bottomHeight:25}},{c:"Text",p:{name:"title",y:-138,alpha:.8,text:"TITLE","style.fontSize":26,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:540}},{c:"MultilineText",p:{name:"message",y:-62,alpha:.7,text:"qw qwe qwe q weq weqwe qweqwe eqwe qwe qwe qwe qwe qwe qw eqw e","style.fontSize":22,verticalAlign:"center","style.fontWeight":"lighter",maxWidthLandscape:540,maxWidthPortrait:540,maxHeightLandscape:130,maxHeightPortrait:130}},{c:"Button",p:{name:"btn",x:-170,y:40,"scale.x":.666666,"scale.y":.666666,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"buttons.ok","style.fontSize":45,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:173}}]},{c:"Button",p:{name:"btn",y:40,"scale.x":.666666,"scale.y":.666666,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"buttons.ok","style.fontSize":45,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:173}}]},{c:"Button",p:{name:"btn",x:170,y:40,"scale.x":.666666,"scale.y":.666666,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"buttons.ok","style.fontSize":45,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:173}}]},{c:"Button",p:{name:"close-btn",x:270,y:-140,image:"ui/close-btn.png",hoverImage:"ui/close-btn-h.png",pressImage:"ui/close-btn-p.png",onClick:"all.popupsLayer.hideAll",hotkey:27,sndClick:"click",sndOver:"over"},":":[{c:"Shape",p:{x:-25,y:-25,alpha:.8,visible:!1,width:50,height:50,isItHitArea:!0}}]}]}]}]},"thing-games-utils/html-popup":{c:"Resizer",p:{name:"thing-games-utils/html-popup",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"Resizer",p:{resizeX:!0,resizeY:!0},":":[{c:"MovieClip",p:{name:"backdrop","scale.x":192,"scale.y":108,timeline:{l:{},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:1,t:7,m:1}]}]}},":":[{c:"Button",p:{name:"easyCloseBtn",alpha:.7000000000000001,"scale.x":.625,"scale.y":.625,image:"WHITE",tint:40,hoverImage:"WHITE",pressImage:"WHITE",disabledImage:"WHITE",onClick:"game.hideModal",hotkey:27,sndClick:"click"}}]}]},{c:"MovieClip",p:{name:"main",tint:0,timeline:{l:{},p:.06,d:.73,f:[{n:"scale.x",t:[{v:0,t:0},{v:1,t:25}]},{n:"scale.y",t:[{v:0,t:0},{v:1,t:25}]}]}},":":[{c:"Resizer",p:{relativeX:!0,xPos:-.5,relativeY:!0,yPos:-.5},":":[{c:"FullscreenPopup",p:{name:"POPUP-SIZER",x:510,y:110,scrollLayerPath:"this.#html",bgNineSlicePlanePath:"this.#bg",scrollBarPath:"this.#scroll-bar",marginLeftRight:30,marginTopBottom:60,containerMargin:50,scrollBarBottomMargin:120,maxWidthDesktop:1e3},":":[{c:"NineSlicePlane",p:{name:"bg",x:-50,y:-50,alpha:.9,interactive:!0,image:"ui/panel.png",width:1e3,height:960,leftWidth:25,rightWidth:25,topHeight:25,bottomHeight:25}},{c:"HTMLOverlay",p:{name:"html",visibleArea:{x:0,y:0,w:900,h:860},fullArea:{x:0,y:0,w:1200,h:3283.8832668486248},className:"casino-modal"}},{c:"ProgressBar",p:{name:"scroll-bar",x:950,y:25,interactive:!0,dataPath:"this.parent.#html.relativeScrollY",height:840,capMargin:30,refreshInterval:0,max:1,step:1e-5},":":[{c:"NineSlicePlane",p:{name:"bg",x:-21,alpha:0,"scale.x":.625,"scale.y":.625,image:"WHITE",width:17.1,height:840}},{c:"Trigger",p:{dataPath:"this.parent.parent.#html.isYScrollAvailable"},":":[{c:"Button",p:{name:"cap",x:-11,y:20,image:"ui/scroller.png",hoverImage:"ui/scroller.png",pressImage:"ui/scroller.png",disabledImage:"ui/scroller.png"}}]},{c:"Trigger",p:{x:-26,y:-47,dataPath:"this.parent.parent.isMobileLandscape",invert:!0,pow:1,alphaShift:0,scaleShift:.5,isApplyInteractivity:!1},":":[{c:"Button",p:{name:"close-btn",x:-4,y:4,image:"ui/close-btn.png",onClick:"game.hideModal",hotkey:27,sndClick:"click",sndOver:"over"},":":[{c:"Shape",p:{x:-37,y:-35,alpha:.31,width:70,height:70,isItHitArea:!0}}]}]}]},{c:"Trigger",p:{name:"ios-safari-fix",dataPath:"game.isLandscapeSafariIos",pow:.12,damp:.75,alphaShift:0,isApplyInteractivity:!1,onEnable:"setValueByPath`this.parent.marginTopBottom,120",onDisable:"setValueByPath`this.parent.marginTopBottom,60"}}]}]}]}]},"thing-games-utils/offer-question":{c:"Resizer",p:{name:"thing-games-utils/offer-question",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"Resizer",p:{resizeX:!0,resizeY:!0},":":[{c:"MovieClip",p:{name:"backdrop","scale.x":192,"scale.y":108,timeline:{l:{},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:1,t:7,m:1}]}]}},":":[{c:"Button",p:{name:"easyCloseBtn",alpha:.7000000000000001,"scale.x":.625,"scale.y":.625,image:"WHITE",tint:40,hoverImage:"WHITE",pressImage:"WHITE",disabledImage:"WHITE",hotkey:27,sndClick:"click",sndOver:"over"}},{c:"Trigger",p:{dataPath:"isMobile.any",pow:1,alphaShift:0,scaleShift:.7,isApplyInteractivity:!1},":":[{c:"OrientationTrigger",p:{landscapeX:-2.5,landscapeScaleY:1.5,landscapeR:-1.57,portraitY:-4,portraitScaleY:1.8},":":[{c:"DSprite",p:{name:"easyCloseDisable",y:4.5,alpha:1e-5,interactive:!0,"scale.x":.625,"scale.y":.065,image:"WHITE",tint:0}}]}]},{c:"Trigger",p:{dataPath:"isMobile.any",invert:!0,pow:1,alphaShift:0,scaleShift:.7,isApplyInteractivity:!1},":":[{c:"DSprite",p:{name:"easyCloseDisable",y:4.5,alpha:1e-5,interactive:!0,"scale.x":.625,"scale.y":.065,image:"WHITE",tint:0}}]}]}]},{c:"MovieClip",p:{name:"main",tint:0,timeline:{l:{},p:.06,d:.73,f:[{n:"scale.x",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]},{n:"scale.y",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]}]}},":":[{c:"Trigger",p:{dataPath:"isMobile.any",invert:!0,pow:1,alphaShift:0,scaleShift:.7,isApplyInteractivity:!1},":":[{c:"NineSlicePlane",p:{x:-257,y:-190,interactive:!0,image:"ui/panel.png",width:514,height:345,leftWidth:25,rightWidth:25,topHeight:25,bottomHeight:25}},{c:"Text",p:{name:"title",y:-110,translatableText:"slot.popups.enable_quick_spin_question","style.fontSize":78,verticalAlign:"center","style.strokeThickness":3,"style.stroke":"#ffffff","style.fontWeight":"lighter",maxWidth:300}},{c:"MultilineText",p:{name:"message",y:-20,translatableText:"slot.popups.enable_quick_spin_description","style.fontSize":30,verticalAlign:"center","style.fill":"#848484","style.fontWeight":"lighter",maxWidthLandscape:380,maxWidthPortrait:380,maxHeightLandscape:130,maxHeightPortrait:130}},{c:"Button",p:{name:"okBtn",x:115,y:80,"scale.x":.9,"scale.y":.9,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"slot.popups.buy_bonus.enable","style.fontSize":45,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:173}}]},{c:"Button",p:{name:"noBtn",x:-115,y:80,"scale.x":.9,"scale.y":.9,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"slot.popups.buy_bonus.no","style.fontSize":45,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:173}}]},{c:"Button",p:{name:"close-btn",x:225,y:-160,image:"ui/close-btn.png",hoverImage:"ui/close-btn-h.png",pressImage:"ui/close-btn-p.png",onClick:"all.popupsLayer.hideAll",hotkey:27,sndClick:"click",sndOver:"over"},":":[{c:"Shape",p:{x:-25,y:-25,alpha:.8,visible:!1,width:50,height:50,isItHitArea:!0}}]}]}]}]},"thing-games-utils/pause-popup":{c:"Resizer",p:{name:"thing-games-utils/pause-popup",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"Resizer",p:{resizeX:!0,resizeY:!0},":":[{c:"MovieClip",p:{name:"backdrop","scale.x":120,"scale.y":67.5,image:"WHITE",tint:0,timeline:{l:{},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:.7,t:7,m:1}]}]}}}]},{c:"MovieClip",p:{name:"main",tint:0,timeline:{l:{},p:.06,d:.73,f:[{n:"scale.x",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]},{n:"scale.y",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]}]}},":":[{c:"Trigger",p:{dataPath:"isMobile.any",invert:!0,pow:1,alphaShift:0,scaleShift:.7,isApplyInteractivity:!1},":":[{c:"NineSlicePlane",p:{x:-300,y:-173,alpha:.9,interactive:!0,image:"ui/panel.png",width:600,height:271,leftWidth:25,rightWidth:25,topHeight:25,bottomHeight:25}},{c:"Text",p:{name:"title",y:-138,alpha:.8,translatableText:"buttons.pause","style.fontSize":26,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:540}},{c:"Button",p:{name:"close-btn",y:40,"scale.x":.666666,"scale.y":.666666,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"buttons.resume","style.fontSize":45,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:174}}]}]}]}]},"thing-games-utils/provability-panel":{c:"ProvabilityPanel",p:{name:"thing-games-utils/provability-panel",pow:.1,damp:.64,xShift:-100},":":[{c:"Trigger",p:{name:"shift-for-spin",dataPath:"this.parent.isHidedForSpin",invert:!0,alphaShift:0,xShift:-130,isApplyInteractivity:!1},":":[{c:"NineSlicePlane",p:{name:"provability-background",interactive:!0,"pivot.x":100,image:"ui/panel.png",width:540,height:1080}},{c:"Container",p:{name:"provability-container",x:220,y:540},":":[{c:"Trigger",p:{name:"orientation-trigger",state:!0,pow:1,alphaShift:0,yShift:160,isApplyInteractivity:!1},":":[{c:"Text",p:{name:"provability-title",y:-419,translatableText:"provability.title","style.fontSize":34,verticalAlign:"center","style.fontWeight":"lighter","style.padding":7,maxWidth:376}}]},{c:"Trigger",p:{name:"orientation-trigger",y:54,state:!0,pow:1,damp:.999,alphaShift:0,xShift:-200,yShift:142,isApplyInteractivity:!1},":":[{c:"Container",p:{name:"next-game-container",y:-309},":":[{c:"Text",p:{y:-110,tint:8684676,translatableText:"provability.next_game","style.fontSize":30,verticalAlign:"center","style.fontWeight":"lighter",textTransform:1,maxWidth:134}},{c:"Text",p:{name:"hash-result-secret-label",y:107,alpha:.5,text:"Hash (Result + Secret)","style.fontSize":17,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:377}},{c:"Button",p:{name:"next-game-hash-btn",y:143,hoverImage:"EMPTY",pressImage:"EMPTY",disabledImage:"EMPTY",sndClick:"click",sndOver:"over"},":":[{c:"NineSlicePlane",p:{x:-189,y:-22,image:"ui/provability/input-gray.png",width:378,height:44,leftWidth:7,rightWidth:52,topHeight:7,bottomHeight:7},":":[{c:"Scissors",p:{rect:{x:0,y:0,w:325,h:41}},":":[{c:"Label",p:{name:"label",x:13,y:13,text:"01234567890123456789012345678901234567890123","style.fontSize":16,"style.align":"left","style.fill":"#000000","style.fontWeight":"lighter"}}]},{c:"Sprite",p:{x:248,y:3,"scale.x":5,"scale.y":.9,image:"ui/provability/input-fade.png"}}]}]},{c:"PrefabReference",p:{name:"provability-seed",prefabName:"ui/game-provability"}}]}]},{c:"Trigger",p:{y:54,dataPath:"this.parent.parent.parent.data.1",pow:.06,damp:.7},":":[{c:"Trigger",p:{name:"orientation-trigger",state:!0,pow:1,damp:.999,yShift:160,isApplyInteractivity:!1},":":[{c:"Sprite",p:{x:-189,y:-116,alpha:.3,"scale.x":23.625,"scale.y":.1875,image:"WHITE"}}]},{c:"Trigger",p:{name:"orientation-trigger",state:!0,pow:1,damp:.999,alphaShift:0,xShift:200,yShift:-198,isApplyInteractivity:!1},":":[{c:"Container",p:{name:"last-game-container",y:13},":":[{c:"Text",p:{y:-93,tint:8684676,translatableText:"provability.last_game","style.fontSize":29,verticalAlign:"center","style.fontWeight":"lighter",textTransform:1,maxWidth:134}},{c:"Text",p:{name:"hash-result-secret-label2",x:67,y:63,alpha:.5,text:"Hash (Result + Secret)","style.fontSize":17,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:271}},{c:"Text",p:{x:-128,y:63,alpha:.5,translatableText:"provability.client_seed","style.fontSize":17,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:175}},{c:"Text",p:{name:"result-secret-label",y:-56,alpha:.5,text:"Result + Secret","style.fontSize":17,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:376}},{c:"Text",p:{y:142,alpha:.5,translatableText:"provability.final_result","style.fontSize":17,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:376}},{c:"Button",p:{name:"last-game-hash-btn",x:26,y:100,hoverImage:"EMPTY",pressImage:"EMPTY",disabledImage:"EMPTY",sndClick:"click",sndOver:"over"},":":[{c:"NineSlicePlane",p:{x:-82,y:-23,image:"ui/provability/input-gray.png",width:245,height:44,leftWidth:7,rightWidth:52,topHeight:7,bottomHeight:7},":":[{c:"Scissors",p:{rect:{x:0,y:0,w:193,h:50}},":":[{c:"Label",p:{name:"label",x:13,y:13,text:"012345678901234567890123456","style.fontSize":16,"style.align":"left","style.fill":"#000000","style.fontWeight":"lighter"}}]},{c:"Sprite",p:{x:115,y:3,"scale.x":5,"scale.y":.9,image:"ui/provability/input-fade.png"}}]}]},{c:"Button",p:{name:"last-game-final-result-btn",y:179,hoverImage:"EMPTY",pressImage:"EMPTY",disabledImage:"EMPTY",sndClick:"click",sndOver:"over"},":":[{c:"NineSlicePlane",p:{x:-189,y:-23,image:"ui/provability/input-yellow.png",width:378,height:80,leftWidth:7,rightWidth:52,topHeight:40,bottomHeight:6},":":[{c:"Scissors",p:{rect:{x:0,y:0,w:329,h:69}},":":[{c:"MultilineText",p:{name:"label",x:13,y:11,text:'{dymbols":["j","a",2{"symbols":["j","a",2{"symbols":["j","a",2{"symbols":["j","a",2{"symbols":["j","a",2{"symbols":["j","a",2{"symbols":["j",',"style.fontSize":16,"style.align":"left","style.fill":"#000000","style.fontWeight":"lighter",maxWidthLandscape:307,maxWidthPortrait:307,breakWords:!0}}]},{c:"Sprite",p:{x:242,y:48,"scale.x":5,"scale.y":.54,image:"ui/provability/input-fade-yellow.png"}}]}]},{c:"Button",p:{name:"last-game-result-btn",x:-107,y:-19,hoverImage:"EMPTY",pressImage:"EMPTY",disabledImage:"EMPTY",sndClick:"click",sndOver:"over"},":":[{c:"NineSlicePlane",p:{x:-82,y:-23,image:"ui/provability/input-gray.png",width:378,height:80,leftWidth:7,rightWidth:52,topHeight:40,bottomHeight:6},":":[{c:"Scissors",p:{rect:{x:0,y:0,w:329,h:66}},":":[{c:"MultilineText",p:{name:"label",x:13,y:11,text:'{dymbols":["j","a",2{"symbols":["j","a",2{"symbols":["j","a",2{"symbols":["j","a",2{"symbols":["j","a",2{"symbols":["j","a",2{"symbols":["j",',"style.fontSize":16,"style.align":"left","style.fill":"#000000","style.fontWeight":"lighter",maxWidthLandscape:307,maxWidthPortrait:307,breakWords:!0}}]},{c:"Sprite",p:{x:242,y:48,"scale.x":5,"scale.y":.54,image:"ui/provability/input-fade.png"}}]}]},{c:"NineSlicePlane",p:{name:"last-game-client-seed",x:-189,y:77,image:"ui/provability/label-gray.png",width:120,height:44,leftWidth:7,rightWidth:7,topHeight:7,bottomHeight:7},":":[{c:"Label",p:{name:"label",x:13,y:13,text:"3454","style.fontSize":16,"style.align":"left","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:100}}]}]}]},{c:"Trigger",p:{name:"orientation-trigger",state:!0,pow:1,damp:.999,alphaShift:0,yShift:-198,isApplyInteractivity:!1},":":[{c:"Trigger",p:{dataPath:"this.parent.parent.parent.parent.parent.isVerified",invert:!0,alphaShift:0,xShift:-105,isApplyInteractivity:!1},":":[{c:"Button",p:{name:"provability-verify",y:300,image:"ui/provability/verify-btn.png",hoverImage:"ui/provability/verify-btn-h.png",onClick:"this.parent.parent.parent.parent.parent.parent.onVerifyClick",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{verticalAlign:"center","style.fontWeight":"lighter"},":":[{c:"Text",p:{translatableText:"provability.verify","style.fontSize":23,verticalAlign:"center","style.fontWeight":"lighter",textTransform:1,maxWidth:149}}]}]}]},{c:"Trigger",p:{dataPath:"this.parent.parent.parent.parent.parent.isVerified"},":":[{c:"Trigger",p:{dataPath:"this.parent.parent.parent.parent.parent.parent.isVerificationSuccess"},":":[{c:"Text",p:{x:95,y:260,translatableText:"provability.messages.successful_verification","style.fontSize":17,"style.fill":"#0edc17","style.fontWeight":"lighter",textTransform:1,maxWidth:185}},{c:"MultilineText",p:{x:95,y:281,translatableText:"provability.messages.success_message","style.fontSize":15,"style.fontWeight":"lighter",maxWidthLandscape:186,maxWidthPortrait:186}}]},{c:"Trigger",p:{dataPath:"this.parent.parent.parent.parent.parent.parent.isVerificationSuccess",invert:!0},":":[{c:"Text",p:{x:95,y:260,translatableText:"provability.messages.failed_verification","style.fontSize":17,"style.fill":"#ff0303","style.fontWeight":"lighter",textTransform:1,maxWidth:185}},{c:"MultilineText",p:{x:95,y:281,translatableText:"provability.messages.error_message","style.fontSize":15,"style.fontWeight":"lighter",maxWidthLandscape:186,maxWidthPortrait:186}}]}]}]}]}]},{c:"Button",p:{name:"provability-close-btn-container",x:440,"pivot.x":32,"pivot.y":-32,image:"ui/close-btn.png",hoverImage:"ui/close-btn-h.png",pressImage:"ui/close-btn-p.png",disabledImage:"EMPTY",onClick:"this.parent.parent.hide",hotkey:27,sndClick:"click",sndOver:"over"}}]}]},"thing-games-utils/provability-seed":{c:"Container",p:{name:"thing-games-utils/provability-seed"},":":[{c:"Container",p:{name:"client-seed-controls","scale.x":.8,"scale.y":.8},":":[{c:"Container",p:{name:"1",x:-200,y:25},":":[{c:"Label",p:{y:-62,alpha:.5,translatableText:"provability.reel_count","style.fontSize":25,verticalAlign:"bottom",maxWidth:94,dataPath:"this.parent.name"}},{c:"NumberInput",p:{name:"clien-seed-input",max:9,textView:"provability-count-text",dataPath:"game.data.provability.clientSeed.0",wrapValue:!0},":":[{c:"Sprite",p:{"pivot.x":30,"pivot.y":22,image:"ui/provability/counter-bg.png"}}]},{c:"Button",p:{name:"provability-seed-decrease",y:40,rotation:-3.141592653589793,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.decrease",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}},{c:"Button",p:{name:"provability-seed-increase",y:-40,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.increase",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}}]},{c:"Container",p:{name:"2",x:-100,y:25},":":[{c:"Label",p:{y:-62,alpha:.5,translatableText:"provability.reel_count","style.fontSize":25,verticalAlign:"bottom",maxWidth:94,dataPath:"this.parent.name"}},{c:"NumberInput",p:{name:"clien-seed-input",max:9,textView:"provability-count-text",dataPath:"game.data.provability.clientSeed.1",wrapValue:!0},":":[{c:"Sprite",p:{"pivot.x":30,"pivot.y":22,image:"ui/provability/counter-bg.png"}}]},{c:"Button",p:{name:"provability-seed-decrease",y:40,rotation:-3.141592653589793,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.decrease",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}},{c:"Button",p:{name:"provability-seed-increase",y:-40,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.increase",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}}]},{c:"Container",p:{name:"3",y:25},":":[{c:"Label",p:{y:-62,alpha:.5,translatableText:"provability.reel_count","style.fontSize":25,verticalAlign:"bottom",maxWidth:94,dataPath:"this.parent.name"}},{c:"NumberInput",p:{name:"clien-seed-input",max:9,textView:"provability-count-text",dataPath:"game.data.provability.clientSeed.2",wrapValue:!0},":":[{c:"Sprite",p:{"pivot.x":30,"pivot.y":22,image:"ui/provability/counter-bg.png"}}]},{c:"Button",p:{name:"provability-seed-decrease",y:40,rotation:-3.141592653589793,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.decrease",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}},{c:"Button",p:{name:"provability-seed-increase",y:-40,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.increase",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}}]},{c:"Container",p:{name:"4",x:100,y:25},":":[{c:"Label",p:{y:-62,alpha:.5,translatableText:"provability.reel_count","style.fontSize":25,verticalAlign:"bottom",maxWidth:94,dataPath:"this.parent.name"}},{c:"NumberInput",p:{name:"clien-seed-input",max:9,textView:"provability-count-text",dataPath:"game.data.provability.clientSeed.3",wrapValue:!0},":":[{c:"Sprite",p:{"pivot.x":30,"pivot.y":22,image:"ui/provability/counter-bg.png"}}]},{c:"Button",p:{name:"provability-seed-decrease",y:40,rotation:-3.141592653589793,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.decrease",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}},{c:"Button",p:{name:"provability-seed-increase",y:-40,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.increase",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}}]},{c:"Container",p:{name:"5",x:200,y:25},":":[{c:"Label",p:{y:-62,alpha:.5,translatableText:"provability.reel_count","style.fontSize":25,verticalAlign:"bottom",maxWidth:94,dataPath:"this.parent.name"}},{c:"NumberInput",p:{name:"clien-seed-input",max:9,textView:"provability-count-text",dataPath:"game.data.provability.clientSeed.4",wrapValue:!0},":":[{c:"Sprite",p:{"pivot.x":30,"pivot.y":22,image:"ui/provability/counter-bg.png"}}]},{c:"Button",p:{name:"provability-seed-decrease",y:40,rotation:-3.141592653589793,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.decrease",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}},{c:"Button",p:{name:"provability-seed-increase",y:-40,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.increase",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}}]}]},{c:"Label",p:{name:"game-provability-tip",y:-70,alpha:.5,translatableText:"provability.enter_client_seed","style.fontSize":22,verticalAlign:"center","style.fontWeight":"lighter","style.leading":4,maxWidth:376,dataPath:"game.data.provability.seedLimits",refreshInterval:1e3}}]},"thing-games-utils/reality-check-popup":{c:"RealityCheckPopup",p:{name:"thing-games-utils/reality-check-popup",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"Resizer",p:{resizeX:!0,resizeY:!0},":":[{c:"MovieClip",p:{name:"backdrop",interactive:!0,"scale.x":120,"scale.y":67.5,image:"WHITE",tint:0,timeline:{l:{close:15},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:.7,t:7,m:1,a:"this.stop"},{v:.7,t:15,m:1},{v:0,t:23,m:1,a:"this.stop"}]}]}}}]},{c:"MovieClip",p:{name:"main",tint:0,timeline:{l:{close:20},p:.06,d:.73,f:[{n:"scale.x",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1,a:"this.stop"},{v:1,t:20},{v:0,t:30,a:"this.parent.hidePopup"}]},{n:"scale.y",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1},{v:1,t:20},{v:0,t:30,a:"this.stop"}]}]}},":":[{c:"Trigger",p:{dataPath:"isMobile.any",invert:!0,pow:1,alphaShift:0,scaleShift:.4,isApplyInteractivity:!1},":":[{c:"Shape",p:{x:-255,y:-380,width:510,height:755,shapeFillColor:5460819}},{c:"Shape",p:{x:-255,y:-380,width:510,height:15,shapeFillColor:10987431}},{c:"Text",p:{y:-292,translatableText:"reality_check.reality_check","style.fontSize":41,verticalAlign:"center",maxWidth:446}},{c:"MultilineText",p:{y:-242,translatableText:"reality_check.description","style.fontSize":23,"style.leading":4,maxWidthLandscape:440}},{c:"Text",p:{x:-221,y:-90,translatableText:"reality_check.session_time","style.fontSize":29,"style.align":"left",verticalAlign:"center",maxWidth:233}},{c:"Label",p:{name:"sessionTimeLable",x:220,y:-90,translatableText:"reality_check.minutes","style.fontSize":29,"style.align":"right",verticalAlign:"center","style.fontWeight":"bold",maxWidth:200,dataPath:"this.parent.parent.parent.sessionTime",isNumeric:!0}},{c:"Shape",p:{x:-221,y:-60,width:440,height:2,shapeFillColor:10987431}},{c:"Text",p:{x:-221,y:-30,translatableText:"reality_check.bets","style.fontSize":29,"style.align":"left",verticalAlign:"center",maxWidth:135}},{c:"MoneyLabel",p:{name:"sessionBetsLable",x:220,y:-30,text:"%d %s","style.fontSize":29,"style.align":"right",verticalAlign:"center","style.fontWeight":"bold",maxWidth:200,dataPath:"this.parent.parent.parent.sessionBets",template:"%d %s",dataPath2:"data.currency",decimalsCountPath:"data.balanceDigitsCount"}},{c:"Shape",p:{x:-221,y:1,width:440,height:2,shapeFillColor:10987431}},{c:"Text",p:{x:-221,y:33,translatableText:"reality_check.win","style.fontSize":29,"style.align":"left",verticalAlign:"center",maxWidth:135}},{c:"MoneyLabel",p:{name:"sessionWonLable",x:220,y:32,text:"%d %s","style.fontSize":29,"style.align":"right",verticalAlign:"center","style.fontWeight":"bold",maxWidth:200,dataPath:"this.parent.parent.parent.sessionWin",template:"%d %s",dataPath2:"data.currency",decimalsCountPath:"data.balanceDigitsCount"}},{c:"Shape",p:{x:-221,y:65,width:440,height:2,shapeFillColor:10987431}},{c:"Text",p:{x:-221,y:94,translatableText:"reality_check.lose","style.fontSize":29,"style.align":"left",verticalAlign:"center",maxWidth:135}},{c:"MoneyLabel",p:{name:"sessionLoseLable",x:220,y:93,text:"%d %s","style.fontSize":29,"style.align":"right",verticalAlign:"center","style.fontWeight":"bold",maxWidth:200,dataPath:"this.parent.parent.parent.sessionLose",template:"%d %s",dataPath2:"data.currency",decimalsCountPath:"data.balanceDigitsCount"}},{c:"Button",p:{name:"rc-close-button",x:217,y:-327,image:"reality-check/rc-popup-close-btn.png",onClick:"this.parent.parent.parent.onContinue",sndClick:"click",sndOver:"over"}},{c:"Trigger",p:{y:-18,dataPath:"casinoOptions.history_url",pow:1,damp:0},":":[{c:"Button",p:{name:"rc-history-button",y:153,onClick:"SharedAPI.openHistory",sndClick:"click",sndOver:"over"},":":[{c:"Shape",p:{x:-220,width:440,height:61,shapeFillColor:10987431}},{c:"Text",p:{y:30,translatableText:"reality_check.view_history","style.fontSize":30,verticalAlign:"center",textTransform:1,maxWidth:420}}]}]},{c:"Button",p:{name:"rc-leave-button",y:215,onClick:"this.parent.parent.parent.onLeaveTheGame",sndClick:"click",sndOver:"over"},":":[{c:"Shape",p:{x:-220,width:440,height:61,shapeFillColor:10987431}},{c:"Text",p:{y:30,translatableText:"reality_check.leave_the_game","style.fontSize":30,verticalAlign:"center",textTransform:1,maxWidth:420}}]},{c:"Button",p:{name:"rc-continue-button",y:291,onClick:"this.parent.parent.parent.onContinue",sndClick:"click",sndOver:"over"},":":[{c:"Shape",p:{x:-220,width:440,height:66}},{c:"Text",p:{y:30,translatableText:"reality_check.continue","style.fontSize":30,verticalAlign:"center",textTransform:1,maxWidth:420}}]}]}]}]},"thing-games-utils/safari-arrow-up":{c:"SafariArrowUp",p:{name:"thing-games-utils/safari-arrow-up"},":":[{c:"Resizer",p:{resizeX:!0,resizeY:!0},":":[{c:"Sprite",p:{alpha:.75,interactive:!0,"scale.x":120,"scale.y":67.5,image:"WHITE",tint:0}}]},{c:"Resizer",p:{"scale.x":1.5,"scale.y":1.5,relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"MovieClip",p:{image:"ui/arrow-up.png",timeline:{l:{},p:.02,d:.85,f:[{n:"y",t:[{v:-35,t:0},{v:-35,t:25},{v:-57,t:36},{v:-57,t:52},{v:-35,t:72,j:0}]}]}}},{c:"MovieClip",p:{x:56,image:"ui/hand.png",timeline:{l:{},p:.012,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:1,t:13,m:1},{v:1,t:45,m:1},{v:0,t:59,m:1},{v:0,t:72,m:1,j:0}]},{n:"scale.y",t:[{v:2,t:0},{v:1,t:14,m:1},{v:1,t:47,m:1},{v:2,t:72,j:0,m:1}]},{n:"scale.x",t:[{v:2,t:0},{v:1,t:14,m:1},{v:1,t:47,m:1},{v:2,t:72,j:0,m:1}]},{n:"y",t:[{v:130,t:0},{v:130,t:1,m:2},{v:130,t:21},{v:-99,t:60},{v:130,t:72,j:0}]}]}}}]}]},"thing-games-utils/snd-mus-button":{c:"ClickOutsideTrigger",p:{name:"thing-games-utils/snd-mus-button",x:-45,y:45,onClickOutside:"this.#volume-show.hide"},":":[{c:"Trigger",p:{name:"volume-show","scale.x":1.3,"scale.y":1.3,pow:.10200000000000002,damp:.749,scaleShift:-.5100000000000003},":":[{c:"NineSlicePlane",p:{x:-141,y:-32,alpha:.96,interactive:!0,"scale.x":.8,"scale.y":.8,image:"ui/panel.png",width:215,height:420,leftWidth:38,rightWidth:38,topHeight:38,bottomHeight:38}},{c:"ProgressBar",p:{x:9,y:241,rotation:-3.141592653589793,interactive:!0,dataPath:"game.Sound.soundsVol",refreshInterval:1,afterSlide:"game.Sound.play`click",max:1,step:.01},":":[{c:"Sprite",p:{name:"bg",x:-22,alpha:.2,"scale.y":1.0101010101010102,image:"ui/bar-mask.png"}},{c:"Fill",p:{name:"bar",x:-22,image:"ui/bar-mask.png"}},{c:"Container",p:{name:"cap",x:14,y:-200}}]},{c:"ProgressBar",p:{x:-69,y:241,rotation:-3.141592653589793,interactive:!0,dataPath:"game.Sound.musicVol",refreshInterval:1,afterSlide:"game.Sound.play`click",max:1,step:.01},":":[{c:"Sprite",p:{name:"bg",x:-22,alpha:.2,"scale.y":1.0101010101010102,image:"ui/bar-mask.png"}},{c:"Fill",p:{name:"bar",x:-22,image:"ui/bar-mask.png"}},{c:"Container",p:{name:"cap",x:14,y:-200}}]},{c:"Trigger",p:{x:-13,y:271,dataPath:"game.Sound.soundEnabled",invert:!0,pow:.06,damp:.8,scaleShift:-.5},":":[{c:"Button",p:{name:"snd toggle btn",hoverImage:"EMPTY",pressImage:"EMPTY",onClick:"game.Sound.toggleSounds",sndClick:"click",sndOver:"over"},":":[{c:"MovieClip",p:{alpha:.6900000000000001,image:"ui/snd-off.png",isPlaying:!1,timeline:{l:{"btn-over":2,"btn-out":53},p:.02,d:.85,f:[{n:"alpha",t:[{v:.6900000000000001,t:0,m:1},{v:1,t:7,m:1,a:"this.stop"},{v:1,t:49,m:1},{v:.7,t:59,m:1,a:"this.stop"}]}]}}}]}]},{c:"Trigger",p:{x:-13,y:271,dataPath:"game.Sound.soundEnabled",pow:.06,damp:.8,scaleShift:-.5},":":[{c:"Button",p:{name:"snd toggle btn",hoverImage:"EMPTY",pressImage:"EMPTY",onClick:"game.Sound.toggleSounds",sndClick:"click",sndOver:"over"},":":[{c:"MovieClip",p:{alpha:.6900000000000001,image:"ui/snd-on.png",isPlaying:!1,timeline:{l:{"btn-over":2,"btn-out":53},p:.02,d:.85,f:[{n:"alpha",t:[{v:.6900000000000001,t:0,m:1},{v:1,t:7,m:1,a:"this.stop"},{v:1,t:49,m:1},{v:.7,t:59,m:1,a:"this.stop"}]}]}}}]}]},{c:"Trigger",p:{x:-91,y:271,dataPath:"game.Sound.musicEnabled",invert:!0,pow:.06,damp:.8,scaleShift:-.5},":":[{c:"Button",p:{name:"snd toggle btn",hoverImage:"EMPTY",pressImage:"EMPTY",onClick:"game.Sound.toggleMusic",sndClick:"click",sndOver:"over"},":":[{c:"MovieClip",p:{alpha:.6900000000000001,image:"ui/mus-off.png",isPlaying:!1,timeline:{l:{"btn-over":2,"btn-out":53},p:.02,d:.85,f:[{n:"alpha",t:[{v:.6900000000000001,t:0,m:1},{v:1,t:7,m:1,a:"this.stop"},{v:1,t:49,m:1},{v:.7,t:59,m:1,a:"this.stop"}]}]}}}]}]},{c:"Trigger",p:{x:-91,y:271,dataPath:"game.Sound.musicEnabled",pow:.06,damp:.8,scaleShift:-.5},":":[{c:"Button",p:{name:"snd toggle btn",hoverImage:"EMPTY",pressImage:"EMPTY",onClick:"game.Sound.toggleMusic",sndClick:"click",sndOver:"over"},":":[{c:"MovieClip",p:{alpha:.6900000000000001,image:"ui/mus-on.png",isPlaying:!1,timeline:{l:{"btn-over":2,"btn-out":53},p:.02,d:.85,f:[{n:"alpha",t:[{v:.6900000000000001,t:0,m:1},{v:1,t:7,m:1,a:"this.stop"},{v:1,t:49,m:1},{v:.7,t:59,m:1,a:"this.stop"}]}]}}}]}]}]},{c:"Button",p:{hoverImage:"EMPTY",pressImage:"EMPTY",disabledImage:"EMPTY",onClick:"all.volume-show.toggle",sndClick:"click",sndOver:"over"},":":[{c:"Trigger",p:{dataPath:"classes.MainMenu.anySoundEnabled",invert:!0,pow:.06,damp:.8,scaleShift:-.5},":":[{c:"MovieClip",p:{image:"ui/snd-b-off.png",isPlaying:!1,timeline:{l:{"btn-over":7,"btn-out":44},p:.02,d:.85,f:[{n:"image",t:[{v:"ui/snd-b-off.png",t:0,m:2},{v:"ui/snd-b-off-h.png",t:8,m:2,a:"this.stop"},{v:"ui/snd-b-off.png",t:45,m:2}]}]}}}]},{c:"Trigger",p:{dataPath:"classes.MainMenu.anySoundEnabled",pow:.06,damp:.8,scaleShift:-.5},":":[{c:"MovieClip",p:{image:"ui/snd-b-on.png",isPlaying:!1,timeline:{l:{"btn-out":44,"btn-over":7},p:.02,d:.85,f:[{n:"image",t:[{v:"ui/snd-b-on.png",t:0,m:2},{v:"ui/snd-b-on-h.png",t:8,m:2,a:"this.stop"},{v:"ui/snd-b-on.png",t:45,m:2}]}]}}}]},{c:"Shape",p:{name:"hit-area",x:-66,y:-56,alpha:.46,width:121,height:119,isItHitArea:!0}}]}]},"thing-games-utils/sure-question":{c:"Resizer",p:{name:"thing-games-utils/sure-question",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"Resizer",p:{resizeX:!0,resizeY:!0},":":[{c:"MovieClip",p:{name:"backdrop","scale.x":192,"scale.y":108,timeline:{l:{},p:.02,d:.85,f:[{n:"alpha",t:[{v:.01,t:0,m:1},{v:1,t:7,m:1}]}]}},":":[{c:"Button",p:{name:"easyCloseBtn",alpha:.7000000000000001,interactive:!1,"scale.x":.625,"scale.y":.625,image:"WHITE",tint:40,hoverImage:"WHITE",pressImage:"WHITE",disabledImage:"WHITE",hotkey:27,sndClick:"click",sndOver:"over"}}]}]},{c:"MovieClip",p:{name:"main",tint:0,timeline:{l:{},p:.06,d:.73,f:[{n:"scale.x",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]},{n:"scale.y",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]}]}},":":[{c:"Trigger",p:{dataPath:"isMobile.any",invert:!0,pow:1,alphaShift:0,scaleShift:.7,isApplyInteractivity:!1},":":[{c:"NineSlicePlane",p:{x:-200,y:-173,interactive:!0,image:"ui/panel.png",width:400,height:271,leftWidth:25,rightWidth:25,topHeight:25,bottomHeight:25}},{c:"Text",p:{name:"title",y:-138,alpha:.8,text:"TITLE","style.fontSize":26,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:250}},{c:"MultilineText",p:{name:"message",y:-62,alpha:.7,text:"qw qwe qwe q weq weqwe qweqwe eqwe qwe qwe qwe qwe qwe qw eqw e","style.fontSize":22,verticalAlign:"center","style.fontWeight":"lighter",maxWidthLandscape:340,maxWidthPortrait:340,maxHeightLandscape:130,maxHeightPortrait:130}},{c:"Button",p:{name:"okBtn",x:100,y:40,"scale.x":.666666,"scale.y":.666666,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"buttons.ok","style.fontSize":45,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:173}}]},{c:"Button",p:{name:"noBtn",x:-100,y:40,"scale.x":.666666,"scale.y":.666666,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",text:"--","style.fontSize":45,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:173}}]},{c:"Sprite",p:{name:"alert-icon",x:-197,y:-182,image:"ui/alert-icon.png"}}]}]}]},"thing-games-utils/sure-question700":{c:"Resizer",p:{name:"thing-games-utils/sure-question700",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"Resizer",p:{resizeX:!0,resizeY:!0},":":[{c:"MovieClip",p:{name:"backdrop","scale.x":192,"scale.y":108,image:"WHITE",tint:40,timeline:{l:{},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:.7,t:7,m:1}]}]}}}]},{c:"MovieClip",p:{name:"main",tint:0,timeline:{l:{},p:.06,d:.73,f:[{n:"scale.x",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]},{n:"scale.y",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]}]}},":":[{c:"Trigger",p:{dataPath:"isMobile.any",invert:!0,pow:1,alphaShift:0,scaleShift:.7,isApplyInteractivity:!1},":":[{c:"NineSlicePlane",p:{x:-300,y:-173,alpha:.9,interactive:!0,image:"ui/panel.png",width:600,height:271,leftWidth:25,rightWidth:25,topHeight:25,bottomHeight:25}},{c:"Text",p:{name:"title",y:-138,alpha:.8,text:"TITLE","style.fontSize":26,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:540}},{c:"MultilineText",p:{name:"message",y:-62,alpha:.7,text:"qw qwe qwe q weq weqwe qweqwe eqwe qwe qwe qwe qwe qwe qw eqw e","style.fontSize":22,verticalAlign:"center","style.fontWeight":"lighter",maxWidthLandscape:540,maxWidthPortrait:540,maxHeightLandscape:130,maxHeightPortrait:130}},{c:"Button",p:{name:"btn",x:-170,y:40,"scale.x":.666666,"scale.y":.666666,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"buttons.ok","style.fontSize":45,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:173}}]},{c:"Button",p:{name:"btn",y:40,"scale.x":.666666,"scale.y":.666666,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"buttons.ok","style.fontSize":45,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:173}}]},{c:"Button",p:{name:"btn",x:170,y:40,"scale.x":.666666,"scale.y":.666666,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"buttons.ok","style.fontSize":45,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:173}}]}]}]}]},"ui/game-provability":{c:"Container",p:{name:"ui/game-provability"},":":[{c:"Container",p:{name:"client-seed-controls"},":":[{c:"Container",p:{},":":[{c:"NumberInput",p:{name:"clien-seed-input",y:35,max:16,textView:"provability-count-text",dataPath:"game.data.provability.clientSeed.0",wrapValue:!0},":":[{c:"Sprite",p:{"pivot.x":30,"pivot.y":22,image:"ui/provability/counter-bg.png"}}]},{c:"Button",p:{x:-43,y:35,rotation:-1.5707963267948966,"scale.x":.72,"scale.y":.72,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.decrease",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}},{c:"Button",p:{x:43,y:35,rotation:1.5707963267948966,"scale.x":.72,"scale.y":.72,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.increase",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}}]}]},{c:"Label",p:{name:"game-provability-tip",y:-26,translatableText:"plinko.provability","style.fontSize":20,verticalAlign:"center","style.leading":4,maxWidth:376,dataPath:"game.data.provability.seedLimits",refreshInterval:1e3}}]},"ui/html-popup":{c:"PrefabReference",p:{name:"ui/html-popup",prefabName:"thing-games-utils/html-popup"}},"ui/sure-question":{c:"PrefabReference",p:{name:"ui/sure-question",prefabName:"thing-games-utils/sure-question"}},"ui/ui-panel":{c:"Container",p:{name:"ui/ui-panel"},":":[{c:"Resizer",p:{name:"top-middle",relativeX:!0,xPos:.5},":":[{c:"OrientationTrigger",p:{landscapeY:70,portraitX:60,portraitY:71,portraitAlpha:0},":":[{c:"Sprite",p:{x:-60,y:2,"scale.x":.5,"scale.y":.5,"pivot.x":204,"pivot.y":118,image:"ui/logo.png"},":":[{c:"Trigger",p:{dataPath:"game.casinoOptions.ui.logo_visible",isApplyInteractivity:!1},":":[{c:"Sprite",p:{x:180,y:176,alpha:.4,"scale.x":.5,"scale.y":.5,image:"ui/b-gaming.png"}}]}]}]}]},{c:"Trigger",p:{name:"ios-safari-fix",dataPath:"game.isLandscapeSafariIos",invert:!0,pow:1,alphaShift:0,yShift:80,isApplyInteractivity:!1},":":[{c:"Trigger",p:{x:44,y:44,dataPath:"game.casinoOptions.ui.home_button",pow:1},":":[{c:"Button",p:{image:"ui/home.png",hoverImage:"ui/home-h.png",pressImage:"ui/home.png",disabledImage:"ui/home.png",onClick:"SharedAPI.gotoHome",sndClick:"click",sndOver:"over"}},{c:"Label",p:{name:"time-label",x:62,y:-3,text:"15:46","style.fontSize":22,"style.align":"left",verticalAlign:"center","style.letterSpacing":1,dataPath:"game.currentScene.currentTime",refreshInterval:120,counterSpeed:.259,decimalsCount:2}}]},{c:"Resizer",p:{name:"right-top",relativeX:!0,xPos:1,relativeY:!0},":":[{c:"Button",p:{x:-134,y:44,image:"ui/help-btn.png",hoverImage:"ui/help-btn-h.png",pressImage:"ui/help-btn.png",disabledImage:"EMPTY",onClick:"game.currentScene.showRules",sndClick:"click",sndOver:"over"}},{c:"Trigger",p:{dataPath:"all.provability-panel.data"},":":[{c:"Trigger",p:{x:-90,dataPath:"casinoOptions.history_url",pow:1,damp:0,alphaShift:0,xShift:90,isApplyInteractivity:!1},":":[{c:"Button",p:{name:"provability-btn",x:-224,y:44,image:"ui/provability/provability-btn.png",hoverImage:"ui/provability/provability-btn-h.png",pressImage:"ui/provability/provability-btn.png",disabledImage:"EMPTY",onClick:"all.provability-panel.toggle",sndClick:"click",sndOver:"over"}}]}]},{c:"Trigger",p:{dataPath:"casinoOptions.history_url",pow:1,damp:0},":":[{c:"Button",p:{name:"provability-btn",x:-224,y:44,image:"ui/history-btn.png",hoverImage:"ui/history-btn-h.png",pressImage:"ui/history-btn.png",disabledImage:"EMPTY",onClick:"SharedAPI.openHistory",sndClick:"click",sndOver:"over"}}]},{c:"PrefabReference",p:{x:-44,y:44,prefabName:"thing-games-utils/snd-mus-button"}}]}]},{c:"PrefabReference",p:{name:"provability-panel",y:5684341886080802e-29,prefabName:"thing-games-utils/provability-panel"}}]}},images:{"ui/provability/counter-bg.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/provability/counter-btn-d.png":{e:".png_90_90.webp",f_e:".f.png_80_90.png"},"ui/provability/counter-btn-h.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/provability/counter-btn.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/provability/input-fade-yellow.png":{e:".png_80_90.png"},"ui/provability/input-fade.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/provability/input-gray.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/provability/input-yellow.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/provability/label-gray.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/provability/verify-btn-h.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/provability/verify-btn.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"WHITE_FOR_CANVAS.jpg":{e:".jpg_100_100.webp",f_e:".f.jpg"},"distortion_map.png":{e:".png_100_100.webp",f_e:".f.png"},"reality-check/rc-popup-close-btn.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"round_gradient.png":{e:".png_100_100.webp",f_e:".f.png_80_90.png"},"ui/alert-icon.png":{e:".png_80_90.png"},"ui/arrow-up.png":{e:".png_80_80.webp",f_e:".f.png_80_90.png"},"ui/b-gaming.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/bar-mask.png":{e:".png_100_100.webp",f_e:".f.png_80_90.png"},"ui/close-btn-h.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/close-btn-p.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/close-btn.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/hand.png":{e:".png_80_90.png"},"ui/mus-off.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/mus-on.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/panel.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/scroller.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/snd-off.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/snd-on.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/spinner.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/tooltip.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"bg/bg-flowers.png":{e:".png_80_90.png"},"ui/arrow-tabl-left.png":{e:".png_80_80.webp",f_e:".f.png_80_90.png"},"ui/auto-icon.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/btn-long-h.png":{e:".png_80_80.webp",f_e:".f.png_80_90.png"},"ui/btn-long.png":{e:".png_80_80.webp",f_e:".f.png_80_90.png"},"ui/close.png":{e:".png_100_100.webp",f_e:".f.png_80_90.png"},"ui/fullscreen.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/help-btn-h.png":{e:".png_80_90.png"},"ui/help-btn.png":{e:".png_80_90.png"},"ui/history-btn-h.png":{e:".png_80_90.png"},"ui/history-btn.png":{e:".png_80_90.png"},"ui/home-h.png":{e:".png_80_90.png"},"ui/home.png":{e:".png_80_90.png"},"ui/lvl-high-icon.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/lvl-low-icon.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/lvl-mid-icon.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/manual-icon.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/particle.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/provability/provability-btn-h.png":{e:".png_80_90.png"},"ui/provability/provability-btn.png":{e:".png_80_90.png"},"ui/snd-b-off-h.png":{e:".png_80_90.png"},"ui/snd-b-off.png":{e:".png_80_90.png"},"ui/snd-b-on-h.png":{e:".png_80_90.png"},"ui/snd-b-on.png":{e:".png_80_90.png"},"ui/star.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/stars-pattern.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/target-overlay.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/target.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/win-panel.png":{e:".png_80_90.png"},"bg/bg-ui.png":{e:".png_80_90.png"},"bg/bg.jpg":{e:".jpg_80_80.webp",f_e:".f.jpg"},"ui/ball.png":{e:".png_90_90.webp",f_e:".f.png_80_90.png"},"ui/bet-btn-h.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/bet-btn.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/counter-bg.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/counter-btn-h.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/counter-btn.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/hole.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/light.png":{e:".png_80_90.png"},"ui/line.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/logo.png":{e:".png_80_90.png"},"ui/panel-ui.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/pin.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/play-btn-h.png":{e:".png_80_80.webp",f_e:".f.png_80_90.png"},"ui/play-btn.png":{e:".png_80_80.webp",f_e:".f.png_80_90.png"},"ui/profit-bg.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/select-btn-d.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/select-btn-h.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/select-btn.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/small-btn-d.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/small-btn.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/spark.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/tooltip-pointer.png":{e:".png_100.webp",f_e:".f.png_80_90.png"}},resources:{},sounds:{"ball2/2":["ball2/2.ogg","ball2/2.aac",.320862],big_win:["big_win.ogg","big_win.aac",.56449],click:["click.ogg","click.aac"],"mus/bg":["mus/bg.ogg","mus/bg.aac",99.548367],over:["over.ogg","over.aac"],play:["play.ogg","play.aac",.771338],win_sound:["win_sound.ogg","win_sound.aac",.469093]},projectDesc:{mainScene:"root",renderResolution:2,renderResolutionMobile:1,dynamicStageSize:!0,preventUpscale:!1,screenOrientation:"auto",defaultFont:"'Roboto', Arial",soundFormats:["ogg","aac"],width:1920,height:1080,portraitWidth:607,portraitHeight:1080,webfontloader:{google:{families:["Roboto:400,700:cyrillic"]},timeout:6e3},loadOnDemandSounds:{},muteOnFocusLost:!0,version:"0.0.1",framesSkipLimit:10,embedLocales:!1,loadOnDemandTextures:{"ui/stars-pattern.png":8},autoFullscreenDesktop:!1,autoFullscreenMobile:!0,soundDefaultBitrate:64,soundBitrates:{},defaultLanguage:"en",fontHolderText:"ЯSфz",mipmap:!1,defaultMusVol:1,defaultSoundsVol:1,keepSoundWhilePageUpdate:!1,slotPhrasesPrefix:"phrases.",jpgQuality:95,pngQuality:[.95,1],title:"plinko seobanda",id:"plinko-xy.softswiss.com",icon:"img/ui/logo.png",assetsDelimiter:"	",libs:["thing-games-utils/common","thing-games-utils/provability","../shared"]},resourceImages:{}}},5410:(Ae,le,d)=>{var k=d(5045),h=d(5446),P=d(6109),j=d(6794),z=d(3237);class N{init(o,Z,$,pe){this.target=o,this.fieldName=Z.n,this.timeline=Z.t,this.pow=$,this.damper=pe,this.reset()}reset(){this.time=0,this.currentFrame=this.timeline[0],this.currentFrame.hasOwnProperty("r")&&(this.time+=Math.round(Math.random()*this.currentFrame.r)),this.val=this.currentFrame.v,this.targetVal=this.val,this.speed=0,this.target[this.fieldName]=this.val}goto(o,Z){if(this.time=o,this.currentFrame=Z,Z.m===1){var $=Z.t-this.time;this.speed=$>0?(Z.v-this.val)/$:0}else Z.m===2&&(this.speed=0)}update(){var o=this.currentFrame;if(this.time===o.t){var Z;if(o.hasOwnProperty("a")&&(Z=o.a),o.m!==1&&o.m!==2||(this.val=o.v),this.time=o.j,o.hasOwnProperty("r")&&(this.time+=Math.round(Math.random()*o.r)),o.m===0&&(this.speed+=(o.v-this.val)*this.pow,this.val+=this.speed,this.speed*=this.damper),o.hasOwnProperty("s")&&(this.speed=o.s),this.currentFrame=o=o.n,o.m===1){var $=o.t-this.time;this.speed=$>0?(o.v-this.val)/$:0}Z&&(0,z.Z)(Z,this.target)}else o.m===0?(this.speed+=(o.v-this.val)*this.pow,this.val+=this.speed,this.speed*=this.damper):o.m===1?this.val+=this.speed:o.m===3?(this.speed+=o.g,this.val+=this.speed,this.val>=o.v&&(this.val=o.v,this.speed*=-o.b)):o.m===4&&(this.speed-=o.g,this.val+=this.speed,this.val<=o.v&&(this.val=o.v,this.speed*=-o.b));this.time++,this.target[this.fieldName]=this.val}}var w=d(1746),U=d(6899);class Y extends P.Z{constructor(){super(),this.fieldPlayers=[]}update(){if(this.isPlaying)if(this.delay>0)this.delay--;else{if(this._goToLabelNextFrame){var o=this._timelineData.l[this._goToLabelNextFrame];this._goToLabelNextFrame=!1;for(var Z=this.fieldPlayers.length,$=0;$<Z;$++)this.fieldPlayers[$].goto(o.t,o.n[$])}for(var pe of this.fieldPlayers)pe.update()}super.update()}static _findNextKeyframe(o,Z){var $;for(var pe of o){if(pe.t>Z)return pe;$=pe}return $}static _findPreviousKeyframe(o,Z){var $;for(var pe of o){if(pe.t>Z)return $;$=pe}return $}static _deserializeTimelineData(o){var Z=o.f.map(Re=>{var Me=Re.t.map(nt=>{var Xe=Object.assign({},nt);return Xe.hasOwnProperty("j")||(Xe.j=Xe.t),Xe.hasOwnProperty("m")||(Xe.m=0),Xe});for(var Ye of Me)Ye.n=Y._findNextKeyframe(Me,Ye.j);return{n:Re.n,t:Me}}),$={},pe=function(Re){var Me=o.l[Re],Ye=Z.map(nt=>Y._findNextKeyframe(nt.t,Me-1));$[Re]={t:Me,n:Ye}};for(var ve in o.l)pe(ve);return{l:$,p:o.p,d:o.d,f:Z}}_disposePlayers(){for(;this.fieldPlayers.length>0;)j.Z.dispose(this.fieldPlayers.pop())}set timeline(o){if(this._goToLabelNextFrame=!1,this._disposePlayers(),o!==null){if(E.has(o))o=E.get(o);else{var Z=Y._deserializeTimelineData(o);E.set(o,Z),o=Z}this._timelineData=o;for(var $=o.p,pe=o.d,ve=o.f,Re=0;Re<ve.length;Re++){var Me=j.Z.create(N);Me.init(this,ve[Re],$,pe),this.fieldPlayers.push(Me)}}else this._timelineData=null}resetTimeline(){for(var o of this.fieldPlayers)o.reset()}hasLabel(o){return this._timelineData.l.hasOwnProperty(o)}gotoLabel(o){this._goToLabelNextFrame=o,this.play()}gotoRandomLabel(){var o=arguments[Math.floor(Math.random()*arguments.length)];o&&this.gotoLabel(o)}gotoLabelIf(o,Z,$){!(0,w.Z)(Z,this)!=!$&&this.gotoLabel(o)}play(){this.isPlaying=!0}stop(){this.isPlaying=!1}playRecursive(){for(var o of(this.isPlaying=!0,this.findChildrenByType(Y)))o.isPlaying=!0}stopRecursive(){for(var o of(this.isPlaying=!1,this.findChildrenByType(Y)))o.isPlaying=!1}}var E=new WeakMap;U.Z.prototype.gotoLabelRecursive=function(g){for(var o of(this instanceof Y&&this.hasLabel(g)&&(this.delay=0,this.gotoLabel(g)),this.children))o.gotoLabelRecursive(g)};var v=d(6107),n=new v.Point,a=new v.Point,u=new v.Point;class p extends Y{init(){super.init(),this.applySize()}set image(o){super.image=o,this.applySize()}get image(){return super.image}applySize(){if(this.texture!==v.Texture.EMPTY){var o=this.texture.frame;this.pivot.x=0,this.pivot.y=0,a.x=0,a.y=0;var Z=h.Z.stage;this.toLocal(a,Z,n),o.x=Math.max(0,Math.floor(this.texture.baseTexture.width/2+n.x)),o.y=Math.max(0,Math.floor(this.texture.baseTexture.height/2+n.y)),a.x=h.Z.W,a.y=h.Z.H,this.toLocal(a,Z,u),o.width=Math.min(this.texture.baseTexture.width,Math.ceil(u.x)+this.texture.baseTexture.width/2)-o.x,o.height=Math.min(this.texture.baseTexture.height,Math.ceil(u.y)+this.texture.baseTexture.height/2)-o.y,this.pivot.x=(this.texture.baseTexture.width-o.width)/2-o.x,this.pivot.y=(this.texture.baseTexture.height-o.height)/2-o.y,1&o.width&&(o.right===this.texture.baseTexture.width&&(o.x--,this.pivot.x+=.5),o.width++),1&o.height&&(o.bottom===this.texture.baseTexture.height&&(o.y--,this.pivot.y+=.5),o.height++),this.texture.updateUvs()}}_onRenderResize(){this.applySize()}static recalculateAllBGCropping(){for(var o of h.Z.stage.findChildrenByType(p))o.applySize()}}var I=d(7049),L=16,F=17,M=6,c=1,x=.8,X=3,D=0,G=0;class C extends P.Z{init(){super.init(),this.path=null,this.alpha=0,this.appearingPhase=0,D++,this.ballId=D}static getBallSize(o,Z){return(o-2*(Z*=X)-M)/2/L}setPinsDistance(o,Z,$){this.table=$;var pe=C.getBallSize(o,Z);this.ballSize=pe,this.scale.x=this.scale.y=pe;var ve=L*pe;this.pinToBallCollizionRadius=Z*X+ve,this.pinToBallCollizionRadiusQ=this.pinToBallCollizionRadius*this.pinToBallCollizionRadius}update(){super.update(),this.appearingPhase<1?(this.appearingPhase+=.03,this.appearingPhase>1&&(this.appearingPhase=1),this.alpha=this.appearingPhase,this.scale.x=this.scale.y=this.ballSize*(.5+.5*this.appearingPhase),this.y=(F-L)*this.scale.x):this.path&&this.processBallLogic()}processBallLogic(){if(this.keepBallInServerPath(),this.processPinCollisions(),this.y>this.table.targets[0].y){var o,Z=1e5,$=this.path[this.path.length-1],pe=($.min+$.max)/2;for(var ve of this.table.targets){var Re=Math.abs(pe-ve.x);Re<Z&&(Z=Re,o=ve)}o.gotoLabelRecursive("ball-touch"),o.findChildByName("spawner").spawn(),this._playBallSound(1,this.finalPitch);var Me=this.table;this.remove();var Ye=Me.findChildrenByType(C).length;h.Z.currentScene.onBallFinish(this.rollResult,Ye,this.ballId)}}keepBallInServerPath(){if(this.path){var o,Z=0;for(var $ of this.table.lines){if($.y>this.y){o=this.path[Z];break}Z++}o=o||this.path[this.path.length-1],this.x<o.min?(this.xSpeed=0,this.x=o.min):this.x>o.max&&(this.xSpeed=0,this.x=o.max)}}_playBallSound(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.ballId>=G&&(G=this.ballId),this.ballId>=G-1&&(this.ballId===G-1&&(o/=2),I.Z.play("ball2/2",o,1,0,!0))}processPinCollisions(){var o=1;for(var Z of this.table.lines){var $=Z.y-this.y;if(Math.abs($)<this.pinToBallCollizionRadius)for(var pe of Z.children){var ve=pe.x-this.x;if(Math.abs(ve)<this.pinToBallCollizionRadius){var Re=ve*ve+$*$;if(Re<this.pinToBallCollizionRadiusQ){var Me=Math.atan2($,ve),Ye=Math.atan2(this.ySpeed,this.xSpeed),nt=Me-Ye,Xe=Ye+nt,At=Math.sqrt(this.xSpeed*this.xSpeed+this.ySpeed*this.ySpeed);At>5&&pe.addChild(k.Z.loadPrefab("pin-light")),At>1&&this._playBallSound(.07*At,o);var dt=Math.sqrt(Re),_t=this.pinToBallCollizionRadius-dt;_t>0&&(At-=Math.min(c,_t));var zt=At*(1-Math.max(0,Math.abs(Math.cos(nt)))*(1-x));this.xSpeed=-Math.cos(Xe)*zt,this.ySpeed=-Math.sin(Xe)*zt;var Jt=Math.cos(Me),Mi=Math.sin(Me);if(this.x=pe.x-Jt*this.pinToBallCollizionRadius,this.y=Z.y-Mi*this.pinToBallCollizionRadius,Z.y>this.y)return this.ySpeed+=Jt*Jt*c,void(this.xSpeed-=Mi*Jt*c)}return void(this.ySpeed+=c)}}o*=1.0594}this.ySpeed+=c,this.finalPitch=o}setBallData(o){this.findChildByName("particles-spawner").enable(),this.rollResult=o;var Z=1;this.path=o.game.outcome.map(($,pe)=>{var ve,Re=this.table.lines[pe];return ve=$?{min:Re.children[Z].x+.2+Math.random(),max:Re.children[Z+1].x-.2-Math.random()}:{max:Re.children[Z].x-.2-Math.random(),min:Re.children[Z-1].x+.2+Math.random()},Z+=$?1:0,ve})}}var T,J,q,K=d(9042),A=d(4526),b=d(4942),R=d(38),O=d(1088);function W(g){return g.type===J.literal}function Q(g){return g.type===J.argument}function ee(g){return g.type===J.number}function ne(g){return g.type===J.date}function be(g){return g.type===J.time}function Ie(g){return g.type===J.select}function Oe(g){return g.type===J.plural}function ue(g){return g.type===J.pound}function y(g){return g.type===J.tag}function B(g){return!(!g||typeof g!="object"||g.type!==q.number)}function V(g){return!(!g||typeof g!="object"||g.type!==q.dateTime)}(function(g){g[g.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",g[g.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",g[g.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",g[g.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",g[g.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",g[g.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",g[g.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",g[g.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",g[g.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",g[g.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",g[g.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",g[g.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",g[g.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",g[g.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",g[g.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",g[g.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",g[g.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",g[g.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",g[g.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",g[g.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",g[g.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",g[g.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",g[g.INVALID_TAG=23]="INVALID_TAG",g[g.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",g[g.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",g[g.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(T||(T={})),function(g){g[g.literal=0]="literal",g[g.argument=1]="argument",g[g.number=2]="number",g[g.date=3]="date",g[g.time=4]="time",g[g.select=5]="select",g[g.plural=6]="plural",g[g.pound=7]="pound",g[g.tag=8]="tag"}(J||(J={})),function(g){g[g.number=0]="number",g[g.dateTime=1]="dateTime"}(q||(q={}));var te=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,re=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function ae(g){var o={};return g.replace(re,function(Z){var $=Z.length;switch(Z[0]){case"G":o.era=$===4?"long":$===5?"narrow":"short";break;case"y":o.year=$===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":o.month=["numeric","2-digit","short","long","narrow"][$-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":o.day=["numeric","2-digit"][$-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":o.weekday=$===4?"short":$===5?"narrow":"short";break;case"e":if($<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");o.weekday=["short","long","narrow","short"][$-4];break;case"c":if($<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");o.weekday=["short","long","narrow","short"][$-4];break;case"a":o.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":o.hourCycle="h12",o.hour=["numeric","2-digit"][$-1];break;case"H":o.hourCycle="h23",o.hour=["numeric","2-digit"][$-1];break;case"K":o.hourCycle="h11",o.hour=["numeric","2-digit"][$-1];break;case"k":o.hourCycle="h24",o.hour=["numeric","2-digit"][$-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":o.minute=["numeric","2-digit"][$-1];break;case"s":o.second=["numeric","2-digit"][$-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":o.timeZoneName=$<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),o}var _e=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function Ce(g){if(g.length===0)throw new Error("Number skeleton cannot be empty");for(var o=g.split(_e).filter(function(Xe){return Xe.length>0}),Z=[],$=0,pe=o;$<pe.length;$++){var ve=pe[$].split("/");if(ve.length===0)throw new Error("Invalid number skeleton");for(var Re=ve[0],Me=ve.slice(1),Ye=0,nt=Me;Ye<nt.length;Ye++)if(nt[Ye].length===0)throw new Error("Invalid number skeleton");Z.push({stem:Re,options:Me})}return Z}function de(g){return g.replace(/^(.*?)-/,"")}var ge,ye=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,xe=/^(@+)?(\+|#+)?[rs]?$/g,Be=/(\*)(0+)|(#+)(0+)|(0+)/g,We=/^(0+)$/;function qe(g){var o={};return g[g.length-1]==="r"?o.roundingPriority="morePrecision":g[g.length-1]==="s"&&(o.roundingPriority="lessPrecision"),g.replace(xe,function(Z,$,pe){return typeof pe!="string"?(o.minimumSignificantDigits=$.length,o.maximumSignificantDigits=$.length):pe==="+"?o.minimumSignificantDigits=$.length:$[0]==="#"?o.maximumSignificantDigits=$.length:(o.minimumSignificantDigits=$.length,o.maximumSignificantDigits=$.length+(typeof pe=="string"?pe.length:0)),""}),o}function tt(g){switch(g){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function vt(g){var o;if(g[0]==="E"&&g[1]==="E"?(o={notation:"engineering"},g=g.slice(2)):g[0]==="E"&&(o={notation:"scientific"},g=g.slice(1)),o){var Z=g.slice(0,2);if(Z==="+!"?(o.signDisplay="always",g=g.slice(2)):Z==="+?"&&(o.signDisplay="exceptZero",g=g.slice(2)),!We.test(g))throw new Error("Malformed concise eng/scientific notation");o.minimumIntegerDigits=g.length}return o}function yt(g){var o={},Z=tt(g);return Z||o}function rt(g){for(var o={},Z=0,$=g;Z<$.length;Z++){var pe=$[Z];switch(pe.stem){case"percent":case"%":o.style="percent";continue;case"%x100":o.style="percent",o.scale=100;continue;case"currency":o.style="currency",o.currency=pe.options[0];continue;case"group-off":case",_":o.useGrouping=!1;continue;case"precision-integer":case".":o.maximumFractionDigits=0;continue;case"measure-unit":case"unit":o.style="unit",o.unit=de(pe.options[0]);continue;case"compact-short":case"K":o.notation="compact",o.compactDisplay="short";continue;case"compact-long":case"KK":o.notation="compact",o.compactDisplay="long";continue;case"scientific":o=(0,O.__assign)((0,O.__assign)((0,O.__assign)({},o),{notation:"scientific"}),pe.options.reduce(function(Ye,nt){return(0,O.__assign)((0,O.__assign)({},Ye),yt(nt))},{}));continue;case"engineering":o=(0,O.__assign)((0,O.__assign)((0,O.__assign)({},o),{notation:"engineering"}),pe.options.reduce(function(Ye,nt){return(0,O.__assign)((0,O.__assign)({},Ye),yt(nt))},{}));continue;case"notation-simple":o.notation="standard";continue;case"unit-width-narrow":o.currencyDisplay="narrowSymbol",o.unitDisplay="narrow";continue;case"unit-width-short":o.currencyDisplay="code",o.unitDisplay="short";continue;case"unit-width-full-name":o.currencyDisplay="name",o.unitDisplay="long";continue;case"unit-width-iso-code":o.currencyDisplay="symbol";continue;case"scale":o.scale=parseFloat(pe.options[0]);continue;case"integer-width":if(pe.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");pe.options[0].replace(Be,function(Ye,nt,Xe,At,dt,_t){if(nt)o.minimumIntegerDigits=Xe.length;else{if(At&&dt)throw new Error("We currently do not support maximum integer digits");if(_t)throw new Error("We currently do not support exact integer digits")}return""});continue}if(We.test(pe.stem))o.minimumIntegerDigits=pe.stem.length;else if(ye.test(pe.stem)){if(pe.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");pe.stem.replace(ye,function(Ye,nt,Xe,At,dt,_t){return Xe==="*"?o.minimumFractionDigits=nt.length:At&&At[0]==="#"?o.maximumFractionDigits=At.length:dt&&_t?(o.minimumFractionDigits=dt.length,o.maximumFractionDigits=dt.length+_t.length):(o.minimumFractionDigits=nt.length,o.maximumFractionDigits=nt.length),""});var ve=pe.options[0];ve==="w"?o=(0,O.__assign)((0,O.__assign)({},o),{trailingZeroDisplay:"stripIfInteger"}):ve&&(o=(0,O.__assign)((0,O.__assign)({},o),qe(ve)))}else if(xe.test(pe.stem))o=(0,O.__assign)((0,O.__assign)({},o),qe(pe.stem));else{var Re=tt(pe.stem);Re&&(o=(0,O.__assign)((0,O.__assign)({},o),Re));var Me=vt(pe.stem);Me&&(o=(0,O.__assign)((0,O.__assign)({},o),Me))}}return o}var mt=new RegExp("^".concat(te.source,"*")),Ee=new RegExp("".concat(te.source,"*$"));function je(g,o){return{start:g,end:o}}var Ht=!!String.prototype.startsWith,Ut=!!String.fromCodePoint,ft=!!Object.fromEntries,oe=!!String.prototype.codePointAt,Se=!!String.prototype.trimStart,ke=!!String.prototype.trimEnd,De=Number.isSafeInteger?Number.isSafeInteger:function(g){return typeof g=="number"&&isFinite(g)&&Math.floor(g)===g&&Math.abs(g)<=9007199254740991},Ke=!0;try{Ke=((ge=Ge("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))===null||ge===void 0?void 0:ge[0])==="a"}catch{Ke=!1}var Ve,Je=Ht?function(g,o,Z){return g.startsWith(o,Z)}:function(g,o,Z){return g.slice(Z,Z+o.length)===o},pt=Ut?String.fromCodePoint:function(){for(var g=[],o=0;o<arguments.length;o++)g[o]=arguments[o];for(var Z,$="",pe=g.length,ve=0;pe>ve;){if((Z=g[ve++])>1114111)throw RangeError(Z+" is not a valid code point");$+=Z<65536?String.fromCharCode(Z):String.fromCharCode(55296+((Z-=65536)>>10),Z%1024+56320)}return $},Et=ft?Object.fromEntries:function(g){for(var o={},Z=0,$=g;Z<$.length;Z++){var pe=$[Z],ve=pe[0],Re=pe[1];o[ve]=Re}return o},Fe=oe?function(g,o){return g.codePointAt(o)}:function(g,o){var Z=g.length;if(!(o<0||o>=Z)){var $,pe=g.charCodeAt(o);return pe<55296||pe>56319||o+1===Z||($=g.charCodeAt(o+1))<56320||$>57343?pe:$-56320+(pe-55296<<10)+65536}},fe=Se?function(g){return g.trimStart()}:function(g){return g.replace(mt,"")},Ne=ke?function(g){return g.trimEnd()}:function(g){return g.replace(Ee,"")};function Ge(g,o){return new RegExp(g,o)}if(Ke){var Ze=Ge("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");Ve=function(g,o){var Z;return Ze.lastIndex=o,(Z=Ze.exec(g)[1])!==null&&Z!==void 0?Z:""}}else Ve=function(g,o){for(var Z=[];;){var $=Fe(g,o);if($===void 0||st($)||at($))break;Z.push($),o+=$>=65536?2:1}return pt.apply(void 0,Z)};var ot=function(){function g(o,Z){Z===void 0&&(Z={}),this.message=o,this.position={offset:0,line:1,column:1},this.ignoreTag=!!Z.ignoreTag,this.requiresOtherClause=!!Z.requiresOtherClause,this.shouldParseSkeletons=!!Z.shouldParseSkeletons}return g.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},g.prototype.parseMessage=function(o,Z,$){for(var pe=[];!this.isEOF();){var ve=this.char();if(ve===123){if((Re=this.parseArgument(o,$)).err)return Re;pe.push(Re.val)}else{if(ve===125&&o>0)break;if(ve!==35||Z!=="plural"&&Z!=="selectordinal"){if(ve===60&&!this.ignoreTag&&this.peek()===47){if($)break;return this.error(T.UNMATCHED_CLOSING_TAG,je(this.clonePosition(),this.clonePosition()))}if(ve===60&&!this.ignoreTag&&xt(this.peek()||0)){if((Re=this.parseTag(o,Z)).err)return Re;pe.push(Re.val)}else{var Re;if((Re=this.parseLiteral(o,Z)).err)return Re;pe.push(Re.val)}}else{var Me=this.clonePosition();this.bump(),pe.push({type:J.pound,location:je(Me,this.clonePosition())})}}}return{val:pe,err:null}},g.prototype.parseTag=function(o,Z){var $=this.clonePosition();this.bump();var pe=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:J.literal,value:"<".concat(pe,"/>"),location:je($,this.clonePosition())},err:null};if(this.bumpIf(">")){var ve=this.parseMessage(o+1,Z,!0);if(ve.err)return ve;var Re=ve.val,Me=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!xt(this.char()))return this.error(T.INVALID_TAG,je(Me,this.clonePosition()));var Ye=this.clonePosition();return pe!==this.parseTagName()?this.error(T.UNMATCHED_CLOSING_TAG,je(Ye,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:J.tag,value:pe,children:Re,location:je($,this.clonePosition())},err:null}:this.error(T.INVALID_TAG,je(Me,this.clonePosition())))}return this.error(T.UNCLOSED_TAG,je($,this.clonePosition()))}return this.error(T.INVALID_TAG,je($,this.clonePosition()))},g.prototype.parseTagName=function(){var o=this.offset();for(this.bump();!this.isEOF()&&gt(this.char());)this.bump();return this.message.slice(o,this.offset())},g.prototype.parseLiteral=function(o,Z){for(var $=this.clonePosition(),pe="";;){var ve=this.tryParseQuote(Z);if(ve)pe+=ve;else{var Re=this.tryParseUnquoted(o,Z);if(Re)pe+=Re;else{var Me=this.tryParseLeftAngleBracket();if(!Me)break;pe+=Me}}}var Ye=je($,this.clonePosition());return{val:{type:J.literal,value:pe,location:Ye},err:null}},g.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||this.char()!==60||!this.ignoreTag&&Mt(this.peek()||0)?null:(this.bump(),"<")},g.prototype.tryParseQuote=function(o){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(o==="plural"||o==="selectordinal")break;return null;default:return null}this.bump();var Z=[this.char()];for(this.bump();!this.isEOF();){var $=this.char();if($===39){if(this.peek()!==39){this.bump();break}Z.push(39),this.bump()}else Z.push($);this.bump()}return pt.apply(void 0,Z)},g.prototype.tryParseUnquoted=function(o,Z){if(this.isEOF())return null;var $=this.char();return $===60||$===123||$===35&&(Z==="plural"||Z==="selectordinal")||$===125&&o>0?null:(this.bump(),pt($))},g.prototype.parseArgument=function(o,Z){var $=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(T.EXPECT_ARGUMENT_CLOSING_BRACE,je($,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(T.EMPTY_ARGUMENT,je($,this.clonePosition()));var pe=this.parseIdentifierIfPossible().value;if(!pe)return this.error(T.MALFORMED_ARGUMENT,je($,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(T.EXPECT_ARGUMENT_CLOSING_BRACE,je($,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:J.argument,value:pe,location:je($,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(T.EXPECT_ARGUMENT_CLOSING_BRACE,je($,this.clonePosition())):this.parseArgumentOptions(o,Z,pe,$);default:return this.error(T.MALFORMED_ARGUMENT,je($,this.clonePosition()))}},g.prototype.parseIdentifierIfPossible=function(){var o=this.clonePosition(),Z=this.offset(),$=Ve(this.message,Z),pe=Z+$.length;return this.bumpTo(pe),{value:$,location:je(o,this.clonePosition())}},g.prototype.parseArgumentOptions=function(o,Z,$,pe){var ve,Re=this.clonePosition(),Me=this.parseIdentifierIfPossible().value,Ye=this.clonePosition();switch(Me){case"":return this.error(T.EXPECT_ARGUMENT_TYPE,je(Re,Ye));case"number":case"date":case"time":this.bumpSpace();var nt=null;if(this.bumpIf(",")){this.bumpSpace();var Xe=this.clonePosition();if((xi=this.parseSimpleArgStyleIfPossible()).err)return xi;if((_t=Ne(xi.val)).length===0)return this.error(T.EXPECT_ARGUMENT_STYLE,je(this.clonePosition(),this.clonePosition()));nt={style:_t,styleLocation:je(Xe,this.clonePosition())}}if((Vi=this.tryParseArgumentClose(pe)).err)return Vi;var At=je(pe,this.clonePosition());if(nt&&Je(nt==null?void 0:nt.style,"::",0)){var dt=fe(nt.style.slice(2));if(Me==="number")return(xi=this.parseNumberSkeletonFromString(dt,nt.styleLocation)).err?xi:{val:{type:J.number,value:$,location:At,style:xi.val},err:null};if(dt.length===0)return this.error(T.EXPECT_DATE_TIME_SKELETON,At);var _t={type:q.dateTime,pattern:dt,location:nt.styleLocation,parsedOptions:this.shouldParseSkeletons?ae(dt):{}};return{val:{type:Me==="date"?J.date:J.time,value:$,location:At,style:_t},err:null}}return{val:{type:Me==="number"?J.number:Me==="date"?J.date:J.time,value:$,location:At,style:(ve=nt==null?void 0:nt.style)!==null&&ve!==void 0?ve:null},err:null};case"plural":case"selectordinal":case"select":var zt=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(T.EXPECT_SELECT_ARGUMENT_OPTIONS,je(zt,(0,O.__assign)({},zt)));this.bumpSpace();var Jt=this.parseIdentifierIfPossible(),Mi=0;if(Me!=="select"&&Jt.value==="offset"){if(!this.bumpIf(":"))return this.error(T.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,je(this.clonePosition(),this.clonePosition()));var xi;if(this.bumpSpace(),(xi=this.tryParseDecimalInteger(T.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,T.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return xi;this.bumpSpace(),Jt=this.parseIdentifierIfPossible(),Mi=xi.val}var Vi,ur=this.tryParsePluralOrSelectOptions(o,Me,Z,Jt);if(ur.err)return ur;if((Vi=this.tryParseArgumentClose(pe)).err)return Vi;var Vn=je(pe,this.clonePosition());return Me==="select"?{val:{type:J.select,value:$,options:Et(ur.val),location:Vn},err:null}:{val:{type:J.plural,value:$,options:Et(ur.val),offset:Mi,pluralType:Me==="plural"?"cardinal":"ordinal",location:Vn},err:null};default:return this.error(T.INVALID_ARGUMENT_TYPE,je(Re,Ye))}},g.prototype.tryParseArgumentClose=function(o){return this.isEOF()||this.char()!==125?this.error(T.EXPECT_ARGUMENT_CLOSING_BRACE,je(o,this.clonePosition())):(this.bump(),{val:!0,err:null})},g.prototype.parseSimpleArgStyleIfPossible=function(){for(var o=0,Z=this.clonePosition();!this.isEOF();)switch(this.char()){case 39:this.bump();var $=this.clonePosition();if(!this.bumpUntil("'"))return this.error(T.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,je($,this.clonePosition()));this.bump();break;case 123:o+=1,this.bump();break;case 125:if(!(o>0))return{val:this.message.slice(Z.offset,this.offset()),err:null};o-=1;break;default:this.bump()}return{val:this.message.slice(Z.offset,this.offset()),err:null}},g.prototype.parseNumberSkeletonFromString=function(o,Z){var $=[];try{$=Ce(o)}catch{return this.error(T.INVALID_NUMBER_SKELETON,Z)}return{val:{type:q.number,tokens:$,location:Z,parsedOptions:this.shouldParseSkeletons?rt($):{}},err:null}},g.prototype.tryParsePluralOrSelectOptions=function(o,Z,$,pe){for(var ve,Re=!1,Me=[],Ye=new Set,nt=pe.value,Xe=pe.location;;){if(nt.length===0){var At=this.clonePosition();if(Z==="select"||!this.bumpIf("="))break;var dt=this.tryParseDecimalInteger(T.EXPECT_PLURAL_ARGUMENT_SELECTOR,T.INVALID_PLURAL_ARGUMENT_SELECTOR);if(dt.err)return dt;Xe=je(At,this.clonePosition()),nt=this.message.slice(At.offset,this.offset())}if(Ye.has(nt))return this.error(Z==="select"?T.DUPLICATE_SELECT_ARGUMENT_SELECTOR:T.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,Xe);nt==="other"&&(Re=!0),this.bumpSpace();var _t=this.clonePosition();if(!this.bumpIf("{"))return this.error(Z==="select"?T.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:T.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,je(this.clonePosition(),this.clonePosition()));var zt=this.parseMessage(o+1,Z,$);if(zt.err)return zt;var Jt=this.tryParseArgumentClose(_t);if(Jt.err)return Jt;Me.push([nt,{value:zt.val,location:je(_t,this.clonePosition())}]),Ye.add(nt),this.bumpSpace(),nt=(ve=this.parseIdentifierIfPossible()).value,Xe=ve.location}return Me.length===0?this.error(Z==="select"?T.EXPECT_SELECT_ARGUMENT_SELECTOR:T.EXPECT_PLURAL_ARGUMENT_SELECTOR,je(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!Re?this.error(T.MISSING_OTHER_CLAUSE,je(this.clonePosition(),this.clonePosition())):{val:Me,err:null}},g.prototype.tryParseDecimalInteger=function(o,Z){var $=1,pe=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&($=-1);for(var ve=!1,Re=0;!this.isEOF();){var Me=this.char();if(!(Me>=48&&Me<=57))break;ve=!0,Re=10*Re+(Me-48),this.bump()}var Ye=je(pe,this.clonePosition());return ve?De(Re*=$)?{val:Re,err:null}:this.error(Z,Ye):this.error(o,Ye)},g.prototype.offset=function(){return this.position.offset},g.prototype.isEOF=function(){return this.offset()===this.message.length},g.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},g.prototype.char=function(){var o=this.position.offset;if(o>=this.message.length)throw Error("out of bound");var Z=Fe(this.message,o);if(Z===void 0)throw Error("Offset ".concat(o," is at invalid UTF-16 code unit boundary"));return Z},g.prototype.error=function(o,Z){return{val:null,err:{kind:o,message:this.message,location:Z}}},g.prototype.bump=function(){if(!this.isEOF()){var o=this.char();o===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=o<65536?1:2)}},g.prototype.bumpIf=function(o){if(Je(this.message,o,this.offset())){for(var Z=0;Z<o.length;Z++)this.bump();return!0}return!1},g.prototype.bumpUntil=function(o){var Z=this.offset(),$=this.message.indexOf(o,Z);return $>=0?(this.bumpTo($),!0):(this.bumpTo(this.message.length),!1)},g.prototype.bumpTo=function(o){if(this.offset()>o)throw Error("targetOffset ".concat(o," must be greater than or equal to the current offset ").concat(this.offset()));for(o=Math.min(o,this.message.length);;){var Z=this.offset();if(Z===o)break;if(Z>o)throw Error("targetOffset ".concat(o," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},g.prototype.bumpSpace=function(){for(;!this.isEOF()&&st(this.char());)this.bump()},g.prototype.peek=function(){if(this.isEOF())return null;var o=this.char(),Z=this.offset(),$=this.message.charCodeAt(Z+(o>=65536?2:1));return $??null},g}();function xt(g){return g>=97&&g<=122||g>=65&&g<=90}function Mt(g){return xt(g)||g===47}function gt(g){return g===45||g===46||g>=48&&g<=57||g===95||g>=97&&g<=122||g>=65&&g<=90||g==183||g>=192&&g<=214||g>=216&&g<=246||g>=248&&g<=893||g>=895&&g<=8191||g>=8204&&g<=8205||g>=8255&&g<=8256||g>=8304&&g<=8591||g>=11264&&g<=12271||g>=12289&&g<=55295||g>=63744&&g<=64975||g>=65008&&g<=65533||g>=65536&&g<=983039}function st(g){return g>=9&&g<=13||g===32||g===133||g>=8206&&g<=8207||g===8232||g===8233}function at(g){return g>=33&&g<=35||g===36||g>=37&&g<=39||g===40||g===41||g===42||g===43||g===44||g===45||g>=46&&g<=47||g>=58&&g<=59||g>=60&&g<=62||g>=63&&g<=64||g===91||g===92||g===93||g===94||g===96||g===123||g===124||g===125||g===126||g===161||g>=162&&g<=165||g===166||g===167||g===169||g===171||g===172||g===174||g===176||g===177||g===182||g===187||g===191||g===215||g===247||g>=8208&&g<=8213||g>=8214&&g<=8215||g===8216||g===8217||g===8218||g>=8219&&g<=8220||g===8221||g===8222||g===8223||g>=8224&&g<=8231||g>=8240&&g<=8248||g===8249||g===8250||g>=8251&&g<=8254||g>=8257&&g<=8259||g===8260||g===8261||g===8262||g>=8263&&g<=8273||g===8274||g===8275||g>=8277&&g<=8286||g>=8592&&g<=8596||g>=8597&&g<=8601||g>=8602&&g<=8603||g>=8604&&g<=8607||g===8608||g>=8609&&g<=8610||g===8611||g>=8612&&g<=8613||g===8614||g>=8615&&g<=8621||g===8622||g>=8623&&g<=8653||g>=8654&&g<=8655||g>=8656&&g<=8657||g===8658||g===8659||g===8660||g>=8661&&g<=8691||g>=8692&&g<=8959||g>=8960&&g<=8967||g===8968||g===8969||g===8970||g===8971||g>=8972&&g<=8991||g>=8992&&g<=8993||g>=8994&&g<=9e3||g===9001||g===9002||g>=9003&&g<=9083||g===9084||g>=9085&&g<=9114||g>=9115&&g<=9139||g>=9140&&g<=9179||g>=9180&&g<=9185||g>=9186&&g<=9254||g>=9255&&g<=9279||g>=9280&&g<=9290||g>=9291&&g<=9311||g>=9472&&g<=9654||g===9655||g>=9656&&g<=9664||g===9665||g>=9666&&g<=9719||g>=9720&&g<=9727||g>=9728&&g<=9838||g===9839||g>=9840&&g<=10087||g===10088||g===10089||g===10090||g===10091||g===10092||g===10093||g===10094||g===10095||g===10096||g===10097||g===10098||g===10099||g===10100||g===10101||g>=10132&&g<=10175||g>=10176&&g<=10180||g===10181||g===10182||g>=10183&&g<=10213||g===10214||g===10215||g===10216||g===10217||g===10218||g===10219||g===10220||g===10221||g===10222||g===10223||g>=10224&&g<=10239||g>=10240&&g<=10495||g>=10496&&g<=10626||g===10627||g===10628||g===10629||g===10630||g===10631||g===10632||g===10633||g===10634||g===10635||g===10636||g===10637||g===10638||g===10639||g===10640||g===10641||g===10642||g===10643||g===10644||g===10645||g===10646||g===10647||g===10648||g>=10649&&g<=10711||g===10712||g===10713||g===10714||g===10715||g>=10716&&g<=10747||g===10748||g===10749||g>=10750&&g<=11007||g>=11008&&g<=11055||g>=11056&&g<=11076||g>=11077&&g<=11078||g>=11079&&g<=11084||g>=11085&&g<=11123||g>=11124&&g<=11125||g>=11126&&g<=11157||g===11158||g>=11159&&g<=11263||g>=11776&&g<=11777||g===11778||g===11779||g===11780||g===11781||g>=11782&&g<=11784||g===11785||g===11786||g===11787||g===11788||g===11789||g>=11790&&g<=11798||g===11799||g>=11800&&g<=11801||g===11802||g===11803||g===11804||g===11805||g>=11806&&g<=11807||g===11808||g===11809||g===11810||g===11811||g===11812||g===11813||g===11814||g===11815||g===11816||g===11817||g>=11818&&g<=11822||g===11823||g>=11824&&g<=11833||g>=11834&&g<=11835||g>=11836&&g<=11839||g===11840||g===11841||g===11842||g>=11843&&g<=11855||g>=11856&&g<=11857||g===11858||g>=11859&&g<=11903||g>=12289&&g<=12291||g===12296||g===12297||g===12298||g===12299||g===12300||g===12301||g===12302||g===12303||g===12304||g===12305||g>=12306&&g<=12307||g===12308||g===12309||g===12310||g===12311||g===12312||g===12313||g===12314||g===12315||g===12316||g===12317||g>=12318&&g<=12319||g===12320||g===12336||g===64830||g===64831||g>=65093&&g<=65094}function Dt(g){g.forEach(function(o){if(delete o.location,Ie(o)||Oe(o))for(var Z in o.options)delete o.options[Z].location,Dt(o.options[Z].value);else ee(o)&&B(o.style)||(ne(o)||be(o))&&V(o.style)?delete o.style.location:y(o)&&Dt(o.children)})}function Bt(g,o){o===void 0&&(o={}),o=(0,O.__assign)({shouldParseSkeletons:!0,requiresOtherClause:!0},o);var Z=new ot(g,o).parse();if(Z.err){var $=SyntaxError(T[Z.err.kind]);throw $.location=Z.err.location,$.originalMessage=Z.err.message,$}return o!=null&&o.captureLocation||Dt(Z.val),Z.val}function Nt(g,o){var Z=o&&o.cache?o.cache:en,$=o&&o.serializer?o.serializer:mn;return(o&&o.strategy?o.strategy:fn)(g,{cache:Z,serializer:$})}function kt(g){return g==null||typeof g=="number"||typeof g=="boolean"}function Vt(g,o,Z,$){var pe=kt($)?$:Z($),ve=o.get(pe);return ve===void 0&&(ve=g.call(this,$),o.set(pe,ve)),ve}function Ft(g,o,Z){var $=Array.prototype.slice.call(arguments,3),pe=Z($),ve=o.get(pe);return ve===void 0&&(ve=g.apply(this,$),o.set(pe,ve)),ve}function qt(g,o,Z,$,pe){return Z.bind(o,g,$,pe)}function fn(g,o){return qt(g,this,g.length===1?Vt:Ft,o.cache.create(),o.serializer)}function Yi(g,o){return qt(g,this,Ft,o.cache.create(),o.serializer)}function gn(g,o){return qt(g,this,Vt,o.cache.create(),o.serializer)}var mn=function(){return JSON.stringify(arguments)};function ni(){this.cache=Object.create(null)}ni.prototype.get=function(g){return this.cache[g]},ni.prototype.set=function(g,o){this.cache[g]=o};var mi,en={create:function(){return new ni}},Ti={variadic:Yi,monadic:gn};(function(g){g.MISSING_VALUE="MISSING_VALUE",g.INVALID_VALUE="INVALID_VALUE",g.MISSING_INTL_API="MISSING_INTL_API"})(mi||(mi={}));var ri,tn=function(g){function o(Z,$,pe){var ve=g.call(this,Z)||this;return ve.code=$,ve.originalMessage=pe,ve}return(0,O.__extends)(o,g),o.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},o}(Error),wn=function(g){function o(Z,$,pe,ve){return g.call(this,'Invalid values for "'.concat(Z,'": "').concat($,'". Options are "').concat(Object.keys(pe).join('", "'),'"'),mi.INVALID_VALUE,ve)||this}return(0,O.__extends)(o,g),o}(tn),_n=function(g){function o(Z,$,pe){return g.call(this,'Value for "'.concat(Z,'" must be of type ').concat($),mi.INVALID_VALUE,pe)||this}return(0,O.__extends)(o,g),o}(tn),cr=function(g){function o(Z,$){return g.call(this,'The intl string context variable "'.concat(Z,'" was not provided to the string "').concat($,'"'),mi.MISSING_VALUE,$)||this}return(0,O.__extends)(o,g),o}(tn);function nn(g){return g.length<2?g:g.reduce(function(o,Z){var $=o[o.length-1];return $&&$.type===ri.literal&&Z.type===ri.literal?$.value+=Z.value:o.push(Z),o},[])}function Ni(g){return typeof g=="function"}function hi(g,o,Z,$,pe,ve,Re){if(g.length===1&&W(g[0]))return[{type:ri.literal,value:g[0].value}];for(var Me=[],Ye=0,nt=g;Ye<nt.length;Ye++){var Xe=nt[Ye];if(W(Xe))Me.push({type:ri.literal,value:Xe.value});else if(ue(Xe))typeof ve=="number"&&Me.push({type:ri.literal,value:Z.getNumberFormat(o).format(ve)});else{var At=Xe.value;if(!pe||!(At in pe))throw new cr(At,Re);var dt=pe[At];if(Q(Xe))dt&&typeof dt!="string"&&typeof dt!="number"||(dt=typeof dt=="string"||typeof dt=="number"?String(dt):""),Me.push({type:typeof dt=="string"?ri.literal:ri.object,value:dt});else if(ne(Xe)){var _t=typeof Xe.style=="string"?$.date[Xe.style]:V(Xe.style)?Xe.style.parsedOptions:void 0;Me.push({type:ri.literal,value:Z.getDateTimeFormat(o,_t).format(dt)})}else if(be(Xe))_t=typeof Xe.style=="string"?$.time[Xe.style]:V(Xe.style)?Xe.style.parsedOptions:$.time.medium,Me.push({type:ri.literal,value:Z.getDateTimeFormat(o,_t).format(dt)});else if(ee(Xe))(_t=typeof Xe.style=="string"?$.number[Xe.style]:B(Xe.style)?Xe.style.parsedOptions:void 0)&&_t.scale&&(dt*=_t.scale||1),Me.push({type:ri.literal,value:Z.getNumberFormat(o,_t).format(dt)});else{if(y(Xe)){var zt=Xe.children,Jt=Xe.value,Mi=pe[Jt];if(!Ni(Mi))throw new _n(Jt,"function",Re);var xi=Mi(hi(zt,o,Z,$,pe,ve).map(function(Vn){return Vn.value}));Array.isArray(xi)||(xi=[xi]),Me.push.apply(Me,xi.map(function(Vn){return{type:typeof Vn=="string"?ri.literal:ri.object,value:Vn}}))}if(Ie(Xe)){if(!(Vi=Xe.options[dt]||Xe.options.other))throw new wn(Xe.value,dt,Object.keys(Xe.options),Re);Me.push.apply(Me,hi(Vi.value,o,Z,$,pe))}else if(Oe(Xe)){var Vi;if(!(Vi=Xe.options["=".concat(dt)])){if(!Intl.PluralRules)throw new tn(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,mi.MISSING_INTL_API,Re);var ur=Z.getPluralRules(o,{type:Xe.pluralType}).select(dt-(Xe.offset||0));Vi=Xe.options[ur]||Xe.options.other}if(!Vi)throw new wn(Xe.value,dt,Object.keys(Xe.options),Re);Me.push.apply(Me,hi(Vi.value,o,Z,$,pe,dt-(Xe.offset||0)))}}}}return nn(Me)}function zi(g,o){return o?(0,O.__assign)((0,O.__assign)((0,O.__assign)({},g||{}),o||{}),Object.keys(g).reduce(function(Z,$){return Z[$]=(0,O.__assign)((0,O.__assign)({},g[$]),o[$]||{}),Z},{})):g}function Yn(g,o){return o?Object.keys(g).reduce(function(Z,$){return Z[$]=zi(g[$],o[$]),Z},(0,O.__assign)({},g)):g}function vn(g){return{create:function(){return{get:function(o){return g[o]},set:function(o,Z){g[o]=Z}}}}}function Rn(g){return g===void 0&&(g={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Nt(function(){for(var o,Z=[],$=0;$<arguments.length;$++)Z[$]=arguments[$];return new((o=Intl.NumberFormat).bind.apply(o,(0,O.__spreadArray)([void 0],Z,!1)))},{cache:vn(g.number),strategy:Ti.variadic}),getDateTimeFormat:Nt(function(){for(var o,Z=[],$=0;$<arguments.length;$++)Z[$]=arguments[$];return new((o=Intl.DateTimeFormat).bind.apply(o,(0,O.__spreadArray)([void 0],Z,!1)))},{cache:vn(g.dateTime),strategy:Ti.variadic}),getPluralRules:Nt(function(){for(var o,Z=[],$=0;$<arguments.length;$++)Z[$]=arguments[$];return new((o=Intl.PluralRules).bind.apply(o,(0,O.__spreadArray)([void 0],Z,!1)))},{cache:vn(g.pluralRules),strategy:Ti.variadic})}}(function(g){g[g.literal=0]="literal",g[g.object=1]="object"})(ri||(ri={}));const Pn=function(){function g(o,Z,$,pe){var ve=this;if(Z===void 0&&(Z=g.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(Re){var Me=ve.formatToParts(Re);if(Me.length===1)return Me[0].value;var Ye=Me.reduce(function(nt,Xe){return nt.length&&Xe.type===ri.literal&&typeof nt[nt.length-1]=="string"?nt[nt.length-1]+=Xe.value:nt.push(Xe.value),nt},[]);return Ye.length<=1?Ye[0]||"":Ye},this.formatToParts=function(Re){return hi(ve.ast,ve.locales,ve.formatters,ve.formats,Re,void 0,ve.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(ve.locales)[0]}},this.getAst=function(){return ve.ast},typeof o=="string"){if(this.message=o,!g.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=g.__parse(o,{ignoreTag:pe==null?void 0:pe.ignoreTag})}else this.ast=o;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=Yn(g.formats,$),this.locales=Z,this.formatters=pe&&pe.formatters||Rn(this.formatterCache)}return Object.defineProperty(g,"defaultLocale",{get:function(){return g.memoizedDefaultLocale||(g.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),g.memoizedDefaultLocale},enumerable:!1,configurable:!0}),g.memoizedDefaultLocale=null,g.__parse=Bt,g.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},g}();var On=d(379),_i=d.n(On);async function rn(g,o){(0,b.shouldPolyfill)()&&await Promise.all([d.e(891),d.e(235)]).then(d.bind(d,5235)),(0,R.shouldPolyfill)()&&await Promise.all([d.e(891),d.e(896),d.e(975)]).then(d.bind(d,8975));var Z=K.Z.getCurrentLanguageId().split("-")[0];(0,A.shouldPolyfill)(Z)&&(await Promise.all([d.e(896),d.e(92)]).then(d.bind(d,5092)),/bg|de|el|en|es|fi|fr|id|it|ja|ko|nl|nn|pl|pt|ro|ru|sv|th|tr|vi|zh$/.test(Z)?await d(274)(`./${Z}`):await d.e(409).then(d.t.bind(d,8409,23))),Cn(g,o)}function Cn(g,o){var Z={getNumberFormat:_i()((pe,ve)=>new Intl.NumberFormat(pe,ve)),getDateTimeFormat:_i()((pe,ve)=>new Intl.DateTimeFormat(pe,ve)),getPluralRules:_i()((pe,ve)=>new Intl.PluralRules(pe,ve))},$=_i()(o);K.Z.messageProcessor=(pe,ve,Re)=>{var Me=typeof ve=="object"&&ve!==null?ve:{count:isNaN(ve)?10:ve};return new g($(pe),K.Z.getCurrentLanguageId(),void 0,{formatters:Z}).format(Me)}}rn(Pn,Bt);var Mn=d(8650),an=d(1254),ai=d(1587),oi=d(6635),An=d(1575),qi=d(1868),pr=d(7287),ui=d.n(pr),dr=d(2447);h.Z.isMobile.any||(dr.projectDesc.screenOrientation="landscape");class Dn extends Mn.Z{init(){if(super.init(),location.href.includes("enableSeleniumInterface")&&d.e(933).then(d.bind(d,2933)).then(ve=>{ve.default(h.Z)}),h.Z.isMobile.any){let ve=function(){var Me=Date.now();Me-4e3>Z&&(Z=Me,o.enable())},Re=function(){h.Z.addOnClickOnce(ve)};var $=ve,pe=Re,o=new(ui()),Z=0;document.addEventListener("touchend",Re),document.addEventListener("click",Re)}}onShow(){var o=h.Z.isMobile.any?"main-mobile":"main-desktop";h.Z.showScene(k.Z.hasScene(o)?o:"main");var Z=h.Z.settings.getItem("isIntroShowedBefore");qi.Z.isReplayMode()||!k.Z.hasScene("intro")||Z&&!h.Z.Sound.isSoundsLockedByBrowser||(h.Z.showScene("intro"),h.Z.settings.setItem("isIntroShowedBefore",!0))}}var sn,zn=d(4294),pi=d(8125);class on extends U.Z{init(){if(sn=h.Z.pixiApp.renderer.plugins.interaction,super.init(),this.onStageDown=this.onStageDown.bind(this),this.handlerAdded=!1,this._insideContainers=[this],this.additionalContainers)for(var o of this.additionalContainers.split(",")){var Z=(0,w.Z)(o,this);this._insideContainers.push(Z)}}onRemove(){super.onRemove(),this.removeHandler()}onStageDown(o){if(h.Z.time-this.time>1)this.removeHandler();else if(o.target)for(var Z=o.target;Z;){if(this._insideContainers.indexOf(Z)>=0)return;if(Z===h.Z.stage)return void this.fire();Z=Z.parent}else this.fire()}fire(){this.onClickOutside&&(0,z.Z)(this.onClickOutside,this)}_onDisableByTrigger(){this.removeHandler()}update(){this.handlerAdded||(this.handlerAdded=!0,sn.on("pointerdown",this.onStageDown)),this.time=h.Z.time,super.update()}removeHandler(){this.handlerAdded&&(this.handlerAdded=!1,sn.removeListener("pointerdown",this.onStageDown))}}var Ei=d(6107),Xi=2*Math.PI,qn=`

	precision mediump float;

	attribute vec2 aVertexPosition;
	attribute float aColor;
	attribute vec2 aTextureCoord;

	uniform mat3 translationMatrix;
	uniform mat3 projectionMatrix;
	uniform vec4 uColor;

	varying vec2 vUvs;
	varying vec4 vColor;

	void main() {

	vUvs = aTextureCoord;
	vColor = uColor * aColor;
	gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

}`,Nn=`

	precision mediump float;

	varying vec4 vColor;
	varying vec2 vUvs;

	uniform sampler2D uSampler;

	void main() {

	gl_FragColor = texture2D(uSampler, vUvs) * vColor;
}`;class Li extends Ei.Mesh{constructor(o){o||(o=new Ei.MeshMaterial(Ei.Texture.WHITE,{program:Ei.Program.from(qn,Nn)})),super(new Ei.PlaneGeometry(2,2,2,2),o),this.geometry.addAttribute("aColor",[0,0,1,1],1)}refreshSize(){var o=this.geometry;o.segWidth=this.verticesX,o.segHeight=this.verticesY,o.width=this.texture.width,o.height=this.texture.height,o.build(),this._applied_verticesX=this.verticesX,this._applied_verticesY=this.verticesY,this.updateFilling(),this.fillUpdated=!1,this.updateTransparency()}cropLeftRight(o,Z){var $=this.texture.width;(o/=$)<0&&(o=0),(Z/=$)<0&&(Z=0),this.scale.x=Math.min(1,1-o-Z),this.xRepeat=this.scale.x,this.xShift=o}cropTopBottom(o,Z){var $=this.texture.height;(o/=$)<0&&(o=0),(Z/=$)<0&&(Z=0),this.scale.y=Math.min(1,1-o-Z),this.yRepeat=this.scale.y,this.yShift=o}update(){this.xShiftSpeed!==0&&(this.xShift+=this.xShiftSpeed,h.Z.isCanvasMode&&(this._xShift>2?this._xShift-=2:this._xShift<-2&&(this._xShift+=2))),this.yShiftSpeed!==0&&(this.yShift+=this.yShiftSpeed,h.Z.isCanvasMode&&(this._yShift>2?this._yShift-=2:this._yShift<-2&&(this._yShift+=2))),this.xWaveSpeed!==0&&(this.xWavePhase+=this.xWaveSpeed,this._xWavePhase>Xi?this._xWavePhase-=Xi:this._xWavePhase<0&&(this._xWavePhase+=Xi)),this.yWaveSpeed!==0&&(this.yWavePhase+=this.yWaveSpeed,this._yWavePhase>Xi?this._yWavePhase-=Xi:this._yWavePhase<0&&(this._yWavePhase+=Xi)),super.update()}set texture(o){o!==super.texture&&(this.meshResized=this.meshResized||super.texture.width!==o.width||super.texture.height!==o.height,super.texture=o)}get texture(){return super.texture}render(o){this.validateFill(),super.render(o)}_renderCanvas(o){this.validateFill(),super._renderCanvas(o)}validateFill(){this.meshResized&&(this.refreshSize(),this.meshResized=!1),this.fillUpdated&&(this.updateFilling(),this.fillUpdated=!1),this.transparencyUpdated&&this.updateTransparency()}calculateVertices(){this.meshResized&&(this.refreshSize(),this.meshResized=!1),super.calculateVertices()}set transparentTop(o){this._transparentTop!==o&&(this._transparentTop=o,this.transparencyUpdated=!0)}get transparentTop(){return this._transparentTop}set transparentBottom(o){this._transparentBottom!==o&&(this._transparentBottom=o,this.transparencyUpdated=!0)}get transparentBottom(){return this._transparentBottom}set transparentLeft(o){this._transparentLeft!==o&&(this._transparentLeft=o,this.transparencyUpdated=!0)}get transparentLeft(){return this._transparentLeft}set transparentRight(o){this._transparentRight!==o&&(this._transparentRight=o,this.transparencyUpdated=!0)}get transparentRight(){return this._transparentRight}set alpha(o){super.alpha!==o&&(this.transparencyUpdated=!0,super.alpha=o)}get alpha(){return super.alpha}set tintR(o){super.tintR!==o&&(this.transparencyUpdated=!0,super.tintR=o)}get tintR(){return super.tintR}set verticesX(o){this._verticesX!==o&&(this._verticesX=o,this.meshResized=!0)}get verticesX(){return this._verticesX}set verticesY(o){this._verticesY!==o&&(this._verticesY=o,this.meshResized=!0)}get verticesY(){return this._verticesY}updateTransparency(){var o=this.verticesX*this.verticesY,Z=this.geometry.buffers[3];Z.data.length!==o&&(Z.data=new Float32Array(o));for(var $=Z.data,pe=0;pe<o;pe++)$[pe]=1;if(this.transparentTop)for(var ve=this.verticesX-1;ve>=0;ve--)$[ve]=0;if(this.transparentBottom)for(var Re=o-this.verticesX;Re<o;Re++)$[Re]=0;if(this.transparentLeft)for(var Me=0;Me<o;Me+=this.verticesX)$[Me]=0;if(this.transparentRight)for(var Ye=this.verticesX-1;Ye<o;Ye+=this.verticesX)$[Ye]=0;Z.update(),this.transparencyUpdated=!1}updateFilling(){var o,Z,$=this.uvBuffer.data,pe=0;Z=this._yShift;var ve=this.verticesX-1,Re=this.verticesY-1,Me=this._xRepeat/ve,Ye=this._yRepeat/Re,nt=this._xWaveStep/ve,Xe=this._yWaveStep/Re;if(this._xWaveAmp!==0||this._yWaveAmp!==0)for(var At=this._yWavePhase,dt=0;dt<=Re;dt++){o=this._xShift+Math.sin(At)*this._yWaveAmp;for(var _t=this._xWavePhase,zt=0;zt<=ve;zt++)$[pe++]=o,$[pe++]=Z+Math.sin(_t)*this._xWaveAmp,o+=Me,_t+=nt;At+=Xe,Z+=Ye}else for(var Jt=0;Jt<=Re;Jt++){o=this._xShift;for(var Mi=0;Mi<=ve;Mi++)$[pe++]=o,$[pe++]=Z,o+=Me;Z+=Ye}this.uvBuffer.update()}get xRepeat(){return this._xRepeat}set xRepeat(o){this._xRepeat!==o&&(this._xRepeat=o,this.fillUpdated=!0)}get xShift(){return this._xShift}set xShift(o){this._xShift!==o&&(this._xShift=o,this.fillUpdated=!0)}get xWaveAmp(){return this._xWaveAmp}set xWaveAmp(o){this._xWaveAmp!==o&&(this._xWaveAmp=o,this.fillUpdated=!0)}get xWaveStep(){return this._xWaveStep}set xWaveStep(o){this._xWaveStep!==o&&(this._xWaveStep=o,this.fillUpdated=!0)}get xWavePhase(){return this._xWavePhase}set xWavePhase(o){this._xWavePhase!==o&&(this._xWavePhase=o,this.fillUpdated=!0)}get yRepeat(){return this._yRepeat}set yRepeat(o){this._yRepeat!==o&&(this._yRepeat=o,this.fillUpdated=!0)}get yShift(){return this._yShift}set yShift(o){this._yShift!==o&&(this._yShift=o,this.fillUpdated=!0)}get yWaveAmp(){return this._yWaveAmp}set yWaveAmp(o){this._yWaveAmp!==o&&(this._yWaveAmp=o,this.fillUpdated=!0)}get yWaveStep(){return this._yWaveStep}set yWaveStep(o){this._yWaveStep!==o&&(this._yWaveStep=o,this.fillUpdated=!0)}get yWavePhase(){return this._yWavePhase}set yWavePhase(o){this._yWavePhase!==o&&(this._yWavePhase=o,this.fillUpdated=!0)}}class vi extends an.Z{init(){super.init(),this.phase=0}hide(){this.phase=0}update(){super.update(),this.y-=1,this.phase--,this.phase<=0?(this.alpha-=.05,this.alpha<=0&&this.remove()):this.alpha<.95&&(this.alpha+=.2)}static flyText(o){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"flytext",ve=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,Re=arguments.length>5?arguments[5]:void 0;typeof Z!="number"&&(Z=h.Z.W/2),typeof $!="number"&&($=h.Z.H/2);var Me=k.Z.loadPrefab(pe);Me.text=o,Me.phase=6*o.length+ve;var Ye=Me.width/2+5;return Z<Ye&&(Z=Ye),Z>h.Z.W-Ye&&(Z=h.Z.W-Ye),Me.alpha=0,Me.x=Z,Me.y=$,Re?typeof Re=="string"&&(Re=(0,w.Z)(Re,h.Z.currentContainer)):Re=h.Z.currentContainer,Re.addChild(Me),Me}}var Si=d(87),ln=d(6107);class yn extends ln.NineSlicePlane{constructor(){super(k.Z.getTexture("WHITE"),3,3,3,3)}}var Ai=d(6107),hn=0,Qi=1,Ln=2,Ki=3,bn=4;class Qn extends Ai.Graphics{init(){super.init(),this._drawThing(),this._hitAreaCache=null,this.isItHitArea&&this.parent&&this.applyHitAreaToParent()}_drawThing(){this.clear(),this.isItHitArea||(this.lineStyle(this.shapeLineWidth,this.shapeLineColor,this.shapeLineAlpha,this.shapeLineAlignment),this.beginFill(this.shapeFillColor,this.shapeFillAlpha),this.drawThing(),this.endFill())}drawThing(){var o;switch(this.shape){case Qi:this.drawRoundedRect(0,0,this.width,this.height,this.shapeRadius);break;case hn:this.drawRect(0,0,this.width,this.height);break;case Ln:this.drawCircle(0,0,this.shapeRadius);break;case Ki:this.drawEllipse(0,0,this.width,this.height);break;case bn:if(this._shapePoints.length>2){for(var Z of(o=[],this._shapePoints))o.push(Z.x,Z.y);this.drawPolygon(o)}}}getHitareaShape(){if(!this._hitAreaCache)switch(this.shape){case Qi:this._hitAreaCache=new Ai.RoundedRectangle(this.x,this.y,this.width,this.height,this.shapeRadius);break;case hn:this._hitAreaCache=new Ai.Rectangle(this.x,this.y,this.width,this.height);break;case Ln:this._hitAreaCache=new Ai.Circle(this.x,this.y,this.shapeRadius);break;case Ki:this._hitAreaCache=new Ai.Ellipse(this.x,this.y,this.width,this.height);break;case bn:if(this._shapePoints.length>2){var o=[];for(var Z of this._shapePoints)o.push(Z.x+this.x,Z.y+this.y);this._hitAreaCache=new Ai.Polygon(o)}}return this._hitAreaCache}applyHitAreaToParent(){this.parent.hitArea=this.getHitareaShape(),this.visible=!1}onRemove(){super.onRemove(),this.clear(),this.isItHitArea&&this.parent&&(this.parent.hitArea=null)}set shape(o){this._shape=o,this.__deserialized&&this._drawThing()}get shape(){return this._shape}set width(o){this._width=o,this.__deserialized&&this._drawThing()}get width(){return this._width}set height(o){this._height=o,this.__deserialized&&this._drawThing()}get height(){return this._height}set shapeRadius(o){this._shapeRadius=o,this.__deserialized&&this._drawThing()}get shapeRadius(){return this._shapeRadius}set shapeLineColor(o){this._lColor=o,this.__deserialized&&this._drawThing()}get shapeLineColor(){return this._lColor}set shapeFillColor(o){this._fColor=o,this.__deserialized&&this._drawThing()}get shapeFillColor(){return this._fColor}set shapeFillAlpha(o){this._fAlpha=o,this.__deserialized&&this._drawThing()}get shapeFillAlpha(){return this._fAlpha}set shapeLineAlpha(o){this._lAlpha=o,this.__deserialized&&this._drawThing()}get shapeLineAlpha(){return this._lAlpha}set shapeLineWidth(o){this._lWidth=o,this.__deserialized&&this._drawThing()}get shapeLineWidth(){return this._lWidth}set shapeLineAlignment(o){this._lAlignment=o,this.__deserialized&&this._drawThing()}get shapeLineAlignment(){return this._lAlignment}}var fr=new(d(6107)).Point;function xn(g,o){g instanceof Qn||g instanceof yn?g.height=o:g.texture&&(g.scale.y=o/g.texture.height,g instanceof Li&&(g.yRepeat=g.scale.y))}class gr extends U.Z{constructor(){super()}init(){super.init(),this.scrolling=!1,this.currentInterval=0,this.showedVal=void 0,this.bar=this.findChildByName("bar"),this.cap=this.findChildByName("cap"),this.buttonMode=this.interactive,this.on("pointerdown",this.onDown),this._applyBgHeight()}get height(){return this._height||200}set height(o){this._height!==o&&(this._height=o,this.applyValue(this.showedVal||0),this._applyBgHeight())}_applyBgHeight(){var o=this.getChildByName("bg");o&&xn(o,this._height)}onRemove(){super.onRemove(),this._height=void 0,this.bar=null,this.cap=null,this.removeListener("pointerdown",this.onDown)}onDown(){this.isCanBePressed&&(this.scrolling=!0)}update(){if(this.scrolling)if(h.Z.mouse.click){var o=this.toLocal(h.Z.mouse,h.Z.stage,fr,!0).y/this._height;o<0?o=0:o>1&&(o=1);var Z=this.min+o*(this.max-this.min);this.step>0&&(Z=Math.round(Z/this.step)*this.step),this.applyValue(Z),this.dataPath&&(0,w.P)(this.dataPath,Z,this)}else this.scrolling=!1,this.afterSlide&&(0,z.Z)(this.afterSlide,this);else if(this.currentInterval<=0&&this.dataPath){var $=(0,w.Z)(this.dataPath,this);$||$===0?($>this.max&&($=this.max),$<this.min&&($=this.min),$!==this.showedVal&&(this.visible=!0,this.applyValue($))):(this.showedVal=void 0,this.visible=!1),this.currentInterval=this.refreshInterval}else this.currentInterval--;super.update()}applyValue(o){o!==this.showedVal&&this.onChanged&&(0,z.Z)(this.onChanged,this),this.showedVal=o;var Z=(o-this.min)/(this.max-this.min);this.bar&&xn(this.bar,this._height*Z),this.cap&&(this.cap.y=this.capMargin+(this._height-2*this.capMargin)*Z)}refreshNow(){this.currentInterval=0}}class Tn extends U.Z{init(){super.init(),this.needApplyLayout=!0,this._applyLayout()}update(){super.update(),this.needApplyLayout&&(this._applyLayout(),this.needApplyLayout=!1)}_applyLayout(){var o=h.Z.W-2*this.marginLeftRight,Z=this.marginLeftRight,$=h.Z.isMobile.any?this.maxWidthMobile:this.maxWidthDesktop;$>0&&o>$&&(Z+=Math.round((o-$)/2),o=$);var pe=h.Z.H-2*this.marginTopBottom;if(this.bgNineSlicePlanePath){var ve=(0,w.Z)(this.bgNineSlicePlanePath,this);this.x=Z+this.containerMargin,this.y=this.marginTopBottom+this.containerMargin,ve&&(ve.x=-this.containerMargin,ve.y=-this.containerMargin,ve.width=o,ve.height=pe)}if(this.scrollBarPath){var Re=(0,w.Z)(this.scrollBarPath,this);Re&&(Re.x=o-this.containerMargin,Re.height=pe-this.scrollBarBottomMargin)}if(this.scrollLayerPath){var Me=(0,w.Z)(this.scrollLayerPath,this);if(Me){var Ye=Me.visibleArea;Ye.w=o-2*this.containerMargin,Ye.h=pe-2*this.containerMargin}}}_onRenderResize(){this._applyLayout(),this.isMobileLandscape=!h.Z.isPortrait&&h.Z.isMobile.any}}var Bi=560,Bn=500,Kn=30,kn=52,un=174;class Fn extends U.Z{init(){super.init(),this.riskButtons=[h.Z.currentScene.all["high-risk-btn"],h.Z.currentScene.all["medium-risk-btn"],h.Z.currentScene.all["low-risk-btn"]],this.lines=[],this.targets=[],this.tooltip=this.getChildByName("tooltip"),this.pinsContainer=this.getChildByName("pinsContainer"),this.hole=this.getChildByName("hole"),this.linesButtons=h.Z.currentScene.findChildrenByName("lines-button"),this.hideTooltip(),this.colors={center:{r:this.centerR,g:this.centerG},low:{r:this.lowR,g:this.lowG},medium:{r:this.mediumR,g:this.mediumG},high:{r:this.highR,g:this.highG}}}update(){super.update(),this.targets.indexOf(pi.Z.overredButton||pi.Z.downedButton)>=0?this.showTooltip(pi.Z.overredButton||pi.Z.downedButton):h.Z.isMobile.any&&!h.Z.mouse.click||this.hideTooltip()}showTooltip(o){this.tooltip.target!==o&&(this.tooltip.visible=!0,this.tooltip.x=o.x,this.tooltip.x<-un&&(this.tooltip.x=-un),this.tooltip.x>un&&(this.tooltip.x=un),this.tooltip.profit=o.payout*h.Z.currentScene.getBet(),this.tooltip.chance=o.chance,this.tooltip.getChildByName("pointer").x=o.x-this.tooltip.x)}hideTooltip(){this.tooltip.visible=!1,this.tooltip.target=null}initializePaytable(){this.setRiskMode(h.Z.settings.getItem("riskMode","low")),this.setLinesCount(h.Z.settings.getItem("linesCount",8))}setRiskMode(o){for(var Z of(this.riskMode=o,h.Z.settings.setItem("riskMode",o),this._applyPaytable(),this.riskButtons))Z.name.startsWith(o)?Z.disable():Z.enable()}setLinesCount(o){for(var Z of(this._releaseTable(),this.linesCount=o,h.Z.settings.setItem("linesCount",o),this.linesButtons)){var $=Z.getChildByName("label");$.text==o?(Z.disable(),$.style.fill="#1e4e79"):(Z.enable(),$.style.fill="#c6d6e3")}this._generateTable()}launchBall(){this.ballWaitingPath=k.Z.loadPrefab("ball"),this.ballWaitingPath.setPinsDistance(this.pinsDistance,this.pinRadius,this),this.getChildByName("ballsContainer").addChildAt(this.ballWaitingPath,0)}setBallData(o){var Z=this.ballWaitingPath.ballId;return this.ballWaitingPath.setBallData(o),this.ballWaitingPath=null,Z}onRemove(){super.onRemove(),this._releaseTable()}_generateTable(){var o=Bn/(this.linesCount+1),Z=o,$=(Bi-Z-Kn)/(this.linesCount-.5);this.pinsDistance=o,this.pinRadius=Math.max(.5,Math.min(1,.02*o));var pe=C.getBallSize(this.pinsDistance,this.pinRadius);this.hole.scale.x=pe,this.hole.scale.y=pe;for(var ve=0;ve<this.linesCount;ve++){var Re=k.Z.loadPrefab("container");Re.y=Math.round(Z),Z+=$;for(var Me=-Math.round((ve+2)*o/2),Ye=ve+3;Ye>0;Ye--){var nt=k.Z.loadPrefab("pin");nt.x=Math.round(Me),nt.scale.x=this.pinRadius,nt.scale.y=this.pinRadius,Me+=o,Re.addChild(nt)}this.lines.push(Re),this.pinsContainer.addChild(Re)}for(var Xe=Math.min(1,o/kn),At=-(Bn-kn*Xe)/2,dt=this.linesCount;dt>=0;dt--){var _t=k.Z.loadPrefab("ball-target");_t.x=Math.round(At),At+=o,_t.y=Bi,_t.scale.x=Xe,_t.scale.y=Xe,this.pinsContainer.addChild(_t),this.targets.push(_t)}this._applyPaytable()}_applyPaytable(){for(var o=this.targets.length-1;o>=0;o--){var Z=this.targets[o],$=Z.findChildByName("label"),pe=Z.findChildByName("body"),ve=h.Z.data.initData.paytable[this.linesCount],Re=ve[this.riskMode][o];$.text=Re,Z.payout=Re,Z.chance=ve.chances[o];var Me=2*Math.abs(Z.x)/Bn;pe.tintR=Math.min(255,this.colors[this.riskMode].r*Me+this.colors.center.r*(1-Me)),pe.tintG=Math.min(255,this.colors[this.riskMode].g*Me+this.colors.center.g*(1-Me))}}_releaseTable(){for(;this.lines.length>0;)this.lines.pop().remove();for(;this.targets.length>0;)this.targets.pop().remove()}}var Jn=d(4702),Ii=null,di=1;function Un(){Ii||(Ii=h.Z.pixiApp.view.getBoundingClientRect(),di=Ii.width/h.Z.W)}class $n extends Si.Z{init(){this.bouncingBounds=!1,super.init(),this.currentHtmlScale=0,this.currentHtmlOpacity=0,this.interactive=!0,this._overlayIntervalUpdate=this._overlayIntervalUpdate.bind(this),this._scripts=[]}onRemove(){super.onRemove(),this._releaseHtmlDiv()}update(){Ii=null,Un(),this.handleScroll&&this._htmlDiv&&(this._htmlDiv.scrollHeight>this._htmlDiv.clientHeight?this.fullArea.h=Math.max(this.visibleArea.h,Math.floor(this._htmlDiv.scrollHeight/di-1)):this.fullArea.h=this.visibleArea.h),super.update(),this.latestTime=h.Z.time,this.handleScroll&&this._htmlDiv&&(this._htmlDiv.scrollTop=-this.y*di,this.y=-Math.round(this._htmlDiv.scrollTop/di)),this._updateHtmlOpacity()}_updateHtmlOpacity(){var o=this.worldVisible&&this._htmlContent&&this.isCanBePressed&&Math.abs(this.worldTransform.a)>.1&&!this._isHtmlContentInvalidated?this.worldAlpha:0;this.currentHtmlOpacity=(0,Jn.R3)(this.currentHtmlOpacity,o,this.fadeSpeed)}_overlayIntervalUpdate(){h.Z.time-this.latestTime>1&&this._updateHtmlOpacity(),this.worldVisible||this._releaseHtmlDiv()}_releaseHtmlDiv(){this._htmlDiv&&(this._htmlDiv.remove(),this._htmlDiv=null,clearInterval(this._overlayInterval),this._isHtmlContentInvalidated=!1,this.currentHtmlScale=0,this.currentHtmlOpacity=0);for(var o=0;o<this._scripts.length;o++)this._scripts[o].remove();this._scripts=[]}render(o){this._renderHtmlContainer(),super.render(o)}_renderCanvas(o){this._renderHtmlContainer(),super._renderCanvas(o)}_renderHtmlContainer(){if(this.currentHtmlOpacity>.001){if(!this._htmlDiv){this._htmlDiv=document.createElement("div"),this._htmlDiv.style.position="fixed",this._htmlDiv.innerHTML=this._htmlContent,this._htmlDiv.style.overflow="hidden",this._htmlDiv.style.zIndex=this.zIndex,this._htmlDiv.style.transformOrigin="0 0",this._applyClassName(),this.handleScroll&&(this._htmlDiv.style.pointerEvents="none");for(var o=0;o<this.domScripts.length;o++){var Z=this.domScripts[o],$=document.createElement("script");$.textContent=Z,this._scripts.push($)}document.body.appendChild(this._htmlDiv);for(var pe=0;pe<this._scripts.length;pe++)document.body.appendChild(this._scripts[pe]);this._isHtmlContentInvalidated=!1,this._overlayInterval=setInterval(this._overlayIntervalUpdate,1e3/60)}this._htmlDiv.style.opacity=this.currentHtmlOpacity,Ii=null,Un(),this._htmlDiv.style.left=Ii.left+Math.round(this.parent.worldTransform.tx)*di/h.Z.stage.scale.x+"px",this._htmlDiv.style.top=Ii.top+Math.round(this.parent.worldTransform.ty)*di/h.Z.stage.scale.x+"px",this._htmlDiv.style.width=this.visibleArea.w*di+"px",this._htmlDiv.style.height=this.visibleArea.h*di+"px",Math.abs(this.currentHtmlScale-this.worldTransform.a)>.001&&(this.currentHtmlScale=this.worldTransform.a,this._htmlDiv.style.transform="scale("+(this.currentHtmlScale/h.Z.stage.scale.x).toFixed(3)+")")}else this._releaseHtmlDiv()}_onRenderResize(){this._applyClassName()}_applyClassName(){this._htmlDiv&&(this._htmlDiv.className=this.className+(h.Z.isPortrait?" portrait-":" landscape-")+this.className)}get innerHTML(){return this._htmlContent}set innerHTML(o){this._htmlContent!==o&&(this._isHtmlContentInvalidated=!!this._htmlDiv,this._htmlContent=o)}get domScripts(){return this._domScripts}set domScripts(o){this._domScripts!==o&&(this._domScripts=o)}}class mr extends Y{setY(o){var Z=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.yTo=o,Z&&(this.y=o,this.gotoLabelRecursive("no-animation"))}update(){this.ySpeed+=.05*(this.yTo-this.y),this.ySpeed*=.74,super.update()}getData(){return this.data}setData(o){this.data=o,o.win>0?this.getChildByName("lose-bg").remove():(o.win===0&&(this.getChildByName("lose-bg").image="EMPTY"),this.getChildByName("win-bg").remove())}startRemoving(){this.gotoLabelRecursive("remove")}}class Hi extends U.Z{static delay(o,Z){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.Z.currentContainer;if(!(Z<=0)){var pe=j.Z.create(Hi);return pe.delay=Z,pe.callback=o,$.addChild(pe),pe}o()}constructor(){super(),this.visible=!1}skip(){this.callback(),this.callback=null,this.remove()}update(){this.delay--,this.delay<1&&(this.callback(),this.remove())}}class Gn extends U.Z{constructor(){super(),this._removedChildren=[]}init(){super.init(),this.initialAlpha=this.alpha,this.initialScale=this.scale.x,this.initialX=this.x,this.initialY=this.y,this.qSpeed=0,this.triggering=!1,this._processedState=void 0,this.applyInstantly(),this.lastUpdateTime=h.Z.time}getState(){return!!this.invert==!(0,w.Z)(this.dataPath,this)}applyInstantly(){this.dataPath?this._state=this.getState():this._state=!!this.invert,this._state?this.q=0:this.q=1,this.qSpeed=0,this.updatePhase(),this.interactiveChildren=this._state||!this.isApplyInteractivity}show(){this._state=!0,this.interactiveChildren=!0,this.triggering=!0}set state(o){o?this.show():this.hide()}get state(){return this._state}hide(){this._state=!1,this.isApplyInteractivity&&(this.interactiveChildren=!1),this.triggering=!0,this.forAllChildren(Xn)}toggle(){this._state?this.hide():this.show()}updatePhase(){var o=this._state?0:1;if(this.pow===1||Math.abs(o-this.q)<.002&&Math.abs(this.qSpeed)<.002?(this.triggering=!1,this.q=o):(this.qSpeed+=(o-this.q)*this.pow,this.qSpeed*=this.damp,this.q+=this.qSpeed),this.alpha=this.initialAlpha+this.q*this.alphaShift,this.scaleShift!==0){var Z=this.initialScale+this.q*this.scaleShift;this.scale.x=Z,this.scale.y=Z}this.visible=this.alpha>.015&&Math.abs(this.scale.x)>.0015,!this.visible&&!this._state&&this.initialAlpha+this.alphaShift<=.015&&(this.triggering=!1,this.q=o),this.xShift!==0&&(this.x=this.initialX+this.q*this.xShift),this.yShift!==0&&(this.y=this.initialY+this.q*this.yShift)}update(){if(this.dataPath){var o=this.getState();this._state!==o&&this.toggle()}this.triggering&&(this.updatePhase(),!this._state&&h.Z.time-this.lastUpdateTime>1&&this.applyInstantly()),this.visible&&super.update(),this._processedState!==this._state&&(this._processedState=this._state,this._processedState?this.onEnable&&(0,z.Z)(this.onEnable,this):this.onDisable&&(0,z.Z)(this.onDisable,this)),this.lastUpdateTime=h.Z.time}}var Xn=g=>{g._onDisableByTrigger&&g._onDisableByTrigger()},cn=d(137);class er{static fetch(o,Z){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"json",pe=arguments.length>3?arguments[3]:void 0,ve=cn.Z.promise((Re,Me)=>{fetch(Z,pe).then(Ye=>Ye[$]()).then(Re).catch(Me)},o);return ve.name="Request: "+Z,ve}}class _ extends U.Z{constructor(){super(),this.onWheel=this.onWheel.bind(this)}onWheel(o){if(this.isCanBePressed){var Z=0,$=h.Z.mouseEventToGlobalXY(o);this.hitArea?(this.toLocal($,void 0,$),this.hitArea.contains($.x,$.y)&&(Z=o.deltaY,o.stopPropagation(),o.preventDefault())):this.getBounds().contains($.x,$.y)&&(Z=o.deltaY,o.stopPropagation(),o.preventDefault()),Z<0?this.canIncrease?this.increase():this.ySpeed=-1:Z>0&&(this.canDecrease?this.decrease():this.ySpeed=1)}}init(){super.init(),this.currentInterval=0,this.showedVal=void 0,this.defaultValue=this.value,this.on("pointerdown",this.onDown),this.buttonMode=!0,this.cursor="ns-resize",this.dragging=!1,this.ySpeed=0,this._currentTextField=null,this._prevTextField=null,this.valuesList?this.setValuesList(this.valuesList.split(",").map(o=>parseFloat(o))):this._values=null,this.resetValue(),document.addEventListener("wheel",this.onWheel,!0)}onRemove(){super.onRemove(),this._prevTextField=null,this._currentTextField=null,document.removeEventListener("wheel",this.onWheel,!0)}get canDecrease(){return this.value>this.min||this.wrapValue}get canIncrease(){return this.value<this.max||this.wrapValue}get canDecreaseVisual(){return(this.value>this.min||this.wrapValue)&&this.isCanBePressed}get canIncreaseVisual(){return(this.value<this.max||this.wrapValue)&&this.isCanBePressed}setValuesList(o){this._values=o,this.min=this._values[0],this.max=this._values[this._values.length-1]}formatValue(o){return An.Z.formatMoney(o,this.decimalsCount)}update(){if(this.currentInterval<=0&&this.dataPath){var o=(0,w.Z)(this.dataPath,this);this.setValue(o),this.currentInterval=this.refreshInterval}else this.currentInterval--;if(this.value!==this.showedVal){var Z,$;this._prevTextField&&(this._prevTextField.remove(),this._currentTextField.y=0),this._prevTextField=this._currentTextField,this.textView?(this._currentTextField=k.Z.loadPrefab(this.textView),Z=this._currentTextField instanceof an.Z?this._currentTextField:this._currentTextField.findChildrenByType(an.Z)[0]):(Z=k.Z._loadClassInstanceById("Text"),this._currentTextField=Z),this._prevTextField?($=this.wrapValue?this.showedVal<this.value&&!(this.showedVal===this.min&&this.value===this.max)||this.showedVal===this.max&&this.value===this.min:this.showedVal<this.value,this._currentTextField.y=$?this._prevTextField.height:-this._prevTextField.height,this._currentTextField.y+=this._prevTextField.y):this._currentTextField.y=0,this._currentTextField.x=0,Z.text=this.formatValue(this.value),this.addChild(this._currentTextField),this.showedVal=this.value}if(this.dragging)if(h.Z.mouse.click){for(var pe=.5*this._currentTextField.height,ve=h.Z.mouse.y-this.startDragY;ve>pe;){if(!this.canDecrease){this.startDragY=h.Z.mouse.y;break}this.decrease(),ve-=2*pe,this.startDragY+=2*pe}for(;ve<-pe;){if(!this.canIncrease){this.startDragY=h.Z.mouse.y;break}this.increase(),ve+=2*pe,this.startDragY-=2*pe}this.ySpeed+=.1*(h.Z.mouse.y-this.prevDragY),this.prevDragY=h.Z.mouse.y}else this.dragging=!1;this._currentTextField&&(this.ySpeed+=-.15*this._currentTextField.y,this.ySpeed*=.7,this._currentTextField.y+=this.ySpeed,this._currentTextField.alpha=1-Math.abs(this._currentTextField.y/this._currentTextField.height)),this._prevTextField&&(this._prevTextField.y+=this.ySpeed,this._prevTextField.alpha=1-this._currentTextField.alpha,Math.abs(this._prevTextField.y)>=this._prevTextField.height-4&&(this._prevTextField.remove(),this._prevTextField=null)),super.update()}onDown(){this.dragging=!0,this.prevDragY=h.Z.mouse.y,this.startDragY=this.prevDragY}resetValue(){this.setValue(this.defaultValue)}increase(o){if(this._values){var Z=this._values;this.wrapValue?this.setValue(Z[(Z.indexOf(this.value)+1)%Z.length]):this.setValue(Z[Math.min(Z.indexOf(this.value)+1,Z.length-1)])}else this.setValue(this.value+(o||this.step))}decrease(o){if(this._values){var Z=this._values;this.wrapValue?this.setValue(Z[(Z.indexOf(this.value)-1)%Z.length]):this.setValue(Z[Math.max(Z.indexOf(this.value)-1,0)])}else this.setValue(this.value-(o||this.step))}_modValue(o){var Z=this.max-this.min+1;return((o-this.min)%Z+Z)%Z+this.min}setValue(o){o<this.min?o=this.wrapValue?this._modValue(o):this.min:o>this.max&&(o=this.wrapValue?this._modValue(o):this.max),o!==this.value&&(this.dataPath&&(0,w.P)(this.dataPath,o,this),this.value=o,this.onChanged&&(0,z.Z)(this.onChanged,this))}refreshNow(){this.currentInterval=0}}function t(g,o,Z,$){return new(Z||(Z=Promise))(function(pe,ve){function Re(nt){try{Ye($.next(nt))}catch(Xe){ve(Xe)}}function Me(nt){try{Ye($.throw(nt))}catch(Xe){ve(Xe)}}function Ye(nt){var Xe;nt.done?pe(nt.value):(Xe=nt.value,Xe instanceof Z?Xe:new Z(function(At){At(Xe)})).then(Re,Me)}Ye(($=$.apply(g,o||[])).next())})}function i(g,o){var Z,$,pe,ve,Re={label:0,sent:function(){if(1&pe[0])throw pe[1];return pe[1]},trys:[],ops:[]};return ve={next:Me(0),throw:Me(1),return:Me(2)},typeof Symbol=="function"&&(ve[Symbol.iterator]=function(){return this}),ve;function Me(Ye){return function(nt){return function(Xe){if(Z)throw new TypeError("Generator is already executing.");for(;Re;)try{if(Z=1,$&&(pe=2&Xe[0]?$.return:Xe[0]?$.throw||((pe=$.return)&&pe.call($),0):$.next)&&!(pe=pe.call($,Xe[1])).done)return pe;switch($=0,pe&&(Xe=[2&Xe[0],pe.value]),Xe[0]){case 0:case 1:pe=Xe;break;case 4:return Re.label++,{value:Xe[1],done:!1};case 5:Re.label++,$=Xe[1],Xe=[0];continue;case 7:Xe=Re.ops.pop(),Re.trys.pop();continue;default:if(!((pe=(pe=Re.trys).length>0&&pe[pe.length-1])||Xe[0]!==6&&Xe[0]!==2)){Re=0;continue}if(Xe[0]===3&&(!pe||Xe[1]>pe[0]&&Xe[1]<pe[3])){Re.label=Xe[1];break}if(Xe[0]===6&&Re.label<pe[1]){Re.label=pe[1],pe=Xe;break}if(pe&&Re.label<pe[2]){Re.label=pe[2],Re.ops.push(Xe);break}pe[2]&&Re.ops.pop(),Re.trys.pop();continue}Xe=o.call(g,Re)}catch(At){Xe=[6,At],$=0}finally{Z=pe=0}if(5&Xe[0])throw Xe[1];return{value:Xe[0]?Xe[1]:void 0,done:!0}}([Ye,nt])}}}(function(){(console.warn||console.log).apply(console,arguments)}).bind("[clipboard-polyfill]");var r,m,H,ie,ce=typeof navigator>"u"?void 0:navigator,me=ce==null?void 0:ce.clipboard,Le=((r=me==null?void 0:me.read)===null||r===void 0||r.bind(me),(m=me==null?void 0:me.readText)===null||m===void 0||m.bind(me),(H=me==null?void 0:me.write)===null||H===void 0||H.bind(me),(ie=me==null?void 0:me.writeText)===null||ie===void 0?void 0:ie.bind(me)),He=typeof window>"u"?void 0:window,$e=(He==null||He.ClipboardItem,He);function ht(){return typeof ClipboardEvent>"u"&&$e.clipboardData!==void 0&&$e.clipboardData.setData!==void 0}var bt=function(){this.success=!1};function It(g,o,Z){for(var $ in g.success=!0,o){var pe=o[$],ve=Z.clipboardData;ve.setData($,pe),$==="text/plain"&&ve.getData($)!==pe&&(g.success=!1)}Z.preventDefault()}function Rt(g){var o=new bt,Z=It.bind(this,o,g);document.addEventListener("copy",Z);try{document.execCommand("copy")}finally{document.removeEventListener("copy",Z)}return o.success}function wt(g,o){ei(g);var Z=Rt(o);return li(),Z}function ei(g){var o=document.getSelection();if(o){var Z=document.createRange();Z.selectNodeContents(g),o.removeAllRanges(),o.addRange(Z)}}function li(){var g=document.getSelection();g&&g.removeAllRanges()}function wi(g){return t(this,void 0,void 0,function(){var o;return i(this,function(Z){if(o="text/plain"in g,ht()){if(!o)throw new Error("No `text/plain` value was specified.");if($=g["text/plain"],$e.clipboardData.setData("Text",$))return[2,!0];throw new Error("Copying failed, possibly because the user rejected it.")}var $;return Rt(g)?[2,!0]:navigator.userAgent.indexOf("Edge")>-1?[2,!0]:wt(document.body,g)?[2,!0]:function(pe){var ve=document.createElement("div");ve.setAttribute("style","-webkit-user-select: text !important"),ve.textContent="temporary element",document.body.appendChild(ve);var Re=wt(ve,pe);return document.body.removeChild(ve),Re}(g)?[2,!0]:function(pe){var ve=document.createElement("div");ve.setAttribute("style","-webkit-user-select: text !important");var Re=ve;ve.attachShadow&&(Re=ve.attachShadow({mode:"open"}));var Me=document.createElement("span");Me.innerText=pe,Re.appendChild(Me),document.body.appendChild(ve),ei(Me);var Ye=document.execCommand("copy");return li(),document.body.removeChild(ve),Ye}(g["text/plain"])?[2,!0]:[2,!1]})})}function tr(g){return t(this,void 0,void 0,function(){return i(this,function(o){if(Le)return[2,Le(g)];if(!wi(function(Z){var $={};return $["text/plain"]=Z,$}(g)))throw new Error("writeText() failed");return[2]})})}class pn extends Gn{get isItMobile(){return h.Z.isMobile.any}init(){h.Z.data.provability={clientSeed:[]},this.data=null;var o=this.findChildByName("client-seed-controls");this.clientSeedInputs=o.findChildrenByType(_),this.slotLeftBorder=this.findChildByName("slot-left-border"),this.randomizeClientSeed(),super.init()}onRemove(){super.onRemove(),this.shiftForSpinTrigger=null,this.clientSeedInputs=null,this.slotLeftBorder=null}show(){super.show(),this._applyLayout(),this.isHidedForSpin=!1}hideProvabilityForSpin(){this.isItMobile?h.Z.all.popupsLayer.hideAll():this.isHidedForSpin=!0}showProvabilityAfterSpin(){this.isItMobile?h.Z.all.popupsLayer.showProvability():this.isHidedForSpin=!1}get isProvabilityEnabled(){return this.data}_applyTextToButton(o,Z){var $=this.findChildByName(o);$.findChildByName("label").text=Z,$ instanceof pi.Z&&($.callback=()=>{this.copyTextToClipboard(Z)})}copyTextToClipboard(o){tr(o).then(()=>{vi.flyText((0,K.Z)("provability.copied_to_clipboard"),h.Z.mouse.x,h.Z.mouse.y-30,void 0,-90)})}applyResult(o){o&&o.extra_data&&o.extra_data.provable_data&&(this.randomizeClientSeed(),this.data=o.extra_data.provable_data,this.isVerified=!1,this._applyTextToButton("next-game-hash-btn",this.data[0].hash),this.data[1]&&(this._applyTextToButton("last-game-hash-btn",this.data[1].hash),this._applyTextToButton("last-game-final-result-btn",this.data[1].result),this._applyTextToButton("last-game-result-btn",this.data[1].secret),this._applyTextToButton("last-game-client-seed",this.data[1].client_seed)))}randomizeClientSeed(){for(var o of(h.Z.data.provability.clientSeed=[],this.clientSeedInputs))(0,w.P)(o.dataPath,Math.floor(o.min+Math.random()*(o.max-o.min)),o)}onVerifyClick(){er.fetch(this,h.Z.casinoOptions.provable_fair.verify_url,"json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({secret:this.data[1].secret,client_seed:this.data[1].client_seed})}).then(o=>{o&&(this.isVerified=!0,this.isVerificationSuccess=o.hash===this.data[1].hash)})}_applyLayout(){var o=h.Z.W,Z=h.Z.H,$=this.isItMobile&&!h.Z.isPortrait;this.pow=this.isItMobile?1:.1,this.isItMobile||(o=Math.round(.5*Z)-100);var pe=this.findChildrenByName("orientation-trigger");for(var ve of pe)$?ve.hide():ve.show();this.findChildByName("provability-close-btn-container").x=o;var Re=this.findChildByName("provability-background");Re&&(Re.pivot.x=100,Re.width=o+100,Re.height=Z);var Me,Ye=this.findChildByName("provability-container");Ye&&(Ye.x=Math.round(o/2),Ye.y=Math.round(Z/2),Me=$?Math.min((o-600)/800,Z/600):this.isItMobile?Math.min(o/440,(Z-310)/1080):Math.min(o/440,Z/1080),Ye.scale.x=Me,Ye.scale.y=Me);var nt=(0,K.Z)("provability.hash"),Xe=(0,K.Z)("provability.result"),At=(0,K.Z)("provability.secret"),dt=this.findChildByName("hash-result-secret-label"),_t=this.findChildByName("hash-result-secret-label2"),zt=this.findChildByName("result-secret-label");dt.text=_t.text=nt+" ("+Xe+" + "+At+")",zt.text=Xe+" + "+At;var Jt=this.findChildByName("shift-for-spin");if(Jt&&!this.isItMobile&&Re){var Mi=h.Z.W/2-650;Jt.xShift=Math.min(Mi-(Re.width-Re.pivot.x),0),Jt.state=!!Jt.state}}static getCurrentClientSeed(){return Number(h.Z.data.provability.clientSeed.join(""))||0}_onRenderResize(){this._applyLayout()}}var ir=d(3339),ji=d(2517),Hr=d(3732),Ir=d(4247),nr="application/json",Ri={},Ji=void 0;Wr()&&d.e(51).then(d.bind(d,7051)).then(g=>Ji=g.default);class jr{constructor(o){this.setCasinoOptions(o)}setCasinoOptions(o){Ri={},this.currentGameId=o.identifier,this.apiUrl=o.api,this.rulesUrl=o.rules_url,this.lobbyUrl=o.lobby_launch_url,this.headers={"Content-Type":nr},this.headers[o.csrfTokenHeaderName]=o.csrfTokenHeaderValue,Ji&&Ji.initialize()}requestRules(){return fetch(this.rulesUrl,{headers:{Accept:nr}}).then(wr)}requestURL(o,Z,$){var pe,ve,Re={method:Z?"POST":"GET",headers:this.headers};if(Z&&((pe=Ji)===null||pe===void 0||!pe.isPlaybackActive)){if(Re.body=JSON.stringify(Z),Ri[Re.body]){var Me=Promise.resolve(Ri[Re.body]);return Ri[Re.body]=null,Me}Ri[Re.body]=null}if((ve=Ji)!==null&&ve!==void 0&&ve.isPlaybackActive){var Ye,nt=(Ye=Ji)===null||Ye===void 0?void 0:Ye.getItem(Z);return Promise.resolve(nt)}return new Promise((Xe,At)=>{Rr(o,Re,dt=>(this.additionalResponseProcessing(dt,o,Z,$),wr(dt).then(async _t=>{var zt;return!$&&Ji&&await((zt=Ji)===null||zt===void 0?void 0:zt.addItem(Re,_t,o,{method:"POST",headers:this.headers,body:'{"command": "init"}'})),_t}).then(Xe).catch(At)),At)})}request(o,Z){return this.requestURL(this.apiUrl,o,Z)}prepareRequest(o){var Z=JSON.stringify(o);Ri.hasOwnProperty(Z)||(this.request(o).then($=>{Ri.hasOwnProperty(Z)||(Ri[Z]=$)}),delete Ri[Z])}additionalResponseProcessing(o,Z,$,pe){this.verifyDigest(o,Z),pe||this.addSentryBreadcrumb(o,Z,$)}async addSentryBreadcrumb(o,Z,$){try{if(!Ir.U||!ir)return;var pe=await o.clone().json();pe.options&&(pe.options="{...}"),ji.n_({type:"info",category:"api.response",data:{url:Z,request:JSON.stringify($),response:JSON.stringify(pe)},level:Hr.z.Info})}catch{return}}async verifyDigest(o,Z){if(o.headers.has("digest"))try{var $=o.headers.get("digest"),[pe,ve]=$.split("="),Re=atob(ve),Me=await o.clone().text();Re!==await this.generateDigest(pe,Me)&&Ir.U&&ji.$e(Ye=>{Ye.setExtra("request-url",Z),Ye.setExtra("x-request-id",o.headers.get("x-request-id")),Ye.setExtra("responseText",Me.substring(0,199e3)),ji.Tb(new Error("Response checksum mismatch"))})}catch{return}}async generateDigest(o,Z){var $=new TextEncoder().encode(Z),pe=await crypto.subtle.digest(o,$),ve=Array.from(new Uint8Array(pe)).map(Re=>Re.toString(16).padStart(2,"0")).join("");return ve}}var wr=g=>g.json(),_r=!1,Hn=[];function Rr(g,o,Z,$){if(_r)Hn.push(Array.from(arguments));else{_r=!0;var pe=!1,ve=()=>{pe||(_r=!1,Hn.length&&Rr.apply(null,Hn.shift()),pe=!0)};fetch(g,o).then(Re=>{ve(),Z(Re)}).catch(Re=>{ve(),$(Re)})}}function Wr(){return window.location.origin.indexOf("dev.bgaming-system")>-1}var Pr=(h.Z.isMobile.apple.phone||h.Z.isMobile.apple.ipod)&&navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&navigator.userAgent.indexOf("CriOS")==-1&&navigator.userAgent.indexOf("FxiOS")==-1;function Zr(){try{return window.self!==window.top}catch{return!0}}h.Z.isIosSafari=Pr;var fi,En,vr,Ar=Zr(),yr="",br=!h.Z.isPortrait,Sn=document.body.style,Or=.9;function Cr(){fi=document.createElement("div"),En=Math.min(screen.width,screen.height),fi.style.height=En+3e3+"px",fi.style.width="100%",fi.style.position="absolute",document.body.appendChild(fi),window.addEventListener("touchend",function(){h.Z.isPortrait&&!h.Z.isNeedScrollTopIosSafari&&(clearTimeout(vr),vr=setTimeout(()=>{fi.style.height=window.innerHeight+"px",this.setTimeout(()=>h.Z.onResize())},100))})}Pr&&setInterval(function(){if(h.Z.currentContainer&&h.Z.casinoOptions.ui.full_screen_prompt){h.Z.isLandscapeSafariIos=!h.Z.isPortrait,(h.Z.isLandscapeSafariIos||br)&&(En=Math.min(screen.width,screen.height),h.Z.isNeedScrollTopIosSafari=window.innerHeight<En*Or,br=!h.Z.isPortrait);var g=`${h.Z.isNeedScrollTopIosSafari} ${h.Z.isPortrait}`;yr!==g&&(yr=g,Ar?h.Z.isNeedScrollTopIosSafari?h.Z.pixiApp.renderer.view.style.touchAction="auto":h.Z.pixiApp.renderer.view.style.removeProperty("touch-action"):(fi||Cr(),document.documentElement.style.position="static",Sn.position="static",h.Z.isNeedScrollTopIosSafari?(h.Z.pixiApp.renderer.plugins.interaction.autoPreventDefault=!1,fi.style.zIndex=1e3,fi.style.height=En+3e3+"px",Sn.overflow="unset",Sn.height=En+3e3+"px",document.documentElement.style.height="100%",document.documentElement.style.overflow="unset",setTimeout(()=>{window.scrollTo(0,2),window.scrollTo(0,0)},80)):(h.Z.pixiApp.renderer.plugins.interaction.autoPreventDefault=!0,fi.style.zIndex=-1,Sn.overflow="hidden",Sn.height="100%",document.documentElement.style.height="100%",document.documentElement.style.overflow="hidden"),fi.style.display=h.Z.isPortrait?"none":"inline")),!Ar&&h.Z.isNeedScrollTopIosSafari&&(h.Z.currentFader||h.Z.isPortrait||h.Z.currentContainer.name==="thing-games-utils/safari-arrow-up"||h.Z.showModal("thing-games-utils/safari-arrow-up"))}},100);class Mr{constructor(){Ui(this,"isRealityCheckEnabled",!1);Ui(this,"realityCheckTriggerInterval",0);Ui(this,"isPopupActive",!1);Ui(this,"popupTriggeredTime",0);Ui(this,"sessionStart",Date.now());Ui(this,"userOverallBet",0);Ui(this,"userOverallWin",0)}get isNeedToShowPopup(){return!(this.isPopupActive||!this.isRealityCheckEnabled)&&this.realityCheckTriggerInterval!==0&&this.sessionTime>this.realityCheckTriggerInterval&&this.timeFromLastPopupShown>=this.realityCheckTriggerInterval}get userOverallLose(){return Math.max(this.userOverallBet-this.userOverallWin,0)}get sessionTime(){return Date.now()-this.sessionStart}get timeFromLastPopupShown(){return Date.now()-this.popupTriggeredTime}get timeToNextTrigger(){var o=Math.max(this.realityCheckTriggerInterval-this.timeFromLastPopupShown,0);return this.isRealityCheckEnabled?o:-1}}const Dr=Mr;class Nr{constructor(){this.model=new Dr,this.checkTimeoutId=void 0}initialize(){this.checkBounded=this.checkForReality.bind(this),oi.Z.addListener((o,Z,$)=>this._gameEventHandler(o,Z,$))}startSession(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:216e6;this.model.sessionStart=Date.now(),this.model.popupTriggeredTime=Date.now(),this.model.userOverallBet=0,this.model.userOverallWin=0,this.model.realityCheckTriggerInterval=o,this.model.isRealityCheckEnabled=o!==void 0&&o>0,this._scheduleRealityCheck()}restartRealityCheckSession(){this.model.sessionStart=Date.now(),this.model.popupTriggeredTime=Date.now(),this._scheduleRealityCheck()}clearRealityCheckSchedule(){var o;this.checkTimeoutId!==void 0&&(o=this.model)!==null&&o!==void 0&&o.isRealityCheckEnabled&&clearTimeout(this.checkTimeoutId)}checkForReality(){this.model.isNeedToShowPopup&&(this.model.isPopupActive=!0,h.Z.showModal("thing-games-utils/reality-check-popup",()=>{this.model.isPopupActive=!1,this.model.popupTriggeredTime=Date.now()})),this._scheduleRealityCheck()}updateSessionBet(o){o>0&&(this.model.userOverallBet+=o)}updateSessionWin(o){o>0&&(this.model.userOverallWin+=o)}_scheduleRealityCheck(){if(this.clearRealityCheckSchedule(),this.model.isRealityCheckEnabled){var o=this.model.timeToNextTrigger;this.checkTimeoutId=setTimeout(this.checkBounded,o)}}_gameEventHandler(o,Z,$){switch(o){case ai.Z.GAME_INITIALIZED:this.startSession(this._realityCheckInterval);break;case ai.Z.FINISH_SPIN_ANIMATIONS:case ai.Z.FINISH_ROUND_ANIMATIONS:this.checkForReality();break;case ai.Z.PRE_PLAY:this.clearRealityCheckSchedule();break;case ai.Z.PLAY:this.updateSessionBet(h.Z.data.balanceChargedForSpin),this.updateSessionWin($.win)}}get _realityCheckInterval(){var o,Z,$;return((o=h.Z.casinoOptions)===null||o===void 0||(Z=o.license_rules)===null||Z===void 0||($=Z.reality_check)===null||$===void 0?void 0:$.interval)||0}}const In=new Nr;var Lr=d(6107),Br=d(2447),xr={finish:"close",check_card:"gamble"},rr={command:"init"},ar=new URLSearchParams(window.location.search).get("lang");function Tr(){h.Z.casinoOptions=window.__OPTIONS__,ar&&(h.Z.casinoOptions.rules_url=h.Z.casinoOptions.rules_url.replace("/"+h.Z.casinoOptions.locale+"/","/"+ar+"/"),h.Z.casinoOptions.locale=ar),h.Z.casinoOptions.ui.logo_visible=h.Z.casinoOptions.ui.logo!=="hidden",h.Z.casinoOptions.ui.isTinyAutospinsDialog=h.Z.casinoOptions.ui.autospins_dialog==="tiny",h.Z.casinoOptions.ui.isAutospinAvailable=h.Z.casinoOptions.ui.autospins_dialog!=="disable",Lr.utils.isMobile.any&&(h.Z.casinoOptions.ui.home_button=!0),h.Z.casinoOptions.actions.return||(h.Z.casinoOptions.ui.home_button=!1),h.Z.casinoOptions.history_url=h.Z.casinoOptions.actions.history&&h.Z.casinoOptions.actions.history.link}Tr(),In.initialize();var ki,Er,jn,gi=new jr(h.Z.casinoOptions);function dn(){Er=Date.now()}var kr=5e3;function Fr(){var g;if((g=h.Z.casinoOptions)!=null&&g.replay)return!1;if(jn)dn();else if(Date.now()>Er+kr-500)return!0}function Pi(g){h.Z.data.lastDataWithBalanceForBalanceChecking&&(isNaN(h.Z.data.lastDataWithBalanceForBalanceChecking.balance)?typeof h.Z.data.lastDataWithBalanceForBalanceChecking.balance!="object"||isNaN(h.Z.data.lastDataWithBalanceForBalanceChecking.balance.wallet)||(h.Z.data.lastDataWithBalanceForBalanceChecking.balance.wallet=g):h.Z.data.lastDataWithBalanceForBalanceChecking.balance=g,h.Z.data.latestReceivedBalance=g,h.Z.currentScene&&h.Z.currentScene.refreshBalanceFast&&h.Z.currentScene.refreshBalanceFast())}function Wi(g){var o=g.balance;return typeof o=="object"&&(o=o.wallet),o}function Vr(g){return g&&!isNaN(Wi(g))}class Oi{constructor(){Oi.instance=this,h.Z.SharedAPI=this,this.isRequestCommandAvailable=this.isRequestCommandAvailable.bind(this),h.Z.__APIBalanceUpdateInterval&&clearInterval(h.Z.__APIBalanceUpdateInterval),h.Z.__APIBalanceUpdateInterval=setInterval(()=>{Fr()&&this.request({command:"init",options:{balance:!0}},null,!0).then(o=>{if(Fr()&&o){var Z=Wi(o);typeof Z=="number"&&Z!==h.Z.data.latestReceivedBalance&&Pi(Z)}}).finally(()=>{dn()})},1e3),this.onApiReady()}restartGame(o){sr(o)}initCurrency(o,Z){var $=o.options.currency,pe=$.subunits,ve=Math.log10(pe);this.subUnits=pe,Oi.subunitsDigitsCount=ve;var Re,Me=dt=>{var _t=(dt/pe).toString().split(".");return _t.length>1?_t[1].replace(/0+$/gm,"").length:0};Array.isArray(Z)||(Z=[Z]);var Ye=(()=>{var dt=o.options.paytable||o.options.paytables||o.paytable||{},_t=Object.values(dt).flat(1/0);return _t.length&&isNaN(_t[0])&&(_t=_t.map(zt=>Object.values(zt)).flat(1/0)),_t})(),nt=Ye.map(dt=>Z.map(_t=>(_t||0)*dt)).flat().filter(dt=>dt>0).map(Me);Re=Math.max.apply(null,nt),Re=Math.min(ve,Re),h.Z.data.currencyDigits=Math.max($.exponent||0,Re),h.Z.data.currency=(0,w.Z)("this.options.currency.code",o)||"BTC";var Xe,At=(o.balance/this.subUnits).toString().split(".");Xe=At.length>1?At[1].replace(/0+$/gm,"").length:0,Xe=Math.min(Oi.subunitsDigitsCount,Xe),h.Z.data.balanceDigitsCount=Math.max(h.Z.data.currencyDigits,Xe)}openHistory(){oi.Z.track("go_history"),Oi.actionExec(h.Z.casinoOptions.actions.history)}globalDataHandler(o){if(o&&(h.Z.data.latestData=o,o.options&&(h.Z.data.currencyDivider=o.options.currency.subunits),o.flow||(o.flow={state:o.game.state,available_actions:o.available_commands,command:o.requested_command}),o.hasOwnProperty("balance")&&(isNaN(o.balance)&&(o.gameTotalWin=o.balance.game,o.balance.game>0&&o.flow.state==="closed"&&(o.balance.hasOwnProperty("free_rounds")?o.balance.free_rounds+=o.balance.game:o.balance.wallet+=o.balance.game,o.balance.game=0),o.free_rounds&&(o.free_rounds.win=o.balance.free_rounds,o.free_rounds.status==="played"&&(o.balance.wallet+=o.balance.free_rounds,o.balance.free_rounds=0)),o.balance=o.balance.wallet),h.Z.data.latestReceivedBalance=o.balance),o.flow.available_actions)){var Z={};for(var $ of o.flow.available_actions)xr.hasOwnProperty($)&&($=xr[$]),Z[$]=!0;o.available_commands=Z}}setGameId(o){gi.currentGameId!==o&&this.request(gi.lobbyUrl+(gi.lobbyUrl.indexOf("?")>0?"&":"?")+"game="+o+"&from="+gi.currentGameId,h.Z.currentFader).then(Z=>{gi.setCasinoOptions(Z),ki=null,window.initializeCasinoOptions(Z),Tr();try{window.history.replaceState(o,o,Z.game_page_url)}catch{}}).catch(()=>{this.showError()})}request(o){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,$=arguments.length>2&&arguments[2]!==void 0&&arguments[2];$||dn();var pe=this.currentRequestInProgress,ve=typeof o=="string",Re=cn.Z.promise((Me,Ye)=>{var nt=()=>{if(qi.Z.isReplayMode())return Me(qi.Z.getNextResponse());(ve?gi.requestURL(o,null,$):gi.request(o,$)).then(Me).catch(Ye)};pe?pe.finally(nt):nt()},Z||h.Z.currentContainer).then(Me=>{if(this.currentRequestInProgress===Re&&(this.currentRequestInProgress=null,jn=!1),!ve){if(this.handleDataErrors(Me,$))return h.Z.data.lastDataWithBalanceForBalanceChecking&&Pi(Wi(h.Z.data.lastDataWithBalanceForBalanceChecking)),null;Me.requested_command=o.command,Vr(Me)&&(h.Z.data.lastDataWithBalanceForBalanceChecking=Me),$||(this.checkForMessagesToShow(Me),this.globalDataHandler(Me)),$||o!==rr||(oi.Z.track(ai.Z.BALANCE_UPDATE,null,{amount:Me.balance}),oi.Z.track(ai.Z.GAME_LOADED,h.Z.casinoOptions.identifier)),oi.Z.track(ai.Z.API_RESPONSE,Me.requested_command,{responseData:Me,isBalanceCheckRequest:$})}}).catch(()=>{this.currentRequestInProgress===Re&&(this.currentRequestInProgress=null,jn=!1),h.Z.data.lastDataWithBalanceForBalanceChecking&&Pi(Wi(h.Z.data.lastDataWithBalanceForBalanceChecking)),$||this.showError()}).finally(()=>{this.currentRequestInProgress===Re&&(this.currentRequestInProgress=null,jn=!1),$||dn()});return this.currentRequestInProgress=Re,jn=!0,Re}isRequestCommandAvailable(o){return!o.command||o.command==="init"||this.isCommandAvailable(o.command)}initGame(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.Z.currentFader;return qi.Z.initGame(),this.request(rr,o)}onApiReady(){Br.projectDesc.disableInitDataPreparing||(gi==null||gi.prepareRequest(rr))}showRules(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",Z=h.Z.showModal("ui/html-popup").findChildByName("html");ki?(Z.domScripts=ki.scripts,Z.innerHTML=ki.content):(Z.domScripts=[],Z.innerHTML=(0,K.Z)("loading"),this.requestRulesContent(o).then($=>{var{content:pe,scripts:ve}=$;Z.domScripts=ve,Z.innerHTML=pe}))}requestRulesContent(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return ki?cn.Z.resolve(ki):cn.Z.promise(Z=>{gi.requestRules().then($=>{var pe=$?$.content:"";if($&&$.contentUpdateScript)try{pe=new Function("content",$.contentUpdateScript)(pe)}catch{}ki={content:pe="<style>"+Yr+o+"</style>"+pe+"<br><br>",scripts:($==null?void 0:$.domScripts)||[]},Z(ki)})})}isCommandAvailable(o){return h.Z.data.available_commands&&h.Z.data.available_commands[o]}playGame(o,Z,$){return this.request({command:"play",options:{bet:o,risk_level:Z,rows:$}})}handleDataErrors(o,Z){if(!o)return Z||this.showError(),!0;if(o.errors&&o.errors.length>0){if(!Z){var $=o.errors[0].code;$===700?this.showCustomButtonsMessage(o.errors[0]):this.showError($,o.errors[0].text)}return!0}}showCustomButtonsMessage(o){var Z=k.Z.loadPrefab("thing-games-utils/sure-question700");Z.findChildByName("title").text=o.desc,Z.findChildByName("message").text=o.text;var $=Z.findChildrenByName("btn"),pe=[],ve=o.buttons.filter(nt=>nt.action!=="history"||h.Z.casinoOptions.actions.history);$.forEach((nt,Xe)=>{var At=ve[Xe];nt.visible=At&&!0,nt.visible&&(pe.push(nt),nt.findChildByName("label").text=At.text,nt.callback=()=>{switch(At.action){case"home":this.gotoHome();break;case"history":this.openHistory();break;case"deposit":Ur(),sr();break;default:sr()}})});var Re=$[1].x-$[0].x,Me=-Math.round(Re*(pe.length-1)/2);for(var Ye of pe)Ye.x=Me,Me+=Re;h.Z.showModal(Z)}static actionExec(o){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:()=>{};if(o)switch(oi.Z.track(ai.Z.ACTION_EXEC,o.mode),o.mode){case"continue":Z();break;case"open":h.Z.openUrl(o.link),Z();break;case"redirect":h.Z.openUrl(o.link,"_top"),Z();break;case"request":gi.requestURL(o.link),Z();break;case"request_with_response":gi.requestURL(o.link).finally(()=>Z());break;case"back":window.history.go(-1),Z();break;default:o.link&&h.Z.openUrl(o.link),Z()}}checkForMessagesToShow(o){o&&o.messages&&o.messages.forEach(Z=>{var $=k.Z.loadPrefab("thing-games-utils/api-message");$.findChildByName("title").text=Z.title,$.findChildByName("message").text=Z.text;var pe,ve=$.findChildByName("close-btn"),Re=$.findChildrenByName("btn"),Me=[],Ye=()=>{Z.intrusive||h.Z.hideModal(pe)};ve.visible=!Z.intrusive,ve.callback=Ye,Re.forEach((dt,_t)=>{var zt=Z.actions?Z.actions[_t]:null;dt.visible=!!zt,dt.visible&&(Me.push(dt),dt.findChildByName("label").text=zt.text,dt.callback=()=>{Oi.actionExec(zt,Ye)})});var nt=Re[1].x-Re[0].x,Xe=-Math.round(nt*(Me.length-1)/2);for(var At of Me)At.x=Xe,Xe+=nt;pe=h.Z.showModal($)})}showError(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"some_error",Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,$="errors."+o;K.Z.has($)||($="errors.default");var pe=o==301,ve=h.Z.casinoOptions.actions.deposit;pe&&!ve&&($+="nodep");var Re="",Me=Z||(0,K.Z)($,{code:o||0});oi.Z.track(ai.Z.ERROR,o,{messageText:Me}),pe&&ve?h.Z.showQuestion(Re,Me,"buttons.deposit",()=>{Ur(),or()},"buttons.ok",or):h.Z.showQuestion(Re,Me,"buttons.ok",()=>{or()},void 0,()=>{or()})}static sendSentryError(o){var Z=new Error(o);setTimeout(()=>{throw Z},0)}gotoHome(){oi.Z.track(ai.Z.GO_HOME),Oi.actionExec(h.Z.casinoOptions.actions.return)}}function Ur(){oi.Z.track("go_deposit",null,{target:h.Z.casinoOptions.actions.deposit.link}),Oi.actionExec(h.Z.casinoOptions.actions.deposit)}function sr(g){h.Z.closeAllScenes(g)}function or(){sr()}var Yr=`
.casino-modal h1 {
	text-align: center;
	font-size: 120%;
	margin:9px 0;
	margin-top: 30px;
	color: #ffffff;
}
.casino-modal h2 {
	text-align: center;
	font-size: 110%;
	margin:7px 0;
	margin-top: 20px;
	color: #ffffff;
}

.casino-modal {
	line-height: 1.6;
	font-family: Arial;
	-webkit-text-size-adjust: 100%;
	color: #b2b2b2;
	-webkit-mask-image:linear-gradient( to bottom, rgba(0,0,0,0), rgba(0,0,0,1) 40px, rgba(0,0,0,1) calc(100% - 40px), rgba(0,0,0,0) );
	mask-image:linear-gradient( to bottom, rgba(0,0,0,0), rgba(0,0,0,1) 40px, rgba(0,0,0,1) calc(100% - 40px), rgba(0,0,0,0) );
}

.casino-modal th, .casino-modal td {
	color: #b2b2b2;
	padding: 5px 5px;
	border: 2px solid #333333;
}

.casino-modal table {
	text-align: center;
	width: 100%;
	margin: 20px 0;
	border-collapse: collapse;
}
`;class e extends Oi{playGame(o,Z,$){var pe=h.Z.data.bet;return oi.Z.track(ai.Z.PRE_PLAY,null,{totalBet:pe,bet:pe,isAutoSpin:!!h.Z.currentScene.isAutoplayStarted,isFreeSpin:!1,isRespin:!1,purchasedFeature:{}}),this.request({command:"play",extra_data:{client_seed:pn.getCurrentClientSeed()},options:{bet:o,risk_level:Z,rows:$}}).then(ve=>{ve&&oi.Z.track(ai.Z.PLAY,null,{win:ve.result,totalBet:pe,bet:pe,isFreeSpin:!1,isRespin:!1,isAutoSpin:!!h.Z.currentScene.isAutoplayStarted,purchasedFeature:{}})})}}const s=new e;var l,f,S=[1,2,3,5,10,15,20,30,50,75,100,150,200,300,500,750,1e3,2e3,3e3,5e3,1e4,15e3,2e4,3e4,5e4,75e3,1e5,15e4,2e5,3e5,5e5,75e4,1e6],he=.06,se=60,Te="(0-16)";function Pe(g){return g>9?g:"0"+g}class we extends Mn.Z{constructor(){super();Ui(this,"MIN_SPIN_TIME",0);Ui(this,"MIN_SPIN_TIME_AUTOPLAY_DELAY",0);Ui(this,"spinStartTime",0);Ui(this,"rollInProgress",!1);this.onPlayResultReceived=this.onPlayResultReceived.bind(this)}init(){var Z,$;super.init(),h.Z.data={},this.gameTable=this.all.gameTable,f={},h.Z.data.autoplayCount=h.Z.settings.getItem("autoplayCount",10),s.initGame().then(ve=>{if(ve){this.loadAutoplaySettings(),h.Z.data.initData=ve;var Re=ve.paytable[8].high[4]*ve.options.min_bet;s.initCurrency(ve,Re);var Me=h.Z.data.initData.options.max_bet,Ye=h.Z.data.initData.options.min_bet;for(var nt of(l=[],S)){var Xe=nt*Ye;if(Xe>Me&&(Xe=Me),l.push(Xe),Xe===Me)break}this.loadDefauiltBet(),h.Z.data.balance=ve.balance,h.Z.data.currency=(0,w.Z)("game.data.initData.options.currency.symbol",this)||"BTC";var At=h.Z.settings.getItem("restoringData");for(var dt in this.restoringDataArray=[],At){var _t=At[dt];this.restoringDataArray.push(_t),h.Z.data.balance-=_t.result,h.Z.data.balance+=_t.bets.bet}this.restoreDelay=20,h.Z.casinoOptions.ui.max_autospin_value&&(this.all.autoplayNumberInput.max=h.Z.casinoOptions.ui.max_autospin_value),this.gameTable.initializePaytable(),this.all["provability-panel"].applyResult(ve),h.Z.data.provability.seedLimits=Te}});var pe=h.Z.data.balance;Object.defineProperty(h.Z.data,"balance",{get:()=>pe,set(ve){pe!==ve&&oi.Z.track(ai.Z.BALANCE_UPDATE,null,{amount:ve}),pe=ve},configurable:!0}),this.spinStartTime=0,this.MIN_SPIN_TIME=((Z=h.Z.casinoOptions)===null||Z===void 0||($=Z.license_rules)===null||$===void 0?void 0:$.min_spin_time)||0,this.MIN_SPIN_TIME_AUTOPLAY_DELAY=Math.round(this.MIN_SPIN_TIME*he),this.rollInProgress=!1}enablePlayButton(){if(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0]){var Z=this.getFramesToToNextSpin();Z>1?Hi.delay(()=>this.all.playButton.enable(),Z):this.all.playButton.enable()}else this.all.playButton.disable()}enableGameUI(){var Z=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];for(var $ of(this.all.gameUI.interactiveChildren=Z,this.all.gameUI.findChildrenByType(pi.Z)))$.parent.alpha>.99&&($.alpha=Z?1:.35)}loadAutoplaySettings(){h.Z.data.autoplayCount=h.Z.settings.getItem("autoplayCount",this.all.autoplayNumberInput._values[0])}saveAutoplaySettings(){h.Z.settings.setItem("autoplayCount",h.Z.data.autoplayCount)}get isRightPanelVisible(){return!h.Z.isPortrait||!this.isLeftPanelTurnedOn}get isLeftPanelVisible(){return!h.Z.isPortrait||this.isLeftPanelTurnedOn}toggleTableView(){this.isLeftPanelTurnedOn=!this.isLeftPanelTurnedOn}showRules(){s.showRules()}getPreloadingProgress(){return 1/(s.requestsInProgressCount+1)}getBet(){return h.Z.data.bet}chargeBetFromBalance(){h.Z.data.balance-=this.getBet(),h.Z.data.balance<0&&(h.Z.data.balance=0),this.all["balance-label"].refreshNow()}get isAutoplayStarted(){return h.Z.data.autoplayCurrentCount}stopAutoplay(){h.Z.data.autoplayCurrentCount=0,this.all.playButton.interactive&&this.rollInProgress&&(this.enablePlayButton(!1),this.enablePlayButton())}playButtonClick(){this.isAutoplayStarted?this.stopAutoplay():this.gameTable.ballWaitingPath||this.rollInProgress||(h.Z.data.autoPanelActiveted&&(h.Z.data.autoplayCurrentCount=h.Z.data.autoplayCount-1,h.Z.settings.setItem("autoplayCount",h.Z.data.autoplayCount)),this.saveBetAsDefault(),this.startRoll(),this.all["win-panel"].gotoLabelRecursive("hide"))}isRestoringDataAwaiting(){return this.restoringDataArray&&this.restoringDataArray.length>0}update(){super.update(),this.isRestoringDataAwaiting()?this.restoreDelay>0?this.restoreDelay--:(this.startRoll(this.restoringDataArray.shift()),this.restoreDelay=se):this.delayToNextAutoreplay>0?this.delayToNextAutoreplay--:h.Z.data.autoplayCurrentCount>0&&(h.Z.data.balance<this.getBet()?this.stopAutoplay():this.gameTable.ballWaitingPath||(h.Z.data.autoplayCurrentCount--,this.startRoll()))}startRoll(Z){this.rollInProgress||(this.rollInProgress=!0,this.spinStartTime=Date.now(),this.enableGameUI(!1),this.isAutoplayStarted?this.delayToNextAutoreplay=Math.max(se,this.MIN_SPIN_TIME_AUTOPLAY_DELAY):this.enablePlayButton(!1),this.chargeBetFromBalance(),this.gameTable.launchBall(),Z?this.onPlayResultReceived(Z):s.playGame(this.getBet(),this.gameTable.riskMode,this.gameTable.linesCount).then(this.onPlayResultReceived))}get currentTime(){var Z=new Date;return Pe(Z.getHours())+":"+Pe(Z.getMinutes())}onPlayResultReceived(Z){if(Z){this.isRestoringDataAwaiting()||this.enablePlayButton();var $=this.gameTable.setBallData(Z);f[$]=Z,h.Z.settings.setItem("restoringData",f);var pe=this.getFramesToToNextSpin();this.rollInProgress=pe>1,this.rollInProgress&&Hi.delay(()=>this.rollInProgress=!1,pe)}}getFramesToToNextSpin(){return this.MIN_SPIN_TIME>0?Math.round((this.MIN_SPIN_TIME-(Date.now()-this.spinStartTime))*he):0}onBallFinish(Z,$,pe){var ve=Z.result;delete f[pe],h.Z.settings.setItem("restoringData",f),$===0&&this.enableGameUI();var Re=new Date,Me=this.getBet();this.all.resultList.addEntry({bet:Me,win:ve-Me,payout:ve/Me,time:Pe(Re.getHours())+":"+Pe(Re.getMinutes())+":"+Pe(Re.getSeconds())}),h.Z.data.balance=$===0?h.Z.data.latestData.balance:Math.max(0,Z.balance-$*this.getBet()),h.Z.data.winToShow=ve,this.all["provability-panel"].applyResult(Z),this.all["win-panel"].gotoLabelRecursive("on-win"),ve/Me>1.00001?I.Z.play("big_win"):I.Z.play("win_sound")}refreshBalanceFast(){h.Z.data.balance=h.Z.data.latestReceivedBalance,this.all["balance-label"].refreshNow(),this.all["balance-label"].update()}setBet(Z){for(var $ of l)if($>=Z)return void(h.Z.data.bet=$);h.Z.data.bet=l[l.length-1]}saveBetAsDefault(){h.Z.settings.setItem("bet",h.Z.data.bet)}loadDefauiltBet(){this.setBet(h.Z.settings.getItem("bet",h.Z.data.initData.options.default_bet||h.Z.data.initData.options.min_bet))}increaseBet(){var Z=l.indexOf(this.getBet())+1;Z=Math.max(0,Z),Z=Math.min(l.length-1,Z),this.setBet(l[Z]),this.saveBetAsDefault()}decreaseBet(){var Z=l.indexOf(this.getBet())-1;Z=Math.max(0,Z),Z=Math.min(l.length-1,Z),this.setBet(l[Z]),this.saveBetAsDefault()}maximizeBet(){this.setBet(l[l.length-1]),this.saveBetAsDefault()}minimizeBet(){this.setBet(l[0]),this.saveBetAsDefault()}get isBetCanBeIncreased(){return!h.Z.data.autoplayStarted&&l&&this.getBet()<l[l.length-1]}get isBetCanBeDecreased(){return!h.Z.data.autoplayStarted&&l&&this.getBet()>l[0]}_onRenderResize(){this.switchPanelsInstantly(),this.isLeftPanelTurnedOn=!1}switchPanelsInstantly(){this.all["left-panel-switcher"].applyInstantly(),this.all["right-panel-switcher"].applyInstantly()}activateAutoPanel(){h.Z.data.autoPanelActiveted=!0,this.all.manualGameBtn.enable(),this.all.autoGameBtn.disable()}deactivateAutoPanel(){h.Z.data.autoPanelActiveted=!1,this.all.manualGameBtn.disable(),this.all.autoGameBtn.enable()}static get anySoundEnabled(){return h.Z.Sound.soundEnabled||h.Z.Sound.musicEnabled}}const Ue=we;var Qe=d(331);class it extends an.Z{init(){super.init(),this.applyWorldWrapping()}applyWorldWrapping(){this.style&&(this.style.wordWrapWidth=h.Z.isPortrait?this.maxWidthPortrait:this.maxWidthLandscape,this.style.wordWrap=!0,this._applyMaxHeight())}_onRenderResize(){this.applyWorldWrapping()}get maxHeightLandscape(){return this._maxHeightLandscape}set maxHeightLandscape(o){this._maxHeightLandscape=o,h.Z.isPortrait||o===0||this._applyMaxHeight()}get maxHeightPortrait(){return this._maxHeightPortrait}set maxHeightPortrait(o){this._maxHeightPortrait=o,h.Z.isPortrait&&o!==0&&this._applyMaxHeight()}get breakWords(){return this.style.breakWords}set breakWords(o){this.style.breakWords=o}_onTextureUpdate(){super._onTextureUpdate(),this._applyMaxHeight()}_applyMaxHeight(){this.style&&(this.maxWidth=this.style.wordWrapWidth);var o=h.Z.isPortrait?this._maxHeightPortrait:this._maxHeightLandscape;if(o>0&&this.scale.y*this._texture.height>o){var Z=o/this._texture.height;this.scale.x===Z&&this.scale.y===Z||(this.scale.x=Z,this.scale.y=Z,this.parent&&this.updateTransform())}}}class ze extends U.Z{init(){super.init(),this.applyOrientation()}applyOrientation(){this.__currentOrientationIsPortrait=h.Z.isPortrait,h.Z.isPortrait?(this.x=this.portraitX,this.y=this.portraitY,this["scale.x"]=this.portraitScaleX,this["scale.y"]=this.portraitScaleY,super.alpha=this.portraitAlpha,this.rotation=this.portraitR,this._callHandler(this.onPortrait)):(this.x=this.landscapeX,this.y=this.landscapeY,this["scale.x"]=this.landscapeScaleX,this["scale.y"]=this.landscapeScaleY,this.alpha=this.landscapeAlpha,this.rotation=this.landscapeR,this._callHandler(this.onLandscape))}_callHandler(o){this.visible=this.alpha>.015&&Math.abs(this.scale.x)>.0015&&Math.abs(this.scale.y)>.0015,o&&(0,z.Z)(o,this)}update(){this.visible&&super.update()}_onRenderResize(){this.__currentOrientationIsPortrait!==h.Z.isPortrait&&this.applyOrientation()}}class lt extends P.Z{init(){super.init(),this.rSpeed=Math.random()-.5,this.rotation=Math.random(),this.life=3+Math.random(),this.scl=.6*Math.random()+.2,this.scale.x=this.scl,this.scale.y=this.scl}update(){this.xSpeed+=.3*(Math.random()-.5),this.ySpeed+=.3*(Math.random()-.6),this.xSpeed*=.95,this.ySpeed*=.95,super.update(),this.life-=.1,this.life<.001?this.remove():this.life<=1&&(this.scale.x=this.scl*this.life,this.scale.y=this.scl*this.life)}}class et extends U.Z{}var Tt=d(6107),Pt=new Tt.Point(0,0),Lt=new Tt.Point(1,1),Ct=new Tt.Point,jt=new Tt.Point;class ct extends U.Z{init(){super.init(),this.recalculateSize()}_onRenderResize(){this.recalculateSize()}recalculateSize(){this.fixed&&this.parent?((this.relativeX||this.relativeY)&&(Ct.x=Math.round(this._xPos*h.Z.W),Ct.y=Math.round(this._yPos*h.Z.H),this.parent.toLocal(Ct,h.Z.stage,Ct,!1),this.relativeX&&(this.x=Ct.x),this.relativeY&&(this.y=Ct.y)),(this.resizeX||this.resizeY)&&(this.parent.toLocal(Pt,h.Z.stage,Ct,!1),this.parent.toLocal(Lt,h.Z.stage,jt,!1),this.resizeX&&(this.scale.x=h.Z.W/h.Z.projectDesc.width*(jt.x-Ct.x||1e-6)),this.resizeY&&(this.scale.y=h.Z.H/h.Z.projectDesc.height*(jt.y-Ct.y||1e-6)))):(this.resizeX&&(this.scale.x=h.Z.W/h.Z.projectDesc.width),this.resizeY&&(this.scale.y=h.Z.H/h.Z.projectDesc.height),this.relativeX&&(this.x=Math.round(h.Z.W*this._xPos)),this.relativeY&&(this.y=Math.round(h.Z.H*this._yPos)))}update(){this.fixed&&this.recalculateSize(),super.update()}set xPos(o){this._xPos=o,this.relativeX&&this.recalculateSize()}get xPos(){return this._xPos}set yPos(o){this._yPos=o,this.relativeY&&this.recalculateSize()}get yPos(){return this._yPos}}class Qt extends ct{onContinue(){this.gotoLabelRecursive("close")}onLeaveTheGame(){this.gotoLabelRecursive("close"),h.Z.SharedAPI.gotoHome()}hidePopup(){h.Z.hideModal(this)}get sessionTime(){return Math.round(In.model.sessionTime/60/1e3)}get sessionBets(){return In.model.userOverallBet}get sessionWin(){return In.model.userOverallWin}get sessionLose(){return In.model.userOverallLose}}var Xt=d(6107),Yt=16,ti=50;class yi extends Xt.Container{init(){super.init(),this.entries=[],this.entriesMap=new WeakMap;var o=h.Z.settings.getItem("history");if(o)for(var Z of(o.reverse(),o))this.addEntry(Z,!0)}addEntry(o){var Z=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(this.entries.unshift(o);this.entries.length>Yt;)this.entriesMap.get(this.entries.pop()).startRemoving();var $=k.Z.loadPrefab("result-list-item");$.setData(o),this.entriesMap.set(o,$),this.addChild($);var pe=0;for(var ve of this.entries)($=this.entriesMap.get(ve)).setY(pe,Z),pe+=ti;h.Z.settings.setItem("history",this.entries)}}class Kt extends U.Z{update(){super.update(),h.Z.isNeedScrollTopIosSafari&&!h.Z.isPortrait||h.Z.hideModal(this)}}var si=d(6107),Wt=new si.Point,Zt=new si.Point;class bi extends U.Z{_disposeMaskScissor(){this.mask&&(this.removeChild(this.mask),this.mask=null,this.appliedCanvasMaskX=null)}set enabled(o){this._enabled=o,this.hitArea=o?new si.Rectangle:null}get enabled(){return this._enabled}_applyScissorHitArea(){if(this.hitArea){var o=this.rect;Wt.x=o.x,Wt.y=o.y,Zt.x=o.w+o.x,Zt.y=o.h+o.y,this.toGlobal(Wt,Wt),this.toGlobal(Zt,Zt),this.hitArea.x=o.x,this.hitArea.y=o.y,this.hitArea.width=o.w,this.hitArea.height=o.h}}_renderCanvas(o){super._renderCanvas(o),this._enabled?(this.mask||(this.mask=new si.Graphics,this.addChild(this.mask)),this.appliedCanvasMaskX===this.rect.x&&this.appliedCanvasMaskY===this.rect.y&&this.appliedCanvasMaskW===this.rect.w&&this.appliedCanvasMaskH===this.rect.h||(this.mask.clear(),this.mask.beginFill(0,1),this.mask.drawRect(this.rect.x,this.rect.y,this.rect.w,this.rect.h),this.mask.endFill(),this.appliedCanvasMaskX=this.rect.x,this.appliedCanvasMaskY=this.rect.y,this.appliedCanvasMaskW=this.rect.w,this.appliedCanvasMaskH=this.rect.h),this._applyScissorHitArea()):this._disposeMaskScissor()}render(o){var Z,$,pe;if(this._enabled){Z=o.gl,o.batch.flush(),($=Z.isEnabled(Z.SCISSOR_TEST))&&(pe=Z.getParameter(Z.SCISSOR_BOX)),Z.enable(Z.SCISSOR_TEST);var ve=o.resolution;this._applyScissorHitArea(),h.Z._isCanvasRotated?Z.scissor(Zt.x*ve,(h.Z.W-Zt.y)*ve,(Wt.x-Zt.x)*ve,(Zt.y-Wt.y)*ve):Z.scissor(Wt.x*ve,(h.Z.H-Zt.y)*ve,(Zt.x-Wt.x)*ve,(Zt.y-Wt.y)*ve)}super.render(o),o.batch.flush(),this._enabled&&($?Z.scissor.apply(Z,pe):Z.disable(Z.SCISSOR_TEST))}enable(){this.enabled=!0}disable(){this.enabled=!1}onRemove(){super.onRemove(),this._disposeMaskScissor()}}var ci=d(6107),ii=new ci.Point;class Ci extends U.Z{init(){super.init(),this.curInterval=Math.round(Math.random()*this.intervalRandom)}enable(){this.enabled=!0}disable(){this.enabled=!1}setSpeed(o){this.speed=o}update(){this.enabled&&this.worldVisible&&(this.delay>0?this.delay--:this.curInterval>0?this.curInterval--:(this.spawn(),this.curInterval=this.getNextInterval())),super.update()}getNextInterval(){return this.intervalRandom>0?this.interval+Math.round(Math.random()*this.intervalRandom):this.interval}setTargetContainer(o){this._container=o?o instanceof U.Z?o:(0,w.Z)(o,this):h.Z.currentContainer}spawn(){this._container||this.setTargetContainer(this.container);var o=k.Z.loadPrefab(this.prefabToSpawn);if(this.applyRotation&&(o.rotation=this.getGlobalRotation()),this._container.addChild(o),o.parent.toLocal(ii,this,o),this.speed!==0||this.speedRandom!==0){var Z=this.speed+Math.random()*this.speedRandom;$i.x=Z,o.parent.toLocal($i,this,lr,!0),o.xSpeed=lr.x-o.x,o.ySpeed=lr.y-o.y}}}var $i=new ci.Point,lr=new ci.Point,hr=d(6107),Wn=new hr.Point,Gr=2*Math.PI;class Xr extends U.Z{init(){super.init(),this.curInterval=this.interval}spawn(){this._container||(this.container?this._container=(0,w.Z)(this.container,this):this._container=h.Z.currentContainer),this._container.toLocal(Wn,this,Zn);for(var o=Gr/(this.count+this.countRandom*Math.random()),Z=0;Z<Gr;Z+=o){var $=Math.sin(Z),pe=Math.cos(Z),ve=k.Z.loadPrefab(this.prefabToSpawn);this._container.addChild(ve),ve.x=Zn.x+this.radius*pe,ve.y=Zn.y+this.radius*$;var Re=this.speed+Math.random()*this.speedRandom;ve.xSpeed=Re*pe,ve.ySpeed=Re*$}}}var Zn=new hr.Point,Zi=d(8822),Sr=d(6107);class Fi extends Sr.Text{init(){super.init(),this.cursorObject=this.findChildByName("cursor")}onRemove(){super.onRemove(),this.blurInput()}blurInput(){this.isFocused&&this.htmlInput.blur()}get isFocused(){return this.htmlInput&&this.htmlInput===window.document.activeElement}_onDisableByTrigger(){this.blurInput()}filterText(o){if(this.inputType==="number"){var Z=(o=o.replace(",",".").replace(/[^0-9\.]/gm,"")).split(".");Z.length>2&&(Z.length=2,o=Z.join("."))}return o}update(){if(this.htmlInput){if(this.text!=this.htmlInput.value){var o=this.filterText(this.htmlInput.value);this.htmlInput.value=o,this.text=o,this.inputType!=="number"&&(this.htmlInput.selectionEnd=this.htmlInput.selectionStart=this.htmlInput.value.length),this.onChange&&(0,z.Z)(this.onChange,this)}(!this.worldVisible||this.worldAlpha<.01)&&this.blurInput()}this.cursorObject&&(this.cursorObject.x=this.style.align==="center"?this.texture.width/2:this.texture.width,this.cursorObject.visible=this.isFocused),super.update()}set text(o){this.maxInputLen&&(o=o.substr(0,this.maxInputLen)),super.text=o,this.htmlInput&&(this.htmlInput.value=this.filterText(o))}get text(){return super.text}get isEmpty(){return!this.text.trim()}focus(){h.Z.addOnClickOnce(o=>{this.htmlInput||(this.htmlInput=document.createElement("input"),this.htmlInput.style.opacity=0,this.inputType==="number"&&(this.htmlInput.pattern="d*"),this.htmlInput.style.position="absolute",this.htmlInput.style.pointerEvents="none",this.htmlInput.addEventListener("keydown",Z=>{Z.keyCode===13&&this.blurInput()}),document.body.appendChild(this.htmlInput)),this.htmlInput.value=this.filterText(this.text),this.htmlInput.focus(),o.stopPropagation(),o.preventDefault()})}static prompt(o,Z){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:16,ve=arguments.length>4?arguments[4]:void 0,Re=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,Me=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,Ye=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,nt=!(arguments.length>8&&arguments[8]!==void 0)||arguments[8],Xe=arguments.length>9&&arguments[9]!==void 0?arguments[9]:"ui/prompt";if(Fi.latestPromptText=void 0,k.Z.hasPrefab(Xe)){var At,dt=h.Z.showQuestion(o,Z,ve,()=>{Fi.latestPromptText=At.text.trim(),Re&&Re(Fi.latestPromptText)},Me,()=>{Ye&&Ye()},nt,Xe);return(At=dt.findChildrenByType(Fi)[0]).text=$,At.maxInputLen=pe,At.focus(),dt}var _t=window.prompt(o,$)||"";(_t=_t.trim()).length>pe&&(_t=_t.substr(0,pe)),_t?Re(_t):Ye&&Ye()}}var St={};St.BG=p,St.Ball=C,St.BaseRootScene=Dn,St.BgMusic=zn.Z,St.Button=pi.Z,St.ClickOutsideTrigger=on,St.Container=U.Z,St.DSprite=P.Z,St.Fill=Li,St.FlyText=vi,St.FullscreenPopup=Tn,St.GameTable=Fn,St.HTMLOverlay=$n,St.Label=An.Z,St.ListItem=mr,St.MainMenu=Ue,St.MoneyLabel=Qe.Z,St.MovieClip=Y,St.MultilineText=it,St.NineSlicePlane=yn,St.NumberInput=_,St.OrientationTrigger=ze,St.ParticleSimple=lt,St.PrefabReference=et,St.ProgressBar=gr,St.ProvabilityPanel=pn,St.RealityCheckPopup=Qt,St.Resizer=ct,St.ResultList=yi,St.SafariArrowUp=Kt,St.Scene=Mn.Z,St.Scissors=bi,St.ScrollLayer=Si.Z,St.Shape=Qn,St.Spawner=Ci,St.SpawnerRing=Xr,St.Sprite=Zi.Z,St.Text=an.Z,St.TextInput=Fi,St.Trigger=Gn,k.Z._setClasses(St,{BG:{timeline:null,delay:0,isPlaying:!0,rSpeed:0,ySpeed:0,xSpeed:0,blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Ball:{table:null,rSpeed:0,ySpeed:0,xSpeed:0,blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},BaseRootScene:{faderType:null,backgroundColor:16777215,isNoStackable:!1,isStatic:!1,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0},BgMusic:{dynamicPreloading:!1,onIntroFinish:null,volumeUnderModals:.25,fadeOut:.2,fadeIn:.2,globalVolumePath:null,volume:1,resetPositionOnPlay:!0,isPlaying:!0,loop:null,visible:!1,intro:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,alpha:1,rotation:0,y:0,x:0,name:null},Button:{interactive:!0,repeatInterval:0,repeatDelay:0,scrollable:!1,sndOver:null,sndClick:null,hotkey:0,afterClick:null,onClick:null,disabledAlpha:.76,disabledImage:"",pressImage:"",hoverImage:"",rSpeed:0,ySpeed:0,xSpeed:0,blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},ClickOutsideTrigger:{additionalContainers:null,onClickOutside:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Container:{"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},DSprite:{rSpeed:0,ySpeed:0,xSpeed:0,blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Fill:{transparentRight:!1,transparentLeft:!1,transparentBottom:!1,transparentTop:!1,yWaveSpeed:0,yWavePhase:0,yWaveStep:1,yWaveAmp:0,xWaveSpeed:0,xWavePhase:0,xWaveStep:1,xWaveAmp:0,yShiftSpeed:0,xShiftSpeed:0,yShift:0,xShift:0,yRepeat:1,xRepeat:1,verticesY:2,verticesX:2,blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},FlyText:{maxWidth:0,textTransform:0,"style.letterSpacing":0,"style.padding":0,"style.leading":0,"style.fontWeight":"normal","style.fontFamily":null,"style.drShDistance":5,"style.drShBlur":0,"style.drShAngle":.524,"style.drShAlpha":1,"style.drShColor":"#000000","style.dropShadow":!1,"style.stroke":"#000000","style.strokeThickness":0,"style.fillGradientStops":null,"style.fill":"#ffffff",verticalAlign:"top","style.align":"center","style.fontSize":12,translatableText:null,text:"",image:null,blendMode:0,tint:16777215,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},FullscreenPopup:{maxWidthDesktop:700,scrollBarBottomMargin:10,containerMargin:10,maxWidthMobile:0,marginTopBottom:10,marginLeftRight:10,scrollBarPath:null,bgNineSlicePlanePath:null,scrollLayerPath:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},GameTable:{highG:0,highR:455,mediumG:122,mediumR:455,lowG:255,lowR:255,centerG:455,centerR:0,ballWaitingPath:null,pinsContainer:null,tooltip:null,hole:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},HTMLOverlay:{bouncingBounds:!1,fadeSpeed:.1,className:null,zIndex:1e4,handleScroll:!0,innerHTML:null,_mouseHandlerContainer:null,mobileInertia:.92,desktopInertia:.8,mouseHandler:null,fullArea:null,visibleArea:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Label:{onCounterFinish:null,onCounter:null,onChanged:null,decimalsCount:0,counterSpeed:1,plusMinus:!1,isNumeric:!1,template:null,refreshInterval:10,dataPath:null,maxWidth:0,textTransform:0,"style.letterSpacing":0,"style.padding":0,"style.leading":0,"style.fontWeight":"normal","style.fontFamily":null,"style.drShDistance":5,"style.drShBlur":0,"style.drShAngle":.524,"style.drShAlpha":1,"style.drShColor":"#000000","style.dropShadow":!1,"style.stroke":"#000000","style.strokeThickness":0,"style.fillGradientStops":null,"style.fill":"#ffffff",verticalAlign:"top","style.align":"center","style.fontSize":12,translatableText:null,text:"",image:null,blendMode:0,tint:16777215,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},ListItem:{timeline:null,delay:0,isPlaying:!0,rSpeed:0,ySpeed:0,xSpeed:0,blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},MainMenu:{gameTable:null,faderType:null,backgroundColor:16777215,isNoStackable:!1,isStatic:!1,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0},MoneyLabel:{countOnStart:!1,isNumeric:!0,maxWidthLandscape:0,maxWidthPortrait:0,decimalsCountPath:null,dataPath2:null,onCounterFinish:null,onCounter:null,onChanged:null,decimalsCount:0,counterSpeed:1,plusMinus:!1,template:null,refreshInterval:10,dataPath:null,maxWidth:0,textTransform:0,"style.letterSpacing":0,"style.padding":0,"style.leading":0,"style.fontWeight":"normal","style.fontFamily":null,"style.drShDistance":5,"style.drShBlur":0,"style.drShAngle":.524,"style.drShAlpha":1,"style.drShColor":"#000000","style.dropShadow":!1,"style.stroke":"#000000","style.strokeThickness":0,"style.fillGradientStops":null,"style.fill":"#ffffff",verticalAlign:"top","style.align":"center","style.fontSize":12,translatableText:null,text:"",image:null,blendMode:0,tint:16777215,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},MovieClip:{timeline:null,delay:0,isPlaying:!0,rSpeed:0,ySpeed:0,xSpeed:0,blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},MultilineText:{breakWords:!1,maxHeightPortrait:0,maxHeightLandscape:0,maxWidthPortrait:400,maxWidthLandscape:400,maxWidth:0,textTransform:0,"style.letterSpacing":0,"style.padding":0,"style.leading":0,"style.fontWeight":"normal","style.fontFamily":null,"style.drShDistance":5,"style.drShBlur":0,"style.drShAngle":.524,"style.drShAlpha":1,"style.drShColor":"#000000","style.dropShadow":!1,"style.stroke":"#000000","style.strokeThickness":0,"style.fillGradientStops":null,"style.fill":"#ffffff",verticalAlign:"top","style.align":"center","style.fontSize":12,translatableText:null,text:"",image:null,blendMode:0,tint:16777215,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},NineSlicePlane:{bottomHeight:5,topHeight:5,rightWidth:5,leftWidth:5,height:200,width:200,blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},NumberInput:{wrapValue:!1,_currentTextField:null,interactive:!0,valuesList:null,onChanged:null,refreshInterval:10,dataPath:null,textView:null,decimalsCount:0,step:1,min:0,max:100,value:0,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},OrientationTrigger:{portraitR:0,portraitScaleX:1,portraitScaleY:1,portraitAlpha:1,portraitY:0,portraitX:0,landscapeR:0,landscapeScaleY:1,landscapeScaleX:1,landscapeAlpha:1,landscapeY:0,landscapeX:0,onLandscape:null,onPortrait:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},ParticleSimple:{rSpeed:0,ySpeed:0,xSpeed:0,blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},PrefabReference:{inheritProps:!0,dynamicPrefabName:null,prefabName:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},ProgressBar:{cap:null,bar:null,step:1,max:100,min:0,afterSlide:null,onChanged:null,refreshInterval:10,capMargin:5,height:200,dataPath:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},ProvabilityPanel:{onDisable:null,onEnable:null,isApplyInteractivity:!0,yShift:0,xShift:0,scaleShift:0,alphaShift:-1,damp:.85,pow:.02,invert:!1,dataPath:null,state:!1,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},RealityCheckPopup:{fixed:!1,yPos:0,relativeY:!1,xPos:0,relativeX:!1,resizeY:!1,resizeX:!1,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Resizer:{fixed:!1,yPos:0,relativeY:!1,xPos:0,relativeX:!1,resizeY:!1,resizeX:!1,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},ResultList:{"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},SafariArrowUp:{"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Scissors:{enabled:!0,rect:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Shape:{_shapePoints:null,_spriteRect:null,shapeLineAlignment:1,shapeLineAlpha:1,shapeLineColor:16777215,shapeLineWidth:0,isItHitArea:!1,shapeFillColor:0,shapeFillAlpha:1,shapeRadius:10,height:100,width:100,shape:0,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Spawner:{_container:null,container:null,applyRotation:!1,speedRandom:10,speed:10,intervalRandom:0,interval:0,delay:0,enabled:!0,prefabToSpawn:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},SpawnerRing:{_container:null,container:null,radius:10,countRandom:10,count:10,speedRandom:10,speed:10,prefabToSpawn:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Sprite:{blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Text:{maxWidth:0,textTransform:0,"style.letterSpacing":0,"style.padding":0,"style.leading":0,"style.fontWeight":"normal","style.fontFamily":null,"style.drShDistance":5,"style.drShBlur":0,"style.drShAngle":.524,"style.drShAlpha":1,"style.drShColor":"#000000","style.dropShadow":!1,"style.stroke":"#000000","style.strokeThickness":0,"style.fillGradientStops":null,"style.fill":"#ffffff",verticalAlign:"top","style.align":"center","style.fontSize":12,translatableText:null,text:"",image:null,blendMode:0,tint:16777215,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},TextInput:{cursorObject:null,onChange:null,inputType:"text",maxInputLen:0,maxWidth:0,textTransform:0,"style.letterSpacing":0,"style.padding":0,"style.leading":0,"style.fontWeight":"normal","style.fontFamily":null,"style.drShDistance":5,"style.drShBlur":0,"style.drShAngle":.524,"style.drShAlpha":1,"style.drShColor":"#000000","style.dropShadow":!1,"style.stroke":"#000000","style.strokeThickness":0,"style.fillGradientStops":null,"style.fill":"#ffffff",verticalAlign:"top","style.align":"center","style.fontSize":12,translatableText:null,text:"",image:null,blendMode:0,tint:16777215,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Trigger:{onDisable:null,onEnable:null,isApplyInteractivity:!0,yShift:0,xShift:0,scaleShift:0,alphaShift:-1,damp:.85,pow:.02,invert:!1,dataPath:null,state:!1,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null}})},5067:(Ae,le,d)=>{var k,h=d(5446),P=d(9042),j=new Promise(D=>{k=D});const z=(D,G,C,T,J,q)=>{function K(W){return new Promise(Q=>{var ee=new Image;ee.src=W.indexOf("//")>0?W:D+W,ee.onload=Q})}var A;J&&(T=T.concat(q?["preloader-assets/split.png","preloader-assets/spin.gif","preloader-assets/spin2.gif","preloader-assets/spin3.gif","preloader-assets/b.png","preloader-assets/i.png","preloader-assets/g.png","preloader-assets/a.png","preloader-assets/m.png","preloader-assets/i.png","preloader-assets/n.png"]:["preloader-assets/logo.png"])),window.__OPTIONS__.ui.brand_logo?(T.push(window.__OPTIONS__.ui.brand_logo),A=300):A=150;var b=400+A;function R(){var W=document.querySelector(".preloader");if(W){var Q=Math.min(window.innerWidth/700,window.innerHeight/b,1);W.style.transform="scale("+Q+")",W.style.left=Math.round(window.innerWidth/2-350)+"px",W.style.top=Math.round(window.innerHeight/2-b/2)+"px"}else window.removeEventListener("resize",R)}function O(){var W=document.getElementsByClassName("preloader")[0];W&&(W.innerHTML=(`
			<style>
			body, html {
				overflow:hidden;
			}
			div, body, html {
				padding:0;
				margin:0;
			}
			.preloader {
				position: relative;
				height: ${b}px;
				width: 700px;
				left: unset;
				top: unset;
				padding-top: 0;
				z-index:1;
				text-align:center;
				transform-origin: center center;
			}
		
			.preloader-mid {
				height: 400px;
				position: relative;
			}
			.preloader-bottom {
				height: ${A}px;
				position: relative;
			}

			.preloader-bar-frame {`+(q?"display:none":`position: relative;
				border-radius: 3px;
				height: 13px;
				margin: 40px auto;
				overflow: hidden;
				box-shadow: inset 0 3px 10px rgba(0, 0, 0, 0.65), inset 0 0 0 1px rgba(0, 0, 0, 0.1);
				border: 1px solid rgba(0, 0, 0, 0.06);
				background-color: #4b4b4b;
				width: 400px;`)+`}

			.preloader-bar {
				border-radius: 3px;
				position: absolute;
				top: 0;
				left: 0;
				height: 100%;
				box-shadow: inset 0 2px 0 rgba(255, 255, 255, 0.39), inset 0 0 0 2px rgba(235, 235, 235, 0.3);
				background-color: rgba(0, 0, 0, 0.33);
				background-color: #ffa800;
				background-image: linear-gradient(to top, rgba(0, 0, 0, 0.33) 0%, rgba(0, 0, 0, 0) 100%);
			}
			.preloader-cap {
				width: 0;
			}

			.progress-item {
				display: inline-block;
				height: 50px;
				width: 29px;
			}

			.spin-logo-container {
				white-space:nowrap;
				height: 50px;
				margin-top: 40px;
			}

			#loader-casino-logo {
				margin: 80px auto 0 auto;
				height: 65px;
				width: auto;
				max-width: 200px;
				background-position: center center;
				background-size: contain;
				background-repeat: no-repeat;
			}
`+(q?`
			.spin-logo-container img {
				height: 50px;
			}

			.progress-item .spin {
				display: inline-block;
			}
			.progress-item .stop {
				display: none;
			}
			.progress-item-on .spin {
				display: none;
			}
			.progress-item-on .stop {
				display: inline-block;
				animation: animationFrames ease 0.2s;
				animation-iteration-count: 1;
				transform-origin: 50% 50%;
			}
			  
			@keyframes animationFrames{
				0% {
				  transform:  translate(0px,0px)  ;
				}
				30% {
				  transform:  translate(0px,8px)  ;
				}
				100% {
				  transform:  translate(0px,0px)  ;
				}
			}`:`
			.spin-logo-container {
				height: 50px;
				background-image: url("_resourcesPath_preloader-assets/logo.png");
				background-size: contain;
				background-repeat: no-repeat;
				background-position: center;
				}
			`)+C+`</style>
	<div class="preloader-mid">
`+G+`</div>
	<div class="preloader-bottom">`+(J?`<div class="spin-logo-container ${q?"progress-group":""}"> `+(q?`<div style="width:36px" class="progress-item"><img class='stop' src="_resourcesPath_preloader-assets/b.png"><img class='spin' src="_resourcesPath_preloader-assets/spin.gif"></div>
					<div class="progress-item"><img class='stop' src="_resourcesPath_preloader-assets/g.png"><img class='spin' src="_resourcesPath_preloader-assets/spin2.gif"></div>
					<img src="_resourcesPath_preloader-assets/split.png">
					<div class="progress-item"><img class='stop' src="_resourcesPath_preloader-assets/a.png"><img class='spin' src="_resourcesPath_preloader-assets/spin3.gif"></div>
					<img src="_resourcesPath_preloader-assets/split.png">
					<div class="progress-item"><img class='stop' src="_resourcesPath_preloader-assets/m.png"><img class='spin' src="_resourcesPath_preloader-assets/spin.gif"></div>
					<img src="_resourcesPath_preloader-assets/split.png">
					<div class="progress-item"><img class='stop' src="_resourcesPath_preloader-assets/i.png"><img class='spin' src="_resourcesPath_preloader-assets/spin2.gif"></div>
					<img src="_resourcesPath_preloader-assets/split.png">
					<div class="progress-item"><img class='stop' src="_resourcesPath_preloader-assets/n.png"><img class='spin' src="_resourcesPath_preloader-assets/spin3.gif"></div>
					<img src="_resourcesPath_preloader-assets/split.png">
					<div class="progress-item"><img class='stop' src="_resourcesPath_preloader-assets/g.png"><img class='spin' src="_resourcesPath_preloader-assets/spin.gif"></div>`:"")+"</div>":"")+`<div class="preloader-bar-frame">
			<div class="preloader-bar"><div class="preloader-cap"></div></div>
		</div>`+(window.__OPTIONS__.ui.brand_logo?'<div id="loader-casino-logo" style="background-image:url('+window.__OPTIONS__.ui.brand_logo+')"></div>':"")+"</div>").replace(/_resourcesPath_/g,D)),k(),R(),window.addEventListener("resize",R)}Promise.all(T.map(K)).then(O)},N=D=>{z(D,U,Y,w,h.Z.casinoOptions.ui.logo_visible)};var w=["preloader-assets/loader-img.png"],U=`
<div class="game-image"></div>
`,Y=`
.game-image {
		height: 400px;
		max-width: 700px;
		background-image: url("_resourcesPath_preloader-assets/loader-img.png");
		background-size: contain;
		background-repeat: no-repeat;
		background-position: center;
	}
`,E=(d(4247),d(6635)),v=d(1575),n=d(1587),a=window.location.origin.indexOf("bgaming-system")!==-1;window.addEventListener("keydown",D=>{a&&D.keyCode===80&&D.ctrlKey&&(D.preventDefault(),L.toggleGame(!0))});var u,p,I={PAUSE:"pause_gameplay",PAUSE_SAFE:"pause_safe_gameplay",RESUME:"resume_gameplay"};window.addEventListener("message",D=>{if(D.data){var G=D.data;if(typeof G=="string")try{G=JSON.parse(G)}catch{return}switch((G.name||G.Name||"").toLowerCase()){case I.PAUSE:L.pauseGame(!0);break;case I.PAUSE_SAFE:L.pauseGameSafe(!0,()=>{D.source.postMessage(G.callback||"game_paused",D.origin)});break;case I.RESUME:L.resumeGame()}}},!1),E.Z.addListener(D=>{switch(D){case n.Z.GAME_LOADED:case n.Z.FINISH_ROUND_ANIMATIONS:L._onGameRoundAnimationsFinish()}});var L={game:h.Z,toggleGame(D){u?L.resumeGame():L.pauseGame(D)},pauseGame(D){u||((u=h.Z.showModal("thing-games-utils/pause-popup")).alpha=D?0:1,u.findChildByName("close-btn").callback=()=>{h.Z.hideModal(u),u=null})},pauseGameSafe(D){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:()=>{},C=p||(()=>L.pauseGame(D));p=()=>{C(),G()},(u||h.Z.currentScene&&!h.Z.currentScene.flowLocked)&&(p(),p=null)},resumeGame(){u&&(h.Z.hideModal(u),u=null),p=null},stopAutospins(){h.Z.currentScene&&h.Z.currentScene.autospinPanel?h.Z.currentScene.autospinPanel.stopAutospins():h.Z.currentScene.stopAutoplay&&h.Z.currentScene.stopAutoplay()},setAudioSfx(D){h.Z.Sound.soundEnabled=D},setAudioMusic(D){h.Z.Sound.musicEnabled=D},formatMoney:D=>v.Z.formatMoney(D/h.Z.data.currencyDivider,h.Z.data.currencyDigits),formatMoneyToNumber:D=>D/h.Z.data.currencyDivider,_onGameRoundAnimationsFinish(){p&&(p(),p=null)}};const F=L;var M=d(331),c=d(1868),x=d(2447);class X{static initGame(G,C,T){var J=arguments.length>3&&arguments[3]!==void 0?arguments[3]:j;function q(){var K=`
		body, html, canvas {
			position: absolute;
			top: 0; 
			bottom: 0;
			left: 0;
			right: 0;
			margin: 0;
			padding: 0;
			overflow: visible;
			width:100%;
		}

		html {
			overflow: hidden;
		}

		canvas {
			height:100%;
			position: fixed;
			-webkit-touch-callout: none; /* iOS Safari */
			-webkit-user-select: none; /* Safari */
			user-select: none; /* Non-prefixed version, currently supported by Chrome, Edge, Opera and Firefox */
		}

		.preloader{
			z-index: 20;
		}
		`;G.applyCSS(K)}window.addEventListener("load",()=>{c.Z.beforeGameInit();var K=G.casinoOptions;console.log(K),q();var A=K.resources_path+"/",b=x.projectDesc,R=b.imagesToRemove||[],O=b.mobileUIPath||"ui/mobile-slot/",W=b.desktopUIPath||"ui/desktop-slot/";R.push(G.isMobile.any?W:O);var Q=function(ne){R.some(be=>ne.startsWith(be))&&delete x.images[ne]};for(var ee in x.images)Q(ee);x.projectDesc.localeResourcesPath="https://translations.bgaming-network.com/Plinko",C.setCurrentLanguage(K.locale),M.Z.initMoneyFormatter(K.locale),E.Z.track(n.Z.START_LOADING,null,F),T(A),J.then(()=>{G.init(void 0,b.id+K.cache_player_id,A)}),console.log(A)})}}X.initGame(h.Z,P.Z,N)},4294:(Ae,le,d)=>{d.d(le,{Z:()=>v});var k,h=d(5446),P=d(7049),j=d(5045),z=d(6899),N=d(3237),w=d(1746),U=d(4890),Y=.0101,E=[];class v extends z.Z{constructor(){super(),this._externalVolume=0}init(){this._externalVolume=0,super.init(),E.push(this),v._recalculateMusic(),this.dynamicPreloading||(j.Z.preloadSound(this.intro),j.Z.preloadSound(this.loop)),this._musInitialized=!0,this.applyResetPosition(),v._recalculateMusic()}onRemove(){super.onRemove();var L=E.indexOf(this);L>=0&&E.splice(L,1),v._recalculateMusic(),U.Z.onMusicRemove(this),this.musicFragmentHash=void 0,this._externalVolume=0,this._musInitialized=!1,this.customFade=null,this.onIntroFinish=null}setVolume(L){this.volume=L}update(){super.update(),this._isPlaying&&this.globalVolumePath&&this._appliedPathVol!==(0,w.Z)(this.globalVolumePath,this)&&v._recalculateMusic()}applyResetPosition(){this.isPlaying&&this.resetPositionOnPlay&&this.resetPosition()}get isPlaying(){return this._isPlaying}set isPlaying(L){this._isPlaying!==L&&(this._isPlaying=L,this.applyResetPosition(),v._recalculateMusic())}get intro(){return this._intro}set intro(L){this._intro!==L&&(this._intro=L,this.musicFragmentHash=(this._intro||"")+"#"+(this._loop||""),v._recalculateMusic())}get loop(){return this._loop}set loop(L){this._loop!==L&&(this._loop=L,this.musicFragmentHash=(this._intro||"")+"#"+(this._loop||""),v._recalculateMusic())}get volume(){return this._volume}set volume(L){this._volume!==L&&(this._volume=L,v._recalculateMusic())}_getTargetVol(){return this._isPlaying&&this._musInitialized?(this.globalVolumePath?(this._appliedPathVol=(0,w.Z)(this.globalVolumePath,this),L=this._appliedPathVol):L=P.Z.musicVol,this._volume*this._externalVolume*L||0):0;var L}play(L){this.customFade=L,this.isPlaying=!0}stop(L){this.customFade=L,this.isPlaying=!1}_getFade(L){return typeof this.customFade=="number"?this.customFade:L?this.fadeOut:this.fadeIn}resetPosition(){U.Z.resetPosition(this.musicFragmentHash)}_onIntroFinish(){this.onIntroFinish&&(0,N.Z)(this.onIntroFinish,this)}static _recalculateMusic(){k||(setTimeout(u,1),k=!0)}static _clearCustomFades(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;for(var F of E)F.customFade=L;U.Z._applyFadeForAll(L)}set fade(L){this.fadeIn=L,this.fadeOut=L}}var n=1e6,a=1e5;function u(){if(k=!1,!h.Z._isWaitingToHideFader){var I=[],L=new Map,F=h.Z.currentFader;for(var M of(F&&(L.set(n,[]),I.push(n)),E)){var c=M.getRootContainer(),x=void 0;if(c===h.Z.currentContainer)x=a;else if(c===F)x=n;else{if(!c.parent){M._externalVolume=0;continue}x=c.parent.getChildIndex(c)}L.has(x)||(I.push(x),L.set(x,[])),L.get(x).push(M)}I.sort(p);var X=P.Z.isSoundsLockedByBrowser||h.Z._loadingErrorIsDisplayed||!h.Z.isVisible;for(var D of I){var G=L.get(D);for(var C of G)C._externalVolume=X?0:D<a?C.volumeUnderModals:1;X=!0}var T=[];for(var J of E){var q=J._getTargetVol();q>=Y&&(J._loop||J._intro)&&(J._cachedTargetVol=q,T.push(J))}U.Z.setPlayingBGMusics(T)}}var p=(I,L)=>L-I},8125:(Ae,le,d)=>{d.d(le,{Z:()=>U});var k,h=d(5446),P=d(3237),j=d(6109),z=d(7049),N=(d(5045),0),w=30;class U extends j.Z{init(){super.init(),this.on("pointerdown",this.onDown),this.on("pointerup",this.onUp),this.on("pointerover",this.onOver),this.on("pointerout",this.onOut),Y.unshift(this),this.buttonMode=!0,this.initialScale=this.scale.x,this.initialImage=this.image,this.interactive?this.enable():this.disable(),this.scrollable&&(this.pointerStartPos=null)}onRemove(){super.onRemove(),this.onOut(),this.removeListener("pointerdown",this.onDown),this.removeListener("pointerup",this.onUp),this.removeListener("pointerover",this.onOver),this.removeListener("pointerout",this.onOut);var v=Y.indexOf(this);v>=0&&Y.splice(v,1),k===this&&(k=null),this.initialImage=null,this.interactive=!1,this.buttonMode=!1,this.hasOwnProperty("callback")&&delete this.callback}disable(){this.initialImage&&(this.onUp(),this.onOut(),this.disabledImage?this.image=this.disabledImage:this.alpha=this.disabledAlpha),this.interactive=!1}enable(){this.initialImage&&(this.disabledImage?this.image=this.initialImage:this.alpha=1),this.interactive=!0}get isOvered(){return this===U.overredButton}get isDowned(){return this===U.downedButton}callClick(){this.isCanBePressed&&this._executeOnClick("invoke")}_executeOnClick(v){U.globalOnClick&&U.globalOnClick(this,v),U.clickedButton=this,this.callback&&this.callback(),this.onClick&&(0,P.Z)(this.onClick,this),this.afterClick&&(0,P.Z)(this.afterClick,this),U.clickedButton=null,this.sndClick&&z.Z.play(this.sndClick),N=h.Z.time}onDown(v){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"pointerdown";if(z.Z._unlockSound(),h.Z.time!==N){if(v){if(v.data.buttons!==1)return;h.Z._mouseHandlerGlobal(v)}this.isCanBePressed&&Math.abs(N-h.Z.time)>1&&U.downedButton!==this&&(U.downedButton&&U.downedButton.onUp(),this.pressImage?this.image=this.pressImage:this.scale.x=this.scale.y=this.initialScale*(this.isOvered?1:.9),U.downedButton=this,this.curDelay=this.repeatDelay,this.scrollable?this.pointerStartPos={x:h.Z.mouse.x,y:h.Z.mouse.y}:this._executeOnClick(n))}}update(){this.isDowned&&(h.Z.mouse.click||k===this?this.curDelay>0&&(this.curDelay--,this.curDelay===0&&(this.isCanBePressed&&Math.abs(N-h.Z.time)>1&&this._executeOnClick("autorepeat"),this.curDelay=this.repeatInterval)):this.onUp()),super.update()}onUp(){U.downedButton===this&&(this.interactive&&(this.pressImage?this.initialImage&&(this.image=this.initialImage):this.scale.x=this.scale.y=this.initialScale*(this.isOvered?1.05:1)),U.downedButton=null,this.scrollable&&Math.hypot(h.Z.mouse.x-this.pointerStartPos.x,h.Z.mouse.y-this.pointerStartPos.y)<=w&&this._executeOnClick("pointerup"))}onOver(){h.Z.isTouchscreen||U.overredButton!==this&&(U.overredButton&&U.overredButton.onOut(),U.overredButton=this,this.hoverImage?this.image=this.hoverImage:this.scale.x=this.scale.y=1.05*this.initialScale,this.sndOver&&z.Z.play(this.sndOver),this.gotoLabelRecursive("btn-over"))}_onDisableByTrigger(){this.onOut()}onOut(){U.overredButton===this&&(U.overredButton=null,this.interactive&&(this.hoverImage?this.initialImage&&(this.image=this.initialImage):this.scale.x=this.scale.y=this.initialScale),this.onUp(),this.gotoLabelRecursive("btn-out"))}static _tryToClickByKeycode(v){for(var n of Y)if(n.hotkey===v&&n.isCanBePressed)return n.onDown(null,"hotkey"),n}}var Y=[];window.addEventListener("keydown",E=>{E.repeat||(k=U._tryToClickByKeycode(E.keyCode))}),window.addEventListener("keyup",E=>{k&&k.hotkey===E.keyCode&&(k.onUp(),k=null)})},6899:(Ae,le,d)=>{d.d(le,{Z:()=>v});var k,h,P=d(5446),j=(d(5869),d(6107).Container);j.prototype.update=function(){for(var n of this.children)n.update()},j.prototype.init=()=>{},j.prototype.onRemove=()=>{};var z,N,w=n=>{n.name===k&&(h=n)};j.prototype.findChildByName=function(n){return k=n,h=null,this.forAllChildren(w),h};var U,Y=n=>{n instanceof N&&z.push(n)};j.prototype.findChildrenByType=function(n){return N=n,z=[],this.forAllChildren(Y),z};var E=n=>{n.name===U&&z.push(n)};j.prototype.findChildrenByName=function(n){return U=n,z=[],this.forAllChildren(E),z},j.prototype.forAllChildren=function(n){for(var a of this.children)n(a),a.forAllChildren(n)},Object.defineProperty(j.prototype,"isCanBePressed",{get:function(){if(!this.interactive||P.Z.disableAllButtons)return!1;for(var n=this.parent;n!==P.Z.stage&&n.interactiveChildren&&n.visible;)n=n.parent;return n.interactiveChildren&&n.visible},enumerable:!0});const v=j},6109:(Ae,le,d)=>{d.d(le,{Z:()=>h});var k=d(8822);class h extends k.Z{constructor(){super(),this.anchor.set(.5)}angleBySpeed(){this.rotation=Math.atan2(this.ySpeed,this.xSpeed)}update(){this.x+=this.xSpeed,this.y+=this.ySpeed,this.rotation+=this.rSpeed,super.update()}}},5869:(Ae,le,d)=>{var k=d(5045),h=d(5446),P=d(6107).DisplayObject;P.prototype.getGlobalRotation=function(){for(var j=this.rotation,z=this.parent;z&&z!==h.Z.stage;)j+=z.rotation,z=z.parent;return j},P.prototype.getScenePosition=function(j){var z=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return h.Z.stage.toLocal(this,this.parent,j,z)},P.prototype.getRootContainer=function(){for(var j=this;j&&j.parent!==h.Z.stage&&j.parent;)j=j.parent;return j},P.prototype.detachFromParent=function(){this.parent&&this.parent.removeChild(this)},P.prototype.init=()=>{},P.prototype.onRemove=()=>{},P.prototype.remove=function(){k.Z.destroyObjectAndChildren(this,!0)},P.prototype.removeWithoutHolder=function(){k.Z.destroyObjectAndChildren(this)},P.prototype.findParentByType=function(j){for(var z=this.parent;z&&!(z instanceof j);)z=z.parent;return z},P.prototype.findParentByName=function(j){for(var z=this.parent;z&&z.name!==j;)z=z.parent;return z},P.prototype.addFilter=function(j){this.filters?this.filters.push(j):this.filters=[j]},P.prototype.removeFilter=function(j){var z=this.filters.indexOf(j);z>=0&&this.filters.splice(z,1)},Object.defineProperties(P.prototype,{___info:{get:function(){for(var j=getObjectName(this),z=this.parent;z&&z!==h.Z.stage;)j+=" > "+getObjectName(z),z=z.parent;return j}},"scale.x":{get:function(){return this.transform.scale.x},set:function(j){this.transform.scale.x=j},configurable:!0},"scale.y":{get:function(){return this.transform.scale.y},set:function(j){this.transform.scale.y=j},configurable:!0},"skew.x":{get:function(){return this.transform.skew.x},set:function(j){this.transform.skew.x=j},configurable:!0},"skew.y":{get:function(){return this.transform.skew.y},set:function(j){this.transform.skew.y=j},configurable:!0},"pivot.x":{get:function(){return this.transform.pivot.x},set:function(j){this.transform.pivot.x=j},configurable:!0},"pivot.y":{get:function(){return this.transform.pivot.y},set:function(j){this.transform.pivot.y=j},configurable:!0}})},1575:(Ae,le,d)=>{d.d(le,{Z:()=>U});var k=d(1746),h=d(3237),P=d(9042),j=d(1254),z=d(5446),N=d(4702);function w(Y){var E,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=Y<0;if(n&&(Y=-Y),v>0){var a=Y.toFixed(v).split(".");a[0].length>3&&(a[0]=a[0].replace(/(.)(?=(.{3})+$)/g,"$1 ")),E=a.join(".")}else E=Y.toFixed(0).replace(/(.)(?=(.{3})+$)/g,"$1 ");return n?"-"+E:E}class U extends j.Z{init(){super.init(),this.currentInterval=0,this.text="",this.showedVal=void 0,this.processedVal=void 0,this.lastUpdateTime=z.Z.time}onLanguageChanged(){this._translatableText&&(this.showedVal=void 0,this.refreshNow(),z.Z.__paused&&super.onLanguageChanged())}customizeVal(E){return E}update(){if(z.Z.time-this.lastUpdateTime>1&&this.refreshNow(),this.lastUpdateTime=z.Z.time,this.currentInterval<=0&&this.dataPath){var E=(0,k.Z)(this.dataPath,this);(E=this.customizeVal(E))||E===0?(E!==this.processedVal&&(this.onChanged&&(0,h.Z)(this.onChanged,this),this.processedVal=E),E!==this.showedVal&&(this.visible=!0,this.applyValue(E))):(this.processedVal=void 0,this.showedVal=void 0,this.visible=!1),this.currentInterval=this.refreshInterval}else this.currentInterval--;super.update()}applyValue(E){if(this.isNumeric){if(this.counterSpeed<1&&this.showedVal!==void 0){var v=Math.max(1/Math.pow(10,this.decimalsCount),Math.abs((E-(this.showedVal||0))*this.counterSpeed));this.showedVal=(0,N.R3)(this.showedVal||0,E,v),this.showedVal===E?this.onCounterFinish&&(0,h.Z)(this.onCounterFinish,this):this.onCounter&&(0,h.Z)(this.onCounter,this)}else this.showedVal=E;E=this.plusMinus&&E>0?"+"+U.formatMoney(this.showedVal,this.decimalsCount):U.formatMoney(this.showedVal,this.decimalsCount)}else this.showedVal=E;this.template?this.text=this.template.replace("%d",E):this._translatableText?this.text=(0,P.Z)(this._translatableText,E):this.text=E}freezeCounter(){this.currentInterval=1e9}unfreezeCounter(){this.currentInterval=0}refreshNow(){this.currentInterval=0}}U.formatMoney=w},137:(Ae,le,d)=>{d.d(le,{Z:()=>N});var k=d(6899),h=d(6794),P=d(5446),j={},z=0;class N extends k.Z{static promise(U){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:P.Z.currentContainer,E=h.Z.create(N);Y.addChild(E),E._promiseWaitForResult=!0;var v=z++;return E._promiseId=v,U(n=>{E._promiseId===v&&(E._promiseResultWaiting=n)},n=>{E._promiseId===v&&(E._promiseErrorWaiting=n)},E),E}static resolve(U){return N.promise(Y=>{Y(U)})}static all(U){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:P.Z.currentContainer,E=[],v=U.length;return N.promise((n,a,u)=>{U.some((p,I)=>{u.addChild(p),p.then(L=>{E[I]=L}),p.catch(L=>{(E=[])[I]=L,a(E),E=null}),p.finally(()=>{--v===0&&E&&n(E)})})},Y)}onRemove(){super.onRemove(),this._promiseWaitForResult&&(this._promiseWaitForResult=!1,this._handleFinally()),this._promiseId=-1,this._rejectHandlers.length=0,this._resolveHandlers.length=0,this._finallyHandlers.length=0,this._promiseResultWaiting=j,this._promiseErrorWaiting=j}then(U){return this._resolveHandlers.push(U),this}catch(U){return this._rejectHandlers.push(U),this}finally(U){return this._finallyHandlers.push(U),this}constructor(){super(),this._resolveHandlers=[],this._finallyHandlers=[],this._rejectHandlers=[],this.visible=!1,this._promiseResultWaiting=j,this._promiseErrorWaiting=j}_handleFinally(){for(;this._finallyHandlers.length>0;)try{this._finallyHandlers.shift()()}catch(U){return setTimeout(()=>{throw U},0),void this._turnPromiseRejected(U)}this._promiseWaitForResult=!1}_turnPromiseRejected(U){this._promiseErrorWaiting===j&&(this._resolveHandlers.length=0,this._promiseResultWaiting=j,this._promiseErrorWaiting=U)}update(){if(this._promiseResultWaiting!==j&&(this.getRootContainer()===P.Z.currentContainer||this.getRootContainer()===P.Z.currentFader)){for(var U=this._promiseResultWaiting;this._resolveHandlers.length>0;)try{var Y=this._resolveHandlers.shift()(U);Y!==void 0&&(U=Y)}catch(n){return this._rejectHandlers.length===0&&setTimeout(()=>{throw n},0),void this._turnPromiseRejected(n)}this._handleFinally()}if(this._promiseErrorWaiting!==j){for(var E=this._promiseErrorWaiting;this._rejectHandlers.length>0;)try{var v=this._rejectHandlers.shift()(E);v!==void 0&&(E=v)}catch(n){this._rejectHandlers.length===0&&setTimeout(()=>{throw n},0)}this._handleFinally()}super.update(),this._promiseWaitForResult||this.remove()}}},8650:(Ae,le,d)=>{d.d(le,{Z:()=>j}),d(5869);var k,h=d(6899),P=d(5446);class j extends h.Z{constructor(){super(),this.backgroundColor=0}get name(){return this.__libSceneName}onShow(){}onHide(){}onMouseDown(w,U){}onMouseMove(w,U){}onMouseUp(w,U){}init(){super.init(),this._refreshAllObjectRefs(),P.Z.__savedCurrentSceneForInitTime=P.Z.currentScene,P.Z._setCurrentScene(this)}_refreshAllObjectRefs(){this.all={},k=this.all,this.forAllChildren(z),P.Z.currentScene===this&&(P.Z.all=this.all)}}var z=N=>{N.name&&(k[N.name]=N)}},87:(Ae,le,d)=>{d.d(le,{Z:()=>Y});var k,h,P,j=d(6899),z=d(5446),N=d(4702),w=d(1746),U={passive:!1,capture:!0};class Y extends j.Z{constructor(){super(),this.onDown=this.onDown.bind(this),this.onWheel=this.onWheel.bind(this)}init(){super.init(),this.mouseHandler?this._mouseHandlerContainer=(0,w.Z)(this.mouseHandler,this):this._mouseHandlerContainer=z.Z.pixiApp.renderer.plugins.interaction,this._mouseHandlerContainer.on("pointerdown",this.onDown),document.addEventListener("wheel",this.onWheel,U),this.autoScrolling=!1,this.xSpeed=0,this.ySpeed=0,this._virtualScrollX=this.x,this._virtualScrollY=this.y}onWheel(v){if(!this.autoScrolling){var n=0;if(this._mouseHandlerContainer!==z.Z.pixiApp.renderer.plugins.interaction){if(this._mouseHandlerContainer.isCanBePressed){var a=z.Z.mouseEventToGlobalXY(v);this._mouseHandlerContainer.getBounds().contains(a.x,a.y)&&(n=v.deltaY,v.stopPropagation(),v.preventDefault())}}else this.isCanBePressed&&(n=v.deltaY,v.stopPropagation(),v.preventDefault());n&&(v.deltaMode===1&&(n*=60),n=Math.min(60,Math.max(-60,n)),this.isYScrollAvailable?this.ySpeed=-n:this.isXScrollAvailable&&(this.xSpeed=n))}}onDown(v){this.worldVisible&&(z.Z._mouseHandlerGlobal(v),k=this,h=z.Z.mouse.x,P=z.Z.mouse.y)}static updateGlobal(){k&&(k.autoScrolling||k.updateGlobal())}updateGlobal(){z.Z.mouse.click&&(this.fullArea.w>this.visibleArea.w&&(this.xSpeed=z.Z.mouse.x-h,this._virtualScrollX+=this.xSpeed),this.fullArea.h>this.visibleArea.h&&(this.ySpeed=z.Z.mouse.y-P,this._virtualScrollY+=this.ySpeed),h=z.Z.mouse.x,P=z.Z.mouse.y)}onRemove(){k===this&&(k=null),document.removeEventListener("wheel",this.onWheel,U),this._mouseHandlerContainer.removeListener("pointerdown",this.onDown),super.onRemove()}update(){if(this.visible){z.Z.mouse.click||(this._virtualScrollX+=this.xSpeed,this._virtualScrollY+=this.ySpeed,this.autoScrolling?(this.xSpeed*=.98,this.ySpeed*=.98):(z.Z.isMobile.any?(this.xSpeed*=this.mobileInertia,this.ySpeed*=this.mobileInertia):(this.xSpeed*=this.desktopInertia,this.ySpeed*=this.desktopInertia),this.xSpeed=(0,N.R3)(this.xSpeed,0,.1),this.ySpeed=(0,N.R3)(this.ySpeed,0,.1)));var v=this.visibleArea,n=this.fullArea;this.autoScrolling&&(this._checkScrollToBounds(),this.xSpeed+=.06*(this.scrollToX-this._virtualScrollX),this.ySpeed+=.06*(this.scrollToY-this._virtualScrollY),this.xSpeed*=.7,this.ySpeed*=.7,Math.abs(this.scrollToX-this._virtualScrollX)<=1&&Math.abs(this.xSpeed)<.5&&Math.abs(this.scrollToY-this._virtualScrollY)<=1&&Math.abs(this.ySpeed)<.5&&(this.xSpeed=0,this.ySpeed=0,this.callAfterScroll&&this.callAfterScroll(),this._virtualScrollX=this.scrollToX,this._virtualScrollY=this.scrollToY,this.callAfterScroll=!1,this.autoScrolling=!1));var a=0;v.x+v.w-this._virtualScrollX>n.x+n.w&&(a=v.x+v.w-this._virtualScrollX-(n.x+n.w)),v.x-this._virtualScrollX-a<n.x&&(a=-(n.x-(v.x-this._virtualScrollX))),a!==0&&(this.bouncingBounds?(this.xSpeed*=.95,this._virtualScrollX=(0,N.R3)(this._virtualScrollX,this._virtualScrollX+a,Math.abs(a/4))):(this.xSpeed=0,this._virtualScrollX+=a)),a=0,v.y+v.h-this._virtualScrollY>n.y+n.h&&(a=v.y+v.h-this._virtualScrollY-(n.y+n.h)),v.y-this._virtualScrollY-a<n.y&&(a=-(n.y-(v.y-this._virtualScrollY))),a!==0&&(this.bouncingBounds?(this.ySpeed*=.95,this._virtualScrollY=(0,N.R3)(this._virtualScrollY,this._virtualScrollY+a,Math.abs(a/4))):(this.ySpeed=0,this._virtualScrollY+=a))}else this.xSpeed=0,this.ySpeed=0;this.visible&&z.Z.mouse.click||k===this&&(k=null),super.update()}scrollRight(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;this.xSpeed=-v}scrollDown(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;this.ySpeed=-v}get relativeScrollY(){return-(this.autoScrolling?this.scrollToY:this._virtualScrollY)/Math.max(1,this.fullArea.h-this.visibleArea.h)}set relativeScrollY(v){this._virtualScrollY=-v*(this.fullArea.h-this.visibleArea.h)}get relativeScrollX(){return-(this.autoScrolling?this.scrollToX:this._virtualScrollX)/Math.max(1,this.fullArea.w-this.visibleArea.w)}set relativeScrollX(v){this._virtualScrollX=-v*(this.fullArea.w-this.visibleArea.w)}get isXScrollAvailable(){return this.visibleArea.w<this.fullArea.w}get isYScrollAvailable(){return this.visibleArea.h<this.fullArea.h}set _virtualScrollX(v){this.__virtualScrollX=v,this.x=Math.round(v)}get _virtualScrollX(){return this.__virtualScrollX}set _virtualScrollY(v){this.__virtualScrollY=v,this.y=Math.round(v)}get _virtualScrollY(){return this.__virtualScrollY}_checkScrollToBounds(){var v=this.visibleArea,n=this.fullArea;this.scrollToX>-n.x?this.scrollToX=-n.x:this.scrollToX<-(n.x+n.w-v.w)&&(this.scrollToX=-(n.x+n.w-v.w)),this.scrollToY>-n.y?this.scrollToY=-n.y:this.scrollToY<-(n.y+n.h-v.h)&&(this.scrollToY=-(n.y+n.h-v.h))}scrollTo(v,n){var a=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!v)return this.autoScrolling=!1,this.xSpeed=0,void(this.ySpeed=0);typeof v=="string"&&(v=this.getChildByName(v)),this.autoScrolling=!0,this.scrollToX=this.visibleArea.w/2-v.x,this.scrollToY=this.visibleArea.h/2-v.y,this._checkScrollToBounds(),a&&(this._virtualScrollX=this.scrollToX,this._virtualScrollY=this.scrollToY),this.callAfterScroll=n}}},8822:(Ae,le,d)=>{d.d(le,{Z:()=>z});var k=d(5045),h=d(6107),P=h.Sprite,j=h.Mesh;const z=P;var N={get:function(){return this._imageID},set:function(E){this._imageID!==E&&(this._imageID=E,this.texture=k.Z.getTexture(E))}};Object.defineProperty(P.prototype,"image",N),Object.defineProperty(j.prototype,"image",N),P.imagePropertyDescriptor=N;var w={get:function(){return this.tint>>16},set:function(E){this.tint=65535&this.tint|E<<16},configurable:!0};Object.defineProperty(P.prototype,"tintR",w),Object.defineProperty(j.prototype,"tintR",w);var U={get:function(){return(65280&this.tint)>>8},set:function(E){this.tint=16711935&this.tint|E<<8},configurable:!0};Object.defineProperty(P.prototype,"tintG",U),Object.defineProperty(j.prototype,"tintG",U);var Y={get:function(){return 255&this.tint},set:function(E){this.tint=16776960&this.tint|E},configurable:!0};Object.defineProperty(P.prototype,"tintB",Y),Object.defineProperty(j.prototype,"tintB",Y)},1254:(Ae,le,d)=>{d.d(le,{Z:()=>z});var k=d(9042),h=d(5446),P=d(1746),j=d(6107).Text;const z=j;var N="center",w=!("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype),U={center:.5,left:0,right:1,top:0,bottom:1},Y={none:0,uppercase:1,capitalize:2,lowercase:3},E=(u,p)=>p===Y.none?u:p===Y.uppercase?u.toUpperCase():p===Y.lowercase?u.toLowerCase():p===Y.capitalize?u.replace(/(?:^|\s)\S/g,I=>I.toUpperCase()):void 0;Object.defineProperties(j.prototype,{translatableText:{get:function(){return this._translatableText},set:function(u){this._translatableText!==u&&(u&&(this.text=(0,k.Z)(u)),this._translatableText=u)}},image:{get:function(){},set:function(){}},"style.align":{get:function(){return this.style.align},set:function(u){this.style.align!=u&&(this.style.align=u,this._refreshAnchor(),this.checkAlignBlur())},configurable:!0},verticalAlign:{get:function(){return this._verticalAlign},set:function(u){this._verticalAlign!=u&&(this._verticalAlign=u,this._refreshAnchor(),this.checkAlignBlur())},configurable:!0},"style.fill":{get:function(){return this._styleFill},set:function(u){u&&u.indexOf(",")>=0?this.style.fill=u.split(","):this.style.fill=u,this._styleFill=u},configurable:!0},"style.fillGradientStops":{get:function(){return this._styleFillGradientStops},set:function(u){u?(u=u.replace(/\s/g,""),this.style.fillGradientStops=u.split(",").map(p=>p?parseFloat(p):1)):this.style.fillGradientStops.length=0,this._styleFillGradientStops=u},configurable:!0},"style.fontFamily":{get:function(){return this._fontFamily},set:function(u){this.style.fontFamily=u||h.Z.projectDesc.defaultFont,this._fontFamily=u},configurable:!0},"style.fontWeight":{get:function(){return this.style.fontWeight},set:function(u){this.style.fontWeight=u},configurable:!0},"style.fontSize":{get:function(){return this.style.fontSize},set:function(u){this.style.fontSize=u},configurable:!0},"style.leading":{get:function(){return this.style.leading},set:function(u){this.style.leading=u},configurable:!0},"style.padding":{get:function(){return this.style.padding},set:function(u){this.style.padding=u},configurable:!0},"style.letterSpacing":{get:function(){return this.style.letterSpacing},set:function(u){this.style.letterSpacing=u===0&&w?.001:u},configurable:!0},"style.stroke":{get:function(){return this.style.stroke},set:function(u){this.style.stroke=u},configurable:!0},"style.strokeThickness":{get:function(){return this.style.strokeThickness},set:function(u){this.style.strokeThickness=u,this.style.lineJoin="round"},configurable:!0},"style.dropShadow":{get:function(){return this.style.dropShadow},set:function(u){this.style.dropShadow=u},configurable:!0},"style.drShColor":{get:function(){return this.style.dropShadowColor},set:function(u){this.style.dropShadowColor=u},configurable:!0},"style.drShAlpha":{get:function(){return this.style.dropShadowAlpha},set:function(u){this.style.dropShadowAlpha=u},configurable:!0},"style.drShAngle":{get:function(){return this.style.dropShadowAngle},set:function(u){this.style.dropShadowAngle=u},configurable:!0},"style.drShBlur":{get:function(){return this.style.dropShadowBlur},set:function(u){this.style.dropShadowBlur=u},configurable:!0},"style.drShDistance":{get:function(){return this.style.dropShadowDistance},set:function(u){this.style.dropShadowDistance=u},configurable:!0},textTransform:{get:function(){return this._textTransform},set:function(u){u!==this._textTransform&&(this._textTransform=u,u&&this._text&&(this._text=E(this._text,this.textTransform),this.dirty=!0))},configurable:!0},maxWidth:{get:function(){return this._maxWidth},set:function(u){this._maxWidth!==u&&(this._maxWidth=u,this.recalculateTextSize())},configurable:!0}});var v=Object.getOwnPropertyDescriptor(j.prototype,"text"),n=v.set;v.set=function(u){this.textTransform&&u?n.call(this,E(u,this.textTransform)):n.call(this,u)},Object.defineProperty(j.prototype,"text",v);var a=j.prototype._onTextureUpdate;j.prototype._onTextureUpdate=function(){this.checkAlignBlur(),a.call(this),this.recalculateTextSize()},j.prototype.onRemove=function(){this._maxWidth=0},j.prototype.setTextByPath=function(u){this.text=(0,P.Z)(u,this)},j.prototype.setAlign=function(u){this["style.align"]=u},j.prototype.checkAlignBlur=function(){var u=this.texture.width;if(u>0){this.style.align===N&&(this.anchor.x=Math.round(.5*u)/u);var p=this.texture.height;this.style._verticalAlign===N&&(this.anchor.y=Math.round(.5*p)/p)}},j.prototype.onLanguageChanged=function(){if(this._translatableText){var u=this._translatableText;this._translatableText=null,this.translatableText=u}},j.prototype._refreshAnchor=function(){this.anchor.set(U[this.style.align],U[this._verticalAlign])},j.prototype.recalculateTextSize=function(){if(this._maxWidth!==0)if(this._texture.width>this._maxWidth){var u=this._maxWidth/this._texture.width;this.scale.x===u&&this.scale.y===u||(this.scale.x=u,this.scale.y=u,this.parent&&this.updateTransform())}else this.scale.x===1&&this.scale.y===1||(this.scale.x=1,this.scale.y=1,this.parent&&this.updateTransform())}},5446:(Ae,le,d)=>{d.d(le,{Z:()=>je});var k=d(4702),h=d(8106),P=d(5045),j=d(6899),z=(d(6109),d(8650)),N=d(1437);class w{constructor(){this.updatePreloader=this.updatePreloader.bind(this),this.currentProgress=0,this.updateInterval=setInterval(this.updatePreloader),N.Z.preloader=this,this.complete=!1,this.maxCount=0,this.progressGroupItems=[],this.progressGroup=Array.from(document.querySelectorAll(".progress-group")),this.progressGroup.length&&this.progressGroup.forEach(fe=>this.progressGroupItems.push(Array.from(fe.querySelectorAll(".progress-item")))),this.progressItems=Array.from(document.querySelectorAll(":not(.progress-group) > .progress-item")),this.progressItems.length&&this.progressGroupItems.push(this.progressItems)}updatePreloader(){this.preloaderText=this.preloaderText||document.getElementsByClassName("preloader-text")[0],this.preloaderBar=this.preloaderBar||document.getElementsByClassName("preloader-bar")[0],this.preloader=this.preloader||document.getElementsByClassName("preloader")[0];var fe=je.getLoadingCount();this.maxCount=Math.max(1,this.maxCount,fe);var Ne=(this.maxCount-fe)/this.maxCount*100;this.currentProgress=(0,k.R3)(this.currentProgress,Ne,2),this.preloaderText&&(this.preloaderText.innerHTML="Loading "+Math.round(this.currentProgress)+"%"),this.preloaderBar&&(this.preloaderBar.style.width=this.currentProgress+"%"),this.progressGroupItems.length&&this.progressGroupItems.forEach(Ge=>{for(var Ze=Ge.length*this.currentProgress/100,ot=0;ot<Ze;ot++)Ge[ot].classList.add("progress-item-on")}),this.complete&&this.destroy(),this.complete=this.texturesCompleted&&Ne>=100&&this.started&&this.currentProgress>=100}destroy(){this.preloader&&this.preloader.parentElement.removeChild(this.preloader),clearInterval(this.updateInterval),this.callback()}onComplete(){this.texturesCompleted=!0}start(fe){this.callback=fe,this.started=!0}}var U=d(9042),Y=d(7049),E={},v=[],n=window;try{for(;n&&(n.addEventListener("keydown",Fe=>{E[Fe.keyCode]=!0,Fe.keyCode>=37&&Fe.keyCode<=40&&Fe.preventDefault()}),n.addEventListener("keyup",Fe=>{v.push(Fe.keyCode)}),n.parent!==n);)n=n.parent}catch{}class a{static update(){for(;v.length>0;)E[v.pop()]=!1}static get all(){return E}static get up(){return E[38]||E[87]}static set up(fe){fe?E[38]=!0:(E[38]=!1,E[87]=!1)}static get down(){return E[40]||E[83]}static set down(fe){fe?E[40]=!0:(E[40]=!1,E[83]=!1)}static get shiftKey(){return E[16]}static get altKey(){return E[18]}static get ctrlKey(){return E[17]}static get left(){return E[37]||E[65]}static set left(fe){fe?E[37]=!0:(E[37]=!1,E[65]=!1)}static get right(){return E[39]||E[68]}static set right(fe){fe?E[39]=!0:(E[39]=!1,E[68]=!1)}static isKeycodePressed(fe){return E[fe]}static resetAll(){E={}}}var u=d(3237);class p{static init(fe,Ne,Ge,Ze,ot,xt,Mt,gt){var st=()=>{je.hideModal(fe),ot&&(typeof ot=="string"?(0,u.Z)(ot,this):ot())},at=()=>{je.hideModal(fe),Mt&&(typeof Mt=="string"?(0,u.Z)(Mt,this):Mt())},Dt=fe.findChildByName("easyCloseBtn");if(Dt&&(gt?Dt.callback=at:Dt.disable()),typeof Ne=="string"){var Bt=fe.findChildByName("title");Bt&&(Bt.text=Ne)}if(typeof Ge=="string"){var Nt=fe.findChildByName("message");Nt&&(Nt.text=Ge)}var kt=fe.findChildByName("okBtn");if(kt){if(Ze){var Vt=kt.findChildByName("label");Vt&&(U.Z.has(Ze)?Vt.translatableText=Ze:(Vt.translatableText=null,Vt.text=Ze))}kt.callback=st}var Ft=fe.findChildByName("noBtn");if(Ft){if(xt){var qt=Ft.findChildByName("label");qt&&(U.Z.has(xt)?qt.translatableText=xt:(qt.translatableText=null,qt.text=xt))}xt||Mt&&!gt?Ft.callback=at:(Ft.visible=!1,kt.x=(kt.x+Ft.x)/2)}}}var I=document.documentElement;class L{static get isFullscreen(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)}static open(){je.addOnClickOnce(L._openInner)}static _openInner(){try{I.requestFullscreen?I.requestFullscreen():I.mozRequestFullScreen?I.mozRequestFullScreen():I.webkitRequestFullscreen?I.webkitRequestFullscreen():I.msRequestFullscreen&&I.msRequestFullscreen(),je._fireNextOnResizeImmediately()}catch{}}static toggle(){L.isFullscreen?L.close():L.open()}static close(){je.addOnClickOnce(L._closeInner),je.projectDesc.autoFullscreenMobile=je.projectDesc.autoFullscreenDesktop=!1}static _closeInner(){je._fireNextOnResizeImmediately(),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}}L.isAvailable=(I.requestFullscreen||I.mozRequestFullScreen||I.webkitRequestFullscreen||I.msRequestFullscreen)&&!window.cordova;var F=d(87),M=d(4294),c=d(8125),x=d(8822),X=d(6794),D=d(6107),G=new D.Point;class C extends j.Z{constructor(){super(),this.tiles=new Map,this.autoUpdate=!1}init(){super.init(),this.renewAllMap()}set tilemap(fe){this._tileMapData=fe}get tilemap(){return this.map}set texture(fe){if(this._texture!==fe)for(var Ne of(this._texture=fe,this.children))Ne instanceof J&&(Ne.texture=fe)}get texture(){return this._texture}getTile(fe,Ne){return this.map[fe+Ne*this.columns]}setTile(fe,Ne,Ge){var Ze=fe+Ne*this.columns;this.map[Ze]!==Ge&&(this.map[Ze]=Ge,this.getTile8x8(fe,Ne).setTile(fe%8,Ne%8,Ge))}getTile8x8(fe,Ne){var Ge=(Ne>>=3)+32*(fe>>=3);if(!this.tiles.has(Ge)){var Ze=X.Z.create(J);return Ze.clearMap(),Ze.x=(8*fe+4)*this.tileW-this.wField,Ze.y=(8*Ne+4)*this.tileH-this.hField,Ze.xRandomShift=fe<<3,Ze.yRandomShift=Ne<<3,Ze.verticesRandomization=this.verticesRandomization,Ze.verticesRandomizationMod=2*this.verticesRandomization+1,this.tiles.set(Ge,Ze),this.addChild(Ze),Ze.setProps(),Ze}return this.tiles.get(Ge)}updateView(){this.getScenePosition(G);var fe,Ne,Ge=je.W/2,Ze=je.H/2,ot=G.x-Ge,xt=G.y-Ze,Mt=Ge+4*this.tileW,gt=Ze+4*this.tileH;for(var st of this.children)fe=ot+st.x,Ne=xt+st.y,st.visible=fe<Mt&&fe>-Mt&&Ne<gt&&Ne>-gt,st.visible&&st.updateView()}dispose8x8Tiles(){this.tiles.forEach(T),this.tiles=new Map}onRemove(){super.onRemove(),this.dispose8x8Tiles(),this.map=null}clear(){for(var fe=0;fe<this.rows;fe++)for(var Ne=0;Ne<this.columns;Ne++)this.setTile(Ne,fe,-1)}resizeMapIfNeed(){var fe=this.columns*this.rows;if(!this.map||fe!==this.map.length){this.map=[];for(var Ne=0;Ne<fe;Ne++)this.map.push(-1)}}render(fe){this.updateView(),super.render(fe)}_renderCanvas(fe){this.updateView(),super._renderCanvas(fe)}createTypedMap(){var fe=C.tileMapProcessor&&C.tileMapProcessor.imageToType||(Ne=>Ne);return(this._tileMapData||this.map).map(fe)}renewAllMap(){if(P.Z.hasTexture(this.image)){var fe=this.texture.width,Ne=this.texture.height;if(this.srcTileW=this.tileW+2*this.wField,this.srcTileH=this.tileH+2*this.hField,this.tilesOnTextureW=Math.floor(fe/this.srcTileW),this.tilesOnTextureH=Math.floor(Ne/this.srcTileH),this.uvTileW=this.srcTileW/fe,this.uvTileH=this.srcTileH/Ne,this.resizeMapIfNeed(),this.__maxTileIndex=this.tilesOnTextureH*this.tilesOnTextureW-1,this._tileMapData){for(var Ge=this.columns*this.rows-1,Ze=this._tileMapData,ot=this.rows-1;ot>=0;ot--)for(var xt=this.columns-1;xt>=0;xt--)this.setTile(xt,ot,Ze[Ge--]);this._tileMapData=null}}}}Object.defineProperty(C.prototype,"image",x.Z.imagePropertyDescriptor);var T=Fe=>{P.Z.destroyObjectAndChildren(Fe)};class J extends D.SimpleMesh{constructor(){super(),this.drawMode=D.DRAW_MODES.TRIANGLES,this.map=[]}setProps(){this.texture=this.parent.texture,this.pivot.x=4*this.parent.tileW,this.pivot.y=4*this.parent.tileH,this.tileW=this.parent.tileW,this.tileH=this.parent.tileH,this.pureTileW=this.tileW,this.srcTileW=this.parent.srcTileW,this.srcTileH=this.parent.srcTileH,this.uvTileW=this.parent.uvTileW,this.uvTileH=this.parent.uvTileH,this.tilesOnTextureW=this.parent.tilesOnTextureW}setTile(fe,Ne,Ge){this.needRefresh=!0,this.map[fe+(Ne<<3)]=Ge}clearMap(){for(var fe=0;fe<64;fe++)this.map[fe]=-1;this.needRefresh=!0}updateView(){this.needRefresh&&(this.refreshTiles(),this.needRefresh=!1)}rndX(fe,Ne){return this.verticesRandomization?(12347*(fe+=this.xRandomShift)+7323*(Ne+=this.yRandomShift)^123949)%this.verticesRandomizationMod-this.verticesRandomization:0}rndY(fe,Ne){return this.verticesRandomization?(27389*(fe+=this.xRandomShift)+12765*(Ne+=this.yRandomShift)^123949)%this.verticesRandomizationMod-this.verticesRandomization:0}refreshTiles(){for(var fe,Ne=[],Ge=[],Ze=[],ot=this.tileW,xt=this.tileH,Mt=this.srcTileW,gt=this.srcTileH,st=this.uvTileW,at=this.uvTileH,Dt=0,Bt=0,Nt=0;Nt<8;Nt++)for(var kt=0;kt<8;kt++)if((fe=this.map[Dt++])>=0){var Vt=kt*ot,Ft=Nt*xt;Ne.push(Vt+this.rndX(kt,Nt),Ft+this.rndY(kt,Nt)),Vt+=Mt,Ne.push(Vt+this.rndX(kt+1,Nt),Ft+this.rndY(kt+1,Nt)),Ft+=gt,Ne.push(Vt+this.rndX(kt+1,Nt+1),Ft+this.rndY(kt+1,Nt+1)),Vt-=Mt,Ne.push(Vt+this.rndX(kt,Nt+1),Ft+this.rndY(kt,Nt+1)),Vt=fe%this.tilesOnTextureW*st,Ft=Math.floor(fe/this.tilesOnTextureW)*at,Ge.push(Vt,Ft),Vt+=st,Ge.push(Vt,Ft),Ft+=at,Ge.push(Vt,Ft),Vt-=st,Ge.push(Vt,Ft),Ze.push(Bt,Bt+1,Bt+2),Ze.push(Bt,Bt+2,Bt+3),Bt+=4}this.verticesBuffer.data=new Float32Array(Ne),this.uvBuffer.data=new Float32Array(Ge),this.geometry.buffers[2].data=new Uint16Array(Ze),this.uvBuffer._updateID++,this.verticesBuffer._updateID++,this.geometry.buffers[2]._updateID++}}var q,K,A,b,R,O,W,Q,ee,ne,be,Ie=d(1746),Oe=d(137),ue=d(6107),y=d(2447),B=0,V=4,te=1,re=0,ae=[],_e=[],Ce=[],de=[],ge=1,ye=[];class xe{constructor(){this.data={},this.isMobile=ue.utils.isMobile,this.all=null,this.isVisible=!1,this.isFocused=!1}get modalsCount(){return ae.length}get currentContainer(){return ae.length>0?ae[ae.length-1]:this.currentScene}get currentFader(){return R}onResize(){var fe,Ne;if(W){W===document.body?(fe=window.innerWidth,Ne=window.innerHeight):(fe=W.clientWidth,Ne=W.clientHeight);var Ge,Ze,ot,xt=Ee.projectDesc.dynamicStageSize;switch((Ge=this.projectDesc.screenOrientation)==="auto"&&(Ge=fe<Ne?"portrait":"landscape"),Ge){case"portrait":Ze=fe>Ne,Ee.isPortrait=!0;break;case"auto":Ee.isPortrait=fe<Ne;break;default:Ze=Ne>fe,Ee.isPortrait=!1}ue.utils.isMobile.any||(Ze=!1),Ee.isPortrait?(this.W=this.projectDesc.portraitWidth||408,this.H=this.projectDesc.portraitHeight||720):(this.W=this.projectDesc.width||1280,this.H=this.projectDesc.height||720),xt||Ee.projectDesc.preventUpscale&&(Ze?(fe=Math.min(this.H,fe),Ne=Math.min(this.W,Ne)):(fe=Math.min(this.W,fe),Ne=Math.min(this.H,Ne))),ot=Ze?Math.min(Ne/this.W,fe/this.H):Math.min(fe/this.W,Ne/this.H),xt&&(Ee.projectDesc.preventUpscale?(ot<1&&(fe/=ot,Ne/=ot),ot=1):(fe/=ot,Ne/=ot));var Mt,gt,st=1;if(this.isMobile.any?Ee.projectDesc.renderResolutionMobile&&(st=Ee.projectDesc.renderResolutionMobile):Ee.projectDesc.renderResolution&&(st=Ee.projectDesc.renderResolution),ot*=st=Math.max(window.devicePixelRatio||1,st),ot=Math.min(3,ot),this.pixiApp&&this.pixiApp.renderer&&(Ee.isCanvasMode=!this.pixiApp.renderer.gl,!Ee.isCanvasMode)){var at=this.pixiApp.renderer.gl,Dt=at.getParameter(at.MAX_TEXTURE_SIZE);Dt<3e3&&(ot=Math.min(1,ot)),fe*ot>Dt&&(ot=Dt/fe),Ne*ot>Dt&&(ot=Dt/Ne)}xt&&(Ze?(this.H=fe,this.W=Ne):(this.W=fe,this.H=Ne)),Ze?(Mt=this.H,gt=this.W):(Mt=this.W,gt=this.H),this.W=Math.round(this.W),this.H=Math.round(this.H),1&this.W&&this.W++,1&this.H&&this.H++;var Bt=Q!==Mt||ee!==gt||ge!==ot;if(Ee.pixiApp){Q=Mt,ee=gt,ge=ot;var Nt=Ee.stage;if(Ee._isCanvasRotated=Ze,Ze?(Nt.rotation=Math.PI/2,Nt.x=this.H):(Nt.rotation=0,Nt.x=0),Bt){var kt=Ee.pixiApp.renderer;kt.resolution=ge,ue.InteractionManager.resolution=ge,kt.plugins.interaction.resolution=ge,kt.rootRenderTarget&&(kt.rootRenderTarget.resolution=ge),kt.resize(Q+1e-4,ee+1e-4),this.forAllChildrenEverywhere(We)}}}}openUrl(fe){var Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"_blank",Ge=()=>{window.open(fe,Ne)};Object.defineProperty(Ge,"openNewTab",{get:()=>!0}),Ee.addOnClickOnce(Ge)}init(fe,Ne){var Ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";Ee.additionalLoadingsInProgress=0,this.getValueByPath=Ie.Z,Ee.Lib=P.Z,this.game=Ee,this.Sound=Y.Z,this.L=U.Z,this.setValueByPath=Ie.P,this.classes=P.Z.classes,this.onResize=this.onResize.bind(this),this.time=0,this.projectDesc=this.projectDesc||{},this.fullscreen=L,this.keys=a,Ne||(Ne=y.projectDesc.id),this.settings=new h.Z(Ne),this.gameId=Ne,this._updateGlobal=this._updateGlobal.bind(this),this.mouse=new ue.Point,this.resourcesPath=Ge;var Ze=new Promise(ot=>{this._gameInitializedResolve=ot});return W=fe||document.body,A=y,this.applyProjectDesc(A.projectDesc),ue.utils.isWebGLSupported()?this._initInner():d.e(479).then(d.bind(d,2479)).then(()=>this._initInner()),Ze}_getTextureSettingsBits(fe,Ne){var Ge=Ee.projectDesc.loadOnDemandTextures;return Ge.hasOwnProperty(fe)?Ge[fe]&Ne:0}addOnClickOnce(fe){ye.push(fe)}applyProjectDesc(fe){var Ne={defaultFont:"Arial",screenOrientation:"landscape",width:1280,height:720,portraitWidth:408,portraitHeight:720,renderResolution:1,renderResolutionMobile:1,framesSkipLimit:4,dynamicStageSize:!1,preventUpscale:!1,webfontloader:null,fontHolderText:"ЯSфz",mipmap:!1,version:"0.0.1",soundFormats:["ogg","aac"],soundDefaultBitrate:96,soundBitrates:{},loadOnDemandSounds:{},loadOnDemandTextures:{},__loadOnDemandTexturesFolders:{},defaultMusVol:1,defaultSoundsVol:1,embedLocales:!0,__localesNewKeysPrefix:"",__externalTranslations:[],autoFullscreenDesktop:!1,autoFullscreenMobile:!1,__proxyFetchesViaNodeServer:!1,__group:"",__webpack:{debug:"config/webpack.debug.js",production:"config/webpack.prod.js"},jpgQuality:95,pngQuality:[.95,1]},Ge=!1;for(var Ze in Ne)fe.hasOwnProperty(Ze)||(fe[Ze]=Ne[Ze],Ge=!0);return fe.screenOrientation,ue.settings.MIPMAP_TEXTURES=fe.mipmap?ue.MIPMAP_MODES.ON:ue.MIPMAP_MODES.OFF,ue.settings.GC_MODE=ue.GC_MODES.MANUAL,this.projectDesc=fe,this.onResize(),Ge}_initInner(){Ee.additionalLoadingsInProgress++,Promise.all([De(),Ke(),Ve()]).then(()=>{Ee.additionalLoadingsInProgress--}),this.onResize();var fe=ke();K=new ue.Application({width:Q,height:ee,backgroundColor:0,preserveDrawingBuffer:fe}),this.pixiApp=K,W.appendChild(K.view);var Ne=Ze=>{for(var ot=ye.some(gt=>gt.openNewTab);ye.length>0;){var xt=ye.shift();ot&&!xt.openNewTab||xt(Ze)}var Mt=Ee.isMobile.any?Ee.projectDesc.autoFullscreenMobile:Ee.projectDesc.autoFullscreenDesktop;!ot&&Mt&&Ee.fullscreen.isAvailable&&!Ee.fullscreen.isFullscreen&&Ee.fullscreen._openInner()};K.view.addEventListener("click",Ne),K.view.addEventListener("touchend",Ne);var Ge=Ee.pixiApp.renderer.plugins.interaction;Ge.on("pointerdown",qe),Ge.on("pointermove",vt),Ge.on("pointerup",tt),this._mouseHandlerGlobal=mt,(q=new j.Z).name="stage",this.stage=q,this.onResize(),K.stage.addChild(q),K.ticker.add(this._updateGlobal),Y.Z.init(),this._gameInitializedResolve(),delete this._gameInitializedResolve,this._startGame(),K.view.addEventListener("wheel",Ze=>Ze.preventDefault()),window.addEventListener("resize",this._onContainerResize.bind(this))}_fireNextOnResizeImmediately(){be=!0}_onContainerResize(){ne&&clearTimeout(ne),be?(be=!1,this.onResize()):ne=setTimeout(()=>{if(ne=!1,Ee.isMobile.any)for(var fe of[20,40,80,200,500,1e3,1500,2e3,3e3])setTimeout(this.onResize,fe);this.onResize()},Ee.isMobile.any?1:200)}_startGame(){var fe=new w;if(P.Z._setPrefabs(A.prefabs),P.Z._setScenes(A.scenes),P.Z._setSounds(A.sounds),A.resources)for(var Ne in A.resources)P.Z.addResource(Ne,{metadata:{...A.resourceImages,...A.resources[Ne]}});ue.Texture.WHITE.baseTexture.resource.source.getContext("2d").fillRect(0,0,1,1),P.Z.addTexture("EMPTY",ue.Texture.EMPTY),P.Z.addTexture("WHITE",ue.Texture.WHITE);var Ge=new N.Z;for(var Ze in A.images)Ee._getTextureSettingsBits(Ze,3)||Ge.add(Je(Ze),void 0,{metadata:A.images[Ze]});Ge.load(),fe.start(()=>{for(var ot in A.sounds&&Object.keys(A.sounds).length&&Y.Z.checkSoundLockByBrowser(),A.images){var xt=ue.utils.TextureCache[Je(ot)];xt&&P.Z.addTexture(ot,xt)}Object.values(A.prefabs).forEach(P.Z._filterStaticTriggersRecursive),Object.values(A.scenes).forEach(P.Z._filterStaticTriggersRecursive),this.showScene(A.projectDesc.mainScene||"main"),P.Z._preCacheSoundsAndTextures()})}_setCurrentScene(fe){Ee.all=fe?fe.all:null,Ee.currentScene=fe}_setCurrentSceneContent(fe){return fe=Ht(fe),this._setCurrentScene(fe),fe.interactiveChildren=!1,q.addChildAt(fe,0),fe._onShowCalled=!1,fe}get disableAllButtons(){return!!R}faderShoot(){for(;b.length>0;){var fe=b.pop(),Ne=ae.indexOf(fe);Ne>=0&&(ae.splice(Ne,1),P.Z.destroyObjectAndChildren(fe))}for(;_e.length>0;){var Ge=_e.pop();P.Z.destroyObjectAndChildren(Ge)}Ee._isWaitingToHideFader=!0}_processScenesStack(){for(;;){var fe=de[de.length-1];if(fe===Ee.currentScene)break;Ee.currentScene&&(Ee.currentScene._onShowCalled&&Ee.currentScene.onHide(),Ut()),fe=de[de.length-1],de[de.length-1]=Ee._setCurrentSceneContent(fe)}}faderEnd(){if(O){var fe=Ce.indexOf(O);Ce.splice(fe,1),P.Z.destroyObjectAndChildren(O),O=null}}replaceScene(fe,Ne){ft(de.pop()),de.push(fe),Ee._startFaderIfNeed(Ne)}showScene(fe,Ne){de.push(fe),Ee._startFaderIfNeed(Ne)}closeAllScenes(fe){for(;de.length>1;)Ee.closeCurrentScene(fe)}closeCurrentScene(fe){ft(de.pop()),Ee._startFaderIfNeed(fe)}_startFaderIfNeed(fe){de[de.length-1]!==Ee.currentScene&&(b=ae.slice(),R||(fe||(fe=this.currentScene&&this.currentScene.faderType?this.currentScene.faderType:"fader/default"),R=P.Z.loadPrefab(fe),this.stage.addChild(R),M.Z._recalculateMusic()))}_getScenesStack(){return de}showQuestion(fe,Ne){var Ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Ze=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,ot=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,xt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,Mt=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],gt=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"ui/sure-question",st=P.Z.loadPrefab(gt);return p.init(st,fe,Ne,Ge,Ze,ot,xt,Mt),Ee.showModal(st)}showModal(fe,Ne){return typeof fe=="string"&&(fe=P.Z.loadPrefab(fe)),ae.push(fe),fe._onModalHide=Ne,fe.interactiveChildren=!1,Ee.stage.addChild(fe),M.Z._recalculateMusic(),fe}hideModal(){var fe,Ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Ge=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(Ne){var Ze=ae.indexOf(Ne);if(Ze<0)return;fe=ae[Ze],ae.splice(Ze,1)}else fe=ae.pop();fe._onModalHide&&(fe._onModalHide(),delete fe._onModalHide),Ge?P.Z.destroyObjectAndChildren(fe):(fe.interactiveChildren=!1,_e.push(fe)),M.Z._recalculateMusic()}mouseEventToGlobalXY(fe){var Ne=K.view.getBoundingClientRect(),Ge=fe.clientX-Ne.left;return Be.x=Ge*(Ee.W/Ne.width),Ge=fe.clientY-Ne.top,Be.y=Ge*(Ee.H/Ne.height),Be}_updateGlobal(fe){for(F.Z.updateGlobal(),fe=Math.min(fe,V),re+=fe,re=Math.min(re,te*Ee.projectDesc.framesSkipLimit);re>te;)re-=te,Ee.isUpdateBeforeRender=!(re>te),this._updateFrame();if(this.currentScene){K.renderer.backgroundColor=this.currentScene.backgroundColor,this.currentScene.interactiveChildren=this.modalsCount===0&&!R;for(var Ne=this.modalsCount-1,Ge=!R;Ne>=0;)ae[Ne].interactiveChildren=Ge,Ge=!1,Ne--}}forAllChildrenEverywhereBack(fe){for(var Ne of de)typeof Ne!="string"&&(fe(Ne),Ne.parent||(fe(Ne),Ne.forAllChildren(fe)));var Ge=P.Z._getStaticScenes();for(var Ze in Ge){var ot=Ge[Ze];ot.parent||(fe(ot),ot.forAllChildren(fe))}}getLoadingCount(){var fe=P.Z.getSoundsLoadingCount();return fe+=N.Z.getLoadingCount(),Ee.additionalLoadingsInProgress&&(fe+=Ee.additionalLoadingsInProgress),R&&(fe+=R.findChildrenByType(Oe.Z).length),fe}forAllChildrenEverywhere(fe){Ee.stage.forAllChildren(fe),Ee.forAllChildrenEverywhereBack(fe)}_hideCurrentFaderAndStartScene(){R.gotoLabelRecursive("hide fader"),Ce.unshift(R),R=null,M.Z._recalculateMusic()}_updateFrame(){if(!Ee._loadingErrorIsDisplayed){if(!Ee.isCanvasMode){if(Ee.pixiApp.renderer.gl.isContextLost())return void(Ee.isVisible&&++B===60&&Ee._reloadGame());B=0}Ee._isWaitingToHideFader?Ee.getLoadingCount()===0&&(Ee._processScenesStack(),Ee.currentScene._onShowCalled?(Ee._hideCurrentFaderAndStartScene(),Ee._isWaitingToHideFader=!1):(Ee.currentScene._onShowCalled=!0,Ee.currentScene.onShow(),Et())):this.currentContainer&&(!R||this.currentContainer!==this.currentScene||_e.length<1)&&this.currentContainer.update(),R&&R.update();for(var fe=Ce.length-1;fe>=0;){var Ne=Ce[fe];O=Ne,Ne.update(),fe--}if(!R)for(var Ge=_e.length-1;Ge>=0;){var Ze=_e[Ge];Ze.alpha-=.1,Ze.alpha<=.01&&(P.Z.destroyObjectAndChildren(Ze),_e.splice(Ge,1)),Ge--}this.keys.update(),P.Z._cleanupRemoveHolders(),this.time++}}fetchResource(fe){return new Promise(Ne=>{var Ge=new N.Z;Ge.add(fe,fe),Ge.load((Ze,ot)=>{Ne(ot[fe].data)})})}_onLoadingError(fe){if(!Ee._loadingErrorIsDisplayed){N.Z.destroyAllLoaders(),Ee._loadingErrorIsDisplayed=!0,M.Z._recalculateMusic();var Ne=document.createElement("div");Ne.innerHTML=`

<div class="loading-error-wrapper" style="
			position:absolute;
			z-index: 2;
			width:100%;
			height:100%;
			left:0;
			top:0;
			background:rgba(0,0,0,0.7)">
	<div class="loading-error-body" style="
			padding: 5vh;
			box-sizing: border-box;
			margin: 20vh 0;
			width: 100%;
			background: #000000;
			text-align: center;
			color: #ffffff;
			font-family: `+Ee.projectDesc.defaultFont+`;">
		<div class="loading-error-game-title">`+Ee.projectDesc.title+`</div>
		<div class="loading-error-title" style="
			margin: 2vh;
			font-size:200%;">
			LOADING ERROR</div>
		<div class="loading-error-message">(click to reload)</div>
	</div>
</div>`,document.body.appendChild(Ne),document.addEventListener("click",()=>{Ee._reloadGame()})}}_reloadGame(){Ee.onGameReload&&Ee.onGameReload(),window.location.reload()}applyCSS(fe){var Ne=document.head||document.getElementsByTagName("head")[0],Ge=document.createElement("style");Ge.type="text/css",Ge.styleSheet?Ge.styleSheet.cssText=fe:Ge.appendChild(document.createTextNode(fe)),Ne.appendChild(Ge)}}var Be=new ue.Point,We=Fe=>{Fe._onRenderResize&&Fe._onRenderResize()},qe=Fe=>{if(!rt.hasOwnProperty(Fe.data.pointerId)){var fe={x:Fe.data.global.x,y:Fe.data.global.y};rt[Fe.data.pointerId]=fe,yt.unshift(fe)}Ee.isFocused||Se(!0),Ee.mouse.click=!0,mt(Fe),Ee.currentContainer&&Ee.currentContainer.onMouseDown&&Ee.currentContainer.interactiveChildren&&(Y.Z._unlockSound(),Ee.currentContainer.onMouseDown(Ee.mouse,Fe))},tt=Fe=>{var fe=Fe.data.global.x,Ne=Fe.data.global.y;rt.hasOwnProperty(Fe.data.pointerId)&&(yt.splice(yt.indexOf(rt[Fe.data.pointerId]),1),delete rt[Fe.data.pointerId]),yt.length>0?(Fe.data.global.x=yt[0].x,Fe.data.global.y=yt[0].y):Ee.mouse.click=!1,mt(Fe),Fe.data.global.x=fe,Fe.data.global.y=Ne,Ee.currentContainer&&Ee.currentContainer.onMouseUp&&Ee.currentContainer.interactiveChildren&&Ee.currentContainer.onMouseUp(Ee.mouse,Fe)},vt=Fe=>{var fe=Fe.data.global.x,Ne=Fe.data.global.y,Ge=rt[Fe.data.pointerId];Ge&&(Ge.x=Fe.data.global.x,Ge.y=Fe.data.global.y),(Ge=yt[0])&&(Fe.data.global.x=Ge.x,Fe.data.global.y=Ge.y),Fe.data.buttons===0&&(Ee.mouse.click=!1),mt(Fe),Fe.data.global.x=fe,Fe.data.global.y=Ne,Ee.currentContainer&&Ee.currentContainer.onMouseMove&&Ee.currentContainer.interactiveChildren&&Ee.currentContainer.onMouseMove(Ee.mouse,Fe)},yt=[],rt={},mt=Fe=>{if(isFinite(Fe.data.global.x)){var fe=Ee.mouse,Ne=Ee.stage.toLocal(Fe.data.global,Ee.pixiApp.stage),Ge=Math.round(Ne.x),Ze=Math.round(Ne.y);Ge>Ee.W?Ge=Ee.W:Ge<0&&(Ge=0),Ze>Ee.H?Ze=Ee.H:Ze<0&&(Ze=0),fe.x=Ge,fe.y=Ze}},Ee=new xe;const je=Ee;function Ht(Fe){return typeof Fe=="string"&&(Fe=P.Z.loadScene(Fe)),Fe}function Ut(){var Fe=Ee.currentScene;Ee._setCurrentScene(null),ft(Fe)}function ft(Fe){Fe instanceof z.Z&&Fe!==Ee.currentScene&&(!Fe.isStatic&&de.indexOf(Fe)<0?P.Z.destroyObjectAndChildren(Fe):Fe.detachFromParent())}window.cordova&&(document.addEventListener("backbutton",function(){c.Z._tryToClickByKeycode(27)},!1),Ee.exitApp=function(){arguments.length>0&&arguments[0]!==void 0&&arguments[0]?navigator.app.exitApp():Ee.showQuestion((0,U.Z)("SUREEXIT_TITLE"),(0,U.Z)("SUREEXIT_TEXT"),void 0,()=>{Ee.exitApp(!0)})}),window.addEventListener("focus",()=>Se(!0)),window.addEventListener("blur",()=>Se(!1)),document.addEventListener("visibilitychange",()=>oe());var oe=()=>{var Fe=document.visibilityState==="visible";Ee.isVisible!==Fe&&(Ee.isVisible=Fe,Ee.pixiApp&&setTimeout(()=>{M.Z._clearCustomFades(.2),M.Z._recalculateMusic()},10),Se(Fe))},Se=Fe=>{Ee.isFocused!==Fe&&(Ee.isFocused=Fe,Ee.pixiApp&&setTimeout(()=>Ee.keys.resetAll(),10))};function ke(){try{var Fe=document.createElement("canvas");Fe.setAttribute("width","1"),Fe.setAttribute("height","1"),document.body.appendChild(Fe);var fe=Fe.getContext("webgl",{stencil:!0});if(Fe.parentNode.removeChild(Fe),!fe)return!1;var Ne=fe.getExtension("WEBGL_debug_renderer_info");return Ne!=null&&fe.getParameter(Ne.UNMASKED_RENDERER_WEBGL).search("Mali-400")!=-1}catch{}}function De(){return Ee.projectDesc.webfontloader?new Promise(Fe=>{setTimeout(()=>{if(Ee.projectDesc.fontHolderText){var fe=document.createElement("span");for(var Ne in fe.style.opacity=0,fe.style.color="rgba(0,0,0,0.01)",fe.style.position="absolute",fe.style.zIndex=-1,Ee.projectDesc.webfontloader){var Ge=Ee.projectDesc.webfontloader[Ne].families;if(Ge)for(var Ze of Ge){if(Ne==="custom"){var ot=Ee.resourcesPath+"fonts/"+Ze.replace(/ /g,"");Ee.applyCSS(`
										@font-face {
											font-family: '`+Ze+`';
											src: url('`+ot+`.woff2') format('woff2'),
											url('`+ot+`.woff') format('woff');
										}
									`)}var xt=Ze.split(":"),Mt=xt[0],gt=xt[1]?xt[1].split(","):["normal"];for(var st of gt){var at=document.createElement("span");at.style.fontFamily=`"${Mt}"`,at.style.fontWeight=st,at.innerHTML=Ee.projectDesc.fontHolderText,fe.appendChild(at)}}}document.body.appendChild(fe)}setTimeout(()=>{if(!window.WebFont)try{window.WebFont=d(4852)}catch{}var Dt=Ee.projectDesc.webfontloader;Dt.timeout=Dt.timeout||6e3;var Bt=!1;Dt.inactive=Dt.active=()=>{Bt||(Bt=!0,Fe())},window.WebFont.load(Dt)},1)},1)}):Promise.resolve()}function Ke(){if(Ee.projectDesc.embedLocales)return U.Z.setLanguagesAssets(A.text),Promise.resolve(A.text);var Fe=Ee.projectDesc.localeResourcesPath||Ee.resourcesPath+"i18n";return U.Z.loadLanguages(void 0,Fe)}async function Ve(){var{lossy:Fe,lossless:fe}=await(0,k.OP)();Ee.isWebpAvailable=Fe&&fe}Se(!0),oe();var Je=Fe=>Fe?Ee.resourcesPath+"img/"+Fe:null;Ee._textureNameToPath=Je,Ee.getImageMetadata=Fe=>A.images[Fe]||{};var pt=Fe=>Fe.replace(Ee.resourcesPath+"img/","");function Et(){var Fe,fe,Ne,Ge={};for(var Ze in Ee.stage.forAllChildren(ot=>{if(ot instanceof x.Z||ot instanceof ue.Mesh||ot instanceof C){var xt=ot.image;if(xt&&!P.Z.hasTexture(xt)&&Ee._getTextureSettingsBits(xt,3)){if(ot.texture=P.Z.getTexture("EMPTY"),Fe||(fe={},Ne=[],Fe=new N.Z),!fe.hasOwnProperty(xt)){fe[xt]=!0;var Mt=Je(xt),gt={metadata:A&&A.images?A.images[xt]:{}};Fe.add(Mt,void 0,gt)}Ne.push(ot)}else Ee._getTextureSettingsBits(xt,3)&&(ot.texture.baseTexture||(ot.texture=P.Z.getTexture(xt)),Ge[xt]=!0)}}),Ee.projectDesc.loadOnDemandTextures)Ee._getTextureSettingsBits(Ze,3)&&!Ge.hasOwnProperty(Ze)&&P.Z.hasTexture(Ze)&&P.Z._unloadTexture(Ze);Fe&&Fe.load((ot,xt)=>{for(var Mt in xt){var gt=pt(Mt);P.Z.addTexture(gt,xt[Mt].texture)}for(var st of Ne){var at=st.image;st.image="EMPTY",st.image=at}})}},5045:(Ae,le,d)=>{d.d(le,{Z:()=>J});var k,h,P=d(6794),j=(d(8650),d(5869),d(5446)),z=d(1746),N=d(1437),w=d(6107),U={},Y={},E={},v={},n={},a={};class u extends w.Container{constructor(){super(),this.visible=!1}onRemove(){super.onRemove();var K=p.indexOf(this);K>=0&&p.splice(K,1)}update(){}}var p=[],I=q=>{if(!q._thing_initialized){q._thing_initialized=!0,q.init();for(var K=q.children,A=K.length,b=0;b<A;b++)I(K[b])}};class L{getClass(K){return Y[K]}_setClasses(K,A){h=A,Y=K,F.classes=K}_setScenes(K){k=K,F.scenes=K}_setPrefabs(K){U=K,F.prefabs=K}addResource(K,A){if(!j.Z._loadingErrorIsDisplayed){var b=new N.Z;b.add(K,j.Z.resourcesPath+K,A),b.load((R,O)=>{var W=O[K];if(F.resources[K]=W,W.textures)for(var Q in W.textures)F.addTexture(Q,W.textures[Q])})}}addTexture(K,A){K!=="EMPTY"&&K!=="WHITE"&&F.hasTexture(K)&&F._unloadTexture(K),C(K),E[K]=A;var b=E[K].baseTexture;switch(j.Z._getTextureSettingsBits(K,24)){case 0:b.wrapMode=w.WRAP_MODES.CLAMP;break;case 8:b.wrapMode=w.WRAP_MODES.REPEAT;break;default:b.wrapMode=w.WRAP_MODES.MIRRORED_REPEAT}j.Z._getTextureSettingsBits(K,4)&&(b.mipmap=w.MIPMAP_MODES.ON),j.Z.isCanvasMode||j.Z.pixiApp.renderer.texture.updateTexture(b)}_unloadTexture(K){var A=E[K];A&&(w.Texture.removeFromCache(A),A.destroy(!0),delete E[K])}_filterStaticTriggers(K){return K.c==="StaticTrigger"?K.p.invert!==!(0,z.Z)(K.p.dataPath||h.StaticTrigger.dataPath,j.Z):!K[":"]||!K[":"].some(A=>A.c==="StaticTrigger"&&!!A.p.invert!=!(0,z.Z)(A.p.dataPath||h.StaticTrigger.dataPath,j.Z))}_filterStaticTriggersRecursive(K){if(K[":"]){var A=K[":"].filter(F._filterStaticTriggers);K[":"]=A,A.forEach(F._filterStaticTriggersRecursive)}}_setSounds(K){for(var A in v=K,n)n[A].unload();for(var b in n={},v){var R=v[b],O=void 0;typeof R[R.length-1]=="number"&&(O=R.pop());var W=M({src:R.map(x),preload:!j.Z.projectDesc.loadOnDemandSounds.hasOwnProperty(b)},O);W.lastPlayStartFrame=0,n[b]=W}}_preCacheSoundsAndTextures(){var K,A={};K=setInterval(()=>{if(j.Z.getLoadingCount()===0){for(var b in v)if(j.Z.projectDesc.loadOnDemandSounds[b]===2&&F.preloadSound(b))return;for(var R in j.Z.projectDesc.loadOnDemandTextures)if(j.Z._getTextureSettingsBits(R,3)===2&&!A[R])return A[R]=!0,void N.Z.easyPreloadImage(R);clearInterval(K)}},1e3)}getSoundsLoadingCount(){var K=0;for(var A in n)X(n[A])||K++;return K}hasSound(K){return v.hasOwnProperty(K)}getSound(K,A){return n[K]}preloadSound(K){if(K){var A=n[K];if(A.state()==="unloaded")return A.load(),!0}}__clearAssetsLists(){E={},F.resources={},F.__texturesList=[],__allTextures={},F.__resourcesList=[]}_loadClassInstanceById(K){var A=P.Z.create(Y[K]);return Object.assign(A,h[K]),I(A),A}hasTexture(K){return E.hasOwnProperty(K)}getTextureEndingWith(K){var A=Object.keys(E).find(b=>b.endsWith(K));return A&&F.getTexture(A)}getTexture(K){return E[K]}destroyObjectAndChildren(K,A){if(K.onRemove(),K._thing_initialized=!1,A){var b=P.Z.create(u),R=K.parent.children;R[R.indexOf(K)]=b,b.parent=K.parent,p.push(b),K.parent=null}else K.detachFromParent();for(;K.children.length>0;)F.destroyObjectAndChildren(K.getChildAt(K.children.length-1));P.Z.dispose(K),K.interactiveChildren=!0}_deserializeObject(K){var A,b;if(K.c==="PrefabReference"?(b=K.p.hasOwnProperty("dynamicPrefabName")?(0,z.Z)(K.p.dynamicPrefabName,this):K.p.prefabName,A=F._deserializeObject(U[b]),K.p.hasOwnProperty("inheritProps")||Object.assign(A,h[K.c],K.p)):(A=P.Z.create(Y[K.c]),Object.assign(A,h[K.c],K.p)),K.hasOwnProperty(":")){var R=K[":"];for(var O of R)A.addChild(F._deserializeObject(O))}return A}loadScene(K){if(a.hasOwnProperty(K))return a[K];k.hasOwnProperty(K)||(K=Object.keys(k)[0]);var A=k[K];A.p.__libSceneName=K;var b=c(A);return delete A.p.__libSceneName,j.Z.hasOwnProperty("__savedCurrentSceneForInitTime")&&(j.Z._setCurrentScene(j.Z.__savedCurrentSceneForInitTime),delete j.Z.__savedCurrentSceneForInitTime),b.isStatic&&(a[K]=b),b}_cleanupRemoveHolders(){for(;p.length>0;)F.destroyObjectAndChildren(p.pop())}hasPrefab(K){return U.hasOwnProperty(K)}hasScene(K){return k.hasOwnProperty(K)}_getStaticScenes(){return a}}var F=new L;function M(q,K){var A=new Howl(q);return A.once("loaderror",b=>{A.loadedWithError=!0}),A.once("load",()=>{K&&(A._duration=K,A._sprite.__default[1]=1e3*K)}),A}var c=q=>{var K=F._deserializeObject(q);return I(K),K};function x(q){return j.Z.resourcesPath+"snd/"+q}function X(q){return q.state()!=="loading"||q.loadedWithError}var D,G=new Set;function C(q){D&&clearTimeout(D),D=setTimeout(T,10),G.add(q)}function T(){D=null,j.Z.forAllChildrenEverywhere(q=>{if(q.image&&G.has(q.image)){var K=q.image;q.image="EMPTY",q.image=K}}),G.clear()}F.resources={},F.loadPrefab=function(q){return c(U[q])};const J=F},3237:(Ae,le,d)=>{d.d(le,{Z:()=>Y,i:()=>z});var k=d(1746),h=d(5446),P=(E,v)=>{var n,a=z(E),u=a.p,p=u[0];n=p==="this"?v:h.Z[p];for(var I,L=1;L<u.length;){var F=u[L];I=n,n=typeof F=="string"?n[F]:n.getChildByName(F.s),L++}return a.hasOwnProperty("v")?n===k.P?(0,k.P)(a.v[0],a.v[1],v):n.apply(I,a.v):n.call(I)},j={},z=E=>{if(j.hasOwnProperty(E))return j[E];var v={},n=E.split("`");return v.p=n[0].split(".").map(U),n.length>1&&(v.v=n[1].split(",").map(w)),j[E]=v,v},N=/^\-?[\.0-9]+$/,w=E=>E.match(N)?parseFloat(E):E,U=E=>E.charCodeAt(0)===35?{s:E.substr(1)}:E;const Y=P},1746:(Ae,le,d)=>{d.d(le,{P:()=>P,Z:()=>j});var k=d(5446),h=(d(5869),d(3237)),P=(z,N,w)=>{var U,Y=(0,h.i)(z).p,E=Y[0];U=E==="this"?w:k.Z[E];for(var v=1;v<Y.length-1;){var n=Y[v];if(!(U=typeof n=="string"?U[n]:U.getChildByName(n.s)))return;v++}var a=Y[v];U[a]!==N&&(U[a]=N)};const j=(z,N)=>{var w,U=(0,h.i)(z),Y=U.p,E=Y[0];w=E==="this"?N:k.Z[E];for(var v,n=1;n<Y.length;){var a=Y[n];if(v=w,!(w=typeof a=="string"?w[a]:w.getChildByName(a.s)))return w;n++}return typeof w=="function"?w.apply(v,U.v):w}},9042:(Ae,le,d)=>{d.d(le,{Z:()=>v});var k,h=d(5446),P={},j={},z=window.navigator&&navigator.language?navigator.language.split("-")[0]:"en",N=!1;function w(n){var a,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return P.hasOwnProperty(n)?(a=P[n],w.messageProcessor&&(a=w.messageProcessor(a,u,p))):a=n,u!==void 0&&(a=a.replace("%d",u),p!==void 0&&(a=a.replace("%s",p))),a}function U(n){if(N){if(z!==n){if(j.hasOwnProperty(n))z=n;else if(z=h.Z.projectDesc.defaultLanguage,window.navigator&&navigator.languages){for(var a of navigator.languages)if(a=a.split("-")[0],j.hasOwnProperty(a)){z=a;break}}P=j[z],w.fefreshAllTextEverywhere()}}else k=n}function Y(n){n.onLanguageChanged&&n.onLanguageChanged()}function E(n,a,u){for(var p in n)if(n.hasOwnProperty(p)){var I=n[p];typeof I=="string"?u?a[u+p]=n[p]:a[p]=n[p]:E(I,a,u?u+p+".":p+".")}}w.setLanguagesAssets=n=>{N=!0,j=n;var a=k||z;k=null,z=null,U(a)},w.loadLanguages=function(n,a){return n||(n=k),new Promise(u=>{var p=a+"/"+n+".json";return h.Z.fetchResource(p).then(I=>{I=w._deserializeLanguage(I),j[n]=I,this.setLanguagesAssets(j),u(I)})})},w.has=n=>P.hasOwnProperty(n),w.fefreshAllTextEverywhere=function(){h.Z.stage&&h.Z.forAllChildrenEverywhere(Y)},w.getCurrentLanguageId=()=>z,w.getLanguagesList=()=>Object.keys(j),w.setCurrentLanguage=U,w._deserializeLanguage=function(n){var a={};return E(n,a),a};const v=w},4890:(Ae,le,d)=>{d.d(le,{Z:()=>U});var k=d(4702),h=d(5045),P=(d(5446),.0101),j=40,z=1/j,N={},w={};setInterval(()=>{for(var E in w)w[E]._updateFading()},j);class U{constructor(v){v.dynamicPreloading&&(v.loop&&h.Z.preloadSound(v.loop),v.intro&&h.Z.preloadSound(v.intro)),this.onIntroEnd=this.onIntroEnd.bind(this),this.intro=v.intro,this.loop=v.loop,this.musicFragmentHash=v.musicFragmentHash}_updateFading(){var v=this.getVolume();this._fadeToVol!==v&&((v=(0,k.R3)(v,this._fadeToVol,1/(this._fadeSpeed+1e-4)*z))<P&&this._fadeToVol<P?this._releaseCurrentFragment():this._currentFragment.volume(v))}getVolume(){return this._currentFragment?this._currentFragment._sounds[0]._volume:0}static onMusicRemove(v){for(var n in w){var a=w[n];a.owner===v&&Y(a)}}static resetPosition(v){N.hasOwnProperty(v)&&N[v].resetPosition()}resetPosition(){var v;this._currentFragment&&(this._releaseCurrentFragment(),v=!0),this.introPos=0,this.loopPos=0,this.isLoopPos=!1,v&&this.startPlay()}startPlay(){this.intro&&!this.isLoopPos?(this._playMusicFragment(this.intro,this.introPos,this._fadeToVol),this._currentFragment&&(this._currentFragment.loop(!1),this._currentFragment.on("end",this.onIntroEnd))):this.loop&&(this.isLoopPos=!0,this._playMusicFragment(this.loop,this.loopPos),this._currentFragment&&this._currentFragment.loop(!0))}onIntroEnd(){if(this._currentFragment){var v=this.getVolume();this._releaseCurrentFragment(),this._playMusicFragment(this.loop,0,v),this.isLoopPos=!0,this._currentFragment&&this._currentFragment.loop(!0)}this.owner&&this.owner._onIntroFinish()}_playMusicFragment(v){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P;if(v)try{(v=h.Z.getSound(v,!0)).volume(a),v.seek(n),v.soundIdSaved=v.play(v.soundIdSaved),this._currentFragment=v,w[this.musicFragmentHash]=this}catch{}}_releaseCurrentFragment(){this._currentFragment&&(this._currentFragment.off("end",this.onIntroEnd),this.isLoopPos?this.loopPos=this._currentFragment.seek():this.introPos=this._currentFragment.seek(),this._currentFragment.stop(),this._currentFragment=null,delete w[this.musicFragmentHash])}static _applyFadeForAll(v){for(var n in w)w[n]._fadeSpeed=v}static setPlayingBGMusics(v){var n={};for(var a of v){var u=void 0;n[a.musicFragmentHash]=!0,N.hasOwnProperty(a.musicFragmentHash)?u=N[a.musicFragmentHash]:(u=new U(a),N[a.musicFragmentHash]=u),u._fadeToVol=a._cachedTargetVol,u._fadeSpeed=a._getFade(u._fadeToVol<P),u.owner=a,w.hasOwnProperty(a.musicFragmentHash)||u.startPlay()}for(var p in w)n.hasOwnProperty(p)||(w[p]._fadeToVol=0,w[p].owner&&Y(w[p]))}static __applyGameSpeed(v){for(var n in w){var a=w[n];a._currentFragment&&a._currentFragment.rate(v)}}}function Y(E){E._fadeSpeed=E.owner._getFade(!0),E.owner.customFade=null,E.owner=null}},6794:(Ae,le,d)=>{d.d(le,{Z:()=>h});var k=new Map;class h{static clearAll(){k.clear()}static create(j){if(!k.has(j))return new j;var z=k.get(j);return z.length===0?new j:z.pop()}static dispose(j){var z=j.constructor;k.has(z)||k.set(z,[]),k.get(z).push(j)}}},1437:(Ae,le,d)=>{d.d(le,{Z:()=>N});var k=d(5446),h=d(6107),P=[],j=h.Spritesheet.prototype.parse;h.Spritesheet.prototype.parse=function(){try{j.apply(this,arguments)}catch(w){k.Z._onLoadingError("Spritesheet parsing error ("+this.data.meta.image+"): "+w.message)}};var z=new RegExp(/\.[^.]+$/);class N{constructor(){this._createNewLoader(),this.attempt=0,this.count=1,this.resources={}}static pre(U,Y){var E=U.url.slice(U.url.indexOf("/img/")+5),v=U.metadata&&U.metadata[E]?U.metadata[E]:U.metadata,n=v.e||U.extension;v.f_e&&n.endsWith("webp")&&!k.Z.isWebpAvailable&&(n=v.f_e),n!==U.extension&&(U.orig_url=U.url,U.url=U.url.replace(z,n),U.extension=n.slice(n.lastIndexOf(".")+1)),Y()}static easyPreloadImage(U){var Y={url:k.Z._textureNameToPath(U),metadata:k.Z.getImageMetadata(U),extension:U.slice(U.lastIndexOf(".")+1)};N.pre(Y,()=>{}),new Image().src=Y.url}add(U){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U,E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=E.metadata||{};E.metadata={...v,imageMetadata:v,spineAtlas:v.s_a},this.loader.add(U,Y,E),this.resources[U]=!0,this.count++}static getLoadingCount(){var U=0;for(var Y of P)U+=Y.count;return U}static destroyAllLoaders(){for(var U of P)U.loader.destroy()}load(U,Y){var E;Y||P.push(this),this.loader.onLoad.add((v,n)=>{this.resources[n.name]&&this.count--}),this.loader.load(()=>{if(!k.Z._loadingErrorIsDisplayed){for(var v of Object.values(this.loader.resources))if(v.error){if(E||(E=[]),!this.resources[v.name]){E=E.concat(Object.keys(this.resources).map(a=>this.loader.resources[a]));break}E.push(v)}if(E)this.attempt++<3?setTimeout(()=>{for(var a of(this._createNewLoader(),this.count=1,E))a.metadata&&(a.metadata.f_e&&(a.metadata.e=a.metadata.f_e),Object.values(a.metadata).forEach(u=>{u&&u.f_e&&(u.e=u.f_e)})),this.add(a.name,a.orig_url||a.url,{metadata:a.metadata});this.load(U,!0)},1e3*this.attempt):k.Z._onLoadingError(E[0].url);else{this.resources=Object.assign(this.resources,this.loader.resources);var n=P.indexOf(this);P.splice(n,1),k.Z._loadingErrorIsDisplayed||(U&&U(this,this.resources),P.length===0&&N.preloader&&(N.preloader.onComplete(),N.preloader=null))}}})}_createNewLoader(){this.loader=new h.Loader("",1e3),this.loader.pre(N.pre)}}},8106:(Ae,le,d)=>{d.d(le,{Z:()=>h}),d(5446);class k{constructor(j){this._storageId=j;try{typeof Storage<"u"&&localStorage.hasOwnProperty(j)&&(this.data=JSON.parse(localStorage[j]))}catch{this.data={}}this.hasOwnProperty("data")||(this.data={}),this.flush=this.flush.bind(this)}getItem(j,z){return this.data.hasOwnProperty(j)?this.data[j]:z}setItem(j,z){z===this.data[j]&&typeof z!="object"||(this.data[j]=z,this.changed(),k.globalOnChanged&&k.globalOnChanged(j,z))}removeItem(j){this.data.hasOwnProperty(j)&&(delete this.data[j],this.changed())}changed(){this.hasOwnProperty("__flushInterval")||(this.__flushInterval=setTimeout(this.flush,10,this))}clear(){this.data={},this.changed()}flush(){if(typeof Storage<"u"){delete this.__flushInterval;try{localStorage.setItem(this._storageId,JSON.stringify(this.data))}catch{this.data=this.data||{}}}}}const h=k},7049:(Ae,le,d)=>{d.d(le,{Z:()=>E});var k,h,P,j=d(5446),z=d(5045),N=d(4294),w=(d(4890),.005),U=.05;function Y(F,M){return F>U?F:M}class E{static get soundsVol(){return n}static setSoundsVol(M){E.soundsVol=M}static set soundsVol(M){M=Math.max(0,Math.min(1,M)),n=M,j.Z.settings.setItem("soundsVol",n)}static get musicVol(){return a}static setMusicVol(M){E.musicVol=M}static set musicVol(M){M=Math.max(0,Math.min(1,M)),a!==M&&N.Z._clearCustomFades(.2),a=M,j.Z.settings.setItem("musicVol",a),N.Z._recalculateMusic()}static get fullVol(){return Math.max(n,a)}static set fullVol(M){var c=j.Z.settings.getItem("musicEnabled",!0),x=j.Z.settings.getItem("soundEnabled",!0);c||x||(c=x=!0),c?E.musicVol=M:j.Z.settings.setItem("musicVolEnabling",M),x?E.soundsVol=M:j.Z.settings.setItem("soundsVolEnabling",M)}static get musicEnabled(){return a>=w}static set musicEnabled(M){E.musicEnabled!==M&&(N.Z._clearCustomFades(.2),M?E.musicVol=Y(j.Z.settings.getItem("musicVolEnabling"),j.Z.projectDesc.defaultMusVol):(j.Z.settings.setItem("musicVolEnabling",a),E.musicVol=0),E.rememberEnablings())}static rememberEnablings(){v||(v=setTimeout(L,10))}static toggleMusic(){E.musicEnabled=!E.musicEnabled}static get soundEnabled(){return n>=w}static set soundEnabled(M){E.soundEnabled!==M&&(M?E.soundsVol=Y(j.Z.settings.getItem("soundsVolEnabling"),j.Z.projectDesc.defaultSoundsVol):(j.Z.settings.setItem("soundsVolEnabling",n),E.soundsVol=0),E.rememberEnablings())}static toggleSounds(){E.soundEnabled=!E.soundEnabled}static toggleFullSound(){E.soundEnabled||E.musicEnabled?(E.soundEnabled=!1,E.musicEnabled=!1):(E.musicEnabled=j.Z.settings.getItem("musicEnabled",!0),E.soundEnabled=j.Z.settings.getItem("soundEnabled",!0))}static init(){n=j.Z.settings.getItem("soundsVol",j.Z.projectDesc.defaultSoundsVol),a=j.Z.settings.getItem("musicVol",j.Z.projectDesc.defaultMusVol)}static play(M){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,D=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(!E.isSoundsLockedByBrowser&&j.Z.isVisible){var G=z.Z.getSound(M);if(G){if(G.lastPlayStartFrame<j.Z.time&&(!D&&G.playing()&&G.stop(),(c*=E.soundsVol)>.01))try{D?(G.soundIdSaved=G.play(),G.volume(c,G.soundIdSaved),G.rate(x,G.soundIdSaved),X!==0&&G.seek(X,G.soundIdSaved)):(G.volume(c),G.rate(x),X!==0&&G.seek(X),G.soundIdSaved=G.play(G.soundIdSaved)),G.lastPlayStartFrame=j.Z.time+2}catch{}}else{var C=new Error('Attempt to play unknown sound "'+M+'"');setTimeout(()=>{throw C})}}}static playPitched(M){var c,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1.0594630943592953,D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:3,G=I[M],C=j.Z.time-G;C<2||(c=C<x?Math.min(p[M]*X,D):1,p[M]=c,I[M]=j.Z.time,E.play(M,1,c,0,!0))}static checkSoundLockByBrowser(){E.isSoundsLockedByBrowser=!0,j.Z.additionalLoadingsInProgress++;var M=()=>u(!0),c=()=>u(!1);(k=new Howl({src:"data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU2LjM2LjEwMAAAAAAAAAAAAAAA//OEAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAEAAABIADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDV1dXV1dXV1dXV1dXV1dXV1dXV1dXV1dXV6urq6urq6urq6urq6urq6urq6urq6urq6v////////////////////////////////8AAAAATGF2YzU2LjQxAAAAAAAAAAAAAAAAJAAAAAAAAAAAASDs90hvAAAAAAAAAAAAAAAAAAAA//MUZAAAAAGkAAAAAAAAA0gAAAAATEFN//MUZAMAAAGkAAAAAAAAA0gAAAAARTMu//MUZAYAAAGkAAAAAAAAA0gAAAAAOTku//MUZAkAAAGkAAAAAAAAA0gAAAAANVVV"})).once("playerror",M),k.once("end",c),h=setTimeout(M,500);try{k.play()}catch{u(!0)}}static _unlockSound(){E.isSoundsLockedByBrowser&&u(!1)}}var v,n,a,u=F=>{P||(j.Z.additionalLoadingsInProgress--,P=!0,clearTimeout(h)),F||(k.off("playerror"),k.off("play"),k.unload(),E.isSoundsLockedByBrowser=!1,j.Z.classes.BgMusic&&j.Z.classes.BgMusic._recalculateMusic())},p={},I={};function L(){v=null,(E.soundEnabled||E.musicEnabled)&&(j.Z.settings.setItem("soundEnabled",E.soundEnabled),j.Z.settings.setItem("musicEnabled",E.musicEnabled))}},4702:(Ae,le,d)=>{d.d(le,{I8:()=>h,OP:()=>P,R3:()=>k}),d(5446);var k=(j,z,N)=>Math.abs(j-z)<=N?z:j>z?j-N:j+N;function h(j){return JSON.parse(JSON.stringify(j))}async function P(){var j={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"};return await Promise.all(Object.entries(j).map(z=>{var[N,w]=z;return new Promise(U=>{var Y=new Image;Y.onload=()=>U([N,Y.width>0&&Y.height>0]),Y.onerror=()=>U([N,!1]),Y.src=`data:image/webp;base64,${w}`})})).then(z=>z.reduce((N,w)=>{var[U,Y]=w;return N[U]=Y,N},{}))}},1587:(Ae,le,d)=>{d.d(le,{Z:()=>k});const k={START_LOADING:"start_loading",GAME_LOADED:"game_loaded",GAME_INITIALIZED:"game_initialized",ACTION_EXEC:"action_exec",BET_CHANGED:"bet_changed",FINISH_SPIN_ANIMATIONS:"finish_spin_animations",FINISH_ROUND_ANIMATIONS:"finish_round_animations",API_RESPONSE:"api_response",BALANCE_UPDATE:"balance_update",BUTTON_CLICK:"button-click",PRE_PLAY:"pre_play",PLAY:"play",AUTOSPINS_STOPPED:"autospins_stopped",GO_HOME:"go_home",SET_SKIN:"set_skin",ERROR:"game_error",SET_LINES_COUNT:"set_lines_count",CUSTOM_EVENT:"custom_event",GAME_UI_BET_PANEL_OPENED:"game_ui_bet_panel_opened",GAME_UI_BET_PANEL_CLOSED:"game_ui_bet_panel_closed",GAME_UI_SETTINGS_OPENED:"game_ui_settings_opened",GAME_UI_SETTINGS_CLOSED:"game_ui_settings_closed",GAME_UI_RULES_OPENED:"game_ui_rules_opened",GAME_UI_RULES_CLOSED:"game_ui_rules_closed",GAME_UI_PAYTABLE_OPENED:"game_ui_paytable_opened",GAME_UI_PAYTABLE_CLOSED:"game_ui_paytable_closed",GAME_UI_AUTOSPINS_PANEL_OPENED:"game_ui_autospins_panel_opened",GAME_UI_AUTOSPINS_PANEL_CLOSED:"game_ui_autospins_panel_closed",GAME_UI_QUICK_SPIN_OFFER_OPENED:"game_ui_quick_spin_offer_opened",GAME_UI_QUICK_SPIN_OFFER_CLOSED:"game_ui_quick_spin_offer_closed"}},331:(Ae,le,d)=>{d.d(le,{Z:()=>z});var k=d(1575),h=d(1746),P=d(9042),j=d(5446);class z extends k.Z{init(){super.init(),this.showedVal2=void 0,this.countOnStart&&(this.showedVal=0),this.template&&(this.template=this.template.replace("\\n",`
`)),this.savedTemplate=null,j.Z.data&&this.refreshDecimalsCount(),this.applyMaxWidth()}refreshDecimalsCount(){var U;typeof(U=this.decimalsCountPath?(0,h.Z)(this.decimalsCountPath,this):j.Z.data.currencyDigits)=="number"&&(this.decimalsCount=U)}update(){if(this.refreshDecimalsCount(),this.dataPath2&&this.currentInterval===this.refreshInterval){var U=(0,h.Z)(this.dataPath2,this);U!==void 0&&U!==this.showedVal2&&(this.showedVal2=U,this.setSymbol(U))}super.update()}refreshNow(){this.showedVal=void 0,super.refreshNow()}customizeVal(U){return U&&U/j.Z.data.currencyDivider}setSymbol(U){this.translatableText?this.template=(0,P.Z)(this.translatableText):this.savedTemplate?this.template=this.savedTemplate:this.savedTemplate=this.template,this.template=this.template.replace("%s",U),this.symbol=U,this.currentInterval=0,this.showedVal=void 0}onLanguageChanged(){this.symbol&&this.translatableText&&this.setSymbol(this.symbol),super.onLanguageChanged()}_onRenderResize(){this.applyMaxWidth()}applyMaxWidth(){var U=j.Z.isPortrait?this.maxWidthPortrait:this.maxWidthLandscape;U>0&&(this.maxWidth=U)}static initMoneyFormatter(U){typeof Intl=="object"&&(k.Z.formatMoney=(Y,E)=>{var v=N[E];return v||(v=Intl.NumberFormat(U.substr(0,2),{maximumFractionDigits:E,minimumFractionDigits:E}).format,N[E]=v),v(Y)})}}var N={}},6635:(Ae,le,d)=>{d.d(le,{Z:()=>p});var k=d(8125),h=d(8106),P=d(5446),j=d(5045),z=d(1587),N=d(7049);window.trackGameEventListeners||(window.trackGameEventListeners=[]);var w={QUICK_SPIN_SETTINGS:"quick_spin_default",QUICK_SPINS_POPUP_OFFER:"quick_spins_popup_offer",SOUND_VALUE:"sound_value"},U=[{name:w.QUICK_SPIN_SETTINGS,handler:D=>{var G,C;if(((G=P.Z.casinoOptions)===null||G===void 0||(C=G.license_rules)===null||C===void 0?void 0:C.min_spin_time)!==void 0)return!1;var T=P.Z.settings.getItem("quickSpin",!1),J=P.Z.settings.getItem("growthbook_quickSpin");return J===void 0&&(J=D.value,P.Z.settings.setItem("growthbook_quickSpin",J)),T!==J&&(P.Z.data.quickSpin=J,P.Z.settings.setItem("quickSpin",P.Z.data.quickSpin)),window.trackGameEventListeners.push((q,K,A)=>{q==="settings-change"&&K==="quickSpin"&&P.Z.settings.setItem("growthbook_quickSpin",A)}),!0}},{name:w.QUICK_SPINS_POPUP_OFFER,handler:D=>{var G,C;return((G=P.Z.casinoOptions)===null||G===void 0||(C=G.license_rules)===null||C===void 0?void 0:C.min_spin_time)===void 0&&(D.value===0||window.trackGameEventListeners.push((T,J)=>{var q=P.Z.settings.getItem("quickSpin",!1),K=P.Z.settings.getItem("quickSpinCount",0);if(J==="spin-button"&&!q&&K&&K===D.value){K++,P.Z.settings.setItem("quickSpinCount",K),p.track(z.Z.GAME_UI_QUICK_SPIN_OFFER_OPENED);var A=P.Z.showQuestion(!1,!1,"slot.popups.buy_bonus.enable",Y,"slot.popups.buy_bonus.no",E,!0,"thing-games-utils/offer-question");A.findChildByName("close-btn").callback=()=>{E(),P.Z.hideModal(A)}}T!=="skip"||J!=="spin"||q||(K++,P.Z.settings.setItem("quickSpinCount",K))}),!0)}},{name:w.SOUND_VALUE,handler:D=>{if(P.Z.settings.getItem("gb_sound_value_applied"))return!0;var G=.01*D.value;return N.Z.soundEnabled=N.Z.musicEnabled=!!G,G!==0&&(N.Z.fullVol=G),P.Z.settings.setItem("gb_sound_value_applied",!0),!0}}];function Y(){P.Z.data.quickSpin=!0,P.Z.settings.setItem("quickSpin",!0),p.track(z.Z.BUTTON_CLICK,"quick-spin-check","Quick Spin Offer")}function E(){p.track(z.Z.GAME_UI_QUICK_SPIN_OFFER_CLOSED)}var v=[],n={game_loaded:!0,game_initialized:!0,render_resize:!0},a=(D,G,C)=>{if(D===z.Z.GAME_LOADED&&M(),n[D]&&(C={width:P.Z.W,height:P.Z.H,isPortrait:P.Z.isPortrait,isMobile:P.Z.isMobile.any,isGambleAvailable:P.Z.projectDesc.libs.indexOf("thing-games-utils/gamble")>0||j.Z.hasScene("gamble"),isProvabilityAvailable:j.Z.hasPrefab("thing-games-utils/provability-panel"),isBuyFeaturesAvailable:P.Z.data.initData&&P.Z.data.initData.options&&P.Z.data.initData.options.feature_options&&P.Z.data.initData.options.feature_options.feature_multipliers,ignoreOrientationEvents:!1}),window.trackGameEventListeners&&window.trackGameEventListeners.length)for(var T=window.trackGameEventListeners.length;T--;)window.trackGameEventListeners[T]&&window.trackGameEventListeners[T](D,G,C);try{v.forEach(J=>J(D,G,C))}catch{}},u={addListener:D=>{v.push(D)},track:a,trackCustom:(D,G,C,T)=>{a(z.Z.CUSTOM_EVENT,null,{action:D,label:G,value:C,isNonInteraction:T})}};const p=u;var I={cap:!0,"space to skip button":!0,"debug-button":!0};k.Z.globalOnClick=(D,G)=>{for(var C,T=D;T;){if(T.name){C=T.name;break}T=T.parent}I.hasOwnProperty(C)||a("button-click",C,G)};var L=["latestSpinResultV2","__allSymbolsIds","latestSpinResultTimeV2","last-spins-indexes","growthbook_"],F={},M=()=>{F={},h.Z.globalOnChanged=(D,G)=>{L.every(C=>D.indexOf(C)===-1)&&(typeof D=="object"&&D!==null||(G===void 0&&(G="undefined"),F[D]=G))},a("initial-settings",null,P.Z.settings.data)};setInterval(()=>{if(P.Z.mouse&&!P.Z.mouse.click)for(var D of Object.keys(F))a("settings-change",D,F[D]),delete F[D]},200),P.Z.onGameReload=()=>{a("game_reloading")},u.addListener(D=>{D===z.Z.SET_SKIN&&a("game_reloading")});var c=!1;function x(D){var{detail:G}=D;G.type==="initialized"&&console.log("[thing-games-utils] Analytics available in window.analytics",window.analytics),console.log("[thing-games-utils] Received message from analytics: ",G)}function X(D){window.dispatchEvent(new CustomEvent("experiment/incoming",{detail:{type:"addFeature",payload:{name:D.name,handler:D.handler}}}))}window.dispatchEvent(new CustomEvent("analytics/incoming",{detail:{type:"start",payload:{isEditor:c}}})),window.addEventListener("analytics/outgoing",x),window.addEventListener("experiment/outgoing",D=>{var{detail:G}=D;if(G.type==="ready")for(var C of(console.log("[Utils Analytics] ExperimentManager Ready!",G),U))console.log("[Utils Analytics] Add Feature",C),X(C)})},1868:(Ae,le,d)=>{d.d(le,{Z:()=>Y});var k=d(5446),h=d(9042),P=d(4702),j=d(2447);class z{initGame(){this.initReplayData(),this.isReplayMode()&&(k.Z.all["spin-button"].hotkey=0,this.speed||(this.speed=1),this.started=!1,this.replayData&&(this.initView(),k.Z.settings.clear()),this.clickToContinueDelay=0,this.refreshView())}isReplayMode(){return!!this.replayData}getNextResponse(){return this.replayData.shift()}beforeGameInit(){j.projectDesc.id="replay-mode"}initView(){if(!this.viewInitialized){setInterval(this.update.bind(this),1e3/60*10),this.viewInitialized=!0;var v=document.createElement("div");v.id="replay-panel",k.Z.pixiApp.view.parentElement.appendChild(v);var n=document.createElement("button");n.addEventListener("pointerdown",()=>{this.setSpeed(1)}),n.innerText="×1",v.appendChild(n),this.x1btn=n;var a=document.createElement("button");a.addEventListener("pointerdown",()=>{this.setSpeed(2)}),a.innerText="×2",v.appendChild(a),this.x2btn=a;var u=document.createElement("button");u.addEventListener("pointerdown",()=>{this.setSpeed(4)}),u.innerText="×4",v.appendChild(u),this.x4btn=u,v.appendChild(document.createTextNode((0,h.Z)("replay")));var p=document.createElement("button");p.addEventListener("pointerdown",()=>{this.paused=!0,k.Z.pixiApp.ticker.speed=0,k.Z.SharedAPI.restartGame()}),p.innerText="⏮",v.appendChild(p),this.restartButton=p;var I=document.createElement("button");I.addEventListener("pointerdown",()=>{this.started?(this.paused=!this.paused,k.Z.pixiApp.ticker.speed=this.paused?0:this.speed,this.refreshView()):this.clickSpin()}),v.appendChild(I),this.playBtn=I;var L=document.createElement("div");L.id="pause-message",v.appendChild(L),L.innerText="P A U S E",this.pauseMessage=L,this.refreshView()}}clickSpin(){var v=k.Z.all["spin-button"];v&&v.isCanBePressed&&(v.callClick(),this.started=!0,this.refreshView())}skipClickToContinuePopups(){var v=!1;k.Z.currentContainer&&k.Z.currentContainer.forAllChildren(n=>{n instanceof k.Z.classes.Text&&(n.worldVisible&&n.worldAlpha||this.clickToContinueDelay>0)&&n.translatableText&&(n.translatableText.includes("tap_to_continue")||n.translatableText.includes("click_to_continue")||n.translatableText.includes("push_to_continue")||n.translatableText.includes("tap_to_start")||n.translatableText.includes("push_to_start")||n.translatableText.includes("click_to_start")||n.translatableText.includes("tap_to_spin")||n.translatableText.includes("push_to_spin")||n.translatableText.includes("click_to_spin")||n.translatableText.includes("tap_to_play")||n.translatableText.includes("push_to_play")||n.translatableText.includes("click_to_play"))&&(this.clickToContinueDelay++,this.clickToContinueDelay===12&&this.clickSpin(),v=!0)}),v||(this.clickToContinueDelay=0)}chooseFeature(){if(this.replayData.length&&k.Z.currentContainer){var v=N(this.replayData[0]);if(v){var n=k.Z.currentContainer.findChildByName("choose-btn-"+v);n&&this.clickButton(n)}}}gamblePlay(){if(this.replayData.length&&k.Z.currentContainer){var v=w(this.replayData[0]);if(v){var n=k.Z.currentContainer.findChildByName("gamble-btn");if(n&&n.isCanBePressed)return this.clickButton(n),!0;n=null;var a="currentScene.playGamble`"+v;k.Z.currentContainer.forAllChildren(u=>{u instanceof k.Z.classes.Button&&u.onClick===a&&(n=u)}),n&&this.clickButton(n)}}}update(){this.paused||(this.buttonClickWaits?this.processClickWaitingButton():(this.skipClickToContinuePopups(),this.chooseFeature()||this.gamblePlay()))}clickButton(v){this.buttonClickWaits=v,this.clickButtonDelay=0}processClickWaitingButton(){if(this.buttonClickWaits)return this.buttonClickWaits.isCanBePressed&&(this.clickButtonDelay++,this.clickButtonDelay===6&&this.buttonClickWaits.onOver(),this.clickButtonDelay===12&&(this.buttonClickWaits.callClick(),this.buttonClickWaits=null)),!0}setSpeed(v){this.speed=v,k.Z.pixiApp.ticker.speed=v,this.refreshView()}refreshView(){this.playBtn.innerText=!this.started||this.paused?"⏵":"⏸",this.pauseMessage.style.display=!this.started||this.paused?"block":"none",this.started?this.playBtn.classList.remove("highlight"):this.playBtn.classList.add("highlight"),this.restartButton.disabled=!this.started,this.x1btn.disabled=this.speed===1,this.x2btn.disabled=this.speed===2,this.x4btn.disabled=this.speed===4}initStyles(){this.initReplayData(),this.replayData&&k.Z.applyCSS(`
canvas {
	pointer-events: none;
	border: #ffcc29 3px solid;
	box-sizing: border-box;
	border-top-width: 45px;
}

#replay-panel {
	height: 45px;
    z-index: 100;
    position: absolute;
    top: 0;
    font-family: 'Arial';
    color: #000000;
    display: flex;
	width: 100%;
    align-items: baseline;
    justify-content: center;
	font-size: 20px;
	font-weight: 700;
}

#replay-panel button {
	cursor: pointer;
    padding: 6px 13px;
    background: #ff8f00;
    margin: 5px;
    border-radius: 5px;
    font-size: 17px;
	font-weight: 700;
}

#replay-panel button:hover {
	outline: 1px solid #774400;
	outline-offset: 2px;
}

#replay-panel button:disabled {
	pointer-events: none;
	cursor: unset;
	opacity: 0.5;
}

.highlight {
	animation: highlight 1s ease 0s infinite normal forwards;
	outline-offset: 2px;
	outline: 3px solid #ff0000;
}

#pause-message {
	animation: flash 1s ease 0s infinite normal forwards;
    position: absolute;
	font-family: 'Arial';
    color: #ffffff;
	top: 43vh;
    font-size: 400%;
    text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;
}

@keyframes highlight {
	0%,
	100% {
		outline-color: #ff0000;
	}
	50% {
		outline-color: #ffcc29;
	}
}

@keyframes flash {
	0%,
	100% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
}

`)}initReplayData(){this.replayData=(0,P.I8)(window.__OPTIONS__.replay||null),this.replayData&&this.replayData.some(v=>{if(v&&v.outcome&&v.outcome.bet){var n=v.outcome.bet,a=this.replayData[0].options;return a.currency||(a.currency={code:"FUN",symbol:"FUN",subunits:100,exponent:2}),a.default_bet=n,a.available_bets.indexOf(n)<0&&(a.available_bets.push(n),a.available_bets.sort((u,p)=>u-p)),!0}})}}function N(E){if(E.features)return E.features.freespins_type}function w(E){if(E.gamble)return E.gamble.value[1]}var U=new z;U.initStyles();const Y=U},4247:(Ae,le,d)=>{d.d(le,{U:()=>N});var k=d(3339),h=d(7585),P=d(2517),j=d(3732),z=d(6635),N=!0;window.Sentry=k,h.S1({environment:window.__OPTIONS__.environment,dsn:"https://825bff62c73b49919d014b83b408de0b@sentry.bgaming-system.com/12",release:"Plinko (game: v0.0.27_v14.6.4, utils: v14.6.4)",ignoreErrors:["WakeLock","fullscreen error","Copy command failed","Non-Error promise rejection captured","play()","not allowed"],beforeBreadcrumb:w=>w.category==="ui.click"?null:w}),window.user_id&&P.av({id:window.user_id}),z.Z.addListener((w,U,Y)=>{P.n_({type:"info",category:"game.event",message:w,data:{eventName:w,targetName:U,source:JSON.stringify(Y)},level:j.z.Info})})},4942:(Ae,le)=>{function d(){return typeof Intl>"u"||!("getCanonicalLocales"in Intl)||Intl.getCanonicalLocales("und-x-private")[0]==="x-private"}Object.defineProperty(le,"__esModule",{value:!0}),le.shouldPolyfill=void 0,le.shouldPolyfill=d},38:(Ae,le)=>{function d(){try{return new Intl.Locale("und-x-private").toString()==="x-private"}catch{return!0}}function k(){return!("Locale"in Intl)||d()}Object.defineProperty(le,"__esModule",{value:!0}),le.shouldPolyfill=void 0,le.shouldPolyfill=k},2930:(Ae,le,d)=>{function k(h,P){for(var j=P;;){if(h.has(j))return j;var z=j.lastIndexOf("-");if(!~z)return;z>=2&&j[z-2]==="-"&&(z-=2),j=j.slice(0,z)}}d.d(le,{t:()=>k})},5605:(Ae,le,d)=>{d.d(le,{T:()=>P});var k=d(9102),h=d(2930);function P(j,z){for(var N=[],w=0,U=z;w<U.length;w++){var Y=U[w].replace(k.p,""),E=(0,h.t)(j,Y);E&&N.push(E)}return N}},5731:(Ae,le,d)=>{d.d(le,{f:()=>N});var k=d(9102),h=d(2930);function P(w,U,Y){for(var E={locale:""},v=0,n=U;v<n.length;v++){var a=n[v],u=a.replace(k.p,""),p=(0,h.t)(w,u);if(p)return E.locale=p,a!==u&&(E.extension=a.slice(u.length+1,a.length)),E}return E.locale=Y(),E}function j(w,U,Y){var E,v={},n={},a={},u=new Set;w.forEach(function(X){var D=new Intl.Locale(X).minimize().toString(),G=Intl.getCanonicalLocales(X)[0]||X;v[D]=X,n[X]=X,a[G]=X,u.add(D),u.add(X),u.add(G)});for(var p=0,I=U;p<I.length;p++){var L=I[p];if(E)break;var F=L.replace(k.p,"");if(w.has(F)){E=F;break}if(u.has(F)){E=F;break}var M=new Intl.Locale(F),c=M.maximize().toString(),x=M.minimize().toString();if(u.has(x)){E=x;break}E=(0,h.t)(u,c)}return E?{locale:n[E]||a[E]||v[E]||E}:{locale:Y()}}function z(w,U){(0,k.k)(U.length===2,"key must have 2 elements");var Y=w.length,E="-".concat(U,"-"),v=w.indexOf(E);if(v!==-1){for(var n=v+4,a=n,u=n,p=!1;!p;){var I=w.indexOf("-",u);(I===-1?Y-u:I-u)===2?p=!0:I===-1?(a=Y,p=!0):(a=I,u=I+1)}return w.slice(n,a)}if(E="-".concat(U),(v=w.indexOf(E))!==-1&&v+3===Y)return""}function N(w,U,Y,E,v,n){for(var a,u=(a=Y.localeMatcher==="lookup"?P(w,U,n):j(w,U,n)).locale,p={locale:"",dataLocale:u},I="-u",L=0,F=E;L<F.length;L++){var M=F[L];(0,k.k)(u in v,"Missing locale data for ".concat(u));var c=v[u];(0,k.k)(typeof c=="object"&&c!==null,"locale data ".concat(M," must be an object"));var x=c[M];(0,k.k)(Array.isArray(x),"keyLocaleData for ".concat(M," must be an array"));var X=x[0];(0,k.k)(typeof X=="string"||X===null,"value must be string or null but got ".concat(typeof X," in key ").concat(M));var D="";if(a.extension){var G=z(a.extension,M);G!==void 0&&(G!==""?~x.indexOf(G)&&(X=G,D="-".concat(M,"-").concat(X)):~G.indexOf("true")&&(X="true",D="-".concat(M)))}if(M in Y){var C=Y[M];(0,k.k)(typeof C=="string"||C==null,"optionsValue must be String, Undefined or Null"),~x.indexOf(C)&&C!==X&&(X=C,D="")}p[M]=X,I+=D}if(I.length>2){var T=u.indexOf("-x-");if(T===-1)u+=I;else{var J=u.slice(0,T),q=u.slice(T,u.length);u=J+I+q}u=Intl.getCanonicalLocales(u)[0]}return p.locale=u,p}},9102:(Ae,le,d)=>{d.d(le,{k:()=>h,p:()=>k});var k=/-u(?:-[0-9a-z]{2,8})+/gi;function h(P,j,z){if(z===void 0&&(z=Error),!P)throw new z(j)}},9705:(Ae,le,d)=>{function k(z){return Intl.getCanonicalLocales(z)}d.r(le),d.d(le,{LookupSupportedLocales:()=>P.T,ResolveLocale:()=>h.f,match:()=>j});var h=d(5731),P=d(5605);function j(z,N,w,U){var Y=N.reduce(function(E,v){return E.add(v),E},new Set);return(0,h.f)(Y,k(z),{localeMatcher:(U==null?void 0:U.algorithm)||"best fit"},[],{},function(){return w}).locale}},4526:(Ae,le,d)=>{Object.defineProperty(le,"__esModule",{value:!0}),le.shouldPolyfill=void 0;var k=d(9705),h=d(3385);function P(z){if(!z)return!0;var N=Array.isArray(z)?z:[z];return Intl.PluralRules.supportedLocalesOf(N).length===N.length}function j(z){if(z===void 0&&(z="en"),!("PluralRules"in Intl)||new Intl.PluralRules("en",{minimumFractionDigits:2}).select(1)==="one"||!P(z))return z?(0,k.match)([z],h.supportedLocales,"en"):void 0}le.shouldPolyfill=j},3385:(Ae,le)=>{Object.defineProperty(le,"__esModule",{value:!0}),le.supportedLocales=void 0,le.supportedLocales=["af","ak","am","an","ar","ars","as","asa","ast","az","bal","be","bem","bez","bg","bho","bm","bn","bo","br","brx","bs","ca","ce","ceb","cgg","chr","ckb","cs","cy","da","de","doi","dsb","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fil","fo","fr","fur","fy","ga","gd","gl","gsw","gu","guw","gv","ha","haw","he","hi","hnj","hr","hsb","hu","hy","ia","id","ig","ii","io","is","it","iu","ja","jbo","jgo","jmc","jv","jw","ka","kab","kaj","kcg","kde","kea","kk","kkj","kl","km","kn","ko","ks","ksb","ksh","ku","kw","ky","lag","lb","lg","lij","lkt","ln","lo","lt","lv","mas","mg","mgo","mk","ml","mn","mo","mr","ms","mt","my","nah","naq","nb","nd","ne","nl","nn","nnh","no","nqo","nr","nso","ny","nyn","om","or","os","osa","pa","pap","pcm","pl","prg","ps","pt-PT","pt","rm","ro","rof","ru","rwk","sah","saq","sat","sc","scn","sd","sdh","se","seh","ses","sg","sh","shi","si","sk","sl","sma","smi","smj","smn","sms","sn","so","sq","sr","ss","ssy","st","su","sv","sw","syr","ta","te","teo","th","ti","tig","tk","tl","tn","to","tpi","tr","ts","tzm","ug","uk","und","ur","uz","ve","vi","vo","vun","wa","wae","wo","xh","xog","yi","yo","yue","zh","zu"]},3736:(Ae,le,d)=>{var k,h,P,j,z,N,w,U,Y,E,v,n,a,u,p,I,L,F,M;d.d(le,{A7:()=>L,G5:()=>F,I2:()=>N,N3:()=>h,Nt:()=>v,T$:()=>j,UN:()=>p,V0:()=>P,Vi:()=>k,WB:()=>n,aH:()=>E,cB:()=>I,iw:()=>a,lg:()=>z,mr:()=>M,oT:()=>Y,sp:()=>w,vK:()=>U,yl:()=>u}),function(c){c[c.WEBGL_LEGACY=0]="WEBGL_LEGACY",c[c.WEBGL=1]="WEBGL",c[c.WEBGL2=2]="WEBGL2"}(k||(k={})),function(c){c[c.UNKNOWN=0]="UNKNOWN",c[c.WEBGL=1]="WEBGL",c[c.CANVAS=2]="CANVAS"}(h||(h={})),function(c){c[c.COLOR=16384]="COLOR",c[c.DEPTH=256]="DEPTH",c[c.STENCIL=1024]="STENCIL"}(P||(P={})),function(c){c[c.NORMAL=0]="NORMAL",c[c.ADD=1]="ADD",c[c.MULTIPLY=2]="MULTIPLY",c[c.SCREEN=3]="SCREEN",c[c.OVERLAY=4]="OVERLAY",c[c.DARKEN=5]="DARKEN",c[c.LIGHTEN=6]="LIGHTEN",c[c.COLOR_DODGE=7]="COLOR_DODGE",c[c.COLOR_BURN=8]="COLOR_BURN",c[c.HARD_LIGHT=9]="HARD_LIGHT",c[c.SOFT_LIGHT=10]="SOFT_LIGHT",c[c.DIFFERENCE=11]="DIFFERENCE",c[c.EXCLUSION=12]="EXCLUSION",c[c.HUE=13]="HUE",c[c.SATURATION=14]="SATURATION",c[c.COLOR=15]="COLOR",c[c.LUMINOSITY=16]="LUMINOSITY",c[c.NORMAL_NPM=17]="NORMAL_NPM",c[c.ADD_NPM=18]="ADD_NPM",c[c.SCREEN_NPM=19]="SCREEN_NPM",c[c.NONE=20]="NONE",c[c.SRC_OVER=0]="SRC_OVER",c[c.SRC_IN=21]="SRC_IN",c[c.SRC_OUT=22]="SRC_OUT",c[c.SRC_ATOP=23]="SRC_ATOP",c[c.DST_OVER=24]="DST_OVER",c[c.DST_IN=25]="DST_IN",c[c.DST_OUT=26]="DST_OUT",c[c.DST_ATOP=27]="DST_ATOP",c[c.ERASE=26]="ERASE",c[c.SUBTRACT=28]="SUBTRACT",c[c.XOR=29]="XOR"}(j||(j={})),function(c){c[c.POINTS=0]="POINTS",c[c.LINES=1]="LINES",c[c.LINE_LOOP=2]="LINE_LOOP",c[c.LINE_STRIP=3]="LINE_STRIP",c[c.TRIANGLES=4]="TRIANGLES",c[c.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",c[c.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(z||(z={})),function(c){c[c.RGBA=6408]="RGBA",c[c.RGB=6407]="RGB",c[c.RG=33319]="RG",c[c.RED=6403]="RED",c[c.RGBA_INTEGER=36249]="RGBA_INTEGER",c[c.RGB_INTEGER=36248]="RGB_INTEGER",c[c.RG_INTEGER=33320]="RG_INTEGER",c[c.RED_INTEGER=36244]="RED_INTEGER",c[c.ALPHA=6406]="ALPHA",c[c.LUMINANCE=6409]="LUMINANCE",c[c.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",c[c.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",c[c.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(N||(N={})),function(c){c[c.TEXTURE_2D=3553]="TEXTURE_2D",c[c.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",c[c.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",c[c.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",c[c.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",c[c.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",c[c.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",c[c.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",c[c.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(w||(w={})),function(c){c[c.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",c[c.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",c[c.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",c[c.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",c[c.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",c[c.UNSIGNED_INT=5125]="UNSIGNED_INT",c[c.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",c[c.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",c[c.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",c[c.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",c[c.BYTE=5120]="BYTE",c[c.SHORT=5122]="SHORT",c[c.INT=5124]="INT",c[c.FLOAT=5126]="FLOAT",c[c.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",c[c.HALF_FLOAT=36193]="HALF_FLOAT"}(U||(U={})),function(c){c[c.FLOAT=0]="FLOAT",c[c.INT=1]="INT",c[c.UINT=2]="UINT"}(Y||(Y={})),function(c){c[c.NEAREST=0]="NEAREST",c[c.LINEAR=1]="LINEAR"}(E||(E={})),function(c){c[c.CLAMP=33071]="CLAMP",c[c.REPEAT=10497]="REPEAT",c[c.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(v||(v={})),function(c){c[c.OFF=0]="OFF",c[c.POW2=1]="POW2",c[c.ON=2]="ON",c[c.ON_MANUAL=3]="ON_MANUAL"}(n||(n={})),function(c){c[c.NPM=0]="NPM",c[c.UNPACK=1]="UNPACK",c[c.PMA=2]="PMA",c[c.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",c[c.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",c[c.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",c[c.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(a||(a={})),function(c){c[c.NO=0]="NO",c[c.YES=1]="YES",c[c.AUTO=2]="AUTO",c[c.BLEND=0]="BLEND",c[c.CLEAR=1]="CLEAR",c[c.BLIT=2]="BLIT"}(u||(u={})),function(c){c[c.AUTO=0]="AUTO",c[c.MANUAL=1]="MANUAL"}(p||(p={})),function(c){c.LOW="lowp",c.MEDIUM="mediump",c.HIGH="highp"}(I||(I={})),function(c){c[c.NONE=0]="NONE",c[c.SCISSOR=1]="SCISSOR",c[c.STENCIL=2]="STENCIL",c[c.SPRITE=3]="SPRITE"}(L||(L={})),function(c){c[c.NONE=0]="NONE",c[c.LOW=2]="LOW",c[c.MEDIUM=4]="MEDIUM",c[c.HIGH=8]="HIGH"}(F||(F={})),function(c){c[c.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",c[c.ARRAY_BUFFER=34962]="ARRAY_BUFFER",c[c.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(M||(M={}))},9839:(Ae,le,d)=>{d.d(le,{$N:()=>F,$r:()=>qt,AI:()=>q,Bv:()=>mr,CT:()=>Qi,DL:()=>An,Ei:()=>ui,HI:()=>je,I8:()=>bn,Ie:()=>kn,J$:()=>Cn,JZ:()=>Ii,Jb:()=>Hi,K0:()=>qi,Kc:()=>Ve,Ld:()=>Pn,M4:()=>L,NW:()=>On,PA:()=>X,Rv:()=>un,Sj:()=>We,TA:()=>x,TF:()=>oi,TI:()=>Q,TJ:()=>$n,TO:()=>Ee,Th:()=>xn,UX:()=>Ni,VL:()=>I,W1:()=>pr,WB:()=>rt,Y8:()=>c,Y9:()=>Bi,ZM:()=>Ti,ZX:()=>te,Zk:()=>Jn,_w:()=>C,_z:()=>a,a$:()=>Kn,a7:()=>Dt,aF:()=>A,ah:()=>ne,bO:()=>Be,bg:()=>M,e6:()=>gr,eG:()=>cn,eH:()=>G,e_:()=>w,eo:()=>Fn,ex:()=>fn,fy:()=>hn,id:()=>Rn,jV:()=>de,jd:()=>K,kP:()=>Tn,kV:()=>xe,lD:()=>re,lH:()=>tt,lW:()=>Ie,oo:()=>Ce,p:()=>on,pX:()=>D,pb:()=>U,qm:()=>u,qw:()=>sn,sg:()=>Ze,tT:()=>vt,uW:()=>ee,ud:()=>ae,wn:()=>wn,wr:()=>yn,xE:()=>R,xP:()=>Bn,z9:()=>hi,zI:()=>ln,zj:()=>zi});var k=d(875),h=d(3736),P=d(5579),j=d(7584),z=d(1298),N=d(7442);k.X.PREFER_ENV=P.isMobile.any?h.Vi.WEBGL:h.Vi.WEBGL2,k.X.STRICT_TEXTURE_CACHE=!1;var w=[];function U(_,t){if(!_)return null;var i="";if(typeof _=="string"){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(_);r&&(i=r[1].toLowerCase())}for(var m=w.length-1;m>=0;--m){var H=w[m];if(H.test&&H.test(_,i))return new H(_,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var Y=function(_,t){return Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var m in r)r.hasOwnProperty(m)&&(i[m]=r[m])},Y(_,t)};function E(_,t){function i(){this.constructor=_}Y(_,t),_.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}var v=function(){return v=Object.assign||function(_){for(var t,i=arguments,r=1,m=arguments.length;r<m;r++)for(var H in t=i[r])Object.prototype.hasOwnProperty.call(t,H)&&(_[H]=t[H]);return _},v.apply(this,arguments)};function n(_,t){var i={};for(var r in _)Object.prototype.hasOwnProperty.call(_,r)&&t.indexOf(r)<0&&(i[r]=_[r]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function"){var m=0;for(r=Object.getOwnPropertySymbols(_);m<r.length;m++)t.indexOf(r[m])<0&&(i[r[m]]=_[r[m]])}return i}var a=function(){function _(t,i){t===void 0&&(t=0),i===void 0&&(i=0),this._width=t,this._height=i,this.destroyed=!1,this.internal=!1,this.onResize=new j.R("setRealSize"),this.onUpdate=new j.R("update"),this.onError=new j.R("onError")}return _.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},_.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},_.prototype.resize=function(t,i){t===this._width&&i===this._height||(this._width=t,this._height=i,this.onResize.emit(t,i))},Object.defineProperty(_.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),_.prototype.update=function(){this.destroyed||this.onUpdate.emit()},_.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(_.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),_.prototype.style=function(t,i,r){return!1},_.prototype.dispose=function(){},_.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},_.test=function(t,i){return!1},_}(),u=function(_){function t(i,r){var m=this,H=r||{},ie=H.width,ce=H.height;if(!ie||!ce)throw new Error("BufferResource width or height invalid");return(m=_.call(this,ie,ce)||this).data=i,m}return E(t,_),t.prototype.upload=function(i,r,m){var H=i.gl;H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===h.iw.UNPACK);var ie=r.realWidth,ce=r.realHeight;return m.width===ie&&m.height===ce?H.texSubImage2D(r.target,0,0,0,ie,ce,r.format,m.type,this.data):(m.width=ie,m.height=ce,H.texImage2D(r.target,0,m.internalFormat,ie,ce,0,r.format,m.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(i){return i instanceof Float32Array||i instanceof Uint8Array||i instanceof Uint32Array},t}(a),p={scaleMode:h.aH.NEAREST,format:h.I2.RGBA,alphaMode:h.iw.NPM},I=function(_){function t(i,r){i===void 0&&(i=null),r===void 0&&(r=null);var m=_.call(this)||this,H=(r=r||{}).alphaMode,ie=r.mipmap,ce=r.anisotropicLevel,me=r.scaleMode,Le=r.width,He=r.height,$e=r.wrapMode,ht=r.format,bt=r.type,It=r.target,Rt=r.resolution,wt=r.resourceOptions;return!i||i instanceof a||((i=U(i,wt)).internal=!0),m.resolution=Rt||k.X.RESOLUTION,m.width=Math.round((Le||0)*m.resolution)/m.resolution,m.height=Math.round((He||0)*m.resolution)/m.resolution,m._mipmap=ie!==void 0?ie:k.X.MIPMAP_TEXTURES,m.anisotropicLevel=ce!==void 0?ce:k.X.ANISOTROPIC_LEVEL,m._wrapMode=$e||k.X.WRAP_MODE,m._scaleMode=me!==void 0?me:k.X.SCALE_MODE,m.format=ht||h.I2.RGBA,m.type=bt||h.vK.UNSIGNED_BYTE,m.target=It||h.sp.TEXTURE_2D,m.alphaMode=H!==void 0?H:h.iw.UNPACK,m.uid=(0,P.uid)(),m.touched=0,m.isPowerOfTwo=!1,m._refreshPOT(),m._glTextures={},m.dirtyId=0,m.dirtyStyleId=0,m.cacheId=null,m.valid=Le>0&&He>0,m.textureCacheIds=[],m.destroyed=!1,m.resource=null,m._batchEnabled=0,m._batchLocation=0,m.parentTextureArray=null,m.setResource(i),m}return E(t,_),Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(i){this._mipmap!==i&&(this._mipmap=i,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(i){this._scaleMode!==i&&(this._scaleMode=i,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(i){this._wrapMode!==i&&(this._wrapMode=i,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(i,r){var m;return i!==void 0&&i!==this.scaleMode&&(this.scaleMode=i,m=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,m=!0),m&&this.dirtyStyleId++,this},t.prototype.setSize=function(i,r,m){return m=m||this.resolution,this.setRealSize(i*m,r*m,m)},t.prototype.setRealSize=function(i,r,m){return this.resolution=m||this.resolution,this.width=Math.round(i)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=(0,P.isPow2)(this.realWidth)&&(0,P.isPow2)(this.realHeight)},t.prototype.setResolution=function(i){var r=this.resolution;return r===i||(this.resolution=i,this.valid&&(this.width=Math.round(this.width*r)/i,this.height=Math.round(this.height*r)/i,this.emit("update",this)),this._refreshPOT()),this},t.prototype.setResource=function(i){if(this.resource===i)return this;if(this.resource)throw new Error("Resource can be set only once");return i.bind(this),this.resource=i,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(i){this.emit("error",this,i)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete P.BaseTextureCache[this.cacheId],delete P.TextureCache[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(i,r,m){m===void 0&&(m=k.X.STRICT_TEXTURE_CACHE);var H=typeof i=="string",ie=null;if(H)ie=i;else{if(!i._pixiId){var ce=r&&r.pixiIdPrefix||"pixiid";i._pixiId=ce+"_"+(0,P.uid)()}ie=i._pixiId}var me=P.BaseTextureCache[ie];if(H&&m&&!me)throw new Error('The cacheId "'+ie+'" does not exist in BaseTextureCache.');return me||((me=new t(i,r)).cacheId=ie,t.addToCache(me,ie)),me},t.fromBuffer=function(i,r,m,H){i=i||new Float32Array(r*m*4);var ie=new u(i,{width:r,height:m}),ce=i instanceof Float32Array?h.vK.FLOAT:h.vK.UNSIGNED_BYTE;return new t(ie,Object.assign(p,H||{width:r,height:m,type:ce}))},t.addToCache=function(i,r){r&&(i.textureCacheIds.indexOf(r)===-1&&i.textureCacheIds.push(r),P.BaseTextureCache[r]&&console.warn("BaseTexture added to the cache with an id ["+r+"] that already had an entry"),P.BaseTextureCache[r]=i)},t.removeFromCache=function(i){if(typeof i=="string"){var r=P.BaseTextureCache[i];if(r){var m=r.textureCacheIds.indexOf(i);return m>-1&&r.textureCacheIds.splice(m,1),delete P.BaseTextureCache[i],r}}else if(i&&i.textureCacheIds){for(var H=0;H<i.textureCacheIds.length;++H)delete P.BaseTextureCache[i.textureCacheIds[H]];return i.textureCacheIds.length=0,i}return null},t._globalBatch=0,t}(P.EventEmitter),L=function(_){function t(i,r){var m=this,H=r||{},ie=H.width,ce=H.height;(m=_.call(this,ie,ce)||this).items=[],m.itemDirtyIds=[];for(var me=0;me<i;me++){var Le=new I;m.items.push(Le),m.itemDirtyIds.push(-2)}return m.length=i,m._load=null,m.baseTexture=null,m}return E(t,_),t.prototype.initFromArray=function(i,r){for(var m=0;m<this.length;m++)i[m]&&(i[m].castToBaseTexture?this.addBaseTextureAt(i[m].castToBaseTexture(),m):i[m]instanceof a?this.addResourceAt(i[m],m):this.addResourceAt(U(i[m],r),m))},t.prototype.dispose=function(){for(var i=0,r=this.length;i<r;i++)this.items[i].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(i,r){if(!this.items[r])throw new Error("Index "+r+" is out of bounds");return i.valid&&!this.valid&&this.resize(i.width,i.height),this.items[r].setResource(i),this},t.prototype.bind=function(i){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");_.prototype.bind.call(this,i);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=i,this.items[r].on("update",i.update,i)},t.prototype.unbind=function(i){_.prototype.unbind.call(this,i);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",i.update,i)},t.prototype.load=function(){var i=this;if(this._load)return this._load;var r=this.items.map(function(m){return m.resource}).filter(function(m){return m}).map(function(m){return m.load()});return this._load=Promise.all(r).then(function(){var m=i.items[0],H=m.realWidth,ie=m.realHeight;return i.resize(H,ie),Promise.resolve(i)}),this._load},t}(a),F=function(_){function t(i,r){var m,H,ie=this,ce=r||{},me=ce.width,Le=ce.height;return Array.isArray(i)?(m=i,H=i.length):H=i,ie=_.call(this,H,{width:me,height:Le})||this,m&&ie.initFromArray(m,r),ie}return E(t,_),t.prototype.addBaseTextureAt=function(i,r){if(!i.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(i.resource,r),this},t.prototype.bind=function(i){_.prototype.bind.call(this,i),i.target=h.sp.TEXTURE_2D_ARRAY},t.prototype.upload=function(i,r,m){var H=this,ie=H.length,ce=H.itemDirtyIds,me=H.items,Le=i.gl;m.dirtyId<0&&Le.texImage3D(Le.TEXTURE_2D_ARRAY,0,m.internalFormat,this._width,this._height,ie,0,r.format,m.type,null);for(var He=0;He<ie;He++){var $e=me[He];ce[He]<$e.dirtyId&&(ce[He]=$e.dirtyId,$e.valid&&Le.texSubImage3D(Le.TEXTURE_2D_ARRAY,0,0,0,He,$e.resource.width,$e.resource.height,1,r.format,m.type,$e.resource.source))}return!0},t}(L),M=function(_){function t(i){var r=this,m=i,H=m.naturalWidth||m.videoWidth||m.width,ie=m.naturalHeight||m.videoHeight||m.height;return(r=_.call(this,H,ie)||this).source=i,r.noSubImage=!1,r}return E(t,_),t.crossOrigin=function(i,r,m){m===void 0&&r.indexOf("data:")!==0?i.crossOrigin=(0,P.determineCrossOrigin)(r):m!==!1&&(i.crossOrigin=typeof m=="string"?m:"anonymous")},t.prototype.upload=function(i,r,m,H){var ie=i.gl,ce=r.realWidth,me=r.realHeight;if((H=H||this.source)instanceof HTMLImageElement){if(!H.complete||H.naturalWidth===0)return!1}else if(H instanceof HTMLVideoElement&&H.readyState<=1)return!1;return ie.pixelStorei(ie.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===h.iw.UNPACK),this.noSubImage||r.target!==ie.TEXTURE_2D||m.width!==ce||m.height!==me?(m.width=ce,m.height=me,ie.texImage2D(r.target,0,m.internalFormat,r.format,m.type,H)):ie.texSubImage2D(ie.TEXTURE_2D,0,0,0,r.format,m.type,H),!0},t.prototype.update=function(){if(!this.destroyed){var i=this.source,r=i.naturalWidth||i.videoWidth||i.width,m=i.naturalHeight||i.videoHeight||i.height;this.resize(r,m),_.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(a),c=function(_){function t(i){return _.call(this,i)||this}return E(t,_),t.test=function(i){var r=globalThis.OffscreenCanvas;return!!(r&&i instanceof r)||globalThis.HTMLCanvasElement&&i instanceof HTMLCanvasElement},t}(M),x=function(_){function t(i,r){var m=this,H=r||{},ie=H.width,ce=H.height,me=H.autoLoad,Le=H.linkBaseTexture;if(i&&i.length!==t.SIDES)throw new Error("Invalid length. Got "+i.length+", expected 6");m=_.call(this,6,{width:ie,height:ce})||this;for(var He=0;He<t.SIDES;He++)m.items[He].target=h.sp.TEXTURE_CUBE_MAP_POSITIVE_X+He;return m.linkBaseTexture=Le!==!1,i&&m.initFromArray(i,r),me!==!1&&m.load(),m}return E(t,_),t.prototype.bind=function(i){_.prototype.bind.call(this,i),i.target=h.sp.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(i,r,m){if(m===void 0&&(m=this.linkBaseTexture),!this.items[r])throw new Error("Index "+r+" is out of bounds");if(!this.linkBaseTexture||i.parentTextureArray||Object.keys(i._glTextures).length>0){if(!i.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(i.resource,r)}else i.target=h.sp.TEXTURE_CUBE_MAP_POSITIVE_X+r,i.parentTextureArray=this.baseTexture,this.items[r]=i;return i.valid&&!this.valid&&this.resize(i.realWidth,i.realHeight),this.items[r]=i,this},t.prototype.upload=function(i,r,m){for(var H=this.itemDirtyIds,ie=0;ie<t.SIDES;ie++){var ce=this.items[ie];H[ie]<ce.dirtyId&&(ce.valid&&ce.resource?(ce.resource.upload(i,ce,m),H[ie]=ce.dirtyId):H[ie]<-1&&(i.gl.texImage2D(ce.target,0,m.internalFormat,r.realWidth,r.realHeight,0,r.format,m.type,null),H[ie]=-1))}return!0},t.test=function(i){return Array.isArray(i)&&i.length===t.SIDES},t.SIDES=6,t}(L),X=function(_){function t(i,r){var m=this;if(r=r||{},!(i instanceof HTMLImageElement)){var H=new Image;M.crossOrigin(H,i,r.crossorigin),H.src=i,i=H}return m=_.call(this,i)||this,!i.complete&&m._width&&m._height&&(m._width=0,m._height=0),m.url=i.src,m._process=null,m.preserveBitmap=!1,m.createBitmap=(r.createBitmap!==void 0?r.createBitmap:k.X.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,m.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,m.bitmap=null,m._load=null,r.autoLoad!==!1&&m.load(),m}return E(t,_),t.prototype.load=function(i){var r=this;return this._load||(i!==void 0&&(this.createBitmap=i),this._load=new Promise(function(m,H){var ie=r.source;r.url=ie.src;var ce=function(){r.destroyed||(ie.onload=null,ie.onerror=null,r.resize(ie.width,ie.height),r._load=null,r.createBitmap?m(r.process()):m(r))};ie.complete&&ie.src?ce():(ie.onload=ce,ie.onerror=function(me){H(me),r.onError.emit(me)})})),this._load},t.prototype.process=function(){var i=this,r=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var m=globalThis.createImageBitmap,H=!r.crossOrigin||r.crossOrigin==="anonymous";return this._process=fetch(r.src,{mode:H?"cors":"no-cors"}).then(function(ie){return ie.blob()}).then(function(ie){return m(ie,0,0,r.width,r.height,{premultiplyAlpha:i.alphaMode===h.iw.UNPACK?"premultiply":"none"})}).then(function(ie){return i.destroyed?Promise.reject():(i.bitmap=ie,i.update(),i._process=null,Promise.resolve(i))}),this._process},t.prototype.upload=function(i,r,m){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return _.prototype.upload.call(this,i,r,m);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(_.prototype.upload.call(this,i,r,m,this.bitmap),!this.preserveBitmap){var H=!0,ie=r._glTextures;for(var ce in ie){var me=ie[ce];if(me!==m&&me.dirtyId!==r.dirtyId){H=!1;break}}H&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,_.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(i){return typeof i=="string"||i instanceof HTMLImageElement},t}(M),D=function(_){function t(i,r){var m=this;return r=r||{},(m=_.call(this,document.createElement("canvas"))||this)._width=0,m._height=0,m.svg=i,m.scale=r.scale||1,m._overrideWidth=r.width,m._overrideHeight=r.height,m._resolve=null,m._crossorigin=r.crossorigin,m._load=null,r.autoLoad!==!1&&m.load(),m}return E(t,_),t.prototype.load=function(){var i=this;return this._load||(this._load=new Promise(function(r){if(i._resolve=function(){i.resize(i.source.width,i.source.height),r(i)},t.SVG_XML.test(i.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");i.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(i.svg)))}i._loadSvg()})),this._load},t.prototype._loadSvg=function(){var i=this,r=new Image;M.crossOrigin(r,this.svg,this._crossorigin),r.src=this.svg,r.onerror=function(m){i._resolve&&(r.onerror=null,i.onError.emit(m))},r.onload=function(){if(i._resolve){var m=r.width,H=r.height;if(!m||!H)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var ie=m*i.scale,ce=H*i.scale;(i._overrideWidth||i._overrideHeight)&&(ie=i._overrideWidth||i._overrideHeight/H*m,ce=i._overrideHeight||i._overrideWidth/m*H),ie=Math.round(ie),ce=Math.round(ce);var me=i.source;me.width=ie,me.height=ce,me._pixiId="canvas_"+(0,P.uid)(),me.getContext("2d").drawImage(r,0,0,m,H,0,0,ie,ce),i._resolve(),i._resolve=null}}},t.getSize=function(i){var r=t.SVG_SIZE.exec(i),m={};return r&&(m[r[1]]=Math.round(parseFloat(r[3])),m[r[5]]=Math.round(parseFloat(r[7]))),m},t.prototype.dispose=function(){_.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(i,r){return r==="svg"||typeof i=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(i)||typeof i=="string"&&t.SVG_XML.test(i)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(M),G=function(_){function t(i,r){var m=this;if(r=r||{},!(i instanceof HTMLVideoElement)){var H=document.createElement("video");H.setAttribute("preload","auto"),H.setAttribute("webkit-playsinline",""),H.setAttribute("playsinline",""),typeof i=="string"&&(i=[i]);var ie=i[0].src||i[0];M.crossOrigin(H,ie,r.crossorigin);for(var ce=0;ce<i.length;++ce){var me=document.createElement("source"),Le=i[ce],He=Le.src,$e=Le.mime,ht=(He=He||i[ce]).split("?").shift().toLowerCase(),bt=ht.slice(ht.lastIndexOf(".")+1);$e=$e||t.MIME_TYPES[bt]||"video/"+bt,me.src=He,me.type=$e,H.appendChild(me)}i=H}return(m=_.call(this,i)||this).noSubImage=!0,m._autoUpdate=!0,m._isConnectedToTicker=!1,m._updateFPS=r.updateFPS||0,m._msToNextUpdate=0,m.autoPlay=r.autoPlay!==!1,m._load=null,m._resolve=null,m._onCanPlay=m._onCanPlay.bind(m),m._onError=m._onError.bind(m),r.autoLoad!==!1&&m.load(),m}return E(t,_),t.prototype.update=function(i){if(!this.destroyed){var r=z.vB.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(_.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var i=this;if(this._load)return this._load;var r=this.source;return(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0),r.addEventListener("play",this._onPlayStart.bind(this)),r.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(r.addEventListener("canplay",this._onCanPlay),r.addEventListener("canplaythrough",this._onCanPlay),r.addEventListener("error",this._onError,!0)),this._load=new Promise(function(m){i.valid?m(i):(i._resolve=m,r.load())}),this._load},t.prototype._onError=function(i){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(i)},t.prototype._isSourcePlaying=function(){var i=this.source;return i.currentTime>0&&i.paused===!1&&i.ended===!1&&i.readyState>2},t.prototype._isSourceReady=function(){var i=this.source;return i.readyState===3||i.readyState===4},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(z.vB.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(z.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var i=this.source;i.removeEventListener("canplay",this._onCanPlay),i.removeEventListener("canplaythrough",this._onCanPlay);var r=this.valid;this.resize(i.videoWidth,i.videoHeight),!r&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&i.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(z.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1);var i=this.source;i&&(i.removeEventListener("error",this._onError,!0),i.pause(),i.src="",i.load()),_.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(i){i!==this._autoUpdate&&(this._autoUpdate=i,!this._autoUpdate&&this._isConnectedToTicker?(z.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(z.vB.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(i){i!==this._updateFPS&&(this._updateFPS=i)},enumerable:!1,configurable:!0}),t.test=function(i,r){return globalThis.HTMLVideoElement&&i instanceof HTMLVideoElement||t.TYPES.indexOf(r)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(M),C=function(_){function t(i){return _.call(this,i)||this}return E(t,_),t.test=function(i){return!!globalThis.createImageBitmap&&i instanceof ImageBitmap},t}(M);w.push(X,C,c,G,D,u,x,F);var T={__proto__:null,Resource:a,BaseImageResource:M,INSTALLED:w,autoDetectResource:U,AbstractMultiResource:L,ArrayResource:F,BufferResource:u,CanvasResource:c,CubeResource:x,ImageResource:X,SVGResource:D,VideoResource:G,ImageBitmapResource:C},J=function(_){function t(){return _!==null&&_.apply(this,arguments)||this}return E(t,_),t.prototype.upload=function(i,r,m){var H=i.gl;H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===h.iw.UNPACK);var ie=r.realWidth,ce=r.realHeight;return m.width===ie&&m.height===ce?H.texSubImage2D(r.target,0,0,0,ie,ce,r.format,m.type,this.data):(m.width=ie,m.height=ce,H.texImage2D(r.target,0,m.internalFormat,ie,ce,0,r.format,m.type,this.data)),!0},t}(u),q=function(){function _(t,i){this.width=Math.round(t||100),this.height=Math.round(i||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new j.R("disposeFramebuffer"),this.multisample=h.G5.NONE}return Object.defineProperty(_.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),_.prototype.addColorTexture=function(t,i){return t===void 0&&(t=0),this.colorTextures[t]=i||new I(null,{scaleMode:h.aH.NEAREST,resolution:1,mipmap:h.WB.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},_.prototype.addDepthTexture=function(t){return this.depthTexture=t||new I(new J(null,{width:this.width,height:this.height}),{scaleMode:h.aH.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:h.WB.OFF,format:h.I2.DEPTH_COMPONENT,type:h.vK.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},_.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},_.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},_.prototype.resize=function(t,i){if(t=Math.round(t),i=Math.round(i),t!==this.width||i!==this.height){this.width=t,this.height=i,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var m=this.colorTextures[r],H=m.resolution;m.setSize(t/H,i/H)}this.depthTexture&&(H=this.depthTexture.resolution,this.depthTexture.setSize(t/H,i/H))}},_.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},_.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},_}(),K=function(_){function t(i){i===void 0&&(i={});var r=this;return typeof i=="number"&&(i={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),i.width=i.width||100,i.height=i.height||100,i.multisample=i.multisample!==void 0?i.multisample:h.G5.NONE,(r=_.call(this,null,i)||this).mipmap=h.WB.OFF,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new q(r.realWidth,r.realHeight).addColorTexture(0,r),r.framebuffer.multisample=i.multisample,r.maskStack=[],r.filterStack=[{}],r}return E(t,_),t.prototype.resize=function(i,r){this.framebuffer.resize(i*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),_.prototype.dispose.call(this)},t.prototype.destroy=function(){_.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(I),A=function(){function _(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return _.prototype.set=function(t,i,r){var m=i.width,H=i.height;if(r){var ie=t.width/2/m,ce=t.height/2/H,me=t.x/m+ie,Le=t.y/H+ce;r=N.Lv.add(r,N.Lv.NW),this.x0=me+ie*N.Lv.uX(r),this.y0=Le+ce*N.Lv.uY(r),r=N.Lv.add(r,2),this.x1=me+ie*N.Lv.uX(r),this.y1=Le+ce*N.Lv.uY(r),r=N.Lv.add(r,2),this.x2=me+ie*N.Lv.uX(r),this.y2=Le+ce*N.Lv.uY(r),r=N.Lv.add(r,2),this.x3=me+ie*N.Lv.uX(r),this.y3=Le+ce*N.Lv.uY(r)}else this.x0=t.x/m,this.y0=t.y/H,this.x1=(t.x+t.width)/m,this.y1=t.y/H,this.x2=(t.x+t.width)/m,this.y2=(t.y+t.height)/H,this.x3=t.x/m,this.y3=(t.y+t.height)/H;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},_.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},_}(),b=new A,R=function(_){function t(i,r,m,H,ie,ce){var me=_.call(this)||this;if(me.noFrame=!1,r||(me.noFrame=!0,r=new N.Ae(0,0,1,1)),i instanceof t&&(i=i.baseTexture),me.baseTexture=i,me._frame=r,me.trim=H,me.valid=!1,me._uvs=b,me.uvMatrix=null,me.orig=m||r,me._rotate=Number(ie||0),ie===!0)me._rotate=2;else if(me._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return me.defaultAnchor=ce?new N.E9(ce.x,ce.y):new N.E9(0,0),me._updateID=0,me.textureCacheIds=[],i.valid?me.noFrame?i.valid&&me.onBaseTextureUpdated(i):me.frame=r:i.once("loaded",me.onBaseTextureUpdated,me),me.noFrame&&i.on("update",me.onBaseTextureUpdated,me),me}return E(t,_),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(i){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=i.width,this._frame.height=i.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(i){if(this.baseTexture){if(i){var r=this.baseTexture.resource;r&&r.url&&P.TextureCache[r.url]&&t.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var i=this._frame.clone(),r=this._frame===this.orig?i:this.orig.clone(),m=new t(this.baseTexture,!this.noFrame&&i,r,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(m._frame=i),m},t.prototype.updateUvs=function(){this._uvs===b&&(this._uvs=new A),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(i,r,m){r===void 0&&(r={}),m===void 0&&(m=k.X.STRICT_TEXTURE_CACHE);var H=typeof i=="string",ie=null;if(H)ie=i;else if(i instanceof I){if(!i.cacheId){var ce=r&&r.pixiIdPrefix||"pixiid";i.cacheId=ce+"-"+(0,P.uid)(),I.addToCache(i,i.cacheId)}ie=i.cacheId}else i._pixiId||(ce=r&&r.pixiIdPrefix||"pixiid",i._pixiId=ce+"_"+(0,P.uid)()),ie=i._pixiId;var me=P.TextureCache[ie];if(H&&m&&!me)throw new Error('The cacheId "'+ie+'" does not exist in TextureCache.');return me||i instanceof I?!me&&i instanceof I&&(me=new t(i),t.addToCache(me,ie)):(r.resolution||(r.resolution=(0,P.getResolutionOfUrl)(i)),(me=new t(new I(i,r))).baseTexture.cacheId=ie,I.addToCache(me.baseTexture,ie),t.addToCache(me,ie)),me},t.fromURL=function(i,r){var m=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),H=t.from(i,Object.assign({resourceOptions:m},r),!1),ie=H.baseTexture.resource;return H.baseTexture.valid?Promise.resolve(H):ie.load().then(function(){return Promise.resolve(H)})},t.fromBuffer=function(i,r,m,H){return new t(I.fromBuffer(i,r,m,H))},t.fromLoader=function(i,r,m,H){var ie=new I(i,Object.assign({scaleMode:k.X.SCALE_MODE,resolution:(0,P.getResolutionOfUrl)(r)},H)),ce=ie.resource;ce instanceof X&&(ce.url=r);var me=new t(ie);return m||(m=r),I.addToCache(me.baseTexture,m),t.addToCache(me,m),m!==r&&(I.addToCache(me.baseTexture,r),t.addToCache(me,r)),me.baseTexture.valid?Promise.resolve(me):new Promise(function(Le){me.baseTexture.once("loaded",function(){return Le(me)})})},t.addToCache=function(i,r){r&&(i.textureCacheIds.indexOf(r)===-1&&i.textureCacheIds.push(r),P.TextureCache[r]&&console.warn("Texture added to the cache with an id ["+r+"] that already had an entry"),P.TextureCache[r]=i)},t.removeFromCache=function(i){if(typeof i=="string"){var r=P.TextureCache[i];if(r){var m=r.textureCacheIds.indexOf(i);return m>-1&&r.textureCacheIds.splice(m,1),delete P.TextureCache[i],r}}else if(i&&i.textureCacheIds){for(var H=0;H<i.textureCacheIds.length;++H)P.TextureCache[i.textureCacheIds[H]]===i&&delete P.TextureCache[i.textureCacheIds[H]];return i.textureCacheIds.length=0,i}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(i){this._frame=i,this.noFrame=!1;var r=i.x,m=i.y,H=i.width,ie=i.height,ce=r+H>this.baseTexture.width,me=m+ie>this.baseTexture.height;if(ce||me){var Le=ce&&me?"and":"or",He="X: "+r+" + "+H+" = "+(r+H)+" > "+this.baseTexture.width,$e="Y: "+m+" + "+ie+" = "+(m+ie)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+He+" "+Le+" "+$e)}this.valid=H&&ie&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=i),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(i){this._rotate=i,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(P.EventEmitter);function O(){var _=document.createElement("canvas");_.width=16,_.height=16;var t=_.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new R(new I(new c(_)))}function W(_){_.destroy=function(){},_.on=function(){},_.once=function(){},_.emit=function(){}}R.EMPTY=new R(new I),W(R.EMPTY),W(R.EMPTY.baseTexture),R.WHITE=O(),W(R.WHITE),W(R.WHITE.baseTexture);var Q=function(_){function t(i,r){var m=_.call(this,i,r)||this;return m.valid=!0,m.filterFrame=null,m.filterPoolKey=null,m.updateUvs(),m}return E(t,_),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(i){this.framebuffer.multisample=i},enumerable:!1,configurable:!0}),t.prototype.resize=function(i,r,m){m===void 0&&(m=!0);var H=this.baseTexture.resolution,ie=Math.round(i*H)/H,ce=Math.round(r*H)/H;this.valid=ie>0&&ce>0,this._frame.width=this.orig.width=ie,this._frame.height=this.orig.height=ce,m&&this.baseTexture.resize(ie,ce),this.updateUvs()},t.prototype.setResolution=function(i){var r=this.baseTexture;r.resolution!==i&&(r.setResolution(i),this.resize(r.width,r.height,!1))},t.create=function(i){for(var r=arguments,m=[],H=1;H<arguments.length;H++)m[H-1]=r[H];return typeof i=="number"&&((0,P.deprecation)("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),i={width:i,height:m[0],scaleMode:m[1],resolution:m[2]}),new t(new K(i))},t}(R),ee=function(){function _(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return _.prototype.createTexture=function(t,i,r){r===void 0&&(r=h.G5.NONE);var m=new K(Object.assign({width:t,height:i,resolution:1,multisample:r},this.textureOptions));return new Q(m)},_.prototype.getOptimalTexture=function(t,i,r,m){var H;r===void 0&&(r=1),m===void 0&&(m=h.G5.NONE),t=Math.ceil(t*r-1e-6),i=Math.ceil(i*r-1e-6),this.enableFullScreen&&t===this._pixelsWidth&&i===this._pixelsHeight?H=m>1?-m:-1:(H=((65535&(t=(0,P.nextPow2)(t)))<<16|65535&(i=(0,P.nextPow2)(i)))>>>0,m>1&&(H+=4294967296*m)),this.texturePool[H]||(this.texturePool[H]=[]);var ie=this.texturePool[H].pop();return ie||(ie=this.createTexture(t,i,m)),ie.filterPoolKey=H,ie.setResolution(r),ie},_.prototype.getFilterTexture=function(t,i,r){var m=this.getOptimalTexture(t.width,t.height,i||t.resolution,r||h.G5.NONE);return m.filterFrame=t.filterFrame,m},_.prototype.returnTexture=function(t){var i=t.filterPoolKey;t.filterFrame=null,this.texturePool[i].push(t)},_.prototype.returnFilterTexture=function(t){this.returnTexture(t)},_.prototype.clear=function(t){if(t=t!==!1)for(var i in this.texturePool){var r=this.texturePool[i];if(r)for(var m=0;m<r.length;m++)r[m].destroy(!0)}this.texturePool={}},_.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){for(var i in this.enableFullScreen=t.width>0&&t.height>0,this.texturePool)if(Number(i)<0){var r=this.texturePool[i];if(r)for(var m=0;m<r.length;m++)r[m].destroy(!0);this.texturePool[i]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},_.SCREEN_KEY=-1,_}(),ne=function(){function _(t,i,r,m,H,ie,ce){i===void 0&&(i=0),r===void 0&&(r=!1),m===void 0&&(m=h.vK.FLOAT),this.buffer=t,this.size=i,this.normalized=r,this.type=m,this.stride=H,this.start=ie,this.instance=ce}return _.prototype.destroy=function(){this.buffer=null},_.from=function(t,i,r,m,H){return new _(t,i,r,m,H)},_}(),be=0,Ie=function(){function _(t,i,r){i===void 0&&(i=!0),r===void 0&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=i,this.id=be++,this.disposeRunner=new j.R("disposeBuffer")}return _.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},_.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},_.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(_.prototype,"index",{get:function(){return this.type===h.mr.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?h.mr.ELEMENT_ARRAY_BUFFER:h.mr.ARRAY_BUFFER},enumerable:!1,configurable:!0}),_.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new _(t)},_}(),Oe={Float32Array,Uint32Array,Int32Array,Uint8Array};function ue(_,t){for(var i=0,r=0,m={},H=0;H<_.length;H++)r+=t[H],i+=_[H].length;var ie=new ArrayBuffer(4*i),ce=null,me=0;for(H=0;H<_.length;H++){var Le=t[H],He=_[H],$e=(0,P.getBufferType)(He);m[$e]||(m[$e]=new Oe[$e](ie)),ce=m[$e];for(var ht=0;ht<He.length;ht++)ce[(ht/Le|0)*r+me+ht%Le]=He[ht];me+=Le}return new Float32Array(ie)}var y={5126:4,5123:2,5121:1},B=0,V={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},te=function(){function _(t,i){t===void 0&&(t=[]),i===void 0&&(i={}),this.buffers=t,this.indexBuffer=null,this.attributes=i,this.glVertexArrayObjects={},this.id=B++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new j.R("disposeGeometry"),this.refCount=0}return _.prototype.addAttribute=function(t,i,r,m,H,ie,ce,me){if(r===void 0&&(r=0),m===void 0&&(m=!1),me===void 0&&(me=!1),!i)throw new Error("You must pass a buffer when creating an attribute");i instanceof Ie||(i instanceof Array&&(i=new Float32Array(i)),i=new Ie(i));var Le=t.split("|");if(Le.length>1){for(var He=0;He<Le.length;He++)this.addAttribute(Le[He],i,r,m,H);return this}var $e=this.buffers.indexOf(i);return $e===-1&&(this.buffers.push(i),$e=this.buffers.length-1),this.attributes[t]=new ne($e,r,m,H,ie,ce,me),this.instanced=this.instanced||me,this},_.prototype.getAttribute=function(t){return this.attributes[t]},_.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},_.prototype.addIndex=function(t){return t instanceof Ie||(t instanceof Array&&(t=new Uint16Array(t)),t=new Ie(t)),t.type=h.mr.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.indexOf(t)===-1&&this.buffers.push(t),this},_.prototype.getIndex=function(){return this.indexBuffer},_.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var t,i=[],r=[],m=new Ie;for(t in this.attributes){var H=this.attributes[t],ie=this.buffers[H.buffer];i.push(ie.data),r.push(H.size*y[H.type]/4),H.buffer=0}for(m.data=ue(i,r),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[m],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},_.prototype.getSize=function(){for(var t in this.attributes){var i=this.attributes[t];return this.buffers[i.buffer].data.length/(i.stride/4||i.size)}return 0},_.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},_.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},_.prototype.clone=function(){for(var t=new _,i=0;i<this.buffers.length;i++)t.buffers[i]=new Ie(this.buffers[i].data.slice(0));for(var i in this.attributes){var r=this.attributes[i];t.attributes[i]=new ne(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=h.mr.ELEMENT_ARRAY_BUFFER),t},_.merge=function(t){for(var i,r=new _,m=[],H=[],ie=[],ce=0;ce<t.length;ce++){i=t[ce];for(var me=0;me<i.buffers.length;me++)H[me]=H[me]||0,H[me]+=i.buffers[me].data.length,ie[me]=0}for(ce=0;ce<i.buffers.length;ce++)m[ce]=new V[(0,P.getBufferType)(i.buffers[ce].data)](H[ce]),r.buffers[ce]=new Ie(m[ce]);for(ce=0;ce<t.length;ce++)for(i=t[ce],me=0;me<i.buffers.length;me++)m[me].set(i.buffers[me].data,ie[me]),ie[me]+=i.buffers[me].data.length;if(r.attributes=i.attributes,i.indexBuffer){r.indexBuffer=r.buffers[i.buffers.indexOf(i.indexBuffer)],r.indexBuffer.type=h.mr.ELEMENT_ARRAY_BUFFER;var Le=0,He=0,$e=0,ht=0;for(ce=0;ce<i.buffers.length;ce++)if(i.buffers[ce]!==i.indexBuffer){ht=ce;break}for(var ce in i.attributes){var bt=i.attributes[ce];(0|bt.buffer)===ht&&(He+=bt.size*y[bt.type]/4)}for(ce=0;ce<t.length;ce++){var It=t[ce].indexBuffer.data;for(me=0;me<It.length;me++)r.indexBuffer.data[me+$e]+=Le;Le+=t[ce].buffers[ht].data.length/He,$e+=It.length}}return r},_}(),re=function(_){function t(){var i=_.call(this)||this;return i.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),i}return E(t,_),t}(te),ae=function(_){function t(){var i=_.call(this)||this;return i.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),i.uvs=new Float32Array([0,0,1,0,1,1,0,1]),i.vertexBuffer=new Ie(i.vertices),i.uvBuffer=new Ie(i.uvs),i.addAttribute("aVertexPosition",i.vertexBuffer).addAttribute("aTextureCoord",i.uvBuffer).addIndex([0,1,2,0,2,3]),i}return E(t,_),t.prototype.map=function(i,r){var m=0,H=0;return this.uvs[0]=m,this.uvs[1]=H,this.uvs[2]=m+r.width/i.width,this.uvs[3]=H,this.uvs[4]=m+r.width/i.width,this.uvs[5]=H+r.height/i.height,this.uvs[6]=m,this.uvs[7]=H+r.height/i.height,m=r.x,H=r.y,this.vertices[0]=m,this.vertices[1]=H,this.vertices[2]=m+r.width,this.vertices[3]=H,this.vertices[4]=m+r.width,this.vertices[5]=H+r.height,this.vertices[6]=m,this.vertices[7]=H+r.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(te),_e=0,Ce=function(){function _(t,i,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=_e++,this.static=!!i,this.ubo=!!r,t instanceof Ie?(this.buffer=t,this.buffer.type=h.mr.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new Ie(new Float32Array(1)),this.buffer.type=h.mr.UNIFORM_BUFFER,this.autoManage=!0))}return _.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},_.prototype.add=function(t,i,r){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new _(i,r)},_.from=function(t,i,r){return new _(t,i,r)},_.uboFrom=function(t,i){return new _(t,i==null||i,!0)},_}(),de=function(){function _(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=h.G5.NONE,this.sourceFrame=new N.Ae,this.destinationFrame=new N.Ae,this.bindingSourceFrame=new N.Ae,this.bindingDestinationFrame=new N.Ae,this.filters=[],this.transform=null}return _.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},_}(),ge=[new N.E9,new N.E9,new N.E9,new N.E9],ye=new N.y3,xe=function(){function _(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new ee,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new re,this.quadUv=new ae,this.tempRect=new N.Ae,this.activeState={},this.globalUniforms=new Ce({outputFrame:new N.Ae,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return _.prototype.push=function(t,i){for(var r,m,H=this.renderer,ie=this.defaultFilterStack,ce=this.statePool.pop()||new de,me=this.renderer.renderTexture,Le=i[0].resolution,He=i[0].multisample,$e=i[0].padding,ht=i[0].autoFit,bt=(r=i[0].legacy)===null||r===void 0||r,It=1;It<i.length;It++){var Rt=i[It];Le=Math.min(Le,Rt.resolution),He=Math.min(He,Rt.multisample),$e=this.useMaxPadding?Math.max($e,Rt.padding):$e+Rt.padding,ht=ht&&Rt.autoFit,bt=bt||(m=Rt.legacy)===null||m===void 0||m}if(ie.length===1&&(this.defaultFilterStack[0].renderTexture=me.current),ie.push(ce),ce.resolution=Le,ce.multisample=He,ce.legacy=bt,ce.target=t,ce.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),ce.sourceFrame.pad($e),ht){var wt=this.tempRect.copyFrom(me.sourceFrame);H.projection.transform&&this.transformAABB(ye.copyFrom(H.projection.transform).invert(),wt),ce.sourceFrame.fit(wt)}this.roundFrame(ce.sourceFrame,me.current?me.current.resolution:H.resolution,me.sourceFrame,me.destinationFrame,H.projection.transform),ce.renderTexture=this.getOptimalFilterTexture(ce.sourceFrame.width,ce.sourceFrame.height,Le,He),ce.filters=i,ce.destinationFrame.width=ce.renderTexture.width,ce.destinationFrame.height=ce.renderTexture.height;var ei=this.tempRect;ei.x=0,ei.y=0,ei.width=ce.sourceFrame.width,ei.height=ce.sourceFrame.height,ce.renderTexture.filterFrame=ce.sourceFrame,ce.bindingSourceFrame.copyFrom(me.sourceFrame),ce.bindingDestinationFrame.copyFrom(me.destinationFrame),ce.transform=H.projection.transform,H.projection.transform=null,me.bind(ce.renderTexture,ce.sourceFrame,ei),H.framebuffer.clear(0,0,0,0)},_.prototype.pop=function(){var t=this.defaultFilterStack,i=t.pop(),r=i.filters;this.activeState=i;var m=this.globalUniforms.uniforms;m.outputFrame=i.sourceFrame,m.resolution=i.resolution;var H=m.inputSize,ie=m.inputPixel,ce=m.inputClamp;if(H[0]=i.destinationFrame.width,H[1]=i.destinationFrame.height,H[2]=1/H[0],H[3]=1/H[1],ie[0]=Math.round(H[0]*i.resolution),ie[1]=Math.round(H[1]*i.resolution),ie[2]=1/ie[0],ie[3]=1/ie[1],ce[0]=.5*ie[2],ce[1]=.5*ie[3],ce[2]=i.sourceFrame.width*H[2]-.5*ie[2],ce[3]=i.sourceFrame.height*H[3]-.5*ie[3],i.legacy){var me=m.filterArea;me[0]=i.destinationFrame.width,me[1]=i.destinationFrame.height,me[2]=i.sourceFrame.x,me[3]=i.sourceFrame.y,m.filterClamp=m.inputClamp}this.globalUniforms.update();var Le=t[t.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,i.renderTexture,Le.renderTexture,h.yl.BLEND,i),this.returnFilterTexture(i.renderTexture);else{var He=i.renderTexture,$e=this.getOptimalFilterTexture(He.width,He.height,i.resolution);$e.filterFrame=He.filterFrame;var ht=0;for(ht=0;ht<r.length-1;++ht){ht===1&&i.multisample>1&&(($e=this.getOptimalFilterTexture(He.width,He.height,i.resolution)).filterFrame=He.filterFrame),r[ht].apply(this,He,$e,h.yl.CLEAR,i);var bt=He;He=$e,$e=bt}r[ht].apply(this,He,Le.renderTexture,h.yl.BLEND,i),ht>1&&i.multisample>1&&this.returnFilterTexture(i.renderTexture),this.returnFilterTexture(He),this.returnFilterTexture($e)}i.clear(),this.statePool.push(i)},_.prototype.bindAndClear=function(t,i){i===void 0&&(i=h.yl.CLEAR);var r=this.renderer,m=r.renderTexture,H=r.state;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t&&t.filterFrame){var ie=this.tempRect;ie.x=0,ie.y=0,ie.width=t.filterFrame.width,ie.height=t.filterFrame.height,m.bind(t,t.filterFrame,ie)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?m.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var ce=1&H.stateId||this.forceClear;(i===h.yl.CLEAR||i===h.yl.BLIT&&ce)&&this.renderer.framebuffer.clear(0,0,0,0)},_.prototype.applyFilter=function(t,i,r,m){var H=this.renderer;H.state.set(t.state),this.bindAndClear(r,m),t.uniforms.uSampler=i,t.uniforms.filterGlobals=this.globalUniforms,H.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(i._frame,i.filterFrame),H.geometry.bind(this.quadUv),H.geometry.draw(h.lg.TRIANGLES)):(H.geometry.bind(this.quad),H.geometry.draw(h.lg.TRIANGLE_STRIP))},_.prototype.calculateSpriteMatrix=function(t,i){var r=this.activeState,m=r.sourceFrame,H=r.destinationFrame,ie=i._texture.orig,ce=t.set(H.width,0,0,H.height,m.x,m.y),me=i.worldTransform.copyTo(N.y3.TEMP_MATRIX);return me.invert(),ce.prepend(me),ce.scale(1/ie.width,1/ie.height),ce.translate(i.anchor.x,i.anchor.y),ce},_.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},_.prototype.getOptimalFilterTexture=function(t,i,r,m){return r===void 0&&(r=1),m===void 0&&(m=h.G5.NONE),this.texturePool.getOptimalTexture(t,i,r,m)},_.prototype.getFilterTexture=function(t,i,r){if(typeof t=="number"){var m=t;t=i,i=m}t=t||this.activeState.renderTexture;var H=this.texturePool.getOptimalTexture(t.width,t.height,i||t.resolution,r||h.G5.NONE);return H.filterFrame=t.filterFrame,H},_.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},_.prototype.emptyPool=function(){this.texturePool.clear(!0)},_.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},_.prototype.transformAABB=function(t,i){var r=ge[0],m=ge[1],H=ge[2],ie=ge[3];r.set(i.left,i.top),m.set(i.left,i.bottom),H.set(i.right,i.top),ie.set(i.right,i.bottom),t.apply(r,r),t.apply(m,m),t.apply(H,H),t.apply(ie,ie);var ce=Math.min(r.x,m.x,H.x,ie.x),me=Math.min(r.y,m.y,H.y,ie.y),Le=Math.max(r.x,m.x,H.x,ie.x),He=Math.max(r.y,m.y,H.y,ie.y);i.x=ce,i.y=me,i.width=Le-ce,i.height=He-me},_.prototype.roundFrame=function(t,i,r,m,H){if(!(t.width<=0||t.height<=0||r.width<=0||r.height<=0)){if(H){var ie=H.a,ce=H.b,me=H.c,Le=H.d;if((Math.abs(ce)>1e-4||Math.abs(me)>1e-4)&&(Math.abs(ie)>1e-4||Math.abs(Le)>1e-4))return}(H=H?ye.copyFrom(H):ye.identity()).translate(-r.x,-r.y).scale(m.width/r.width,m.height/r.height).translate(m.x,m.y),this.transformAABB(H,t),t.ceil(i),this.transformAABB(H.invert(),t)}},_}(),Be=function(){function _(t){this.renderer=t}return _.prototype.flush=function(){},_.prototype.destroy=function(){this.renderer=null},_.prototype.start=function(){},_.prototype.stop=function(){this.flush()},_.prototype.render=function(t){},_}(),We=function(){function _(t){this.renderer=t,this.emptyRenderer=new Be(t),this.currentRenderer=this.emptyRenderer}return _.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},_.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},_.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},_.prototype.copyBoundTextures=function(t,i){for(var r=this.renderer.texture.boundTextures,m=i-1;m>=0;--m)t[m]=r[m]||null,t[m]&&(t[m]._batchLocation=m)},_.prototype.boundArray=function(t,i,r,m){for(var H=t.elements,ie=t.ids,ce=t.count,me=0,Le=0;Le<ce;Le++){var He=H[Le],$e=He._batchLocation;if($e>=0&&$e<m&&i[$e]===He)ie[Le]=$e;else for(;me<m;){var ht=i[me];if(!ht||ht._batchEnabled!==r||ht._batchLocation!==me){ie[Le]=me,He._batchLocation=me,i[me]=He;break}me++}}},_.prototype.destroy=function(){this.renderer=null},_}(),qe=0,tt=function(){function _(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(_.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),_.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=qe++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},_.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=qe++,this.renderer.runners.contextChange.emit(t)},_.prototype.initFromOptions=function(t){var i=this.createContext(this.renderer.view,t);this.initFromContext(i)},_.prototype.createContext=function(t,i){var r;if(k.X.PREFER_ENV>=h.Vi.WEBGL2&&(r=t.getContext("webgl2",i)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=t.getContext("webgl",i)||t.getContext("experimental-webgl",i)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl},_.prototype.getExtensions=function(){var t=this.gl,i={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,i,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,i,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},_.prototype.handleContextLost=function(t){t.preventDefault()},_.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},_.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},_.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},_.prototype.validateContext=function(t){var i=t.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),i.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var m=r||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=m,m||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},_}(),vt=function(){function _(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=h.G5.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return _}(),yt=new N.Ae,rt=function(){function _(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new q(10,10),this.msaaSamples=null}return _.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new N.Ae,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var i=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;k.X.PREFER_ENV===h.Vi.WEBGL_LEGACY&&(i=null,r=null),i?t.drawBuffers=function(m){return i.drawBuffersWEBGL(m)}:(this.hasMRT=!1,t.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},_.prototype.bind=function(t,i,r){r===void 0&&(r=0);var m=this.gl;if(t){var H=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,m.bindFramebuffer(m.FRAMEBUFFER,H.framebuffer)),H.mipLevel!==r&&(t.dirtyId++,t.dirtyFormat++,H.mipLevel=r),H.dirtyId!==t.dirtyId&&(H.dirtyId=t.dirtyId,H.dirtyFormat!==t.dirtyFormat?(H.dirtyFormat=t.dirtyFormat,H.dirtySize=t.dirtySize,this.updateFramebuffer(t,r)):H.dirtySize!==t.dirtySize&&(H.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var ie=0;ie<t.colorTextures.length;ie++){var ce=t.colorTextures[ie];this.renderer.texture.unbind(ce.parentTextureArray||ce)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),i){var me=i.width>>r,Le=i.height>>r,He=me/i.width;this.setViewport(i.x*He,i.y*He,me,Le)}else me=t.width>>r,Le=t.height>>r,this.setViewport(0,0,me,Le)}else this.current&&(this.current=null,m.bindFramebuffer(m.FRAMEBUFFER,null)),i?this.setViewport(i.x,i.y,i.width,i.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},_.prototype.setViewport=function(t,i,r,m){var H=this.viewport;t=Math.round(t),i=Math.round(i),r=Math.round(r),m=Math.round(m),H.width===r&&H.height===m&&H.x===t&&H.y===i||(H.x=t,H.y=i,H.width=r,H.height=m,this.gl.viewport(t,i,r,m))},Object.defineProperty(_.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),_.prototype.clear=function(t,i,r,m,H){H===void 0&&(H=h.V0.COLOR|h.V0.DEPTH);var ie=this.gl;ie.clearColor(t,i,r,m),ie.clear(H)},_.prototype.initFramebuffer=function(t){var i=this.gl,r=new vt(i.createFramebuffer());return r.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(t),t.disposeRunner.add(this),r},_.prototype.resizeFramebuffer=function(t){var i=this.gl,r=t.glFramebuffers[this.CONTEXT_UID];r.msaaBuffer&&(i.bindRenderbuffer(i.RENDERBUFFER,r.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.RGBA8,t.width,t.height)),r.stencil&&(i.bindRenderbuffer(i.RENDERBUFFER,r.stencil),r.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.DEPTH24_STENCIL8,t.width,t.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t.width,t.height));var m=t.colorTextures,H=m.length;i.drawBuffers||(H=Math.min(H,1));for(var ie=0;ie<H;ie++){var ce=m[ie],me=ce.parentTextureArray||ce;this.renderer.texture.bind(me,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},_.prototype.updateFramebuffer=function(t,i){var r=this.gl,m=t.glFramebuffers[this.CONTEXT_UID],H=t.colorTextures,ie=H.length;r.drawBuffers||(ie=Math.min(ie,1)),m.multisample>1&&this.canMultisampleFramebuffer(t)?(m.msaaBuffer=m.msaaBuffer||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,m.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,m.multisample,r.RGBA8,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,m.msaaBuffer)):m.msaaBuffer&&(r.deleteRenderbuffer(m.msaaBuffer),m.msaaBuffer=null,m.blitFramebuffer&&(m.blitFramebuffer.dispose(),m.blitFramebuffer=null));for(var ce=[],me=0;me<ie;me++){var Le=H[me],He=Le.parentTextureArray||Le;this.renderer.texture.bind(He,0),me===0&&m.msaaBuffer||(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+me,Le.target,He._glTextures[this.CONTEXT_UID].texture,i),ce.push(r.COLOR_ATTACHMENT0+me))}if(ce.length>1&&r.drawBuffers(ce),t.depthTexture&&this.writeDepthTexture){var $e=t.depthTexture;this.renderer.texture.bind($e,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,$e._glTextures[this.CONTEXT_UID].texture,i)}!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?m.stencil&&(r.deleteRenderbuffer(m.stencil),m.stencil=null):(m.stencil=m.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,m.stencil),m.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,m.multisample,r.DEPTH24_STENCIL8,t.width,t.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,m.stencil))},_.prototype.canMultisampleFramebuffer=function(t){return this.renderer.context.webGLVersion!==1&&t.colorTextures.length<=1&&!t.depthTexture},_.prototype.detectSamples=function(t){var i=this.msaaSamples,r=h.G5.NONE;if(t<=1||i===null)return r;for(var m=0;m<i.length;m++)if(i[m]<=t){r=i[m];break}return r===1&&(r=h.G5.NONE),r},_.prototype.blit=function(t,i,r){var m=this,H=m.current,ie=m.renderer,ce=m.gl,me=m.CONTEXT_UID;if(ie.context.webGLVersion===2&&H){var Le=H.glFramebuffers[me];if(Le){if(!t){if(!Le.msaaBuffer)return;var He=H.colorTextures[0];if(!He)return;Le.blitFramebuffer||(Le.blitFramebuffer=new q(H.width,H.height),Le.blitFramebuffer.addColorTexture(0,He)),(t=Le.blitFramebuffer).colorTextures[0]!==He&&(t.colorTextures[0]=He,t.dirtyId++,t.dirtyFormat++),t.width===H.width&&t.height===H.height||(t.width=H.width,t.height=H.height,t.dirtyId++,t.dirtySize++)}i||((i=yt).width=H.width,i.height=H.height),r||(r=i);var $e=i.width===r.width&&i.height===r.height;this.bind(t),ce.bindFramebuffer(ce.READ_FRAMEBUFFER,Le.framebuffer),ce.blitFramebuffer(i.left,i.top,i.right,i.bottom,r.left,r.top,r.right,r.bottom,ce.COLOR_BUFFER_BIT,$e?ce.NEAREST:ce.LINEAR)}}},_.prototype.disposeFramebuffer=function(t,i){var r=t.glFramebuffers[this.CONTEXT_UID],m=this.gl;if(r){delete t.glFramebuffers[this.CONTEXT_UID];var H=this.managedFramebuffers.indexOf(t);H>=0&&this.managedFramebuffers.splice(H,1),t.disposeRunner.remove(this),i||(m.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&m.deleteRenderbuffer(r.msaaBuffer),r.stencil&&m.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}},_.prototype.disposeAll=function(t){var i=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<i.length;r++)this.disposeFramebuffer(i[r],t)},_.prototype.forceStencil=function(){var t=this.current;if(t){var i=t.glFramebuffers[this.CONTEXT_UID];if(i&&!i.stencil){t.stencil=!0;var r=t.width,m=t.height,H=this.gl,ie=H.createRenderbuffer();H.bindRenderbuffer(H.RENDERBUFFER,ie),i.msaaBuffer?H.renderbufferStorageMultisample(H.RENDERBUFFER,i.multisample,H.DEPTH24_STENCIL8,r,m):H.renderbufferStorage(H.RENDERBUFFER,H.DEPTH_STENCIL,r,m),i.stencil=ie,H.framebufferRenderbuffer(H.FRAMEBUFFER,H.DEPTH_STENCIL_ATTACHMENT,H.RENDERBUFFER,ie)}}},_.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new N.Ae},_.prototype.destroy=function(){this.renderer=null},_}(),mt={5126:4,5123:2,5121:1},Ee=function(){function _(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return _.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,i=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,i.webGLVersion!==2){var r=this.renderer.context.extensions.vertexArrayObject;k.X.PREFER_ENV===h.Vi.WEBGL_LEGACY&&(r=null),r?(t.createVertexArray=function(){return r.createVertexArrayOES()},t.bindVertexArray=function(H){return r.bindVertexArrayOES(H)},t.deleteVertexArray=function(H){return r.deleteVertexArrayOES(H)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(i.webGLVersion!==2){var m=t.getExtension("ANGLE_instanced_arrays");m?(t.vertexAttribDivisor=function(H,ie){return m.vertexAttribDivisorANGLE(H,ie)},t.drawElementsInstanced=function(H,ie,ce,me,Le){return m.drawElementsInstancedANGLE(H,ie,ce,me,Le)},t.drawArraysInstanced=function(H,ie,ce,me){return m.drawArraysInstancedANGLE(H,ie,ce,me)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=i.webGLVersion===2||!!i.extensions.uint32ElementIndex},_.prototype.bind=function(t,i){i=i||this.renderer.shader.shader;var r=this.gl,m=t.glVertexArrayObjects[this.CONTEXT_UID],H=!1;m||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=m={},H=!0);var ie=m[i.program.id]||this.initGeometryVao(t,i,H);this._activeGeometry=t,this._activeVao!==ie&&(this._activeVao=ie,this.hasVao?r.bindVertexArray(ie):this.activateVao(t,i.program)),this.updateBuffers()},_.prototype.reset=function(){this.unbind()},_.prototype.updateBuffers=function(){for(var t=this._activeGeometry,i=this.renderer.buffer,r=0;r<t.buffers.length;r++){var m=t.buffers[r];i.update(m)}},_.prototype.checkCompatibility=function(t,i){var r=t.attributes,m=i.attributeData;for(var H in m)if(!r[H])throw new Error('shader and geometry incompatible, geometry missing the "'+H+'" attribute')},_.prototype.getSignature=function(t,i){var r=t.attributes,m=i.attributeData,H=["g",t.id];for(var ie in r)m[ie]&&H.push(ie,m[ie].location);return H.join("-")},_.prototype.initGeometryVao=function(t,i,r){r===void 0&&(r=!0);var m=this.gl,H=this.CONTEXT_UID,ie=this.renderer.buffer,ce=i.program;ce.glPrograms[H]||this.renderer.shader.generateProgram(i),this.checkCompatibility(t,ce);var me=this.getSignature(t,ce),Le=t.glVertexArrayObjects[this.CONTEXT_UID],He=Le[me];if(He)return Le[ce.id]=He,He;var $e=t.buffers,ht=t.attributes,bt={},It={};for(var Rt in $e)bt[Rt]=0,It[Rt]=0;for(var Rt in ht)!ht[Rt].size&&ce.attributeData[Rt]?ht[Rt].size=ce.attributeData[Rt].size:ht[Rt].size||console.warn("PIXI Geometry attribute '"+Rt+"' size cannot be determined (likely the bound shader does not have the attribute)"),bt[ht[Rt].buffer]+=ht[Rt].size*mt[ht[Rt].type];for(var Rt in ht){var wt=ht[Rt],ei=wt.size;wt.stride===void 0&&(bt[wt.buffer]===ei*mt[wt.type]?wt.stride=0:wt.stride=bt[wt.buffer]),wt.start===void 0&&(wt.start=It[wt.buffer],It[wt.buffer]+=ei*mt[wt.type])}He=m.createVertexArray(),m.bindVertexArray(He);for(var li=0;li<$e.length;li++){var wi=$e[li];ie.bind(wi),r&&wi._glBuffers[H].refCount++}return this.activateVao(t,ce),this._activeVao=He,Le[ce.id]=He,Le[me]=He,He},_.prototype.disposeGeometry=function(t,i){var r;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var m=t.glVertexArrayObjects[this.CONTEXT_UID],H=this.gl,ie=t.buffers,ce=(r=this.renderer)===null||r===void 0?void 0:r.buffer;if(t.disposeRunner.remove(this),m){if(ce)for(var me=0;me<ie.length;me++){var Le=ie[me]._glBuffers[this.CONTEXT_UID];Le&&(Le.refCount--,Le.refCount!==0||i||ce.dispose(ie[me],i))}if(!i){for(var He in m)if(He[0]==="g"){var $e=m[He];this._activeVao===$e&&this.unbind(),H.deleteVertexArray($e)}}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},_.prototype.disposeAll=function(t){for(var i=Object.keys(this.managedGeometries),r=0;r<i.length;r++)this.disposeGeometry(this.managedGeometries[i[r]],t)},_.prototype.activateVao=function(t,i){var r=this.gl,m=this.CONTEXT_UID,H=this.renderer.buffer,ie=t.buffers,ce=t.attributes;t.indexBuffer&&H.bind(t.indexBuffer);var me=null;for(var Le in ce){var He=ce[Le],$e=ie[He.buffer],ht=$e._glBuffers[m];if(i.attributeData[Le]){me!==ht&&(H.bind($e),me=ht);var bt=i.attributeData[Le].location;if(r.enableVertexAttribArray(bt),r.vertexAttribPointer(bt,He.size,He.type||r.FLOAT,He.normalized,He.stride,He.start),He.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(bt,1)}}}},_.prototype.draw=function(t,i,r,m){var H=this.gl,ie=this._activeGeometry;if(ie.indexBuffer){var ce=ie.indexBuffer.data.BYTES_PER_ELEMENT,me=ce===2?H.UNSIGNED_SHORT:H.UNSIGNED_INT;ce===2||ce===4&&this.canUseUInt32ElementIndex?ie.instanced?H.drawElementsInstanced(t,i||ie.indexBuffer.data.length,me,(r||0)*ce,m||1):H.drawElements(t,i||ie.indexBuffer.data.length,me,(r||0)*ce):console.warn("unsupported index buffer type: uint32")}else ie.instanced?H.drawArraysInstanced(t,r,i||ie.getSize(),m||1):H.drawArrays(t,r,i||ie.getSize());return this},_.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},_.prototype.destroy=function(){this.renderer=null},_}(),je=function(){function _(t){t===void 0&&(t=null),this.type=h.A7.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=k.X.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(_.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),_.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=h.A7.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},_.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},_}();function Ht(_,t,i){var r=_.createShader(t);return _.shaderSource(r,i),_.compileShader(r),r}function Ut(_,t){var i=_.getShaderSource(t).split(`
`).map(function(Le,He){return He+": "+Le}),r=_.getShaderInfoLog(t),m=r.split(`
`),H={},ie=m.map(function(Le){return parseFloat(Le.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(Le){return!(!Le||H[Le])&&(H[Le]=!0,!0)}),ce=[""];ie.forEach(function(Le){i[Le-1]="%c"+i[Le-1]+"%c",ce.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var me=i.join(`
`);ce[0]=me,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,ce),console.groupEnd()}function ft(_,t,i,r){_.getProgramParameter(t,_.LINK_STATUS)||(_.getShaderParameter(i,_.COMPILE_STATUS)||Ut(_,i),_.getShaderParameter(r,_.COMPILE_STATUS)||Ut(_,r),console.error("PixiJS Error: Could not initialize shader."),_.getProgramInfoLog(t)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",_.getProgramInfoLog(t)))}function oe(_){for(var t=new Array(_),i=0;i<t.length;i++)t[i]=!1;return t}function Se(_,t){switch(_){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return oe(2*t);case"bvec3":return oe(3*t);case"bvec4":return oe(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var ke,De={},Ke=De;function Ve(){if(Ke===De||Ke&&Ke.isContextLost()){var _=document.createElement("canvas"),t=void 0;k.X.PREFER_ENV>=h.Vi.WEBGL2&&(t=_.getContext("webgl2",{})),t||((t=_.getContext("webgl",{})||_.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),Ke=t}return Ke}function Je(){if(!ke){ke=h.cB.MEDIUM;var _=Ve();if(_&&_.getShaderPrecisionFormat){var t=_.getShaderPrecisionFormat(_.FRAGMENT_SHADER,_.HIGH_FLOAT);ke=t.precision?h.cB.HIGH:h.cB.MEDIUM}}return ke}function pt(_,t,i){if(_.substring(0,9)!=="precision"){var r=t;return t===h.cB.HIGH&&i!==h.cB.HIGH&&(r=h.cB.MEDIUM),"precision "+r+` float;
`+_}return i!==h.cB.HIGH&&_.substring(0,15)==="precision highp"?_.replace("precision highp","precision mediump"):_}var Et={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Fe(_){return Et[_]}var fe=null,Ne={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Ge(_,t){if(!fe){var i=Object.keys(Ne);fe={};for(var r=0;r<i.length;++r){var m=i[r];fe[_[m]]=Ne[m]}}return fe[t]}var Ze=[{test:function(_){return _.type==="float"&&_.size===1},code:function(_){return`
            if(uv["`+_+'"] !== ud["'+_+`"].value)
            {
                ud["`+_+'"].value = uv["'+_+`"]
                gl.uniform1f(ud["`+_+'"].location, uv["'+_+`"])
            }
            `}},{test:function(_){return(_.type==="sampler2D"||_.type==="samplerCube"||_.type==="sampler2DArray")&&_.size===1&&!_.isArray},code:function(_){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+_+`"], t);

            if(ud["`+_+`"].value !== t)
            {
                ud["`+_+`"].value = t;
                gl.uniform1i(ud["`+_+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(_,t){return _.type==="mat3"&&_.size===1&&t.a!==void 0},code:function(_){return`
            gl.uniformMatrix3fv(ud["`+_+'"].location, false, uv["'+_+`"].toArray(true));
            `},codeUbo:function(_){return`
                var `+_+"_matrix = uv."+_+`.toArray(true);

                data[offset] = `+_+`_matrix[0];
                data[offset+1] = `+_+`_matrix[1];
                data[offset+2] = `+_+`_matrix[2];
        
                data[offset + 4] = `+_+`_matrix[3];
                data[offset + 5] = `+_+`_matrix[4];
                data[offset + 6] = `+_+`_matrix[5];
        
                data[offset + 8] = `+_+`_matrix[6];
                data[offset + 9] = `+_+`_matrix[7];
                data[offset + 10] = `+_+`_matrix[8];
            `}},{test:function(_,t){return _.type==="vec2"&&_.size===1&&t.x!==void 0},code:function(_){return`
                cv = ud["`+_+`"].value;
                v = uv["`+_+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+_+`"].location, v.x, v.y);
                }`},codeUbo:function(_){return`
                v = uv.`+_+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(_){return _.type==="vec2"&&_.size===1},code:function(_){return`
                cv = ud["`+_+`"].value;
                v = uv["`+_+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+_+`"].location, v[0], v[1]);
                }
            `}},{test:function(_,t){return _.type==="vec4"&&_.size===1&&t.width!==void 0},code:function(_){return`
                cv = ud["`+_+`"].value;
                v = uv["`+_+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+_+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(_){return`
                    v = uv.`+_+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(_){return _.type==="vec4"&&_.size===1},code:function(_){return`
                cv = ud["`+_+`"].value;
                v = uv["`+_+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+_+`"].location, v[0], v[1], v[2], v[3])
                }`}}],ot={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},xt={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function Mt(_,t){var i,r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var m in _.uniforms){var H=t[m];if(H){for(var ie=_.uniforms[m],ce=!1,me=0;me<Ze.length;me++)if(Ze[me].test(H,ie)){r.push(Ze[me].code(m,ie)),ce=!0;break}if(!ce){var Le=(H.size===1?ot:xt)[H.type].replace("location",'ud["'+m+'"].location');r.push(`
            cu = ud["`+m+`"];
            cv = cu.value;
            v = uv["`+m+`"];
            `+Le+";")}}else!((i=_.uniforms[m])===null||i===void 0)&&i.group&&(_.uniforms[m].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+m+", '"+m+`');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.`+m+`, syncData);
                    `))}return new Function("ud","uv","renderer","syncData",r.join(`
`))}var gt,st=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function at(_){for(var t="",i=0;i<_;++i)i>0&&(t+=`
else `),i<_-1&&(t+="if(test == "+i+".0){}");return t}function Dt(_,t){if(_===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var i=t.createShader(t.FRAGMENT_SHADER);;){var r=st.replace(/%forloop%/gi,at(_));if(t.shaderSource(i,r),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS))break;_=_/2|0}return _}function Bt(){if(typeof gt=="boolean")return gt;try{var _=new Function("param1","param2","param3","return param1[param2] === param3;");gt=_({a:"b"},"a","b")===!0}catch{gt=!1}return gt}var Nt=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,kt=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,Vt=0,Ft={},qt=function(){function _(t,i,r){r===void 0&&(r="pixi-shader"),this.id=Vt++,this.vertexSrc=t||_.defaultVertexSrc,this.fragmentSrc=i||_.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),Ft[r]?(Ft[r]++,r+="-"+Ft[r]):Ft[r]=1,this.vertexSrc="#define SHADER_NAME "+r+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+`
`+this.fragmentSrc,this.vertexSrc=pt(this.vertexSrc,k.X.PRECISION_VERTEX,h.cB.HIGH),this.fragmentSrc=pt(this.fragmentSrc,k.X.PRECISION_FRAGMENT,Je())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(_,"defaultVertexSrc",{get:function(){return kt},enumerable:!1,configurable:!0}),Object.defineProperty(_,"defaultFragmentSrc",{get:function(){return Nt},enumerable:!1,configurable:!0}),_.from=function(t,i,r){var m=t+i,H=P.ProgramCache[m];return H||(P.ProgramCache[m]=H=new _(t,i,r)),H},_}(),fn=function(){function _(t,i){this.uniformBindCount=0,this.program=t,this.uniformGroup=i?i instanceof Ce?i:new Ce(i):new Ce({})}return _.prototype.checkUniformExists=function(t,i){if(i.uniforms[t])return!0;for(var r in i.uniforms){var m=i.uniforms[r];if(m.group&&this.checkUniformExists(t,m))return!0}return!1},_.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(_.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),_.from=function(t,i,r){return new _(qt.from(t,i),r)},_}(),Yi=0,gn=1,mn=2,ni=3,mi=4,en=5,Ti=function(){function _(){this.data=0,this.blendMode=h.T$.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(_.prototype,"blend",{get:function(){return!!(this.data&1<<Yi)},set:function(t){!!(this.data&1<<Yi)!==t&&(this.data^=1<<Yi)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"offsets",{get:function(){return!!(this.data&1<<gn)},set:function(t){!!(this.data&1<<gn)!==t&&(this.data^=1<<gn)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"culling",{get:function(){return!!(this.data&1<<mn)},set:function(t){!!(this.data&1<<mn)!==t&&(this.data^=1<<mn)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"depthTest",{get:function(){return!!(this.data&1<<ni)},set:function(t){!!(this.data&1<<ni)!==t&&(this.data^=1<<ni)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"depthMask",{get:function(){return!!(this.data&1<<en)},set:function(t){!!(this.data&1<<en)!==t&&(this.data^=1<<en)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<mi)},set:function(t){!!(this.data&1<<mi)!==t&&(this.data^=1<<mi)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==h.T$.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),_.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},_.for2d=function(){var t=new _;return t.depthTest=!1,t.blend=!0,t},_}(),ri=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,tn=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,wn=function(_){function t(i,r,m){var H=this,ie=qt.from(i||t.defaultVertexSrc,r||t.defaultFragmentSrc);return(H=_.call(this,ie,m)||this).padding=0,H.resolution=k.X.FILTER_RESOLUTION,H.multisample=k.X.FILTER_MULTISAMPLE,H.enabled=!0,H.autoFit=!0,H.state=new Ti,H}return E(t,_),t.prototype.apply=function(i,r,m,H,ie){i.applyFilter(this,r,m,H)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(i){this.state.blendMode=i},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(i){this._resolution=i},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return ri},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return tn},enumerable:!1,configurable:!0}),t}(fn),_n=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,cr=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,nn=new N.y3,Ni=function(){function _(t,i){this._texture=t,this.mapCoord=new N.y3,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=i===void 0?.5:i,this.isSimple=!1}return Object.defineProperty(_.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),_.prototype.multiplyUvs=function(t,i){i===void 0&&(i=t);for(var r=this.mapCoord,m=0;m<t.length;m+=2){var H=t[m],ie=t[m+1];i[m]=H*r.a+ie*r.c+r.tx,i[m+1]=H*r.b+ie*r.d+r.ty}return i},_.prototype.update=function(t){var i=this._texture;if(!i||!i.valid||!t&&this._textureID===i._updateID)return!1;this._textureID=i._updateID,this._updateID++;var r=i._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var m=i.orig,H=i.trim;H&&(nn.set(m.width/H.width,0,0,m.height/H.height,-H.x/H.width,-H.y/H.height),this.mapCoord.append(nn));var ie=i.baseTexture,ce=this.uClampFrame,me=this.clampMargin/ie.resolution,Le=this.clampOffset;return ce[0]=(i._frame.x+me+Le)/ie.width,ce[1]=(i._frame.y+me+Le)/ie.height,ce[2]=(i._frame.x+i._frame.width-me+Le)/ie.width,ce[3]=(i._frame.y+i._frame.height-me+Le)/ie.height,this.uClampOffset[0]=Le/ie.realWidth,this.uClampOffset[1]=Le/ie.realHeight,this.isSimple=i._frame.width===ie.width&&i._frame.height===ie.height&&i.rotate===0,!0},_}(),hi=function(_){function t(i,r,m){var H=this,ie=null;return typeof i!="string"&&r===void 0&&m===void 0&&(ie=i,i=void 0,r=void 0,m=void 0),(H=_.call(this,i||_n,r||cr,m)||this).maskSprite=ie,H.maskMatrix=new N.y3,H}return E(t,_),Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(i){this._maskSprite=i,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(i,r,m,H){var ie=this._maskSprite,ce=ie._texture;ce.valid&&(ce.uvMatrix||(ce.uvMatrix=new Ni(ce,0)),ce.uvMatrix.update(),this.uniforms.npmAlpha=ce.baseTexture.alphaMode?0:1,this.uniforms.mask=ce,this.uniforms.otherMatrix=i.calculateSpriteMatrix(this.maskMatrix,ie).prepend(ce.uvMatrix.mapCoord),this.uniforms.alpha=ie.worldAlpha,this.uniforms.maskClamp=ce.uvMatrix.uClampFrame,i.applyFilter(this,r,m,H))},t}(wn),zi=function(){function _(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return _.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},_.prototype.push=function(t,i){var r=i;if(!r.isMaskData){var m=this.maskDataPool.pop()||new je;m.pooled=!0,m.maskObject=i,r=m}var H=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(H),r.autoDetect&&this.detect(r),r._target=t,r.type!==h.A7.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case h.A7.SCISSOR:this.renderer.scissor.push(r);break;case h.A7.STENCIL:this.renderer.stencil.push(r);break;case h.A7.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r)}r.type===h.A7.SPRITE&&this.maskStack.push(r)},_.prototype.pop=function(t){var i=this.maskStack.pop();if(i&&i._target===t){if(i.enabled)switch(i.type){case h.A7.SCISSOR:this.renderer.scissor.pop();break;case h.A7.STENCIL:this.renderer.stencil.pop(i.maskObject);break;case h.A7.SPRITE:this.popSpriteMask(i)}if(i.reset(),i.pooled&&this.maskDataPool.push(i),this.maskStack.length!==0){var r=this.maskStack[this.maskStack.length-1];r.type===h.A7.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}},_.prototype.detect=function(t){t.maskObject.isSprite?t.type=h.A7.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=h.A7.SCISSOR:t.type=h.A7.STENCIL},_.prototype.pushSpriteMask=function(t){var i,r,m=t.maskObject,H=t._target,ie=t._filters;ie||(ie=this.alphaMaskPool[this.alphaMaskIndex])||(ie=this.alphaMaskPool[this.alphaMaskIndex]=[new hi]);var ce,me,Le=this.renderer,He=Le.renderTexture;if(He.current){var $e=He.current;ce=t.resolution||$e.resolution,me=(i=t.multisample)!==null&&i!==void 0?i:$e.multisample}else ce=t.resolution||Le.resolution,me=(r=t.multisample)!==null&&r!==void 0?r:Le.multisample;ie[0].resolution=ce,ie[0].multisample=me,ie[0].maskSprite=m;var ht=H.filterArea;H.filterArea=m.getBounds(!0),Le.filter.push(H,ie),H.filterArea=ht,t._filters||this.alphaMaskIndex++},_.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},_.prototype.destroy=function(){this.renderer=null},_}(),Yn=function(){function _(t){this.renderer=t,this.maskStack=[],this.glConst=0}return _.prototype.getStackLength=function(){return this.maskStack.length},_.prototype.setMaskStack=function(t){var i=this.renderer.gl,r=this.getStackLength();this.maskStack=t;var m=this.getStackLength();m!==r&&(m===0?i.disable(this.glConst):(i.enable(this.glConst),this._useCurrent()))},_.prototype._useCurrent=function(){},_.prototype.destroy=function(){this.renderer=null,this.maskStack=null},_}(),vn=new N.y3,Rn=function(_){function t(i){var r=_.call(this,i)||this;return r.glConst=WebGLRenderingContext.SCISSOR_TEST,r}return E(t,_),t.prototype.getStackLength=function(){var i=this.maskStack[this.maskStack.length-1];return i?i._scissorCounter:0},t.prototype.calcScissorRect=function(i){if(!i._scissorRectLocal){var r=i._scissorRect,m=i.maskObject,H=this.renderer,ie=H.renderTexture;m.renderable=!0;var ce=m.getBounds();this.roundFrameToPixels(ce,ie.current?ie.current.resolution:H.resolution,ie.sourceFrame,ie.destinationFrame,H.projection.transform),m.renderable=!1,r&&ce.fit(r),i._scissorRectLocal=ce}},t.isMatrixRotated=function(i){if(!i)return!1;var r=i.a,m=i.b,H=i.c,ie=i.d;return(Math.abs(m)>1e-4||Math.abs(H)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(ie)>1e-4)},t.prototype.testScissor=function(i){var r=i.maskObject;if(!r.isFastRect||!r.isFastRect()||t.isMatrixRotated(r.worldTransform)||t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(i);var m=i._scissorRectLocal;return m.width>0&&m.height>0},t.prototype.roundFrameToPixels=function(i,r,m,H,ie){t.isMatrixRotated(ie)||((ie=ie?vn.copyFrom(ie):vn.identity()).translate(-m.x,-m.y).scale(H.width/m.width,H.height/m.height).translate(H.x,H.y),this.renderer.filter.transformAABB(ie,i),i.fit(H),i.x=Math.round(i.x*r),i.y=Math.round(i.y*r),i.width=Math.round(i.width*r),i.height=Math.round(i.height*r))},t.prototype.push=function(i){i._scissorRectLocal||this.calcScissorRect(i);var r=this.renderer.gl;i._scissorRect||r.enable(r.SCISSOR_TEST),i._scissorCounter++,i._scissorRect=i._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(){var i=this.renderer.gl;this.getStackLength()>0?this._useCurrent():i.disable(i.SCISSOR_TEST)},t.prototype._useCurrent=function(){var i,r=this.maskStack[this.maskStack.length-1]._scissorRect;i=this.renderer.renderTexture.current?r.y:this.renderer.height-r.height-r.y,this.renderer.gl.scissor(r.x,i,r.width,r.height)},t}(Yn),Pn=function(_){function t(i){var r=_.call(this,i)||this;return r.glConst=WebGLRenderingContext.STENCIL_TEST,r}return E(t,_),t.prototype.getStackLength=function(){var i=this.maskStack[this.maskStack.length-1];return i?i._stencilCounter:0},t.prototype.push=function(i){var r=i.maskObject,m=this.renderer.gl,H=i._stencilCounter;H===0&&(this.renderer.framebuffer.forceStencil(),m.clearStencil(0),m.clear(m.STENCIL_BUFFER_BIT),m.enable(m.STENCIL_TEST)),i._stencilCounter++,m.colorMask(!1,!1,!1,!1),m.stencilFunc(m.EQUAL,H,4294967295),m.stencilOp(m.KEEP,m.KEEP,m.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent()},t.prototype.pop=function(i){var r=this.renderer.gl;this.getStackLength()===0?r.disable(r.STENCIL_TEST):(r.colorMask(!1,!1,!1,!1),r.stencilOp(r.KEEP,r.KEEP,r.DECR),i.renderable=!0,i.render(this.renderer),this.renderer.batch.flush(),i.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var i=this.renderer.gl;i.colorMask(!0,!0,!0,!0),i.stencilFunc(i.EQUAL,this.getStackLength(),4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP)},t}(Yn),On=function(){function _(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new N.y3,this.transform=null}return _.prototype.update=function(t,i,r,m){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=i||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,m),this.transform&&this.projectionMatrix.append(this.transform);var H=this.renderer;H.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,H.globalUniforms.update(),H.shader.shader&&H.shader.syncUniformGroup(H.shader.shader.uniforms.globals)},_.prototype.calculateProjection=function(t,i,r,m){var H=this.projectionMatrix,ie=m?-1:1;H.identity(),H.a=1/i.width*2,H.d=ie*(1/i.height*2),H.tx=-1-i.x*H.a,H.ty=-ie-i.y*H.d},_.prototype.setTransform=function(t){},_.prototype.destroy=function(){this.renderer=null},_}(),_i=new N.Ae,rn=new N.Ae,Cn=function(){function _(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new N.Ae,this.destinationFrame=new N.Ae,this.viewportFrame=new N.Ae}return _.prototype.bind=function(t,i,r){t===void 0&&(t=null);var m,H,ie,ce=this.renderer;this.current=t,t?(ie=(m=t.baseTexture).resolution,i||(_i.width=t.frame.width,_i.height=t.frame.height,i=_i),r||(rn.x=t.frame.x,rn.y=t.frame.y,rn.width=i.width,rn.height=i.height,r=rn),H=m.framebuffer):(ie=ce.resolution,i||(_i.width=ce.screen.width,_i.height=ce.screen.height,i=_i),r||((r=_i).width=i.width,r.height=i.height));var me=this.viewportFrame;me.x=r.x*ie,me.y=r.y*ie,me.width=r.width*ie,me.height=r.height*ie,t||(me.y=ce.view.height-(me.y+me.height)),me.ceil(),this.renderer.framebuffer.bind(H,me),this.renderer.projection.update(r,i,ie,!H),t?this.renderer.mask.setMaskStack(m.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(i),this.destinationFrame.copyFrom(r)},_.prototype.clear=function(t,i){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var r=this.destinationFrame,m=this.current?this.current.baseTexture:this.renderer.screen,H=r.width!==m.width||r.height!==m.height;if(H){var ie=this.viewportFrame,ce=ie.x,me=ie.y,Le=ie.width,He=ie.height;ce=Math.round(ce),me=Math.round(me),Le=Math.round(Le),He=Math.round(He),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(ce,me,Le,He)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],i),H&&this.renderer.scissor.pop()},_.prototype.resize=function(){this.bind(null)},_.prototype.reset=function(){this.bind(null)},_.prototype.destroy=function(){this.renderer=null},_}();function Mn(_,t,i,r,m){i.buffer.update(m)}var an={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},ai={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function oi(_){for(var t=_.map(function(me){return{data:me,offset:0,dataLen:0,dirty:0}}),i=0,r=0,m=0,H=0;H<t.length;H++){var ie=t[H];if(i=ai[ie.data.type],ie.data.size>1&&(i=Math.max(i,16)*ie.data.size),ie.dataLen=i,r%i!=0&&r<16){var ce=r%i%16;r+=ce,m+=ce}r+i>16?(m=16*Math.ceil(m/16),ie.offset=m,m+=i,r=i):(ie.offset=m,r+=i,m+=i)}return{uboElements:t,size:m=16*Math.ceil(m/16)}}function An(_,t){var i=[];for(var r in _)t[r]&&i.push(t[r]);return i.sort(function(m,H){return m.index-H.index}),i}function qi(_,t){if(!_.autoManage)return{size:0,syncFunc:Mn};for(var i=oi(An(_.uniforms,t)),r=i.uboElements,m=i.size,H=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],ie=0;ie<r.length;ie++){for(var ce=r[ie],me=_.uniforms[ce.data.name],Le=ce.data.name,He=!1,$e=0;$e<Ze.length;$e++){var ht=Ze[$e];if(ht.codeUbo&&ht.test(ce.data,me)){H.push("offset = "+ce.offset/4+";",Ze[$e].codeUbo(ce.data.name,me)),He=!0;break}}if(!He)if(ce.data.size>1){var bt=Fe(ce.data.type),It=Math.max(ai[ce.data.type]/16,1),Rt=bt/It,wt=(4-Rt%4)%4;H.push(`
                cv = ud.`+Le+`.value;
                v = uv.`+Le+`;
                offset = `+ce.offset/4+`;

                t = 0;

                for(var i=0; i < `+ce.data.size*It+`; i++)
                {
                    for(var j = 0; j < `+Rt+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+wt+`;
                }

                `)}else{var ei=an[ce.data.type];H.push(`
                cv = ud.`+Le+`.value;
                v = uv.`+Le+`;
                offset = `+ce.offset/4+`;
                `+ei+`;
                `)}}return H.push(`
       renderer.buffer.update(buffer);
    `),{size:m,syncFunc:new Function("ud","uv","renderer","syncData","buffer",H.join(`
`))}}var pr=function(){function _(){}return _}(),ui=function(){function _(t,i){this.program=t,this.uniformData=i,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return _.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},_}();function dr(_,t){for(var i={},r=t.getProgramParameter(_,t.ACTIVE_ATTRIBUTES),m=0;m<r;m++){var H=t.getActiveAttrib(_,m);if(H.name.indexOf("gl_")!==0){var ie=Ge(t,H.type),ce={type:ie,name:H.name,size:Fe(ie),location:t.getAttribLocation(_,H.name)};i[H.name]=ce}}return i}function Dn(_,t){for(var i={},r=t.getProgramParameter(_,t.ACTIVE_UNIFORMS),m=0;m<r;m++){var H=t.getActiveUniform(_,m),ie=H.name.replace(/\[.*?\]$/,""),ce=!!H.name.match(/\[.*?\]$/),me=Ge(t,H.type);i[ie]={name:ie,index:m,type:me,size:H.size,isArray:ce,value:Se(me,H.size)}}return i}function sn(_,t){var i=Ht(_,_.VERTEX_SHADER,t.vertexSrc),r=Ht(_,_.FRAGMENT_SHADER,t.fragmentSrc),m=_.createProgram();if(_.attachShader(m,i),_.attachShader(m,r),_.linkProgram(m),_.getProgramParameter(m,_.LINK_STATUS)||ft(_,m,i,r),t.attributeData=dr(m,_),t.uniformData=Dn(m,_),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var H=Object.keys(t.attributeData);H.sort(function(Le,He){return Le>He?1:-1});for(var ie=0;ie<H.length;ie++)t.attributeData[H[ie]].location=ie,_.bindAttribLocation(m,ie,H[ie]);_.linkProgram(m)}_.deleteShader(i),_.deleteShader(r);var ce={};for(var ie in t.uniformData){var me=t.uniformData[ie];ce[ie]={location:_.getUniformLocation(m,ie),value:Se(me.type,me.size)}}return new ui(m,ce)}var zn=0,pi={textureCount:0,uboCount:0},on=function(){function _(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=zn++}return _.prototype.systemCheck=function(){if(!Bt())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},_.prototype.contextChange=function(t){this.gl=t,this.reset()},_.prototype.bind=function(t,i){t.uniforms.globals=this.renderer.globalUniforms;var r=t.program,m=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(m.program)),i||(pi.textureCount=0,pi.uboCount=0,this.syncUniformGroup(t.uniformGroup,pi)),m},_.prototype.setUniforms=function(t){var i=this.shader.program,r=i.glPrograms[this.renderer.CONTEXT_UID];i.syncUniforms(r.uniformData,t,this.renderer)},_.prototype.syncUniformGroup=function(t,i){var r=this.getGlProgram();t.static&&t.dirtyId===r.uniformDirtyGroups[t.id]||(r.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,r,i))},_.prototype.syncUniforms=function(t,i,r){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(i.uniformData,t.uniforms,this.renderer,r)},_.prototype.createSyncGroups=function(t){var i=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[i]||(this.cache[i]=Mt(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[i],t.syncUniforms[this.shader.program.id]},_.prototype.syncUniformBufferGroup=function(t,i){var r=this.getGlProgram();if(!t.static||t.dirtyId!==0||!r.uniformGroups[t.id]){t.dirtyId=0;var m=r.uniformGroups[t.id]||this.createSyncBufferGroup(t,r,i);t.buffer.update(),m(r.uniformData,t.uniforms,this.renderer,pi,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,r.uniformBufferBindings[i])},_.prototype.createSyncBufferGroup=function(t,i,r){var m=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var H=this.gl.getUniformBlockIndex(i.program,r);i.uniformBufferBindings[r]=this.shader.uniformBindCount,m.uniformBlockBinding(i.program,H,this.shader.uniformBindCount),this.shader.uniformBindCount++;var ie=this.getSignature(t,this.shader.program.uniformData,"ubo"),ce=this._uboCache[ie];if(ce||(ce=this._uboCache[ie]=qi(t,this.shader.program.uniformData)),t.autoManage){var me=new Float32Array(ce.size/4);t.buffer.update(me)}return i.uniformGroups[t.id]=ce.syncFunc,i.uniformGroups[t.id]},_.prototype.getSignature=function(t,i,r){var m=t.uniforms,H=[r+"-"];for(var ie in m)H.push(ie),i[ie]&&H.push(i[ie].type);return H.join("-")},_.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},_.prototype.generateProgram=function(t){var i=this.gl,r=t.program,m=sn(i,r);return r.glPrograms[this.renderer.CONTEXT_UID]=m,m},_.prototype.reset=function(){this.program=null,this.shader=null},_.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},_}();function Ei(_,t){return t===void 0&&(t=[]),t[h.T$.NORMAL]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.ADD]=[_.ONE,_.ONE],t[h.T$.MULTIPLY]=[_.DST_COLOR,_.ONE_MINUS_SRC_ALPHA,_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.SCREEN]=[_.ONE,_.ONE_MINUS_SRC_COLOR,_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.OVERLAY]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.DARKEN]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.LIGHTEN]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.COLOR_DODGE]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.COLOR_BURN]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.HARD_LIGHT]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.SOFT_LIGHT]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.DIFFERENCE]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.EXCLUSION]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.HUE]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.SATURATION]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.COLOR]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.LUMINOSITY]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.NONE]=[0,0],t[h.T$.NORMAL_NPM]=[_.SRC_ALPHA,_.ONE_MINUS_SRC_ALPHA,_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.ADD_NPM]=[_.SRC_ALPHA,_.ONE,_.ONE,_.ONE],t[h.T$.SCREEN_NPM]=[_.SRC_ALPHA,_.ONE_MINUS_SRC_COLOR,_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.SRC_IN]=[_.DST_ALPHA,_.ZERO],t[h.T$.SRC_OUT]=[_.ONE_MINUS_DST_ALPHA,_.ZERO],t[h.T$.SRC_ATOP]=[_.DST_ALPHA,_.ONE_MINUS_SRC_ALPHA],t[h.T$.DST_OVER]=[_.ONE_MINUS_DST_ALPHA,_.ONE],t[h.T$.DST_IN]=[_.ZERO,_.SRC_ALPHA],t[h.T$.DST_OUT]=[_.ZERO,_.ONE_MINUS_SRC_ALPHA],t[h.T$.DST_ATOP]=[_.ONE_MINUS_DST_ALPHA,_.SRC_ALPHA],t[h.T$.XOR]=[_.ONE_MINUS_DST_ALPHA,_.ONE_MINUS_SRC_ALPHA],t[h.T$.SUBTRACT]=[_.ONE,_.ONE,_.ONE,_.ONE,_.FUNC_REVERSE_SUBTRACT,_.FUNC_ADD],t}var Xi=0,qn=1,Nn=2,Li=3,vi=4,Si=5,ln=function(){function _(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=h.T$.NONE,this._blendEq=!1,this.map=[],this.map[Xi]=this.setBlend,this.map[qn]=this.setOffset,this.map[Nn]=this.setCullFace,this.map[Li]=this.setDepthTest,this.map[vi]=this.setFrontFace,this.map[Si]=this.setDepthMask,this.checks=[],this.defaultState=new Ti,this.defaultState.blend=!0}return _.prototype.contextChange=function(t){this.gl=t,this.blendModes=Ei(t),this.set(this.defaultState),this.reset()},_.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var i=this.stateId^t.data,r=0;i;)1&i&&this.map[r].call(this,!!(t.data&1<<r)),i>>=1,r++;this.stateId=t.data}for(r=0;r<this.checks.length;r++)this.checks[r](this,t)},_.prototype.forceState=function(t){t=t||this.defaultState;for(var i=0;i<this.map.length;i++)this.map[i].call(this,!!(t.data&1<<i));for(i=0;i<this.checks.length;i++)this.checks[i](this,t);this.stateId=t.data},_.prototype.setBlend=function(t){this.updateCheck(_.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},_.prototype.setOffset=function(t){this.updateCheck(_.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},_.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},_.prototype.setDepthMask=function(t){this.gl.depthMask(t)},_.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},_.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},_.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var i=this.blendModes[t],r=this.gl;i.length===2?r.blendFunc(i[0],i[1]):r.blendFuncSeparate(i[0],i[1],i[2],i[3]),i.length===6?(this._blendEq=!0,r.blendEquationSeparate(i[4],i[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},_.prototype.setPolygonOffset=function(t,i){this.gl.polygonOffset(t,i)},_.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},_.prototype.updateCheck=function(t,i){var r=this.checks.indexOf(t);i&&r===-1?this.checks.push(t):i||r===-1||this.checks.splice(r,1)},_.checkBlendMode=function(t,i){t.setBlendMode(i.blendMode)},_.checkPolygonOffset=function(t,i){t.setPolygonOffset(1,i.polygonOffset)},_.prototype.destroy=function(){this.gl=null},_}(),yn=function(){function _(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=k.X.GC_MAX_IDLE,this.checkCountMax=k.X.GC_MAX_CHECK_COUNT,this.mode=k.X.GC_MODE}return _.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==h.UN.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},_.prototype.run=function(){for(var t=this.renderer.texture,i=t.managedTextures,r=!1,m=0;m<i.length;m++){var H=i[m];!H.framebuffer&&this.count-H.touched>this.maxIdle&&(t.destroyTexture(H,!0),i[m]=null,r=!0)}if(r){var ie=0;for(m=0;m<i.length;m++)i[m]!==null&&(i[ie++]=i[m]);i.length=ie}},_.prototype.unload=function(t){var i=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&i.destroyTexture(r);for(var m=t.children.length-1;m>=0;m--)this.unload(t.children[m])},_.prototype.destroy=function(){this.renderer=null},_}();function Ai(_){var t,i,r,m,H,ie,ce,me,Le,He,$e,ht,bt,It,Rt,wt,ei,li,wi,tr,pn,ir,ji;return"WebGL2RenderingContext"in globalThis&&_ instanceof globalThis.WebGL2RenderingContext?((t={})[h.vK.UNSIGNED_BYTE]=((i={})[h.I2.RGBA]=_.RGBA8,i[h.I2.RGB]=_.RGB8,i[h.I2.RG]=_.RG8,i[h.I2.RED]=_.R8,i[h.I2.RGBA_INTEGER]=_.RGBA8UI,i[h.I2.RGB_INTEGER]=_.RGB8UI,i[h.I2.RG_INTEGER]=_.RG8UI,i[h.I2.RED_INTEGER]=_.R8UI,i[h.I2.ALPHA]=_.ALPHA,i[h.I2.LUMINANCE]=_.LUMINANCE,i[h.I2.LUMINANCE_ALPHA]=_.LUMINANCE_ALPHA,i),t[h.vK.BYTE]=((r={})[h.I2.RGBA]=_.RGBA8_SNORM,r[h.I2.RGB]=_.RGB8_SNORM,r[h.I2.RG]=_.RG8_SNORM,r[h.I2.RED]=_.R8_SNORM,r[h.I2.RGBA_INTEGER]=_.RGBA8I,r[h.I2.RGB_INTEGER]=_.RGB8I,r[h.I2.RG_INTEGER]=_.RG8I,r[h.I2.RED_INTEGER]=_.R8I,r),t[h.vK.UNSIGNED_SHORT]=((m={})[h.I2.RGBA_INTEGER]=_.RGBA16UI,m[h.I2.RGB_INTEGER]=_.RGB16UI,m[h.I2.RG_INTEGER]=_.RG16UI,m[h.I2.RED_INTEGER]=_.R16UI,m[h.I2.DEPTH_COMPONENT]=_.DEPTH_COMPONENT16,m),t[h.vK.SHORT]=((H={})[h.I2.RGBA_INTEGER]=_.RGBA16I,H[h.I2.RGB_INTEGER]=_.RGB16I,H[h.I2.RG_INTEGER]=_.RG16I,H[h.I2.RED_INTEGER]=_.R16I,H),t[h.vK.UNSIGNED_INT]=((ie={})[h.I2.RGBA_INTEGER]=_.RGBA32UI,ie[h.I2.RGB_INTEGER]=_.RGB32UI,ie[h.I2.RG_INTEGER]=_.RG32UI,ie[h.I2.RED_INTEGER]=_.R32UI,ie[h.I2.DEPTH_COMPONENT]=_.DEPTH_COMPONENT24,ie),t[h.vK.INT]=((ce={})[h.I2.RGBA_INTEGER]=_.RGBA32I,ce[h.I2.RGB_INTEGER]=_.RGB32I,ce[h.I2.RG_INTEGER]=_.RG32I,ce[h.I2.RED_INTEGER]=_.R32I,ce),t[h.vK.FLOAT]=((me={})[h.I2.RGBA]=_.RGBA32F,me[h.I2.RGB]=_.RGB32F,me[h.I2.RG]=_.RG32F,me[h.I2.RED]=_.R32F,me[h.I2.DEPTH_COMPONENT]=_.DEPTH_COMPONENT32F,me),t[h.vK.HALF_FLOAT]=((Le={})[h.I2.RGBA]=_.RGBA16F,Le[h.I2.RGB]=_.RGB16F,Le[h.I2.RG]=_.RG16F,Le[h.I2.RED]=_.R16F,Le),t[h.vK.UNSIGNED_SHORT_5_6_5]=((He={})[h.I2.RGB]=_.RGB565,He),t[h.vK.UNSIGNED_SHORT_4_4_4_4]=(($e={})[h.I2.RGBA]=_.RGBA4,$e),t[h.vK.UNSIGNED_SHORT_5_5_5_1]=((ht={})[h.I2.RGBA]=_.RGB5_A1,ht),t[h.vK.UNSIGNED_INT_2_10_10_10_REV]=((bt={})[h.I2.RGBA]=_.RGB10_A2,bt[h.I2.RGBA_INTEGER]=_.RGB10_A2UI,bt),t[h.vK.UNSIGNED_INT_10F_11F_11F_REV]=((It={})[h.I2.RGB]=_.R11F_G11F_B10F,It),t[h.vK.UNSIGNED_INT_5_9_9_9_REV]=((Rt={})[h.I2.RGB]=_.RGB9_E5,Rt),t[h.vK.UNSIGNED_INT_24_8]=((wt={})[h.I2.DEPTH_STENCIL]=_.DEPTH24_STENCIL8,wt),t[h.vK.FLOAT_32_UNSIGNED_INT_24_8_REV]=((ei={})[h.I2.DEPTH_STENCIL]=_.DEPTH32F_STENCIL8,ei),ji=t):((li={})[h.vK.UNSIGNED_BYTE]=((wi={})[h.I2.RGBA]=_.RGBA,wi[h.I2.RGB]=_.RGB,wi[h.I2.ALPHA]=_.ALPHA,wi[h.I2.LUMINANCE]=_.LUMINANCE,wi[h.I2.LUMINANCE_ALPHA]=_.LUMINANCE_ALPHA,wi),li[h.vK.UNSIGNED_SHORT_5_6_5]=((tr={})[h.I2.RGB]=_.RGB,tr),li[h.vK.UNSIGNED_SHORT_4_4_4_4]=((pn={})[h.I2.RGBA]=_.RGBA,pn),li[h.vK.UNSIGNED_SHORT_5_5_5_1]=((ir={})[h.I2.RGBA]=_.RGBA,ir),ji=li),ji}var hn=function(){function _(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=h.vK.UNSIGNED_BYTE,this.internalFormat=h.I2.RGBA,this.samplerType=0}return _}(),Qi=function(){function _(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new I,this.hasIntegerTextures=!1}return _.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=Ai(t);var i=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=i;for(var r=0;r<i;r++)this.boundTextures[r]=null;this.emptyTextures={};var m=new hn(t.createTexture());for(t.bindTexture(t.TEXTURE_2D,m.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=m,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new hn(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),r=0;r<6;r++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);for(t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),r=0;r<this.boundTextures.length;r++)this.bind(null,r)},_.prototype.bind=function(t,i){i===void 0&&(i=0);var r=this.gl;if((t=t==null?void 0:t.castToBaseTexture())&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var m=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[i]!==t&&(this.currentLocation!==i&&(this.currentLocation=i,r.activeTexture(r.TEXTURE0+i)),r.bindTexture(t.target,m.texture)),m.dirtyId!==t.dirtyId&&(this.currentLocation!==i&&(this.currentLocation=i,r.activeTexture(r.TEXTURE0+i)),this.updateTexture(t)),this.boundTextures[i]=t}else this.currentLocation!==i&&(this.currentLocation=i,r.activeTexture(r.TEXTURE0+i)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[i]=null},_.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},_.prototype.unbind=function(t){var i=this,r=i.gl,m=i.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var H=0;H<m.length;H++)m[H]===this.unknownTexture&&this.bind(null,H)}for(H=0;H<m.length;H++)m[H]===t&&(this.currentLocation!==H&&(r.activeTexture(r.TEXTURE0+H),this.currentLocation=H),r.bindTexture(t.target,this.emptyTextures[t.target].texture),m[H]=null)},_.prototype.ensureSamplerType=function(t){var i=this,r=i.boundTextures,m=i.hasIntegerTextures,H=i.CONTEXT_UID;if(m)for(var ie=t-1;ie>=0;--ie){var ce=r[ie];ce&&ce._glTextures[H].samplerType!==h.oT.FLOAT&&this.renderer.texture.unbind(ce)}},_.prototype.initTexture=function(t){var i=new hn(this.gl.createTexture());return i.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=i,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),i},_.prototype.initTextureType=function(t,i){var r,m;i.internalFormat=(m=(r=this.internalFormats[t.type])===null||r===void 0?void 0:r[t.format])!==null&&m!==void 0?m:t.format,this.webGLVersion===2&&t.type===h.vK.HALF_FLOAT?i.type=this.gl.HALF_FLOAT:i.type=t.type},_.prototype.updateTexture=function(t){var i=t._glTextures[this.CONTEXT_UID];if(i){var r=this.renderer;if(this.initTextureType(t,i),t.resource&&t.resource.upload(r,t,i))i.samplerType!==h.oT.FLOAT&&(this.hasIntegerTextures=!0);else{var m=t.realWidth,H=t.realHeight,ie=r.gl;(i.width!==m||i.height!==H||i.dirtyId<0)&&(i.width=m,i.height=H,ie.texImage2D(t.target,0,i.internalFormat,m,H,0,t.format,i.type,null))}t.dirtyStyleId!==i.dirtyStyleId&&this.updateTextureStyle(t),i.dirtyId=t.dirtyId}},_.prototype.destroyTexture=function(t,i){var r=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!i)){var m=this.managedTextures.indexOf(t);m!==-1&&(0,P.removeItems)(this.managedTextures,m,1)}},_.prototype.updateTextureStyle=function(t){var i=t._glTextures[this.CONTEXT_UID];i&&(t.mipmap!==h.WB.POW2&&this.webGLVersion===2||t.isPowerOfTwo?i.mipmap=t.mipmap>=1:i.mipmap=!1,this.webGLVersion===2||t.isPowerOfTwo?i.wrapMode=t.wrapMode:i.wrapMode=h.Nt.CLAMP,t.resource&&t.resource.style(this.renderer,t,i)||this.setStyle(t,i),i.dirtyStyleId=t.dirtyStyleId)},_.prototype.setStyle=function(t,i){var r=this.gl;if(i.mipmap&&t.mipmap!==h.WB.ON_MANUAL&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,i.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,i.wrapMode),i.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===h.aH.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var m=this.renderer.context.extensions.anisotropicFiltering;if(m&&t.anisotropicLevel>0&&t.scaleMode===h.aH.LINEAR){var H=Math.min(t.anisotropicLevel,r.getParameter(m.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,m.TEXTURE_MAX_ANISOTROPY_EXT,H)}}else r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===h.aH.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode===h.aH.LINEAR?r.LINEAR:r.NEAREST)},_.prototype.destroy=function(){this.renderer=null},_}(),Ln={__proto__:null,FilterSystem:xe,BatchSystem:We,ContextSystem:tt,FramebufferSystem:rt,GeometrySystem:Ee,MaskSystem:zi,ScissorSystem:Rn,StencilSystem:Pn,ProjectionSystem:On,RenderTextureSystem:Cn,ShaderSystem:on,StateSystem:ln,TextureGCSystem:yn,TextureSystem:Qi},Ki=new N.y3,bn=function(_){function t(i,r){i===void 0&&(i=h.N3.UNKNOWN);var m=_.call(this)||this;return r=Object.assign({},k.X.RENDER_OPTIONS,r),m.options=r,m.type=i,m.screen=new N.Ae(0,0,r.width,r.height),m.view=r.view||document.createElement("canvas"),m.resolution=r.resolution||k.X.RESOLUTION,m.useContextAlpha=r.useContextAlpha,m.autoDensity=!!r.autoDensity,m.preserveDrawingBuffer=r.preserveDrawingBuffer,m.clearBeforeRender=r.clearBeforeRender,m._backgroundColor=0,m._backgroundColorRgba=[0,0,0,1],m._backgroundColorString="#000000",m.backgroundColor=r.backgroundColor||m._backgroundColor,m.backgroundAlpha=r.backgroundAlpha,r.transparent!==void 0&&((0,P.deprecation)("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),m.useContextAlpha=r.transparent,m.backgroundAlpha=r.transparent?0:1),m._lastObjectRendered=null,m.plugins={},m}return E(t,_),t.prototype.initPlugins=function(i){for(var r in i)this.plugins[r]=new i[r](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(i,r){this.view.width=Math.round(i*this.resolution),this.view.height=Math.round(r*this.resolution);var m=this.view.width/this.resolution,H=this.view.height/this.resolution;this.screen.width=m,this.screen.height=H,this.autoDensity&&(this.view.style.width=m+"px",this.view.style.height=H+"px"),this.emit("resize",m,H)},t.prototype.generateTexture=function(i,r,m,H){r===void 0&&(r={}),typeof r=="number"&&((0,P.deprecation)("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),r={scaleMode:r,resolution:m,region:H});var ie=r.region,ce=n(r,["region"]);(H=ie||i.getLocalBounds(null,!0)).width===0&&(H.width=1),H.height===0&&(H.height=1);var me=Q.create(v({width:H.width,height:H.height},ce));return Ki.tx=-H.x,Ki.ty=-H.y,this.render(i,{renderTexture:me,clear:!1,transform:Ki,skipUpdateTransform:!!i.parent}),me},t.prototype.destroy=function(i){for(var r in this.plugins)this.plugins[r].destroy(),this.plugins[r]=null;i&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var m=this;m.plugins=null,m.type=h.N3.UNKNOWN,m.view=null,m.screen=null,m._tempDisplayObjectParent=null,m.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(i){this._backgroundColor=i,this._backgroundColorString=(0,P.hex2string)(i),(0,P.hex2rgb)(i,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(i){this._backgroundColorRgba[3]=i},enumerable:!1,configurable:!0}),t}(P.EventEmitter),Qn=function(){function _(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return _}(),fr=function(){function _(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return _.prototype.destroy=function(){this.renderer=null},_.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},_.prototype.bind=function(t){var i=this,r=i.gl,m=i.CONTEXT_UID,H=t._glBuffers[m]||this.createGLBuffer(t);r.bindBuffer(t.type,H.buffer)},_.prototype.bindBufferBase=function(t,i){var r=this,m=r.gl,H=r.CONTEXT_UID;if(this.boundBufferBases[i]!==t){var ie=t._glBuffers[H]||this.createGLBuffer(t);this.boundBufferBases[i]=t,m.bindBufferBase(m.UNIFORM_BUFFER,i,ie.buffer)}},_.prototype.bindBufferRange=function(t,i,r){var m=this,H=m.gl,ie=m.CONTEXT_UID;r=r||0;var ce=t._glBuffers[ie]||this.createGLBuffer(t);H.bindBufferRange(H.UNIFORM_BUFFER,i||0,ce.buffer,256*r,256)},_.prototype.update=function(t){var i=this,r=i.gl,m=i.CONTEXT_UID,H=t._glBuffers[m];if(t._updateID!==H.updateID)if(H.updateID=t._updateID,r.bindBuffer(t.type,H.buffer),H.byteLength>=t.data.byteLength)r.bufferSubData(t.type,0,t.data);else{var ie=t.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;H.byteLength=t.data.byteLength,r.bufferData(t.type,t.data,ie)}},_.prototype.dispose=function(t,i){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var r=t._glBuffers[this.CONTEXT_UID],m=this.gl;t.disposeRunner.remove(this),r&&(i||m.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}},_.prototype.disposeAll=function(t){for(var i=Object.keys(this.managedBuffers),r=0;r<i.length;r++)this.dispose(this.managedBuffers[i[r]],t)},_.prototype.createGLBuffer=function(t){var i=this,r=i.CONTEXT_UID,m=i.gl;return t._glBuffers[r]=new Qn(m.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[r]},_}(),xn=function(_){function t(i){var r=_.call(this,h.N3.WEBGL,i)||this;return i=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new j.R("destroy"),contextChange:new j.R("contextChange"),reset:new j.R("reset"),update:new j.R("update"),postrender:new j.R("postrender"),prerender:new j.R("prerender"),resize:new j.R("resize")},r.runners.contextChange.add(r),r.globalUniforms=new Ce({projectionMatrix:new N.y3},!0),r.addSystem(zi,"mask").addSystem(tt,"context").addSystem(ln,"state").addSystem(on,"shader").addSystem(Qi,"texture").addSystem(fr,"buffer").addSystem(Ee,"geometry").addSystem(rt,"framebuffer").addSystem(Rn,"scissor").addSystem(Pn,"stencil").addSystem(On,"projection").addSystem(yn,"textureGC").addSystem(xe,"filter").addSystem(Cn,"renderTexture").addSystem(We,"batch"),r.initPlugins(t.__plugins),r.multisample=void 0,i.context?r.context.initFromContext(i.context):r.context.initFromOptions({alpha:!!r.useContextAlpha,antialias:i.antialias,premultipliedAlpha:r.useContextAlpha&&r.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:i.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,(0,P.sayHello)(r.context.webGLVersion===2?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}return E(t,_),t.create=function(i){if((0,P.isWebGLSupported)())return new t(i);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var i,r=this.gl;if(this.context.webGLVersion===1){var m=r.getParameter(r.FRAMEBUFFER_BINDING);r.bindFramebuffer(r.FRAMEBUFFER,null),i=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.FRAMEBUFFER,m)}else m=r.getParameter(r.DRAW_FRAMEBUFFER_BINDING),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),i=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,m);i>=h.G5.HIGH?this.multisample=h.G5.HIGH:i>=h.G5.MEDIUM?this.multisample=h.G5.MEDIUM:i>=h.G5.LOW?this.multisample=h.G5.LOW:this.multisample=h.G5.NONE},t.prototype.addSystem=function(i,r){var m=new i(this);if(this[r])throw new Error('Whoops! The name "'+r+'" is already in use');for(var H in this[r]=m,this.runners)this.runners[H].add(m);return this},t.prototype.render=function(i,r){var m,H,ie,ce;if(r&&(r instanceof Q?((0,P.deprecation)("6.0.0","Renderer#render arguments changed, use options instead."),m=r,H=arguments[2],ie=arguments[3],ce=arguments[4]):(m=r.renderTexture,H=r.clear,ie=r.transform,ce=r.skipUpdateTransform)),this.renderingToScreen=!m,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=ie,!this.context.isLost){if(m||(this._lastObjectRendered=i),!ce){var me=i.enableTempParent();i.updateTransform(),i.disableTempParent(me)}this.renderTexture.bind(m),this.batch.currentRenderer.start(),(H!==void 0?H:this.clearBeforeRender)&&this.renderTexture.clear(),i.render(this),this.batch.currentRenderer.flush(),m&&m.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(i,r,m,H){r===void 0&&(r={});var ie=_.prototype.generateTexture.call(this,i,r,m,H);return this.framebuffer.blit(),ie},t.prototype.resize=function(i,r){_.prototype.resize.call(this,i,r),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(i){for(var r in this.runners.destroy.emit(),this.runners)this.runners[r].destroy();_.prototype.destroy.call(this,i),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return(0,P.deprecation)("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(i,r){t.__plugins=t.__plugins||{},t.__plugins[i]=r},t}(bn);function gr(_){return xn.create(_)}var Tn=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Bi=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,Bn=function(){function _(t){(0,P.deprecation)("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=t}return _.prototype.destroy=function(){this.renderer=null},_}(),Kn=function(){function _(){this.texArray=null,this.blend=0,this.type=h.lg.TRIANGLES,this.start=0,this.size=0,this.data=null}return _}(),kn=function(){function _(){this.elements=[],this.ids=[],this.count=0}return _.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},_}(),un=function(){function _(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(_.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),_.prototype.view=function(t){return this[t+"View"]},_.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},_.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},_}(),Fn=function(_){function t(i){var r=_.call(this,i)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=Ti.for2d(),r.size=4*k.X.SPRITE_BATCH_SIZE,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),i.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return E(t,_),t.prototype.contextChange=function(){var i=this.renderer.gl;k.X.PREFER_ENV===h.Vi.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),k.X.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Dt(this.MAX_TEXTURES,i)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var i=t._drawCallPool,r=t._textureArrayPool,m=this.size/4,H=Math.floor(m/this.MAX_TEXTURES)+1;i.length<m;)i.push(new Kn);for(;r.length<H;)r.push(new kn);for(var ie=0;ie<this.MAX_TEXTURES;ie++)this._tempBoundTextures[ie]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(i){i._texture.valid&&(this._vertexCount+i.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=i.vertexData.length/2,this._indexCount+=i.indices.length,this._bufferedTextures[this._bufferSize]=i._texture.baseTexture,this._bufferedElements[this._bufferSize++]=i)},t.prototype.buildTexturesAndDrawCalls=function(){var i=this,r=i._bufferedTextures,m=i.MAX_TEXTURES,H=t._textureArrayPool,ie=this.renderer.batch,ce=this._tempBoundTextures,me=this.renderer.textureGC.count,Le=++I._globalBatch,He=0,$e=H[0],ht=0;ie.copyBoundTextures(ce,m);for(var bt=0;bt<this._bufferSize;++bt){var It=r[bt];r[bt]=null,It._batchEnabled!==Le&&($e.count>=m&&(ie.boundArray($e,ce,Le,m),this.buildDrawCalls($e,ht,bt),ht=bt,$e=H[++He],++Le),It._batchEnabled=Le,It.touched=me,$e.elements[$e.count++]=It)}for($e.count>0&&(ie.boundArray($e,ce,Le,m),this.buildDrawCalls($e,ht,this._bufferSize),++He,++Le),bt=0;bt<ce.length;bt++)ce[bt]=null;I._globalBatch=Le},t.prototype.buildDrawCalls=function(i,r,m){var H=this,ie=H._bufferedElements,ce=H._attributeBuffer,me=H._indexBuffer,Le=H.vertexSize,He=t._drawCallPool,$e=this._dcIndex,ht=this._aIndex,bt=this._iIndex,It=He[$e];It.start=this._iIndex,It.texArray=i;for(var Rt=r;Rt<m;++Rt){var wt=ie[Rt],ei=wt._texture.baseTexture,li=P.premultiplyBlendMode[ei.alphaMode?1:0][wt.blendMode];ie[Rt]=null,r<Rt&&It.blend!==li&&(It.size=bt-It.start,r=Rt,(It=He[++$e]).texArray=i,It.start=bt),this.packInterleavedGeometry(wt,ce,me,ht,bt),ht+=wt.vertexData.length/2*Le,bt+=wt.indices.length,It.blend=li}r<m&&(It.size=bt-It.start,++$e),this._dcIndex=$e,this._aIndex=ht,this._iIndex=bt},t.prototype.bindAndClearTexArray=function(i){for(var r=this.renderer.texture,m=0;m<i.count;m++)r.bind(i.elements[m],i.ids[m]),i.elements[m]=null;i.count=0},t.prototype.updateGeometry=function(){var i=this,r=i._packedGeometries,m=i._attributeBuffer,H=i._indexBuffer;k.X.CAN_UPLOAD_SAME_BUFFER?(r[this._flushId]._buffer.update(m.rawBinaryData),r[this._flushId]._indexBuffer.update(H),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,r[this._flushId]=new this.geometryClass),r[this._flushId]._buffer.update(m.rawBinaryData),r[this._flushId]._indexBuffer.update(H),this.renderer.geometry.bind(r[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var i=this._dcIndex,r=this.renderer,m=r.gl,H=r.state,ie=t._drawCallPool,ce=null,me=0;me<i;me++){var Le=ie[me],He=Le.texArray,$e=Le.type,ht=Le.size,bt=Le.start,It=Le.blend;ce!==He&&(ce=He,this.bindAndClearTexArray(He)),this.state.blendMode=It,H.set(this.state),m.drawElements($e,ht,m.UNSIGNED_SHORT,2*bt)}},t.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),k.X.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var i=0;i<this._packedGeometryPoolSize;i++)this._packedGeometries[i]&&this._packedGeometries[i].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),_.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(i){var r=(0,P.nextPow2)(Math.ceil(i/8)),m=(0,P.log2)(r),H=8*r;this._aBuffers.length<=m&&(this._iBuffers.length=m+1);var ie=this._aBuffers[H];return ie||(this._aBuffers[H]=ie=new un(H*this.vertexSize*4)),ie},t.prototype.getIndexBuffer=function(i){var r=(0,P.nextPow2)(Math.ceil(i/12)),m=(0,P.log2)(r),H=12*r;this._iBuffers.length<=m&&(this._iBuffers.length=m+1);var ie=this._iBuffers[m];return ie||(this._iBuffers[m]=ie=new Uint16Array(H)),ie},t.prototype.packInterleavedGeometry=function(i,r,m,H,ie){for(var ce=r.uint32View,me=r.float32View,Le=H/this.vertexSize,He=i.uvs,$e=i.indices,ht=i.vertexData,bt=i._texture.baseTexture._batchLocation,It=Math.min(i.worldAlpha,1),Rt=It<1&&i._texture.baseTexture.alphaMode?(0,P.premultiplyTint)(i._tintRGB,It):i._tintRGB+(255*It<<24),wt=0;wt<ht.length;wt+=2)me[H++]=ht[wt],me[H++]=ht[wt+1],me[H++]=He[wt],me[H++]=He[wt+1],ce[H++]=Rt,me[H++]=bt;for(wt=0;wt<$e.length;wt++)m[ie++]=Le+$e[wt]},t._drawCallPool=[],t._textureArrayPool=[],t}(Be),Jn=function(){function _(t,i){if(this.vertexSrc=t,this.fragTemplate=i,this.programCache={},this.defaultGroupCache={},i.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(i.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return _.prototype.generateShader=function(t){if(!this.programCache[t]){for(var i=new Int32Array(t),r=0;r<t;r++)i[r]=r;this.defaultGroupCache[t]=Ce.from({uSamplers:i},!0);var m=this.fragTemplate;m=(m=m.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new qt(this.vertexSrc,m)}var H={tint:new Float32Array([1,1,1,1]),translationMatrix:new N.y3,default:this.defaultGroupCache[t]};return new fn(this.programCache[t],H)},_.prototype.generateSampleSrc=function(t){var i="";i+=`
`,i+=`
`;for(var r=0;r<t;r++)r>0&&(i+=`
else `),r<t-1&&(i+="if(vTextureId < "+r+".5)"),i+=`
{`,i+=`
	color = texture2D(uSamplers[`+r+"], vTextureCoord);",i+=`
}`;return i+=`
`,i+=`
`},_}(),Ii=function(_){function t(i){i===void 0&&(i=!1);var r=_.call(this)||this;return r._buffer=new Ie(null,i,!1),r._indexBuffer=new Ie(null,i,!0),r.addAttribute("aVertexPosition",r._buffer,2,!1,h.vK.FLOAT).addAttribute("aTextureCoord",r._buffer,2,!1,h.vK.FLOAT).addAttribute("aColor",r._buffer,4,!0,h.vK.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,!0,h.vK.FLOAT).addIndex(r._indexBuffer),r}return E(t,_),t}(te),di=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,Un=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,$n=function(){function _(){}return _.create=function(t){var i=Object.assign({vertex:di,fragment:Un,geometryClass:Ii,vertexSize:6},t),r=i.vertex,m=i.fragment,H=i.vertexSize,ie=i.geometryClass;return function(ce){function me(Le){var He=ce.call(this,Le)||this;return He.shaderGenerator=new Jn(r,m),He.geometryClass=ie,He.vertexSize=H,He}return E(me,ce),me}(Fn)},Object.defineProperty(_,"defaultVertexSrc",{get:function(){return di},enumerable:!1,configurable:!0}),Object.defineProperty(_,"defaultFragmentTemplate",{get:function(){return Un},enumerable:!1,configurable:!0}),_}(),mr=$n.create(),Hi={},Gn=function(_){Object.defineProperty(Hi,_,{get:function(){return(0,P.deprecation)("6.0.0","PIXI.systems."+_+" has moved to PIXI."+_),T[_]}})};for(var Xn in T)Gn(Xn);var cn={},er=function(_){Object.defineProperty(cn,_,{get:function(){return(0,P.deprecation)("6.0.0","PIXI.resources."+_+" has moved to PIXI."+_),Ln[_]}})};for(var Xn in Ln)er(Xn)},7909:(Ae,le,d)=>{d.d(le,{Ql:()=>J,W2:()=>K,YZ:()=>j,s$:()=>T});var k=d(875),h=d(7442),P=d(5579);k.X.SORTABLE_CHILDREN=!1;var j=function(){function A(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return A.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},A.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},A.prototype.getRectangle=function(b){return this.minX>this.maxX||this.minY>this.maxY?h.Ae.EMPTY:((b=b||new h.Ae(0,0,1,1)).x=this.minX,b.y=this.minY,b.width=this.maxX-this.minX,b.height=this.maxY-this.minY,b)},A.prototype.addPoint=function(b){this.minX=Math.min(this.minX,b.x),this.maxX=Math.max(this.maxX,b.x),this.minY=Math.min(this.minY,b.y),this.maxY=Math.max(this.maxY,b.y)},A.prototype.addPointMatrix=function(b,R){var O=b.a,W=b.b,Q=b.c,ee=b.d,ne=b.tx,be=b.ty,Ie=O*R.x+Q*R.y+ne,Oe=W*R.x+ee*R.y+be;this.minX=Math.min(this.minX,Ie),this.maxX=Math.max(this.maxX,Ie),this.minY=Math.min(this.minY,Oe),this.maxY=Math.max(this.maxY,Oe)},A.prototype.addQuad=function(b){var R=this.minX,O=this.minY,W=this.maxX,Q=this.maxY,ee=b[0],ne=b[1];R=ee<R?ee:R,O=ne<O?ne:O,W=ee>W?ee:W,Q=ne>Q?ne:Q,R=(ee=b[2])<R?ee:R,O=(ne=b[3])<O?ne:O,W=ee>W?ee:W,Q=ne>Q?ne:Q,R=(ee=b[4])<R?ee:R,O=(ne=b[5])<O?ne:O,W=ee>W?ee:W,Q=ne>Q?ne:Q,R=(ee=b[6])<R?ee:R,O=(ne=b[7])<O?ne:O,W=ee>W?ee:W,Q=ne>Q?ne:Q,this.minX=R,this.minY=O,this.maxX=W,this.maxY=Q},A.prototype.addFrame=function(b,R,O,W,Q){this.addFrameMatrix(b.worldTransform,R,O,W,Q)},A.prototype.addFrameMatrix=function(b,R,O,W,Q){var ee=b.a,ne=b.b,be=b.c,Ie=b.d,Oe=b.tx,ue=b.ty,y=this.minX,B=this.minY,V=this.maxX,te=this.maxY,re=ee*R+be*O+Oe,ae=ne*R+Ie*O+ue;y=re<y?re:y,B=ae<B?ae:B,V=re>V?re:V,te=ae>te?ae:te,y=(re=ee*W+be*O+Oe)<y?re:y,B=(ae=ne*W+Ie*O+ue)<B?ae:B,V=re>V?re:V,te=ae>te?ae:te,y=(re=ee*R+be*Q+Oe)<y?re:y,B=(ae=ne*R+Ie*Q+ue)<B?ae:B,V=re>V?re:V,te=ae>te?ae:te,y=(re=ee*W+be*Q+Oe)<y?re:y,B=(ae=ne*W+Ie*Q+ue)<B?ae:B,V=re>V?re:V,te=ae>te?ae:te,this.minX=y,this.minY=B,this.maxX=V,this.maxY=te},A.prototype.addVertexData=function(b,R,O){for(var W=this.minX,Q=this.minY,ee=this.maxX,ne=this.maxY,be=R;be<O;be+=2){var Ie=b[be],Oe=b[be+1];W=Ie<W?Ie:W,Q=Oe<Q?Oe:Q,ee=Ie>ee?Ie:ee,ne=Oe>ne?Oe:ne}this.minX=W,this.minY=Q,this.maxX=ee,this.maxY=ne},A.prototype.addVertices=function(b,R,O,W){this.addVerticesMatrix(b.worldTransform,R,O,W)},A.prototype.addVerticesMatrix=function(b,R,O,W,Q,ee){Q===void 0&&(Q=0),ee===void 0&&(ee=Q);for(var ne=b.a,be=b.b,Ie=b.c,Oe=b.d,ue=b.tx,y=b.ty,B=this.minX,V=this.minY,te=this.maxX,re=this.maxY,ae=O;ae<W;ae+=2){var _e=R[ae],Ce=R[ae+1],de=ne*_e+Ie*Ce+ue,ge=Oe*Ce+be*_e+y;B=Math.min(B,de-Q),te=Math.max(te,de+Q),V=Math.min(V,ge-ee),re=Math.max(re,ge+ee)}this.minX=B,this.minY=V,this.maxX=te,this.maxY=re},A.prototype.addBounds=function(b){var R=this.minX,O=this.minY,W=this.maxX,Q=this.maxY;this.minX=b.minX<R?b.minX:R,this.minY=b.minY<O?b.minY:O,this.maxX=b.maxX>W?b.maxX:W,this.maxY=b.maxY>Q?b.maxY:Q},A.prototype.addBoundsMask=function(b,R){var O=b.minX>R.minX?b.minX:R.minX,W=b.minY>R.minY?b.minY:R.minY,Q=b.maxX<R.maxX?b.maxX:R.maxX,ee=b.maxY<R.maxY?b.maxY:R.maxY;if(O<=Q&&W<=ee){var ne=this.minX,be=this.minY,Ie=this.maxX,Oe=this.maxY;this.minX=O<ne?O:ne,this.minY=W<be?W:be,this.maxX=Q>Ie?Q:Ie,this.maxY=ee>Oe?ee:Oe}},A.prototype.addBoundsMatrix=function(b,R){this.addFrameMatrix(R,b.minX,b.minY,b.maxX,b.maxY)},A.prototype.addBoundsArea=function(b,R){var O=b.minX>R.x?b.minX:R.x,W=b.minY>R.y?b.minY:R.y,Q=b.maxX<R.x+R.width?b.maxX:R.x+R.width,ee=b.maxY<R.y+R.height?b.maxY:R.y+R.height;if(O<=Q&&W<=ee){var ne=this.minX,be=this.minY,Ie=this.maxX,Oe=this.maxY;this.minX=O<ne?O:ne,this.minY=W<be?W:be,this.maxX=Q>Ie?Q:Ie,this.maxY=ee>Oe?ee:Oe}},A.prototype.pad=function(b,R){b===void 0&&(b=0),R===void 0&&(R=b),this.isEmpty()||(this.minX-=b,this.maxX+=b,this.minY-=R,this.maxY+=R)},A.prototype.addFramePad=function(b,R,O,W,Q,ee){b-=Q,R-=ee,O+=Q,W+=ee,this.minX=this.minX<b?this.minX:b,this.maxX=this.maxX>O?this.maxX:O,this.minY=this.minY<R?this.minY:R,this.maxY=this.maxY>W?this.maxY:W},A}(),z=function(A,b){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(R,O){R.__proto__=O}||function(R,O){for(var W in O)O.hasOwnProperty(W)&&(R[W]=O[W])},z(A,b)};function N(A,b){function R(){this.constructor=A}z(A,b),A.prototype=b===null?Object.create(b):(R.prototype=b.prototype,new R)}var w,U,Y,E,v,n,a,u,p,I,L,F,M,c,x,X,D,G,C,T=function(A){function b(){var R=A.call(this)||this;return R.tempDisplayObjectParent=null,R.transform=new h.wx,R.alpha=1,R.visible=!0,R.renderable=!0,R.cullable=!1,R.cullArea=null,R.parent=null,R.worldAlpha=1,R._lastSortedIndex=0,R._zIndex=0,R.filterArea=null,R.filters=null,R._enabledFilters=null,R._bounds=new j,R._localBounds=null,R._boundsID=0,R._boundsRect=null,R._localBoundsRect=null,R._mask=null,R._maskRefCount=0,R._destroyed=!1,R.isSprite=!1,R.isMask=!1,R}return N(b,A),b.mixin=function(R){for(var O=Object.keys(R),W=0;W<O.length;++W){var Q=O[W];Object.defineProperty(b.prototype,Q,Object.getOwnPropertyDescriptor(R,Q))}},Object.defineProperty(b.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),b.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},b.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},b.prototype.getBounds=function(R,O){return R||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),O||(this._boundsRect||(this._boundsRect=new h.Ae),O=this._boundsRect),this._bounds.getRectangle(O)},b.prototype.getLocalBounds=function(R){R||(this._localBoundsRect||(this._localBoundsRect=new h.Ae),R=this._localBoundsRect),this._localBounds||(this._localBounds=new j);var O=this.transform,W=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var Q=this._bounds,ee=this._boundsID;this._bounds=this._localBounds;var ne=this.getBounds(!1,R);return this.parent=W,this.transform=O,this._bounds=Q,this._bounds.updateID+=this._boundsID-ee,ne},b.prototype.toGlobal=function(R,O,W){return W===void 0&&(W=!1),W||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(R,O)},b.prototype.toLocal=function(R,O,W,Q){return O&&(R=O.toGlobal(R,W,Q)),Q||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(R,W)},b.prototype.setParent=function(R){if(!R||!R.addChild)throw new Error("setParent: Argument must be a Container");return R.addChild(this),R},b.prototype.setTransform=function(R,O,W,Q,ee,ne,be,Ie,Oe){return R===void 0&&(R=0),O===void 0&&(O=0),W===void 0&&(W=1),Q===void 0&&(Q=1),ee===void 0&&(ee=0),ne===void 0&&(ne=0),be===void 0&&(be=0),Ie===void 0&&(Ie=0),Oe===void 0&&(Oe=0),this.position.x=R,this.position.y=O,this.scale.x=W||1,this.scale.y=Q||1,this.rotation=ee,this.skew.x=ne,this.skew.y=be,this.pivot.x=Ie,this.pivot.y=Oe,this},b.prototype.destroy=function(R){this.parent&&this.parent.removeChild(this),this.emit("destroyed"),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(b.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new J),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),b.prototype.enableTempParent=function(){var R=this.parent;return this.parent=this._tempDisplayObjectParent,R},b.prototype.disableTempParent=function(R){this.parent=R},Object.defineProperty(b.prototype,"x",{get:function(){return this.position.x},set:function(R){this.transform.position.x=R},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"y",{get:function(){return this.position.y},set:function(R){this.transform.position.y=R},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"position",{get:function(){return this.transform.position},set:function(R){this.transform.position.copyFrom(R)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"scale",{get:function(){return this.transform.scale},set:function(R){this.transform.scale.copyFrom(R)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(R){this.transform.pivot.copyFrom(R)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"skew",{get:function(){return this.transform.skew},set:function(R){this.transform.skew.copyFrom(R)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(R){this.transform.rotation=R},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"angle",{get:function(){return this.transform.rotation*h.jl},set:function(R){this.transform.rotation=R*h.ZX},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"zIndex",{get:function(){return this._zIndex},set:function(R){this._zIndex=R,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"worldVisible",{get:function(){var R=this;do{if(!R.visible)return!1;R=R.parent}while(R);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"mask",{get:function(){return this._mask},set:function(R){if(this._mask!==R){var O;this._mask&&((O=this._mask.maskObject||this._mask)._maskRefCount--,O._maskRefCount===0&&(O.renderable=!0,O.isMask=!1)),this._mask=R,this._mask&&((O=this._mask.maskObject||this._mask)._maskRefCount===0&&(O.renderable=!1,O.isMask=!0),O._maskRefCount++)}},enumerable:!1,configurable:!0}),b}(P.EventEmitter),J=function(A){function b(){var R=A!==null&&A.apply(this,arguments)||this;return R.sortDirty=null,R}return N(b,A),b}(T);function q(A,b){return A.zIndex===b.zIndex?A._lastSortedIndex-b._lastSortedIndex:A.zIndex-b.zIndex}T.prototype.displayObjectUpdateTransform=T.prototype.updateTransform,function(A){A[A.WEBGL_LEGACY=0]="WEBGL_LEGACY",A[A.WEBGL=1]="WEBGL",A[A.WEBGL2=2]="WEBGL2"}(w||(w={})),function(A){A[A.UNKNOWN=0]="UNKNOWN",A[A.WEBGL=1]="WEBGL",A[A.CANVAS=2]="CANVAS"}(U||(U={})),function(A){A[A.COLOR=16384]="COLOR",A[A.DEPTH=256]="DEPTH",A[A.STENCIL=1024]="STENCIL"}(Y||(Y={})),function(A){A[A.NORMAL=0]="NORMAL",A[A.ADD=1]="ADD",A[A.MULTIPLY=2]="MULTIPLY",A[A.SCREEN=3]="SCREEN",A[A.OVERLAY=4]="OVERLAY",A[A.DARKEN=5]="DARKEN",A[A.LIGHTEN=6]="LIGHTEN",A[A.COLOR_DODGE=7]="COLOR_DODGE",A[A.COLOR_BURN=8]="COLOR_BURN",A[A.HARD_LIGHT=9]="HARD_LIGHT",A[A.SOFT_LIGHT=10]="SOFT_LIGHT",A[A.DIFFERENCE=11]="DIFFERENCE",A[A.EXCLUSION=12]="EXCLUSION",A[A.HUE=13]="HUE",A[A.SATURATION=14]="SATURATION",A[A.COLOR=15]="COLOR",A[A.LUMINOSITY=16]="LUMINOSITY",A[A.NORMAL_NPM=17]="NORMAL_NPM",A[A.ADD_NPM=18]="ADD_NPM",A[A.SCREEN_NPM=19]="SCREEN_NPM",A[A.NONE=20]="NONE",A[A.SRC_OVER=0]="SRC_OVER",A[A.SRC_IN=21]="SRC_IN",A[A.SRC_OUT=22]="SRC_OUT",A[A.SRC_ATOP=23]="SRC_ATOP",A[A.DST_OVER=24]="DST_OVER",A[A.DST_IN=25]="DST_IN",A[A.DST_OUT=26]="DST_OUT",A[A.DST_ATOP=27]="DST_ATOP",A[A.ERASE=26]="ERASE",A[A.SUBTRACT=28]="SUBTRACT",A[A.XOR=29]="XOR"}(E||(E={})),function(A){A[A.POINTS=0]="POINTS",A[A.LINES=1]="LINES",A[A.LINE_LOOP=2]="LINE_LOOP",A[A.LINE_STRIP=3]="LINE_STRIP",A[A.TRIANGLES=4]="TRIANGLES",A[A.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",A[A.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(v||(v={})),function(A){A[A.RGBA=6408]="RGBA",A[A.RGB=6407]="RGB",A[A.RG=33319]="RG",A[A.RED=6403]="RED",A[A.RGBA_INTEGER=36249]="RGBA_INTEGER",A[A.RGB_INTEGER=36248]="RGB_INTEGER",A[A.RG_INTEGER=33320]="RG_INTEGER",A[A.RED_INTEGER=36244]="RED_INTEGER",A[A.ALPHA=6406]="ALPHA",A[A.LUMINANCE=6409]="LUMINANCE",A[A.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",A[A.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",A[A.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(n||(n={})),function(A){A[A.TEXTURE_2D=3553]="TEXTURE_2D",A[A.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",A[A.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",A[A.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",A[A.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",A[A.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",A[A.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",A[A.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",A[A.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(a||(a={})),function(A){A[A.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",A[A.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",A[A.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",A[A.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",A[A.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",A[A.UNSIGNED_INT=5125]="UNSIGNED_INT",A[A.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",A[A.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",A[A.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",A[A.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",A[A.BYTE=5120]="BYTE",A[A.SHORT=5122]="SHORT",A[A.INT=5124]="INT",A[A.FLOAT=5126]="FLOAT",A[A.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",A[A.HALF_FLOAT=36193]="HALF_FLOAT"}(u||(u={})),function(A){A[A.FLOAT=0]="FLOAT",A[A.INT=1]="INT",A[A.UINT=2]="UINT"}(p||(p={})),function(A){A[A.NEAREST=0]="NEAREST",A[A.LINEAR=1]="LINEAR"}(I||(I={})),function(A){A[A.CLAMP=33071]="CLAMP",A[A.REPEAT=10497]="REPEAT",A[A.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(L||(L={})),function(A){A[A.OFF=0]="OFF",A[A.POW2=1]="POW2",A[A.ON=2]="ON",A[A.ON_MANUAL=3]="ON_MANUAL"}(F||(F={})),function(A){A[A.NPM=0]="NPM",A[A.UNPACK=1]="UNPACK",A[A.PMA=2]="PMA",A[A.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",A[A.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",A[A.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",A[A.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(M||(M={})),function(A){A[A.NO=0]="NO",A[A.YES=1]="YES",A[A.AUTO=2]="AUTO",A[A.BLEND=0]="BLEND",A[A.CLEAR=1]="CLEAR",A[A.BLIT=2]="BLIT"}(c||(c={})),function(A){A[A.AUTO=0]="AUTO",A[A.MANUAL=1]="MANUAL"}(x||(x={})),function(A){A.LOW="lowp",A.MEDIUM="mediump",A.HIGH="highp"}(X||(X={})),function(A){A[A.NONE=0]="NONE",A[A.SCISSOR=1]="SCISSOR",A[A.STENCIL=2]="STENCIL",A[A.SPRITE=3]="SPRITE"}(D||(D={})),function(A){A[A.NONE=0]="NONE",A[A.LOW=2]="LOW",A[A.MEDIUM=4]="MEDIUM",A[A.HIGH=8]="HIGH"}(G||(G={})),function(A){A[A.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",A[A.ARRAY_BUFFER=34962]="ARRAY_BUFFER",A[A.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(C||(C={}));var K=function(A){function b(){var R=A.call(this)||this;return R.children=[],R.sortableChildren=k.X.SORTABLE_CHILDREN,R.sortDirty=!1,R}return N(b,A),b.prototype.onChildrenChange=function(R){},b.prototype.addChild=function(){for(var R=arguments,O=[],W=0;W<arguments.length;W++)O[W]=R[W];if(O.length>1)for(var Q=0;Q<O.length;Q++)this.addChild(O[Q]);else{var ee=O[0];ee.parent&&ee.parent.removeChild(ee),ee.parent=this,this.sortDirty=!0,ee.transform._parentID=-1,this.children.push(ee),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",ee,this,this.children.length-1),ee.emit("added",this)}return O[0]},b.prototype.addChildAt=function(R,O){if(O<0||O>this.children.length)throw new Error(R+"addChildAt: The index "+O+" supplied is out of bounds "+this.children.length);return R.parent&&R.parent.removeChild(R),R.parent=this,this.sortDirty=!0,R.transform._parentID=-1,this.children.splice(O,0,R),this._boundsID++,this.onChildrenChange(O),R.emit("added",this),this.emit("childAdded",R,this,O),R},b.prototype.swapChildren=function(R,O){if(R!==O){var W=this.getChildIndex(R),Q=this.getChildIndex(O);this.children[W]=O,this.children[Q]=R,this.onChildrenChange(W<Q?W:Q)}},b.prototype.getChildIndex=function(R){var O=this.children.indexOf(R);if(O===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return O},b.prototype.setChildIndex=function(R,O){if(O<0||O>=this.children.length)throw new Error("The index "+O+" supplied is out of bounds "+this.children.length);var W=this.getChildIndex(R);(0,P.removeItems)(this.children,W,1),this.children.splice(O,0,R),this.onChildrenChange(O)},b.prototype.getChildAt=function(R){if(R<0||R>=this.children.length)throw new Error("getChildAt: Index ("+R+") does not exist.");return this.children[R]},b.prototype.removeChild=function(){for(var R=arguments,O=[],W=0;W<arguments.length;W++)O[W]=R[W];if(O.length>1)for(var Q=0;Q<O.length;Q++)this.removeChild(O[Q]);else{var ee=O[0],ne=this.children.indexOf(ee);if(ne===-1)return null;ee.parent=null,ee.transform._parentID=-1,(0,P.removeItems)(this.children,ne,1),this._boundsID++,this.onChildrenChange(ne),ee.emit("removed",this),this.emit("childRemoved",ee,this,ne)}return O[0]},b.prototype.removeChildAt=function(R){var O=this.getChildAt(R);return O.parent=null,O.transform._parentID=-1,(0,P.removeItems)(this.children,R,1),this._boundsID++,this.onChildrenChange(R),O.emit("removed",this),this.emit("childRemoved",O,this,R),O},b.prototype.removeChildren=function(R,O){R===void 0&&(R=0),O===void 0&&(O=this.children.length);var W,Q=R,ee=O-Q;if(ee>0&&ee<=O){W=this.children.splice(Q,ee);for(var ne=0;ne<W.length;++ne)W[ne].parent=null,W[ne].transform&&(W[ne].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(R),ne=0;ne<W.length;++ne)W[ne].emit("removed",this),this.emit("childRemoved",W[ne],this,ne);return W}if(ee===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},b.prototype.sortChildren=function(){for(var R=!1,O=0,W=this.children.length;O<W;++O){var Q=this.children[O];Q._lastSortedIndex=O,R||Q.zIndex===0||(R=!0)}R&&this.children.length>1&&this.children.sort(q),this.sortDirty=!1},b.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var R=0,O=this.children.length;R<O;++R){var W=this.children[R];W.visible&&W.updateTransform()}},b.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var R=0;R<this.children.length;R++){var O=this.children[R];if(O.visible&&O.renderable)if(O.calculateBounds(),O._mask){var W=O._mask.maskObject||O._mask;W.calculateBounds(),this._bounds.addBoundsMask(O._bounds,W._bounds)}else O.filterArea?this._bounds.addBoundsArea(O._bounds,O.filterArea):this._bounds.addBounds(O._bounds)}this._bounds.updateID=this._boundsID},b.prototype.getLocalBounds=function(R,O){O===void 0&&(O=!1);var W=A.prototype.getLocalBounds.call(this,R);if(!O)for(var Q=0,ee=this.children.length;Q<ee;++Q){var ne=this.children[Q];ne.visible&&ne.updateTransform()}return W},b.prototype._calculateBounds=function(){},b.prototype._renderWithCulling=function(R){var O=R.renderTexture.sourceFrame;if(O.width>0&&O.height>0){var W,Q;if(this.cullArea?(W=this.cullArea,Q=this.worldTransform):this._render!==b.prototype._render&&(W=this.getBounds(!0)),W&&O.intersects(W,Q))this._render(R);else if(this.cullArea)return;for(var ee=0,ne=this.children.length;ee<ne;++ee){var be=this.children[ee],Ie=be.cullable;be.cullable=Ie||!this.cullArea,be.render(R),be.cullable=Ie}}},b.prototype.render=function(R){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(R);else if(this.cullable)this._renderWithCulling(R);else{this._render(R);for(var O=0,W=this.children.length;O<W;++O)this.children[O].render(R)}},b.prototype.renderAdvanced=function(R){var O=this.filters,W=this._mask;if(O){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var Q=0;Q<O.length;Q++)O[Q].enabled&&this._enabledFilters.push(O[Q])}var ee=O&&this._enabledFilters&&this._enabledFilters.length||W&&(!W.isMaskData||W.enabled&&(W.autoDetect||W.type!==D.NONE));if(ee&&R.batch.flush(),O&&this._enabledFilters&&this._enabledFilters.length&&R.filter.push(this,this._enabledFilters),W&&R.mask.push(this,this._mask),this.cullable)this._renderWithCulling(R);else{this._render(R),Q=0;for(var ne=this.children.length;Q<ne;++Q)this.children[Q].render(R)}ee&&R.batch.flush(),W&&R.mask.pop(this),O&&this._enabledFilters&&this._enabledFilters.length&&R.filter.pop()},b.prototype._render=function(R){},b.prototype.destroy=function(R){A.prototype.destroy.call(this),this.sortDirty=!1;var O=typeof R=="boolean"?R:R&&R.children,W=this.removeChildren(0,this.children.length);if(O)for(var Q=0;Q<W.length;++Q)W[Q].destroy(R)},Object.defineProperty(b.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(R){var O=this.getLocalBounds().width;this.scale.x=O!==0?R/O:1,this._width=R},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(R){var O=this.getLocalBounds().height;this.scale.y=O!==0?R/O:1,this._height=R},enumerable:!1,configurable:!0}),b}(T);K.prototype.containerUpdateTransform=K.prototype.updateTransform},8838:(Ae,le,d)=>{d.d(le,{$o:()=>h,RB:()=>Q,S:()=>k,TC:()=>Ie,TD:()=>ee,ft:()=>Y,iM:()=>R,wA:()=>U,yR:()=>Oe});var k,h,P=d(9839),j=d(7442),z=d(5579),N=d(3736),w=d(7909);(function(ue){ue.MITER="miter",ue.BEVEL="bevel",ue.ROUND="round"})(k||(k={})),function(ue){ue.BUTT="butt",ue.ROUND="round",ue.SQUARE="square"}(h||(h={}));var U={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(ue,y){if(y===void 0&&(y=20),!this.adaptive||!ue||isNaN(ue))return y;var B=Math.ceil(ue/this.maxLength);return B<this.minSegments?B=this.minSegments:B>this.maxSegments&&(B=this.maxSegments),B}},Y=function(){function ue(){this.color=16777215,this.alpha=1,this.texture=P.xE.WHITE,this.matrix=null,this.visible=!1,this.reset()}return ue.prototype.clone=function(){var y=new ue;return y.color=this.color,y.alpha=this.alpha,y.texture=this.texture,y.matrix=this.matrix,y.visible=this.visible,y},ue.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=P.xE.WHITE,this.matrix=null,this.visible=!1},ue.prototype.destroy=function(){this.texture=null,this.matrix=null},ue}(),E=function(ue,y){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,V){B.__proto__=V}||function(B,V){for(var te in V)V.hasOwnProperty(te)&&(B[te]=V[te])},E(ue,y)};function v(ue,y){function B(){this.constructor=ue}E(ue,y),ue.prototype=y===null?Object.create(y):(B.prototype=y.prototype,new B)}function n(ue,y){var B,V;y===void 0&&(y=!1);var te=ue.length;if(!(te<6)){for(var re=0,ae=0,_e=ue[te-2],Ce=ue[te-1];ae<te;ae+=2){var de=ue[ae],ge=ue[ae+1];re+=(de-_e)*(ge+Ce),_e=de,Ce=ge}if(!y&&re>0||y&&re<=0){var ye=te/2;for(ae=ye+ye%2;ae<te;ae+=2){var xe=te-ae-2,Be=te-ae-1,We=ae,qe=ae+1;B=[ue[We],ue[xe]],ue[xe]=B[0],ue[We]=B[1],V=[ue[qe],ue[Be]],ue[Be]=V[0],ue[qe]=V[1]}}}}var a={build:function(ue){ue.points=ue.shape.points.slice()},triangulate:function(ue,y){var B=ue.points,V=ue.holes,te=y.points,re=y.indices;if(B.length>=6){n(B,!1);for(var ae=[],_e=0;_e<V.length;_e++){var Ce=V[_e];n(Ce.points,!0),ae.push(B.length/2),B=B.concat(Ce.points)}var de=(0,z.earcut)(B,ae,2);if(!de)return;var ge=te.length/2;for(_e=0;_e<de.length;_e+=3)re.push(de[_e]+ge),re.push(de[_e+1]+ge),re.push(de[_e+2]+ge);for(_e=0;_e<B.length;_e++)te.push(B[_e])}}},u={build:function(ue){var y,B,V,te,re,ae,_e=ue.points;if(ue.type===j.HS.CIRC){var Ce=ue.shape;y=Ce.x,B=Ce.y,re=ae=Ce.radius,V=te=0}else if(ue.type===j.HS.ELIP){var de=ue.shape;y=de.x,B=de.y,re=de.width,ae=de.height,V=te=0}else{var ge=ue.shape,ye=ge.width/2,xe=ge.height/2;y=ge.x+ye,B=ge.y+xe,V=ye-(re=ae=Math.max(0,Math.min(ge.radius,Math.min(ye,xe)))),te=xe-ae}var Be=Math.ceil(2.3*Math.sqrt(re+ae)),We=8*Be+(V?4:0)+(te?4:0);if(_e.length=We,We!==0){if(Be===0)return _e.length=8,_e[0]=_e[6]=y+V,_e[1]=_e[3]=B+te,_e[2]=_e[4]=y-V,void(_e[5]=_e[7]=B-te);var qe=0,tt=4*Be+(V?2:0)+2,vt=tt,yt=We,rt=y+(ft=V+re),mt=y-ft,Ee=B+(oe=te);if(_e[qe++]=rt,_e[qe++]=Ee,_e[--tt]=Ee,_e[--tt]=mt,te){var je=B-oe;_e[vt++]=mt,_e[vt++]=je,_e[--yt]=je,_e[--yt]=rt}for(var Ht=1;Ht<Be;Ht++){var Ut=Math.PI/2*(Ht/Be);rt=y+(ft=V+Math.cos(Ut)*re),mt=y-ft,Ee=B+(oe=te+Math.sin(Ut)*ae),je=B-oe,_e[qe++]=rt,_e[qe++]=Ee,_e[--tt]=Ee,_e[--tt]=mt,_e[vt++]=mt,_e[vt++]=je,_e[--yt]=je,_e[--yt]=rt}var ft,oe;rt=y+(ft=V),mt=y-ft,Ee=B+(oe=te+ae),je=B-oe,_e[qe++]=rt,_e[qe++]=Ee,_e[--yt]=je,_e[--yt]=rt,V&&(_e[qe++]=mt,_e[qe++]=Ee,_e[--yt]=je,_e[--yt]=mt)}},triangulate:function(ue,y){var B,V,te=ue.points,re=y.points,ae=y.indices,_e=re.length/2,Ce=_e;if(ue.type!==j.HS.RREC){var de=ue.shape;B=de.x,V=de.y}else{var ge=ue.shape;B=ge.x+ge.width/2,V=ge.y+ge.height/2}var ye=ue.matrix;re.push(ue.matrix?ye.a*B+ye.c*V+ye.tx:B,ue.matrix?ye.b*B+ye.d*V+ye.ty:V),_e++,re.push(te[0],te[1]);for(var xe=2;xe<te.length;xe+=2)re.push(te[xe],te[xe+1]),ae.push(_e++,Ce,_e);ae.push(Ce+1,Ce,_e)}},p={build:function(ue){var y=ue.shape,B=y.x,V=y.y,te=y.width,re=y.height,ae=ue.points;ae.length=0,ae.push(B,V,B+te,V,B+te,V+re,B,V+re)},triangulate:function(ue,y){var B=ue.points,V=y.points,te=V.length/2;V.push(B[0],B[1],B[2],B[3],B[6],B[7],B[4],B[5]),y.indices.push(te,te+1,te+2,te+1,te+2,te+3)}};function I(ue,y,B){return ue+(y-ue)*B}function L(ue,y,B,V,te,re,ae){ae===void 0&&(ae=[]);for(var _e=20,Ce=ae,de=0,ge=0,ye=0,xe=0,Be=0,We=0,qe=0,tt=0;qe<=_e;++qe)de=I(ue,B,tt=qe/_e),ge=I(y,V,tt),ye=I(B,te,tt),xe=I(V,re,tt),Be=I(de,ye,tt),We=I(ge,xe,tt),qe===0&&Ce[Ce.length-2]===Be&&Ce[Ce.length-1]===We||Ce.push(Be,We);return Ce}var F={build:function(ue){if(Ie.nextRoundedRectBehavior)u.build(ue);else{var y=ue.shape,B=ue.points,V=y.x,te=y.y,re=y.width,ae=y.height,_e=Math.max(0,Math.min(y.radius,Math.min(re,ae)/2));B.length=0,_e?(L(V,te+_e,V,te,V+_e,te,B),L(V+re-_e,te,V+re,te,V+re,te+_e,B),L(V+re,te+ae-_e,V+re,te+ae,V+re-_e,te+ae,B),L(V+_e,te+ae,V,te+ae,V,te+ae-_e,B)):B.push(V,te,V+re,te,V+re,te+ae,V,te+ae)}},triangulate:function(ue,y){if(Ie.nextRoundedRectBehavior)u.triangulate(ue,y);else{for(var B=ue.points,V=y.points,te=y.indices,re=V.length/2,ae=(0,z.earcut)(B,null,2),_e=0,Ce=ae.length;_e<Ce;_e+=3)te.push(ae[_e]+re),te.push(ae[_e+1]+re),te.push(ae[_e+2]+re);for(_e=0,Ce=B.length;_e<Ce;_e++)V.push(B[_e],B[++_e])}}};function M(ue,y,B,V,te,re,ae,_e){var Ce,de;ae?(Ce=V,de=-B):(Ce=-V,de=B);var ge=ue-B*te+Ce,ye=y-V*te+de,xe=ue+B*re+Ce,Be=y+V*re+de;return _e.push(ge,ye),_e.push(xe,Be),2}function c(ue,y,B,V,te,re,ae,_e){var Ce=B-ue,de=V-y,ge=Math.atan2(Ce,de),ye=Math.atan2(te-ue,re-y);_e&&ge<ye?ge+=2*Math.PI:!_e&&ge>ye&&(ye+=2*Math.PI);var xe=ge,Be=ye-ge,We=Math.abs(Be),qe=Math.sqrt(Ce*Ce+de*de),tt=1+(15*We*Math.sqrt(qe)/Math.PI>>0),vt=Be/tt;if(xe+=vt,_e){ae.push(ue,y),ae.push(B,V);for(var yt=1,rt=xe;yt<tt;yt++,rt+=vt)ae.push(ue,y),ae.push(ue+Math.sin(rt)*qe,y+Math.cos(rt)*qe);ae.push(ue,y),ae.push(te,re)}else{for(ae.push(B,V),ae.push(ue,y),yt=1,rt=xe;yt<tt;yt++,rt+=vt)ae.push(ue+Math.sin(rt)*qe,y+Math.cos(rt)*qe),ae.push(ue,y);ae.push(te,re),ae.push(ue,y)}return 2*tt}function x(ue,y){var B=ue.shape,V=ue.points||B.points.slice(),te=y.closePointEps;if(V.length!==0){var re=ue.lineStyle,ae=new j.E9(V[0],V[1]),_e=new j.E9(V[V.length-2],V[V.length-1]),Ce=B.type!==j.HS.POLY||B.closeStroke,de=Math.abs(ae.x-_e.x)<te&&Math.abs(ae.y-_e.y)<te;if(Ce){V=V.slice(),de&&(V.pop(),V.pop(),_e.set(V[V.length-2],V[V.length-1]));var ge=.5*(ae.x+_e.x),ye=.5*(_e.y+ae.y);V.unshift(ge,ye),V.push(ge,ye)}var xe=y.points,Be=V.length/2,We=V.length,qe=xe.length/2,tt=re.width/2,vt=tt*tt,yt=re.miterLimit*re.miterLimit,rt=V[0],mt=V[1],Ee=V[2],je=V[3],Ht=0,Ut=0,ft=-(mt-je),oe=rt-Ee,Se=0,ke=0,De=Math.sqrt(ft*ft+oe*oe);ft/=De,oe/=De,ft*=tt,oe*=tt;var Ke=re.alignment,Ve=2*(1-Ke),Je=2*Ke;Ce||(re.cap===h.ROUND?We+=c(rt-ft*(Ve-Je)*.5,mt-oe*(Ve-Je)*.5,rt-ft*Ve,mt-oe*Ve,rt+ft*Je,mt+oe*Je,xe,!0)+2:re.cap===h.SQUARE&&(We+=M(rt,mt,ft,oe,Ve,Je,!0,xe))),xe.push(rt-ft*Ve,mt-oe*Ve),xe.push(rt+ft*Je,mt+oe*Je);for(var pt=1;pt<Be-1;++pt){rt=V[2*(pt-1)],mt=V[2*(pt-1)+1],Ee=V[2*pt],je=V[2*pt+1],Ht=V[2*(pt+1)],Ut=V[2*(pt+1)+1],ft=-(mt-je),oe=rt-Ee,ft/=De=Math.sqrt(ft*ft+oe*oe),oe/=De,ft*=tt,oe*=tt,Se=-(je-Ut),ke=Ee-Ht,Se/=De=Math.sqrt(Se*Se+ke*ke),ke/=De,Se*=tt,ke*=tt;var Et=Ee-rt,Fe=mt-je,fe=Ee-Ht,Ne=Ut-je,Ge=Fe*fe-Ne*Et,Ze=Ge<0;if(Math.abs(Ge)<.1)xe.push(Ee-ft*Ve,je-oe*Ve),xe.push(Ee+ft*Je,je+oe*Je);else{var ot=(-ft+rt)*(-oe+je)-(-ft+Ee)*(-oe+mt),xt=(-Se+Ht)*(-ke+je)-(-Se+Ee)*(-ke+Ut),Mt=(Et*xt-fe*ot)/Ge,gt=(Ne*ot-Fe*xt)/Ge,st=(Mt-Ee)*(Mt-Ee)+(gt-je)*(gt-je),at=Ee+(Mt-Ee)*Ve,Dt=je+(gt-je)*Ve,Bt=Ee-(Mt-Ee)*Je,Nt=je-(gt-je)*Je,kt=Ze?Ve:Je;st<=Math.min(Et*Et+Fe*Fe,fe*fe+Ne*Ne)+kt*kt*vt?re.join===k.BEVEL||st/vt>yt?(Ze?(xe.push(at,Dt),xe.push(Ee+ft*Je,je+oe*Je),xe.push(at,Dt),xe.push(Ee+Se*Je,je+ke*Je)):(xe.push(Ee-ft*Ve,je-oe*Ve),xe.push(Bt,Nt),xe.push(Ee-Se*Ve,je-ke*Ve),xe.push(Bt,Nt)),We+=2):re.join===k.ROUND?Ze?(xe.push(at,Dt),xe.push(Ee+ft*Je,je+oe*Je),We+=c(Ee,je,Ee+ft*Je,je+oe*Je,Ee+Se*Je,je+ke*Je,xe,!0)+4,xe.push(at,Dt),xe.push(Ee+Se*Je,je+ke*Je)):(xe.push(Ee-ft*Ve,je-oe*Ve),xe.push(Bt,Nt),We+=c(Ee,je,Ee-ft*Ve,je-oe*Ve,Ee-Se*Ve,je-ke*Ve,xe,!1)+4,xe.push(Ee-Se*Ve,je-ke*Ve),xe.push(Bt,Nt)):(xe.push(at,Dt),xe.push(Bt,Nt)):(xe.push(Ee-ft*Ve,je-oe*Ve),xe.push(Ee+ft*Je,je+oe*Je),re.join===k.BEVEL||st/vt>yt||(re.join===k.ROUND?We+=Ze?c(Ee,je,Ee+ft*Je,je+oe*Je,Ee+Se*Je,je+ke*Je,xe,!0)+2:c(Ee,je,Ee-ft*Ve,je-oe*Ve,Ee-Se*Ve,je-ke*Ve,xe,!1)+2:(Ze?(xe.push(Bt,Nt),xe.push(Bt,Nt)):(xe.push(at,Dt),xe.push(at,Dt)),We+=2)),xe.push(Ee-Se*Ve,je-ke*Ve),xe.push(Ee+Se*Je,je+ke*Je),We+=2)}}rt=V[2*(Be-2)],mt=V[2*(Be-2)+1],Ee=V[2*(Be-1)],ft=-(mt-(je=V[2*(Be-1)+1])),oe=rt-Ee,ft/=De=Math.sqrt(ft*ft+oe*oe),oe/=De,ft*=tt,oe*=tt,xe.push(Ee-ft*Ve,je-oe*Ve),xe.push(Ee+ft*Je,je+oe*Je),Ce||(re.cap===h.ROUND?We+=c(Ee-ft*(Ve-Je)*.5,je-oe*(Ve-Je)*.5,Ee-ft*Ve,je-oe*Ve,Ee+ft*Je,je+oe*Je,xe,!1)+2:re.cap===h.SQUARE&&(We+=M(Ee,je,ft,oe,Ve,Je,!1,xe)));var Vt=y.indices,Ft=U.epsilon*U.epsilon;for(pt=qe;pt<We+qe-2;++pt)rt=xe[2*pt],mt=xe[2*pt+1],Ee=xe[2*(pt+1)],je=xe[2*(pt+1)+1],Ht=xe[2*(pt+2)],Ut=xe[2*(pt+2)+1],Math.abs(rt*(je-Ut)+Ee*(Ut-mt)+Ht*(mt-je))<Ft||Vt.push(pt,pt+1,pt+2)}}function X(ue,y){var B=0,V=ue.shape,te=ue.points||V.points,re=V.type!==j.HS.POLY||V.closeStroke;if(te.length!==0){var ae=y.points,_e=y.indices,Ce=te.length/2,de=ae.length/2,ge=de;for(ae.push(te[0],te[1]),B=1;B<Ce;B++)ae.push(te[2*B],te[2*B+1]),_e.push(ge,ge+1),ge++;re&&_e.push(ge,de)}}function D(ue,y){ue.lineStyle.native?X(ue,y):x(ue,y)}var G,C=function(){function ue(){}return ue.curveTo=function(y,B,V,te,re,ae){var _e=ae[ae.length-2],Ce=ae[ae.length-1]-B,de=_e-y,ge=te-B,ye=V-y,xe=Math.abs(Ce*ye-de*ge);if(xe<1e-8||re===0)return ae[ae.length-2]===y&&ae[ae.length-1]===B||ae.push(y,B),null;var Be=Ce*Ce+de*de,We=ge*ge+ye*ye,qe=Ce*ge+de*ye,tt=re*Math.sqrt(Be)/xe,vt=re*Math.sqrt(We)/xe,yt=tt*qe/Be,rt=vt*qe/We,mt=tt*ye+vt*de,Ee=tt*ge+vt*Ce,je=de*(vt+yt),Ht=Ce*(vt+yt),Ut=ye*(tt+rt),ft=ge*(tt+rt);return{cx:mt+y,cy:Ee+B,radius:re,startAngle:Math.atan2(Ht-Ee,je-mt),endAngle:Math.atan2(ft-Ee,Ut-mt),anticlockwise:de*ge>ye*Ce}},ue.arc=function(y,B,V,te,re,ae,_e,Ce,de){for(var ge=_e-ae,ye=U._segmentsCount(Math.abs(ge)*re,40*Math.ceil(Math.abs(ge)/j._b)),xe=ge/(2*ye),Be=2*xe,We=Math.cos(xe),qe=Math.sin(xe),tt=ye-1,vt=tt%1/tt,yt=0;yt<=tt;++yt){var rt=xe+ae+Be*(yt+vt*yt),mt=Math.cos(rt),Ee=-Math.sin(rt);de.push((We*mt+qe*Ee)*re+V,(We*-Ee+qe*mt)*re+te)}},ue}(),T=function(){function ue(){}return ue.curveLength=function(y,B,V,te,re,ae,_e,Ce){for(var de=10,ge=0,ye=0,xe=0,Be=0,We=0,qe=0,tt=0,vt=0,yt=0,rt=0,mt=0,Ee=y,je=B,Ht=1;Ht<=de;++Ht)rt=Ee-(vt=(tt=(qe=(We=1-(ye=Ht/de))*We)*We)*y+3*qe*ye*V+3*We*(xe=ye*ye)*re+(Be=xe*ye)*_e),mt=je-(yt=tt*B+3*qe*ye*te+3*We*xe*ae+Be*Ce),Ee=vt,je=yt,ge+=Math.sqrt(rt*rt+mt*mt);return ge},ue.curveTo=function(y,B,V,te,re,ae,_e){var Ce=_e[_e.length-2],de=_e[_e.length-1];_e.length-=2;var ge=U._segmentsCount(ue.curveLength(Ce,de,y,B,V,te,re,ae)),ye=0,xe=0,Be=0,We=0,qe=0;_e.push(Ce,de);for(var tt=1,vt=0;tt<=ge;++tt)Be=(xe=(ye=1-(vt=tt/ge))*ye)*ye,qe=(We=vt*vt)*vt,_e.push(Be*Ce+3*xe*vt*y+3*ye*We*V+qe*re,Be*de+3*xe*vt*B+3*ye*We*te+qe*ae)},ue}(),J=function(){function ue(){}return ue.curveLength=function(y,B,V,te,re,ae){var _e=y-2*V+re,Ce=B-2*te+ae,de=2*V-2*y,ge=2*te-2*B,ye=4*(_e*_e+Ce*Ce),xe=4*(_e*de+Ce*ge),Be=de*de+ge*ge,We=2*Math.sqrt(ye+xe+Be),qe=Math.sqrt(ye),tt=2*ye*qe,vt=2*Math.sqrt(Be),yt=xe/qe;return(tt*We+qe*xe*(We-vt)+(4*Be*ye-xe*xe)*Math.log((2*qe+yt+We)/(yt+vt)))/(4*tt)},ue.curveTo=function(y,B,V,te,re){for(var ae=re[re.length-2],_e=re[re.length-1],Ce=U._segmentsCount(ue.curveLength(ae,_e,y,B,V,te)),de=0,ge=0,ye=1;ye<=Ce;++ye){var xe=ye/Ce;de=ae+(y-ae)*xe,ge=_e+(B-_e)*xe,re.push(de+(y+(V-y)*xe-de)*xe,ge+(B+(te-B)*xe-ge)*xe)}},ue}(),q=function(){function ue(){this.reset()}return ue.prototype.begin=function(y,B,V){this.reset(),this.style=y,this.start=B,this.attribStart=V},ue.prototype.end=function(y,B){this.attribSize=B-this.attribStart,this.size=y-this.start},ue.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},ue}(),K=((G={})[j.HS.POLY]=a,G[j.HS.CIRC]=u,G[j.HS.ELIP]=u,G[j.HS.RECT]=p,G[j.HS.RREC]=F,G),A=[],b=[],R=function(){function ue(y,B,V,te){B===void 0&&(B=null),V===void 0&&(V=null),te===void 0&&(te=null),this.points=[],this.holes=[],this.shape=y,this.lineStyle=V,this.fillStyle=B,this.matrix=te,this.type=y.type}return ue.prototype.clone=function(){return new ue(this.shape,this.fillStyle,this.lineStyle,this.matrix)},ue.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},ue}(),O=new j.E9,W=new w.YZ,Q=function(ue){function y(){var B=ue.call(this)||this;return B.closePointEps=1e-4,B.boundsPadding=0,B.uvsFloat32=null,B.indicesUint16=null,B.batchable=!1,B.points=[],B.colors=[],B.uvs=[],B.indices=[],B.textureIds=[],B.graphicsData=[],B.drawCalls=[],B.batchDirty=-1,B.batches=[],B.dirty=0,B.cacheDirty=-1,B.clearDirty=0,B.shapeIndex=0,B._bounds=new w.YZ,B.boundsDirty=-1,B}return v(y,ue),Object.defineProperty(y.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),y.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var B=0;B<this.drawCalls.length;B++)this.drawCalls[B].texArray.clear(),b.push(this.drawCalls[B]);for(this.drawCalls.length=0,B=0;B<this.batches.length;B++){var V=this.batches[B];V.reset(),A.push(V)}this.batches.length=0},y.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},y.prototype.drawShape=function(B,V,te,re){V===void 0&&(V=null),te===void 0&&(te=null),re===void 0&&(re=null);var ae=new R(B,V,te,re);return this.graphicsData.push(ae),this.dirty++,this},y.prototype.drawHole=function(B,V){if(V===void 0&&(V=null),!this.graphicsData.length)return null;var te=new R(B,null,null,V),re=this.graphicsData[this.graphicsData.length-1];return te.lineStyle=re.lineStyle,re.holes.push(te),this.dirty++,this},y.prototype.destroy=function(){ue.prototype.destroy.call(this);for(var B=0;B<this.graphicsData.length;++B)this.graphicsData[B].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},y.prototype.containsPoint=function(B){for(var V=this.graphicsData,te=0;te<V.length;++te){var re=V[te];if(re.fillStyle.visible&&re.shape&&(re.matrix?re.matrix.applyInverse(B,O):O.copyFrom(B),re.shape.contains(O.x,O.y))){var ae=!1;if(re.holes){for(var _e=0;_e<re.holes.length;_e++)if(re.holes[_e].shape.contains(O.x,O.y)){ae=!0;break}}if(!ae)return!0}}return!1},y.prototype.updateBatches=function(B){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var V=this.uvs,te=this.graphicsData,re=null,ae=null;this.batches.length>0&&(ae=(re=this.batches[this.batches.length-1]).style);for(var _e=this.shapeIndex;_e<te.length;_e++){this.shapeIndex++;var Ce=te[_e],de=Ce.fillStyle,ge=Ce.lineStyle;K[Ce.type].build(Ce),Ce.matrix&&this.transformPoints(Ce.points,Ce.matrix),(de.visible||ge.visible)&&this.processHoles(Ce.holes);for(var ye=0;ye<2;ye++){var xe=ye===0?de:ge;if(xe.visible){var Be=xe.texture.baseTexture,We=this.indices.length,qe=this.points.length/2;Be.wrapMode=N.Nt.REPEAT,ye===0?this.processFill(Ce):this.processLine(Ce);var tt=this.points.length/2-qe;tt!==0&&(re&&!this._compareStyles(ae,xe)&&(re.end(We,qe),re=null),re||((re=A.pop()||new q).begin(xe,We,qe),this.batches.push(re),ae=xe),this.addUvs(this.points,V,xe.texture,qe,tt,xe.matrix))}}}var vt=this.indices.length,yt=this.points.length/2;if(re&&re.end(vt,yt),this.batches.length!==0){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var rt=yt>65535&&B;this.indicesUint16=rt?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},y.prototype._compareStyles=function(B,V){return!(!B||!V)&&B.texture.baseTexture===V.texture.baseTexture&&B.color+B.alpha===V.color+V.alpha&&!!B.native==!!V.native},y.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var B=0,V=this.graphicsData.length;B<V;B++){var te=this.graphicsData[B],re=te.fillStyle,ae=te.lineStyle;if(re&&!re.texture.baseTexture.valid||ae&&!ae.texture.baseTexture.valid)return!1}return!0},y.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var B=this.batches,V=0,te=B.length;V<te;V++)for(var re=B[V],ae=0;ae<re.size;ae++){var _e=re.start+ae;this.indicesUint16[_e]=this.indicesUint16[_e]-re.attribStart}},y.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var B=this.batches,V=0;V<B.length;V++)if(B[V].style.native)return!1;return this.points.length<2*y.BATCHABLE_SIZE},y.prototype.buildDrawCalls=function(){for(var B=++P.VL._globalBatch,V=0;V<this.drawCalls.length;V++)this.drawCalls[V].texArray.clear(),b.push(this.drawCalls[V]);this.drawCalls.length=0;var te=this.colors,re=this.textureIds,ae=b.pop();ae||((ae=new P.a$).texArray=new P.Ie),ae.texArray.count=0,ae.start=0,ae.size=0,ae.type=N.lg.TRIANGLES;var _e=0,Ce=null,de=0,ge=!1,ye=N.lg.TRIANGLES,xe=0;for(this.drawCalls.push(ae),V=0;V<this.batches.length;V++){var Be=this.batches[V],We=8,qe=Be.style,tt=qe.texture.baseTexture;ge!==!!qe.native&&(ye=(ge=!!qe.native)?N.lg.LINES:N.lg.TRIANGLES,Ce=null,_e=We,B++),Ce!==tt&&(Ce=tt,tt._batchEnabled!==B&&(_e===We&&(B++,_e=0,ae.size>0&&((ae=b.pop())||((ae=new P.a$).texArray=new P.Ie),this.drawCalls.push(ae)),ae.start=xe,ae.size=0,ae.texArray.count=0,ae.type=ye),tt.touched=1,tt._batchEnabled=B,tt._batchLocation=_e,tt.wrapMode=N.Nt.REPEAT,ae.texArray.elements[ae.texArray.count++]=tt,_e++)),ae.size+=Be.size,xe+=Be.size,de=tt._batchLocation,this.addColors(te,qe.color,qe.alpha,Be.attribSize,Be.attribStart),this.addTextureIds(re,de,Be.attribSize,Be.attribStart)}P.VL._globalBatch=B,this.packAttributes()},y.prototype.packAttributes=function(){for(var B=this.points,V=this.uvs,te=this.colors,re=this.textureIds,ae=new ArrayBuffer(3*B.length*4),_e=new Float32Array(ae),Ce=new Uint32Array(ae),de=0,ge=0;ge<B.length/2;ge++)_e[de++]=B[2*ge],_e[de++]=B[2*ge+1],_e[de++]=V[2*ge],_e[de++]=V[2*ge+1],Ce[de++]=te[ge],_e[de++]=re[ge];this._buffer.update(ae),this._indexBuffer.update(this.indicesUint16)},y.prototype.processFill=function(B){B.holes.length?a.triangulate(B,this):K[B.type].triangulate(B,this)},y.prototype.processLine=function(B){D(B,this);for(var V=0;V<B.holes.length;V++)D(B.holes[V],this)},y.prototype.processHoles=function(B){for(var V=0;V<B.length;V++){var te=B[V];K[te.type].build(te),te.matrix&&this.transformPoints(te.points,te.matrix)}},y.prototype.calculateBounds=function(){var B=this._bounds,V=W,te=j.y3.IDENTITY;this._bounds.clear(),V.clear();for(var re=0;re<this.graphicsData.length;re++){var ae=this.graphicsData[re],_e=ae.shape,Ce=ae.type,de=ae.lineStyle,ge=ae.matrix||j.y3.IDENTITY,ye=0;if(de&&de.visible&&(ye=de.width*Math.max(0,de.alignment)),te!==ge&&(V.isEmpty()||(B.addBoundsMatrix(V,te),V.clear()),te=ge),Ce===j.HS.RECT||Ce===j.HS.RREC){var xe=_e;V.addFramePad(xe.x,xe.y,xe.x+xe.width,xe.y+xe.height,ye,ye)}else if(Ce===j.HS.CIRC){var Be=_e;V.addFramePad(Be.x,Be.y,Be.x,Be.y,Be.radius+ye,Be.radius+ye)}else if(Ce===j.HS.ELIP){var We=_e;V.addFramePad(We.x,We.y,We.x,We.y,We.width+ye,We.height+ye)}else{var qe=_e;B.addVerticesMatrix(te,qe.points,0,qe.points.length,ye,ye)}}V.isEmpty()||B.addBoundsMatrix(V,te),B.pad(this.boundsPadding,this.boundsPadding)},y.prototype.transformPoints=function(B,V){for(var te=0;te<B.length/2;te++){var re=B[2*te],ae=B[2*te+1];B[2*te]=V.a*re+V.c*ae+V.tx,B[2*te+1]=V.b*re+V.d*ae+V.ty}},y.prototype.addColors=function(B,V,te,re,ae){ae===void 0&&(ae=0);var _e=(V>>16)+(65280&V)+((255&V)<<16),Ce=(0,z.premultiplyTint)(_e,te);B.length=Math.max(B.length,ae+re);for(var de=0;de<re;de++)B[ae+de]=Ce},y.prototype.addTextureIds=function(B,V,te,re){re===void 0&&(re=0),B.length=Math.max(B.length,re+te);for(var ae=0;ae<te;ae++)B[re+ae]=V},y.prototype.addUvs=function(B,V,te,re,ae,_e){_e===void 0&&(_e=null);for(var Ce=0,de=V.length,ge=te.frame;Ce<ae;){var ye=B[2*(re+Ce)],xe=B[2*(re+Ce)+1];if(_e){var Be=_e.a*ye+_e.c*xe+_e.tx;xe=_e.b*ye+_e.d*xe+_e.ty,ye=Be}Ce++,V.push(ye/ge.width,xe/ge.height)}var We=te.baseTexture;(ge.width<We.width||ge.height<We.height)&&this.adjustUvs(V,te,de,ae)},y.prototype.adjustUvs=function(B,V,te,re){for(var ae=V.baseTexture,_e=1e-6,Ce=te+2*re,de=V.frame,ge=de.width/ae.width,ye=de.height/ae.height,xe=de.x/de.width,Be=de.y/de.height,We=Math.floor(B[te]+_e),qe=Math.floor(B[te+1]+_e),tt=te+2;tt<Ce;tt+=2)We=Math.min(We,Math.floor(B[tt]+_e)),qe=Math.min(qe,Math.floor(B[tt+1]+_e));for(xe-=We,Be-=qe,tt=te;tt<Ce;tt+=2)B[tt]=(B[tt]+xe)*ge,B[tt+1]=(B[tt+1]+Be)*ye},y.BATCHABLE_SIZE=100,y}(P.JZ),ee=function(ue){function y(){var B=ue!==null&&ue.apply(this,arguments)||this;return B.width=0,B.alignment=.5,B.native=!1,B.cap=h.BUTT,B.join=k.MITER,B.miterLimit=10,B}return v(y,ue),y.prototype.clone=function(){var B=new y;return B.color=this.color,B.alpha=this.alpha,B.texture=this.texture,B.matrix=this.matrix,B.visible=this.visible,B.width=this.width,B.alignment=this.alignment,B.native=this.native,B.cap=this.cap,B.join=this.join,B.miterLimit=this.miterLimit,B},y.prototype.reset=function(){ue.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},y}(Y),ne=new Float32Array(3),be={},Ie=function(ue){function y(B){B===void 0&&(B=null);var V=ue.call(this)||this;return V.shader=null,V.pluginName="batch",V.currentPath=null,V.batches=[],V.batchTint=-1,V.batchDirty=-1,V.vertexData=null,V._fillStyle=new Y,V._lineStyle=new ee,V._matrix=null,V._holeMode=!1,V.state=P.ZM.for2d(),V._geometry=B||new Q,V._geometry.refCount++,V._transformID=-1,V.tint=16777215,V.blendMode=N.T$.NORMAL,V}return v(y,ue),Object.defineProperty(y.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),y.prototype.clone=function(){return this.finishPoly(),new y(this._geometry)},Object.defineProperty(y.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(B){this.state.blendMode=B},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"tint",{get:function(){return this._tint},set:function(B){this._tint=B},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),y.prototype.lineStyle=function(B,V,te,re,ae){return B===void 0&&(B=null),V===void 0&&(V=0),te===void 0&&(te=1),re===void 0&&(re=.5),ae===void 0&&(ae=!1),typeof B=="number"&&(B={width:B,color:V,alpha:te,alignment:re,native:ae}),this.lineTextureStyle(B)},y.prototype.lineTextureStyle=function(B){B=Object.assign({width:0,texture:P.xE.WHITE,color:B&&B.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:h.BUTT,join:k.MITER,miterLimit:10},B),this.currentPath&&this.startPoly();var V=B.width>0&&B.alpha>0;return V?(B.matrix&&(B.matrix=B.matrix.clone(),B.matrix.invert()),Object.assign(this._lineStyle,{visible:V},B)):this._lineStyle.reset(),this},y.prototype.startPoly=function(){if(this.currentPath){var B=this.currentPath.points,V=this.currentPath.points.length;V>2&&(this.drawShape(this.currentPath),this.currentPath=new j.mg,this.currentPath.closeStroke=!1,this.currentPath.points.push(B[V-2],B[V-1]))}else this.currentPath=new j.mg,this.currentPath.closeStroke=!1},y.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},y.prototype.moveTo=function(B,V){return this.startPoly(),this.currentPath.points[0]=B,this.currentPath.points[1]=V,this},y.prototype.lineTo=function(B,V){this.currentPath||this.moveTo(0,0);var te=this.currentPath.points,re=te[te.length-2],ae=te[te.length-1];return re===B&&ae===V||te.push(B,V),this},y.prototype._initCurve=function(B,V){B===void 0&&(B=0),V===void 0&&(V=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[B,V]):this.moveTo(B,V)},y.prototype.quadraticCurveTo=function(B,V,te,re){this._initCurve();var ae=this.currentPath.points;return ae.length===0&&this.moveTo(0,0),J.curveTo(B,V,te,re,ae),this},y.prototype.bezierCurveTo=function(B,V,te,re,ae,_e){return this._initCurve(),T.curveTo(B,V,te,re,ae,_e,this.currentPath.points),this},y.prototype.arcTo=function(B,V,te,re,ae){this._initCurve(B,V);var _e=this.currentPath.points,Ce=C.curveTo(B,V,te,re,ae,_e);if(Ce){var de=Ce.cx,ge=Ce.cy,ye=Ce.radius,xe=Ce.startAngle,Be=Ce.endAngle,We=Ce.anticlockwise;this.arc(de,ge,ye,xe,Be,We)}return this},y.prototype.arc=function(B,V,te,re,ae,_e){if(_e===void 0&&(_e=!1),re===ae)return this;if(!_e&&ae<=re?ae+=j._b:_e&&re<=ae&&(re+=j._b),ae-re===0)return this;var Ce=B+Math.cos(re)*te,de=V+Math.sin(re)*te,ge=this._geometry.closePointEps,ye=this.currentPath?this.currentPath.points:null;if(ye){var xe=Math.abs(ye[ye.length-2]-Ce),Be=Math.abs(ye[ye.length-1]-de);xe<ge&&Be<ge||ye.push(Ce,de)}else this.moveTo(Ce,de),ye=this.currentPath.points;return C.arc(Ce,de,B,V,te,re,ae,_e,ye),this},y.prototype.beginFill=function(B,V){return B===void 0&&(B=0),V===void 0&&(V=1),this.beginTextureFill({texture:P.xE.WHITE,color:B,alpha:V})},y.prototype.beginTextureFill=function(B){B=Object.assign({texture:P.xE.WHITE,color:16777215,alpha:1,matrix:null},B),this.currentPath&&this.startPoly();var V=B.alpha>0;return V?(B.matrix&&(B.matrix=B.matrix.clone(),B.matrix.invert()),Object.assign(this._fillStyle,{visible:V},B)):this._fillStyle.reset(),this},y.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},y.prototype.drawRect=function(B,V,te,re){return this.drawShape(new j.Ae(B,V,te,re))},y.prototype.drawRoundedRect=function(B,V,te,re,ae){return this.drawShape(new j.c9(B,V,te,re,ae))},y.prototype.drawCircle=function(B,V,te){return this.drawShape(new j.Cd(B,V,te))},y.prototype.drawEllipse=function(B,V,te,re){return this.drawShape(new j.Pj(B,V,te,re))},y.prototype.drawPolygon=function(){for(var B,V=arguments,te=[],re=0;re<arguments.length;re++)te[re]=V[re];var ae=!0,_e=te[0];_e.points?(ae=_e.closeStroke,B=_e.points):B=Array.isArray(te[0])?te[0]:te;var Ce=new j.mg(B);return Ce.closeStroke=ae,this.drawShape(Ce),this},y.prototype.drawShape=function(B){return this._holeMode?this._geometry.drawHole(B,this._matrix):this._geometry.drawShape(B,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},y.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},y.prototype.isFastRect=function(){var B=this._geometry.graphicsData;return!(B.length!==1||B[0].shape.type!==j.HS.RECT||B[0].matrix||B[0].holes.length||B[0].lineStyle.visible&&B[0].lineStyle.width)},y.prototype._render=function(B){this.finishPoly();var V=this._geometry,te=B.context.supports.uint32Indices;V.updateBatches(te),V.batchable?(this.batchDirty!==V.batchDirty&&this._populateBatches(),this._renderBatched(B)):(B.batch.flush(),this._renderDirect(B))},y.prototype._populateBatches=function(){var B=this._geometry,V=this.blendMode,te=B.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=B.batchDirty,this.batches.length=te,this.vertexData=new Float32Array(B.points);for(var re=0;re<te;re++){var ae=B.batches[re],_e=ae.style.color,Ce=new Float32Array(this.vertexData.buffer,4*ae.attribStart*2,2*ae.attribSize),de=new Float32Array(B.uvsFloat32.buffer,4*ae.attribStart*2,2*ae.attribSize),ge={vertexData:Ce,blendMode:V,indices:new Uint16Array(B.indicesUint16.buffer,2*ae.start,ae.size),uvs:de,_batchRGB:(0,z.hex2rgb)(_e),_tintRGB:_e,_texture:ae.style.texture,alpha:ae.style.alpha,worldAlpha:1};this.batches[re]=ge}},y.prototype._renderBatched=function(B){if(this.batches.length){B.batch.setObjectRenderer(B.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var V=0,te=this.batches.length;V<te;V++){var re=this.batches[V];re.worldAlpha=this.worldAlpha*re.alpha,B.plugins[this.pluginName].render(re)}}},y.prototype._renderDirect=function(B){var V=this._resolveDirectShader(B),te=this._geometry,re=this.tint,ae=this.worldAlpha,_e=V.uniforms,Ce=te.drawCalls;_e.translationMatrix=this.transform.worldTransform,_e.tint[0]=(re>>16&255)/255*ae,_e.tint[1]=(re>>8&255)/255*ae,_e.tint[2]=(255&re)/255*ae,_e.tint[3]=ae,B.shader.bind(V),B.geometry.bind(te,V),B.state.set(this.state);for(var de=0,ge=Ce.length;de<ge;de++)this._renderDrawCallDirect(B,te.drawCalls[de])},y.prototype._renderDrawCallDirect=function(B,V){for(var te=V.texArray,re=V.type,ae=V.size,_e=V.start,Ce=te.count,de=0;de<Ce;de++)B.texture.bind(te.elements[de],de);B.geometry.draw(re,ae,_e)},y.prototype._resolveDirectShader=function(B){var V=this.shader,te=this.pluginName;if(!V){if(!be[te]){for(var re=B.plugins.batch.MAX_TEXTURES,ae=new Int32Array(re),_e=0;_e<re;_e++)ae[_e]=_e;var Ce={tint:new Float32Array([1,1,1,1]),translationMatrix:new j.y3,default:P.oo.from({uSamplers:ae},!0)},de=B.plugins[te]._shader.program;be[te]=new P.ex(de,Ce)}V=be[te]}return V},y.prototype._calculateBounds=function(){this.finishPoly();var B=this._geometry;if(B.graphicsData.length){var V=B.bounds,te=V.minX,re=V.minY,ae=V.maxX,_e=V.maxY;this._bounds.addFrame(this.transform,te,re,ae,_e)}},y.prototype.containsPoint=function(B){return this.worldTransform.applyInverse(B,y._TEMP_POINT),this._geometry.containsPoint(y._TEMP_POINT)},y.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var B=(0,z.hex2rgb)(this.tint,ne),V=0;V<this.batches.length;V++){var te=this.batches[V],re=te._batchRGB,ae=(B[0]*re[0]*255<<16)+(B[1]*re[1]*255<<8)+(0|B[2]*re[2]*255);te._tintRGB=(ae>>16)+(65280&ae)+((255&ae)<<16)}}},y.prototype.calculateVertices=function(){var B=this.transform._worldID;if(this._transformID!==B){this._transformID=B;for(var V=this.transform.worldTransform,te=V.a,re=V.b,ae=V.c,_e=V.d,Ce=V.tx,de=V.ty,ge=this._geometry.points,ye=this.vertexData,xe=0,Be=0;Be<ge.length;Be+=2){var We=ge[Be],qe=ge[Be+1];ye[xe++]=te*We+ae*qe+Ce,ye[xe++]=_e*qe+re*We+de}}},y.prototype.closePath=function(){var B=this.currentPath;return B&&(B.closeStroke=!0,this.finishPoly()),this},y.prototype.setMatrix=function(B){return this._matrix=B,this},y.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},y.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},y.prototype.destroy=function(B){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,ue.prototype.destroy.call(this,B)},y.nextRoundedRectBehavior=!1,y._TEMP_POINT=new j.E9,y}(w.W2),Oe={buildPoly:a,buildCircle:u,buildRectangle:p,buildRoundedRectangle:F,buildLine:D,ArcUtils:C,BezierUtils:T,QuadraticUtils:J,BatchPart:q,FILL_COMMANDS:K,BATCH_POOL:A,DRAW_CALL_POOL:b}},7442:(Ae,le,d)=>{d.d(le,{AB:()=>n,Ae:()=>w,Cd:()=>U,E9:()=>z,HS:()=>k,Lv:()=>X,Pj:()=>Y,ZX:()=>j,_b:()=>h,c9:()=>v,jl:()=>P,mg:()=>E,wx:()=>D,y3:()=>a});var k,h=2*Math.PI,P=180/Math.PI,j=Math.PI/180;(function(G){G[G.POLY=0]="POLY",G[G.RECT=1]="RECT",G[G.CIRC=2]="CIRC",G[G.ELIP=3]="ELIP",G[G.RREC=4]="RREC"})(k||(k={}));var z=function(){function G(C,T){C===void 0&&(C=0),T===void 0&&(T=0),this.x=0,this.y=0,this.x=C,this.y=T}return G.prototype.clone=function(){return new G(this.x,this.y)},G.prototype.copyFrom=function(C){return this.set(C.x,C.y),this},G.prototype.copyTo=function(C){return C.set(this.x,this.y),C},G.prototype.equals=function(C){return C.x===this.x&&C.y===this.y},G.prototype.set=function(C,T){return C===void 0&&(C=0),T===void 0&&(T=C),this.x=C,this.y=T,this},G.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},G}(),N=[new z,new z,new z,new z],w=function(){function G(C,T,J,q){C===void 0&&(C=0),T===void 0&&(T=0),J===void 0&&(J=0),q===void 0&&(q=0),this.x=Number(C),this.y=Number(T),this.width=Number(J),this.height=Number(q),this.type=k.RECT}return Object.defineProperty(G.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(G,"EMPTY",{get:function(){return new G(0,0,0,0)},enumerable:!1,configurable:!0}),G.prototype.clone=function(){return new G(this.x,this.y,this.width,this.height)},G.prototype.copyFrom=function(C){return this.x=C.x,this.y=C.y,this.width=C.width,this.height=C.height,this},G.prototype.copyTo=function(C){return C.x=this.x,C.y=this.y,C.width=this.width,C.height=this.height,C},G.prototype.contains=function(C,T){return!(this.width<=0||this.height<=0)&&C>=this.x&&C<this.x+this.width&&T>=this.y&&T<this.y+this.height},G.prototype.intersects=function(C,T){if(!T){var J=this.x<C.x?C.x:this.x;if((this.right>C.right?C.right:this.right)<=J)return!1;var q=this.y<C.y?C.y:this.y;return(this.bottom>C.bottom?C.bottom:this.bottom)>q}var K=this.left,A=this.right,b=this.top,R=this.bottom;if(A<=K||R<=b)return!1;var O=N[0].set(C.left,C.top),W=N[1].set(C.left,C.bottom),Q=N[2].set(C.right,C.top),ee=N[3].set(C.right,C.bottom);if(Q.x<=O.x||W.y<=O.y)return!1;var ne=Math.sign(T.a*T.d-T.b*T.c);if(ne===0||(T.apply(O,O),T.apply(W,W),T.apply(Q,Q),T.apply(ee,ee),Math.max(O.x,W.x,Q.x,ee.x)<=K||Math.min(O.x,W.x,Q.x,ee.x)>=A||Math.max(O.y,W.y,Q.y,ee.y)<=b||Math.min(O.y,W.y,Q.y,ee.y)>=R))return!1;var be=ne*(W.y-O.y),Ie=ne*(O.x-W.x),Oe=be*K+Ie*b,ue=be*A+Ie*b,y=be*K+Ie*R,B=be*A+Ie*R;if(Math.max(Oe,ue,y,B)<=be*O.x+Ie*O.y||Math.min(Oe,ue,y,B)>=be*ee.x+Ie*ee.y)return!1;var V=ne*(O.y-Q.y),te=ne*(Q.x-O.x),re=V*K+te*b,ae=V*A+te*b,_e=V*K+te*R,Ce=V*A+te*R;return!(Math.max(re,ae,_e,Ce)<=V*O.x+te*O.y||Math.min(re,ae,_e,Ce)>=V*ee.x+te*ee.y)},G.prototype.pad=function(C,T){return C===void 0&&(C=0),T===void 0&&(T=C),this.x-=C,this.y-=T,this.width+=2*C,this.height+=2*T,this},G.prototype.fit=function(C){var T=Math.max(this.x,C.x),J=Math.min(this.x+this.width,C.x+C.width),q=Math.max(this.y,C.y),K=Math.min(this.y+this.height,C.y+C.height);return this.x=T,this.width=Math.max(J-T,0),this.y=q,this.height=Math.max(K-q,0),this},G.prototype.ceil=function(C,T){C===void 0&&(C=1),T===void 0&&(T=.001);var J=Math.ceil((this.x+this.width-T)*C)/C,q=Math.ceil((this.y+this.height-T)*C)/C;return this.x=Math.floor((this.x+T)*C)/C,this.y=Math.floor((this.y+T)*C)/C,this.width=J-this.x,this.height=q-this.y,this},G.prototype.enlarge=function(C){var T=Math.min(this.x,C.x),J=Math.max(this.x+this.width,C.x+C.width),q=Math.min(this.y,C.y),K=Math.max(this.y+this.height,C.y+C.height);return this.x=T,this.width=J-T,this.y=q,this.height=K-q,this},G.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},G}(),U=function(){function G(C,T,J){C===void 0&&(C=0),T===void 0&&(T=0),J===void 0&&(J=0),this.x=C,this.y=T,this.radius=J,this.type=k.CIRC}return G.prototype.clone=function(){return new G(this.x,this.y,this.radius)},G.prototype.contains=function(C,T){if(this.radius<=0)return!1;var J=this.radius*this.radius,q=this.x-C,K=this.y-T;return(q*=q)+(K*=K)<=J},G.prototype.getBounds=function(){return new w(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},G.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},G}(),Y=function(){function G(C,T,J,q){C===void 0&&(C=0),T===void 0&&(T=0),J===void 0&&(J=0),q===void 0&&(q=0),this.x=C,this.y=T,this.width=J,this.height=q,this.type=k.ELIP}return G.prototype.clone=function(){return new G(this.x,this.y,this.width,this.height)},G.prototype.contains=function(C,T){if(this.width<=0||this.height<=0)return!1;var J=(C-this.x)/this.width,q=(T-this.y)/this.height;return(J*=J)+(q*=q)<=1},G.prototype.getBounds=function(){return new w(this.x-this.width,this.y-this.height,this.width,this.height)},G.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},G}(),E=function(){function G(){for(var C=arguments,T=[],J=0;J<arguments.length;J++)T[J]=C[J];var q=Array.isArray(T[0])?T[0]:T;if(typeof q[0]!="number"){for(var K=[],A=0,b=q.length;A<b;A++)K.push(q[A].x,q[A].y);q=K}this.points=q,this.type=k.POLY,this.closeStroke=!0}return G.prototype.clone=function(){var C=new G(this.points.slice());return C.closeStroke=this.closeStroke,C},G.prototype.contains=function(C,T){for(var J=!1,q=this.points.length/2,K=0,A=q-1;K<q;A=K++){var b=this.points[2*K],R=this.points[2*K+1],O=this.points[2*A],W=this.points[2*A+1];R>T!=W>T&&C<(T-R)/(W-R)*(O-b)+b&&(J=!J)}return J},G.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce(function(C,T){return C+", "+T},"")+"]"},G}(),v=function(){function G(C,T,J,q,K){C===void 0&&(C=0),T===void 0&&(T=0),J===void 0&&(J=0),q===void 0&&(q=0),K===void 0&&(K=20),this.x=C,this.y=T,this.width=J,this.height=q,this.radius=K,this.type=k.RREC}return G.prototype.clone=function(){return new G(this.x,this.y,this.width,this.height,this.radius)},G.prototype.contains=function(C,T){if(this.width<=0||this.height<=0)return!1;if(C>=this.x&&C<=this.x+this.width&&T>=this.y&&T<=this.y+this.height){var J=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(T>=this.y+J&&T<=this.y+this.height-J||C>=this.x+J&&C<=this.x+this.width-J)return!0;var q=C-(this.x+J),K=T-(this.y+J),A=J*J;if(q*q+K*K<=A||(q=C-(this.x+this.width-J))*q+K*K<=A||q*q+(K=T-(this.y+this.height-J))*K<=A||(q=C-(this.x+J))*q+K*K<=A)return!0}return!1},G.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},G}(),n=function(){function G(C,T,J,q){J===void 0&&(J=0),q===void 0&&(q=0),this._x=J,this._y=q,this.cb=C,this.scope=T}return G.prototype.clone=function(C,T){return C===void 0&&(C=this.cb),T===void 0&&(T=this.scope),new G(C,T,this._x,this._y)},G.prototype.set=function(C,T){return C===void 0&&(C=0),T===void 0&&(T=C),this._x===C&&this._y===T||(this._x=C,this._y=T,this.cb.call(this.scope)),this},G.prototype.copyFrom=function(C){return this._x===C.x&&this._y===C.y||(this._x=C.x,this._y=C.y,this.cb.call(this.scope)),this},G.prototype.copyTo=function(C){return C.set(this._x,this._y),C},G.prototype.equals=function(C){return C.x===this._x&&C.y===this._y},G.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(G.prototype,"x",{get:function(){return this._x},set:function(C){this._x!==C&&(this._x=C,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"y",{get:function(){return this._y},set:function(C){this._y!==C&&(this._y=C,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),G}(),a=function(){function G(C,T,J,q,K,A){C===void 0&&(C=1),T===void 0&&(T=0),J===void 0&&(J=0),q===void 0&&(q=1),K===void 0&&(K=0),A===void 0&&(A=0),this.array=null,this.a=C,this.b=T,this.c=J,this.d=q,this.tx=K,this.ty=A}return G.prototype.fromArray=function(C){this.a=C[0],this.b=C[1],this.c=C[3],this.d=C[4],this.tx=C[2],this.ty=C[5]},G.prototype.set=function(C,T,J,q,K,A){return this.a=C,this.b=T,this.c=J,this.d=q,this.tx=K,this.ty=A,this},G.prototype.toArray=function(C,T){this.array||(this.array=new Float32Array(9));var J=T||this.array;return C?(J[0]=this.a,J[1]=this.b,J[2]=0,J[3]=this.c,J[4]=this.d,J[5]=0,J[6]=this.tx,J[7]=this.ty,J[8]=1):(J[0]=this.a,J[1]=this.c,J[2]=this.tx,J[3]=this.b,J[4]=this.d,J[5]=this.ty,J[6]=0,J[7]=0,J[8]=1),J},G.prototype.apply=function(C,T){T=T||new z;var J=C.x,q=C.y;return T.x=this.a*J+this.c*q+this.tx,T.y=this.b*J+this.d*q+this.ty,T},G.prototype.applyInverse=function(C,T){T=T||new z;var J=1/(this.a*this.d+this.c*-this.b),q=C.x,K=C.y;return T.x=this.d*J*q+-this.c*J*K+(this.ty*this.c-this.tx*this.d)*J,T.y=this.a*J*K+-this.b*J*q+(-this.ty*this.a+this.tx*this.b)*J,T},G.prototype.translate=function(C,T){return this.tx+=C,this.ty+=T,this},G.prototype.scale=function(C,T){return this.a*=C,this.d*=T,this.c*=C,this.b*=T,this.tx*=C,this.ty*=T,this},G.prototype.rotate=function(C){var T=Math.cos(C),J=Math.sin(C),q=this.a,K=this.c,A=this.tx;return this.a=q*T-this.b*J,this.b=q*J+this.b*T,this.c=K*T-this.d*J,this.d=K*J+this.d*T,this.tx=A*T-this.ty*J,this.ty=A*J+this.ty*T,this},G.prototype.append=function(C){var T=this.a,J=this.b,q=this.c,K=this.d;return this.a=C.a*T+C.b*q,this.b=C.a*J+C.b*K,this.c=C.c*T+C.d*q,this.d=C.c*J+C.d*K,this.tx=C.tx*T+C.ty*q+this.tx,this.ty=C.tx*J+C.ty*K+this.ty,this},G.prototype.setTransform=function(C,T,J,q,K,A,b,R,O){return this.a=Math.cos(b+O)*K,this.b=Math.sin(b+O)*K,this.c=-Math.sin(b-R)*A,this.d=Math.cos(b-R)*A,this.tx=C-(J*this.a+q*this.c),this.ty=T-(J*this.b+q*this.d),this},G.prototype.prepend=function(C){var T=this.tx;if(C.a!==1||C.b!==0||C.c!==0||C.d!==1){var J=this.a,q=this.c;this.a=J*C.a+this.b*C.c,this.b=J*C.b+this.b*C.d,this.c=q*C.a+this.d*C.c,this.d=q*C.b+this.d*C.d}return this.tx=T*C.a+this.ty*C.c+C.tx,this.ty=T*C.b+this.ty*C.d+C.ty,this},G.prototype.decompose=function(C){var T=this.a,J=this.b,q=this.c,K=this.d,A=C.pivot,b=-Math.atan2(-q,K),R=Math.atan2(J,T),O=Math.abs(b+R);return O<1e-5||Math.abs(h-O)<1e-5?(C.rotation=R,C.skew.x=C.skew.y=0):(C.rotation=0,C.skew.x=b,C.skew.y=R),C.scale.x=Math.sqrt(T*T+J*J),C.scale.y=Math.sqrt(q*q+K*K),C.position.x=this.tx+(A.x*T+A.y*q),C.position.y=this.ty+(A.x*J+A.y*K),C},G.prototype.invert=function(){var C=this.a,T=this.b,J=this.c,q=this.d,K=this.tx,A=C*q-T*J;return this.a=q/A,this.b=-T/A,this.c=-J/A,this.d=C/A,this.tx=(J*this.ty-q*K)/A,this.ty=-(C*this.ty-T*K)/A,this},G.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},G.prototype.clone=function(){var C=new G;return C.a=this.a,C.b=this.b,C.c=this.c,C.d=this.d,C.tx=this.tx,C.ty=this.ty,C},G.prototype.copyTo=function(C){return C.a=this.a,C.b=this.b,C.c=this.c,C.d=this.d,C.tx=this.tx,C.ty=this.ty,C},G.prototype.copyFrom=function(C){return this.a=C.a,this.b=C.b,this.c=C.c,this.d=C.d,this.tx=C.tx,this.ty=C.ty,this},G.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(G,"IDENTITY",{get:function(){return new G},enumerable:!1,configurable:!0}),Object.defineProperty(G,"TEMP_MATRIX",{get:function(){return new G},enumerable:!1,configurable:!0}),G}(),u=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],p=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],I=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],L=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],F=[],M=[],c=Math.sign;function x(){for(var G=0;G<16;G++){var C=[];F.push(C);for(var T=0;T<16;T++)for(var J=c(u[G]*u[T]+I[G]*p[T]),q=c(p[G]*u[T]+L[G]*p[T]),K=c(u[G]*I[T]+I[G]*L[T]),A=c(p[G]*I[T]+L[G]*L[T]),b=0;b<16;b++)if(u[b]===J&&p[b]===q&&I[b]===K&&L[b]===A){C.push(b);break}}for(G=0;G<16;G++){var R=new a;R.set(u[G],p[G],I[G],L[G],0,0),M.push(R)}}x();var X={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(G){return u[G]},uY:function(G){return p[G]},vX:function(G){return I[G]},vY:function(G){return L[G]},inv:function(G){return 8&G?15&G:7&-G},add:function(G,C){return F[G][C]},sub:function(G,C){return F[G][X.inv(C)]},rotate180:function(G){return 4^G},isVertical:function(G){return(3&G)==2},byDirection:function(G,C){return 2*Math.abs(G)<=Math.abs(C)?C>=0?X.S:X.N:2*Math.abs(C)<=Math.abs(G)?G>0?X.E:X.W:C>0?G>0?X.SE:X.SW:G>0?X.NE:X.NW},matrixAppendRotationInv:function(G,C,T,J){T===void 0&&(T=0),J===void 0&&(J=0);var q=M[X.inv(C)];q.tx=T,q.ty=J,G.append(q)}},D=function(){function G(){this.worldTransform=new a,this.localTransform=new a,this.position=new n(this.onChange,this,0,0),this.scale=new n(this.onChange,this,1,1),this.pivot=new n(this.onChange,this,0,0),this.skew=new n(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return G.prototype.onChange=function(){this._localID++},G.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},G.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},G.prototype.updateLocalTransform=function(){var C=this.localTransform;this._localID!==this._currentLocalID&&(C.a=this._cx*this.scale.x,C.b=this._sx*this.scale.x,C.c=this._cy*this.scale.y,C.d=this._sy*this.scale.y,C.tx=this.position.x-(this.pivot.x*C.a+this.pivot.y*C.c),C.ty=this.position.y-(this.pivot.x*C.b+this.pivot.y*C.d),this._currentLocalID=this._localID,this._parentID=-1)},G.prototype.updateTransform=function(C){var T=this.localTransform;if(this._localID!==this._currentLocalID&&(T.a=this._cx*this.scale.x,T.b=this._sx*this.scale.x,T.c=this._cy*this.scale.y,T.d=this._sy*this.scale.y,T.tx=this.position.x-(this.pivot.x*T.a+this.pivot.y*T.c),T.ty=this.position.y-(this.pivot.x*T.b+this.pivot.y*T.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==C._worldID){var J=C.worldTransform,q=this.worldTransform;q.a=T.a*J.a+T.b*J.c,q.b=T.a*J.b+T.b*J.d,q.c=T.c*J.a+T.d*J.c,q.d=T.c*J.b+T.d*J.d,q.tx=T.tx*J.a+T.ty*J.c+J.tx,q.ty=T.tx*J.b+T.ty*J.d+J.ty,this._parentID=C._worldID,this._worldID++}},G.prototype.setFromMatrix=function(C){C.decompose(this),this._localID++},Object.defineProperty(G.prototype,"rotation",{get:function(){return this._rotation},set:function(C){this._rotation!==C&&(this._rotation=C,this.updateSkew())},enumerable:!1,configurable:!0}),G.IDENTITY=new G,G}()},9838:(Ae,le,d)=>{d.d(le,{AL:()=>E,Au:()=>w,IE:()=>U,VJ:()=>Y,ZT:()=>n,_1:()=>N});var k=d(3880),h=d(3736),P=d(9839),j=function(a,u){return j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,I){p.__proto__=I}||function(p,I){for(var L in I)I.hasOwnProperty(L)&&(p[L]=I[L])},j(a,u)};function z(a,u){function p(){this.constructor=a}j(a,u),a.prototype=u===null?Object.create(u):(p.prototype=u.prototype,new p)}var N=function(a){function u(p,I,L,F){p===void 0&&(p=100),I===void 0&&(I=100),L===void 0&&(L=10),F===void 0&&(F=10);var M=a.call(this)||this;return M.segWidth=L,M.segHeight=F,M.width=p,M.height=I,M.build(),M}return z(u,a),u.prototype.build=function(){for(var p=this.segWidth*this.segHeight,I=[],L=[],F=[],M=this.segWidth-1,c=this.segHeight-1,x=this.width/M,X=this.height/c,D=0;D<p;D++){var G=D%this.segWidth,C=D/this.segWidth|0;I.push(G*x,C*X),L.push(G/M,C/c)}var T=M*c;for(D=0;D<T;D++){var J=D%M,q=D/M|0,K=q*this.segWidth+J,A=q*this.segWidth+J+1,b=(q+1)*this.segWidth+J,R=(q+1)*this.segWidth+J+1;F.push(K,A,b,A,R,b)}this.buffers[0].data=new Float32Array(I),this.buffers[1].data=new Float32Array(L),this.indexBuffer.data=new Uint16Array(F),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},u}(k.xc),w=function(a){function u(p,I,L){p===void 0&&(p=200),L===void 0&&(L=0);var F=a.call(this,new Float32Array(4*I.length),new Float32Array(4*I.length),new Uint16Array(6*(I.length-1)))||this;return F.points=I,F._width=p,F.textureScale=L,F.build(),F}return z(u,a),Object.defineProperty(u.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),u.prototype.build=function(){var p=this.points;if(p){var I=this.getBuffer("aVertexPosition"),L=this.getBuffer("aTextureCoord"),F=this.getIndex();if(!(p.length<1)){I.data.length/4!==p.length&&(I.data=new Float32Array(4*p.length),L.data=new Float32Array(4*p.length),F.data=new Uint16Array(6*(p.length-1)));var M=L.data,c=F.data;M[0]=0,M[1]=0,M[2]=0,M[3]=1;for(var x=0,X=p[0],D=this._width*this.textureScale,G=p.length,C=0;C<G;C++){var T=4*C;if(this.textureScale>0){var J=X.x-p[C].x,q=X.y-p[C].y,K=Math.sqrt(J*J+q*q);X=p[C],x+=K/D}else x=C/(G-1);M[T]=x,M[T+1]=0,M[T+2]=x,M[T+3]=1}var A=0;for(C=0;C<G-1;C++)T=2*C,c[A++]=T,c[A++]=T+1,c[A++]=T+2,c[A++]=T+2,c[A++]=T+1,c[A++]=T+3;L.update(),F.update(),this.updateVertices()}}},u.prototype.updateVertices=function(){var p=this.points;if(!(p.length<1)){for(var I,L=p[0],F=0,M=0,c=this.buffers[0].data,x=p.length,X=0;X<x;X++){var D=p[X],G=4*X;M=-((I=X<p.length-1?p[X+1]:D).x-L.x),F=I.y-L.y;var C=Math.sqrt(F*F+M*M),T=this.textureScale>0?this.textureScale*this._width/2:this._width/2;F/=C,M/=C,F*=T,M*=T,c[G]=D.x+F,c[G+1]=D.y+M,c[G+2]=D.x-F,c[G+3]=D.y-M,L=D}this.buffers[0].update()}},u.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},u}(k.xc),U=function(a){function u(p,I,L){L===void 0&&(L=0);var F=this,M=new w(p.height,I,L),c=new k.rY(p);return L>0&&(p.baseTexture.wrapMode=h.Nt.REPEAT),(F=a.call(this,M,c)||this).autoUpdate=!0,F}return z(u,a),u.prototype._render=function(p){var I=this.geometry;(this.autoUpdate||I._width!==this.shader.texture.height)&&(I._width=this.shader.texture.height,I.update()),a.prototype._render.call(this,p)},u}(k.Kj),Y=function(a){function u(p,I,L){var F=this,M=new N(p.width,p.height,I,L),c=new k.rY(P.xE.WHITE);return(F=a.call(this,M,c)||this).texture=p,F.autoResize=!0,F}return z(u,a),u.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var p=this.geometry,I=this.shader.texture,L=I.width,F=I.height;!this.autoResize||p.width===L&&p.height===F||(p.width=this.shader.texture.width,p.height=this.shader.texture.height,p.build())},Object.defineProperty(u.prototype,"texture",{get:function(){return this.shader.texture},set:function(p){this.shader.texture!==p&&(this.shader.texture=p,this._textureID=-1,p.baseTexture.valid?this.textureUpdated():p.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),u.prototype._render=function(p){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),a.prototype._render.call(this,p)},u.prototype.destroy=function(p){this.shader.texture.off("update",this.textureUpdated,this),a.prototype.destroy.call(this,p)},u}(k.Kj),E=function(a){function u(p,I,L,F,M){p===void 0&&(p=P.xE.EMPTY);var c=this,x=new k.xc(I,L,F);x.getBuffer("aVertexPosition").static=!1;var X=new k.rY(p);return(c=a.call(this,x,X,null,M)||this).autoUpdate=!0,c}return z(u,a),Object.defineProperty(u.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(p){this.geometry.getBuffer("aVertexPosition").data=p},enumerable:!1,configurable:!0}),u.prototype._render=function(p){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),a.prototype._render.call(this,p)},u}(k.Kj),v=10,n=function(a){function u(p,I,L,F,M){I===void 0&&(I=v),L===void 0&&(L=v),F===void 0&&(F=v),M===void 0&&(M=v);var c=a.call(this,P.xE.WHITE,4,4)||this;return c._origWidth=p.orig.width,c._origHeight=p.orig.height,c._width=c._origWidth,c._height=c._origHeight,c._leftWidth=I,c._rightWidth=F,c._topHeight=L,c._bottomHeight=M,c.texture=p,c}return z(u,a),u.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(u.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(p){this.geometry.getBuffer("aVertexPosition").data=p},enumerable:!1,configurable:!0}),u.prototype.updateHorizontalVertices=function(){var p=this.vertices,I=this._getMinScale();p[9]=p[11]=p[13]=p[15]=this._topHeight*I,p[17]=p[19]=p[21]=p[23]=this._height-this._bottomHeight*I,p[25]=p[27]=p[29]=p[31]=this._height},u.prototype.updateVerticalVertices=function(){var p=this.vertices,I=this._getMinScale();p[2]=p[10]=p[18]=p[26]=this._leftWidth*I,p[4]=p[12]=p[20]=p[28]=this._width-this._rightWidth*I,p[6]=p[14]=p[22]=p[30]=this._width},u.prototype._getMinScale=function(){var p=this._leftWidth+this._rightWidth,I=this._width>p?1:this._width/p,L=this._topHeight+this._bottomHeight,F=this._height>L?1:this._height/L;return Math.min(I,F)},Object.defineProperty(u.prototype,"width",{get:function(){return this._width},set:function(p){this._width=p,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"height",{get:function(){return this._height},set:function(p){this._height=p,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(p){this._leftWidth=p,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(p){this._rightWidth=p,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"topHeight",{get:function(){return this._topHeight},set:function(p){this._topHeight=p,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(p){this._bottomHeight=p,this._refresh()},enumerable:!1,configurable:!0}),u.prototype._refresh=function(){var p=this.texture,I=this.geometry.buffers[1].data;this._origWidth=p.orig.width,this._origHeight=p.orig.height;var L=1/this._origWidth,F=1/this._origHeight;I[0]=I[8]=I[16]=I[24]=0,I[1]=I[3]=I[5]=I[7]=0,I[6]=I[14]=I[22]=I[30]=1,I[25]=I[27]=I[29]=I[31]=1,I[2]=I[10]=I[18]=I[26]=L*this._leftWidth,I[4]=I[12]=I[20]=I[28]=1-L*this._rightWidth,I[9]=I[11]=I[13]=I[15]=F*this._topHeight,I[17]=I[19]=I[21]=I[23]=1-F*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},u}(Y)},3880:(Ae,le,d)=>{d.d(le,{Kj:()=>n,rY:()=>p,wQ:()=>Y,xc:()=>I});var k=d(9839),h=d(7442),P=d(3736),j=d(7909),z=d(875),N=d(5579),w=function(L,F){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,c){M.__proto__=c}||function(M,c){for(var x in c)c.hasOwnProperty(x)&&(M[x]=c[x])},w(L,F)};function U(L,F){function M(){this.constructor=L}w(L,F),L.prototype=F===null?Object.create(F):(M.prototype=F.prototype,new M)}var Y=function(){function L(F,M){this.uvBuffer=F,this.uvMatrix=M,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return L.prototype.update=function(F){if(F||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var M=this.uvBuffer.data;this.data&&this.data.length===M.length||(this.data=new Float32Array(M.length)),this.uvMatrix.multiplyUvs(M,this.data),this._updateID++}},L}(),E=new h.E9,v=new h.mg,n=function(L){function F(M,c,x,X){X===void 0&&(X=P.lg.TRIANGLES);var D=L.call(this)||this;return D.geometry=M,D.shader=c,D.state=x||k.ZM.for2d(),D.drawMode=X,D.start=0,D.size=0,D.uvs=null,D.indices=null,D.vertexData=new Float32Array(1),D.vertexDirty=-1,D._transformID=-1,D._roundPixels=z.X.ROUND_PIXELS,D.batchUvs=null,D}return U(F,L),Object.defineProperty(F.prototype,"geometry",{get:function(){return this._geometry},set:function(M){this._geometry!==M&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=M,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"material",{get:function(){return this.shader},set:function(M){this.shader=M},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(M){this.state.blendMode=M},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(M){this._roundPixels!==M&&(this._transformID=-1),this._roundPixels=M},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(M){this.shader.tint=M},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(M){this.shader.texture=M},enumerable:!1,configurable:!0}),F.prototype._render=function(M){var c=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===P.lg.TRIANGLES&&c.length<2*F.BATCHABLE_SIZE?this._renderToBatch(M):this._renderDefault(M)},F.prototype._renderDefault=function(M){var c=this.shader;c.alpha=this.worldAlpha,c.update&&c.update(),M.batch.flush(),c.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),M.shader.bind(c),M.state.set(this.state),M.geometry.bind(this.geometry,c),M.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},F.prototype._renderToBatch=function(M){var c=this.geometry,x=this.shader;x.uvMatrix&&(x.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=c.indexBuffer.data,this._tintRGB=x._tintRGB,this._texture=x.texture;var X=this.material.pluginName;M.batch.setObjectRenderer(M.plugins[X]),M.plugins[X].render(this)},F.prototype.calculateVertices=function(){var M=this.geometry.buffers[0],c=M.data,x=M._updateID;if(x!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==c.length&&(this.vertexData=new Float32Array(c.length));for(var X=this.transform.worldTransform,D=X.a,G=X.b,C=X.c,T=X.d,J=X.tx,q=X.ty,K=this.vertexData,A=0;A<K.length/2;A++){var b=c[2*A],R=c[2*A+1];K[2*A]=D*b+C*R+J,K[2*A+1]=G*b+T*R+q}if(this._roundPixels){var O=z.X.RESOLUTION;for(A=0;A<K.length;++A)K[A]=Math.round((K[A]*O|0)/O)}this.vertexDirty=x}},F.prototype.calculateUvs=function(){var M=this.geometry.buffers[1],c=this.shader;c.uvMatrix.isSimple?this.uvs=M.data:(this.batchUvs||(this.batchUvs=new Y(M,c.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},F.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},F.prototype.containsPoint=function(M){if(!this.getBounds().contains(M.x,M.y))return!1;this.worldTransform.applyInverse(M,E);for(var c=this.geometry.getBuffer("aVertexPosition").data,x=v.points,X=this.geometry.getIndex().data,D=X.length,G=this.drawMode===4?3:1,C=0;C+2<D;C+=G){var T=2*X[C],J=2*X[C+1],q=2*X[C+2];if(x[0]=c[T],x[1]=c[T+1],x[2]=c[J],x[3]=c[J+1],x[4]=c[q],x[5]=c[q+1],v.contains(E.x,E.y))return!0}return!1},F.prototype.destroy=function(M){L.prototype.destroy.call(this,M),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},F.BATCHABLE_SIZE=100,F}(j.W2),a=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,u=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,p=function(L){function F(M,c){var x=this,X={uSampler:M,alpha:1,uTextureMatrix:h.y3.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(c=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},c)).uniforms&&Object.assign(X,c.uniforms),(x=L.call(this,c.program||k.$r.from(u,a),X)||this)._colorDirty=!1,x.uvMatrix=new k.UX(M),x.batchable=c.program===void 0,x.pluginName=c.pluginName,x.tint=c.tint,x.alpha=c.alpha,x}return U(F,L),Object.defineProperty(F.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(M){this.uniforms.uSampler!==M&&(this.uniforms.uSampler=M,this.uvMatrix.texture=M)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"alpha",{get:function(){return this._alpha},set:function(M){M!==this._alpha&&(this._alpha=M,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"tint",{get:function(){return this._tint},set:function(M){M!==this._tint&&(this._tint=M,this._tintRGB=(M>>16)+(65280&M)+((255&M)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),F.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var M=this.texture.baseTexture;(0,N.premultiplyTintToRgba)(this._tint,this._alpha,this.uniforms.uColor,M.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},F}(k.ex),I=function(L){function F(M,c,x){var X=L.call(this)||this,D=new k.lW(M),G=new k.lW(c,!0),C=new k.lW(x,!0,!0);return X.addAttribute("aVertexPosition",D,2,!1,P.vK.FLOAT).addAttribute("aTextureCoord",G,2,!1,P.vK.FLOAT).addIndex(C),X._updateId=-1,X}return U(F,L),Object.defineProperty(F.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),F}(k.ZX)},3685:(Ae,le,d)=>{d.d(le,{P:()=>n,T:()=>U});var k=d(3736),h=d(7909),P=d(5579),j=d(9839),z=d(7442),N=function(a,u){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,I){p.__proto__=I}||function(p,I){for(var L in I)I.hasOwnProperty(L)&&(p[L]=I[L])},N(a,u)};function w(a,u){function p(){this.constructor=a}N(a,u),a.prototype=u===null?Object.create(u):(p.prototype=u.prototype,new p)}var U=function(a){function u(p,I,L,F){p===void 0&&(p=1500),L===void 0&&(L=16384),F===void 0&&(F=!1);var M=a.call(this)||this,c=16384;return L>c&&(L=c),M._properties=[!1,!0,!1,!1,!1],M._maxSize=p,M._batchSize=L,M._buffers=null,M._bufferUpdateIDs=[],M._updateID=0,M.interactiveChildren=!1,M.blendMode=k.T$.NORMAL,M.autoResize=F,M.roundPixels=!0,M.baseTexture=null,M.setProperties(I),M._tint=0,M.tintRgb=new Float32Array(4),M.tint=16777215,M}return w(u,a),u.prototype.setProperties=function(p){p&&(this._properties[0]="vertices"in p||"scale"in p?!!p.vertices||!!p.scale:this._properties[0],this._properties[1]="position"in p?!!p.position:this._properties[1],this._properties[2]="rotation"in p?!!p.rotation:this._properties[2],this._properties[3]="uvs"in p?!!p.uvs:this._properties[3],this._properties[4]="tint"in p||"alpha"in p?!!p.tint||!!p.alpha:this._properties[4])},u.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(u.prototype,"tint",{get:function(){return this._tint},set:function(p){this._tint=p,(0,P.hex2rgb)(p,this.tintRgb)},enumerable:!1,configurable:!0}),u.prototype.render=function(p){var I=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return I.onChildrenChange(0)})),p.batch.setObjectRenderer(p.plugins.particle),p.plugins.particle.render(this))},u.prototype.onChildrenChange=function(p){for(var I=Math.floor(p/this._batchSize);this._bufferUpdateIDs.length<I;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[I]=++this._updateID},u.prototype.dispose=function(){if(this._buffers){for(var p=0;p<this._buffers.length;++p)this._buffers[p].destroy();this._buffers=null}},u.prototype.destroy=function(p){a.prototype.destroy.call(this,p),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},u}(h.W2),Y=function(){function a(u,p,I){this.geometry=new j.ZX,this.indexBuffer=null,this.size=I,this.dynamicProperties=[],this.staticProperties=[];for(var L=0;L<u.length;++L){var F=u[L];F={attributeName:F.attributeName,size:F.size,uploadFunction:F.uploadFunction,type:F.type||k.vK.FLOAT,offset:F.offset},p[L]?this.dynamicProperties.push(F):this.staticProperties.push(F)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return a.prototype.initBuffers=function(){var u=this.geometry,p=0;this.indexBuffer=new j.lW((0,P.createIndicesForQuads)(this.size),!0,!0),u.addIndex(this.indexBuffer),this.dynamicStride=0;for(var I=0;I<this.dynamicProperties.length;++I)(c=this.dynamicProperties[I]).offset=p,p+=c.size,this.dynamicStride+=c.size;var L=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(L),this.dynamicDataUint32=new Uint32Array(L),this.dynamicBuffer=new j.lW(this.dynamicData,!1,!1);var F=0;for(this.staticStride=0,I=0;I<this.staticProperties.length;++I)(c=this.staticProperties[I]).offset=F,F+=c.size,this.staticStride+=c.size;var M=new ArrayBuffer(this.size*this.staticStride*4*4);for(this.staticData=new Float32Array(M),this.staticDataUint32=new Uint32Array(M),this.staticBuffer=new j.lW(this.staticData,!0,!1),I=0;I<this.dynamicProperties.length;++I){var c=this.dynamicProperties[I];u.addAttribute(c.attributeName,this.dynamicBuffer,0,c.type===k.vK.UNSIGNED_BYTE,c.type,4*this.dynamicStride,4*c.offset)}for(I=0;I<this.staticProperties.length;++I)c=this.staticProperties[I],u.addAttribute(c.attributeName,this.staticBuffer,0,c.type===k.vK.UNSIGNED_BYTE,c.type,4*this.staticStride,4*c.offset)},a.prototype.uploadDynamic=function(u,p,I){for(var L=0;L<this.dynamicProperties.length;L++){var F=this.dynamicProperties[L];F.uploadFunction(u,p,I,F.type===k.vK.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,F.offset)}this.dynamicBuffer._updateID++},a.prototype.uploadStatic=function(u,p,I){for(var L=0;L<this.staticProperties.length;L++){var F=this.staticProperties[L];F.uploadFunction(u,p,I,F.type===k.vK.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,F.offset)}this.staticBuffer._updateID++},a.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},a}(),E=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,v=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,n=function(a){function u(p){var I=a.call(this,p)||this;return I.shader=null,I.properties=null,I.tempMatrix=new z.y3,I.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:I.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:I.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:I.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:I.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:k.vK.UNSIGNED_BYTE,uploadFunction:I.uploadTint,offset:0}],I.shader=j.ex.from(v,E,{}),I.state=j.ZM.for2d(),I}return w(u,a),u.prototype.render=function(p){var I=p.children,L=p._maxSize,F=p._batchSize,M=this.renderer,c=I.length;if(c!==0){c>L&&!p.autoResize&&(c=L);var x=p._buffers;x||(x=p._buffers=this.generateBuffers(p));var X=I[0]._texture.baseTexture;this.state.blendMode=(0,P.correctBlendMode)(p.blendMode,X.alphaMode),M.state.set(this.state);var D=M.gl,G=p.worldTransform.copyTo(this.tempMatrix);G.prepend(M.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=G.toArray(!0),this.shader.uniforms.uColor=(0,P.premultiplyRgba)(p.tintRgb,p.worldAlpha,this.shader.uniforms.uColor,X.alphaMode),this.shader.uniforms.uSampler=X,this.renderer.shader.bind(this.shader);for(var C=!1,T=0,J=0;T<c;T+=F,J+=1){var q=c-T;q>F&&(q=F),J>=x.length&&x.push(this._generateOneMoreBuffer(p));var K=x[J];K.uploadDynamic(I,T,q);var A=p._bufferUpdateIDs[J]||0;(C=C||K._updateID<A)&&(K._updateID=p._updateID,K.uploadStatic(I,T,q)),M.geometry.bind(K.geometry),D.drawElements(D.TRIANGLES,6*q,D.UNSIGNED_SHORT,0)}}},u.prototype.generateBuffers=function(p){for(var I=[],L=p._maxSize,F=p._batchSize,M=p._properties,c=0;c<L;c+=F)I.push(new Y(this.properties,M,F));return I},u.prototype._generateOneMoreBuffer=function(p){var I=p._batchSize,L=p._properties;return new Y(this.properties,L,I)},u.prototype.uploadVertices=function(p,I,L,F,M,c){for(var x=0,X=0,D=0,G=0,C=0;C<L;++C){var T=p[I+C],J=T._texture,q=T.scale.x,K=T.scale.y,A=J.trim,b=J.orig;A?(x=(X=A.x-T.anchor.x*b.width)+A.width,D=(G=A.y-T.anchor.y*b.height)+A.height):(x=b.width*(1-T.anchor.x),X=b.width*-T.anchor.x,D=b.height*(1-T.anchor.y),G=b.height*-T.anchor.y),F[c]=X*q,F[c+1]=G*K,F[c+M]=x*q,F[c+M+1]=G*K,F[c+2*M]=x*q,F[c+2*M+1]=D*K,F[c+3*M]=X*q,F[c+3*M+1]=D*K,c+=4*M}},u.prototype.uploadPosition=function(p,I,L,F,M,c){for(var x=0;x<L;x++){var X=p[I+x].position;F[c]=X.x,F[c+1]=X.y,F[c+M]=X.x,F[c+M+1]=X.y,F[c+2*M]=X.x,F[c+2*M+1]=X.y,F[c+3*M]=X.x,F[c+3*M+1]=X.y,c+=4*M}},u.prototype.uploadRotation=function(p,I,L,F,M,c){for(var x=0;x<L;x++){var X=p[I+x].rotation;F[c]=X,F[c+M]=X,F[c+2*M]=X,F[c+3*M]=X,c+=4*M}},u.prototype.uploadUvs=function(p,I,L,F,M,c){for(var x=0;x<L;++x){var X=p[I+x]._texture._uvs;X?(F[c]=X.x0,F[c+1]=X.y0,F[c+M]=X.x1,F[c+M+1]=X.y1,F[c+2*M]=X.x2,F[c+2*M+1]=X.y2,F[c+3*M]=X.x3,F[c+3*M+1]=X.y3,c+=4*M):(F[c]=0,F[c+1]=0,F[c+M]=0,F[c+M+1]=0,F[c+2*M]=0,F[c+2*M+1]=0,F[c+3*M]=0,F[c+3*M+1]=0,c+=4*M)}},u.prototype.uploadTint=function(p,I,L,F,M,c){for(var x=0;x<L;++x){var X=p[I+x],D=X._texture.baseTexture.alphaMode>0,G=X.alpha,C=G<1&&D?(0,P.premultiplyTint)(X._tintRGB,G):X._tintRGB+(255*G<<24);F[c]=C,F[c+M]=C,F[c+2*M]=C,F[c+3*M]=C,c+=4*M}},u.prototype.destroy=function(){a.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},u}(j.bO)},1024:(Ae,le,d)=>{d.d(le,{B9:()=>x,FI:()=>X,Zq:()=>L,fh:()=>Y});var k=d(875),h=d(9839),P=d(8838),j=d(1298),z=d(7909),N=d(2865);k.X.UPLOADS_PER_FRAME=4;var w=function(D,G){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,T){C.__proto__=T}||function(C,T){for(var J in T)T.hasOwnProperty(J)&&(C[J]=T[J])},w(D,G)};function U(D,G){function C(){this.constructor=D}w(D,G),D.prototype=G===null?Object.create(G):(C.prototype=G.prototype,new C)}var Y=function(){function D(G){this.maxItemsPerFrame=G,this.itemsLeft=0}return D.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},D.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},D}();function E(D,G){var C=!1;if(D&&D._textures&&D._textures.length){for(var T=0;T<D._textures.length;T++)if(D._textures[T]instanceof h.xE){var J=D._textures[T].baseTexture;G.indexOf(J)===-1&&(G.push(J),C=!0)}}return C}function v(D,G){if(D.baseTexture instanceof h.VL){var C=D.baseTexture;return G.indexOf(C)===-1&&G.push(C),!0}return!1}function n(D,G){if(D._texture&&D._texture instanceof h.xE){var C=D._texture.baseTexture;return G.indexOf(C)===-1&&G.push(C),!0}return!1}function a(D,G){return G instanceof N.xv&&(G.updateText(!0),!0)}function u(D,G){if(G instanceof N.pn){var C=G.toFontString();return N._A.measureFont(C),!0}return!1}function p(D,G){if(D instanceof N.xv){G.indexOf(D.style)===-1&&G.push(D.style),G.indexOf(D)===-1&&G.push(D);var C=D._texture.baseTexture;return G.indexOf(C)===-1&&G.push(C),!0}return!1}function I(D,G){return D instanceof N.pn&&(G.indexOf(D)===-1&&G.push(D),!0)}var L=function(){function D(G){var C=this;this.limiter=new Y(k.X.UPLOADS_PER_FRAME),this.renderer=G,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){C.queue&&C.prepareItems()},this.registerFindHook(p),this.registerFindHook(I),this.registerFindHook(E),this.registerFindHook(v),this.registerFindHook(n),this.registerUploadHook(a),this.registerUploadHook(u)}return D.prototype.upload=function(G,C){typeof G=="function"&&(C=G,G=null),G&&this.add(G),this.queue.length?(C&&this.completes.push(C),this.ticking||(this.ticking=!0,j.vB.system.addOnce(this.tick,this,j.uF.UTILITY))):C&&C()},D.prototype.tick=function(){setTimeout(this.delayedTick,0)},D.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var G=this.queue[0],C=!1;if(G&&!G._destroyed){for(var T=0,J=this.uploadHooks.length;T<J;T++)if(this.uploadHooks[T](this.uploadHookHelper,G)){this.queue.shift(),C=!0;break}}C||this.queue.shift()}if(this.queue.length)j.vB.system.addOnce(this.tick,this,j.uF.UTILITY);else{this.ticking=!1;var q=this.completes.slice(0);for(this.completes.length=0,T=0,J=q.length;T<J;T++)q[T]()}},D.prototype.registerFindHook=function(G){return G&&this.addHooks.push(G),this},D.prototype.registerUploadHook=function(G){return G&&this.uploadHooks.push(G),this},D.prototype.add=function(G){for(var C=0,T=this.addHooks.length;C<T&&!this.addHooks[C](G,this.queue);C++);if(G instanceof z.W2)for(C=G.children.length-1;C>=0;C--)this.add(G.children[C]);return this},D.prototype.destroy=function(){this.ticking&&j.vB.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},D}();function F(D,G){return G instanceof h.VL&&(G._glTextures[D.CONTEXT_UID]||D.texture.bind(G),!0)}function M(D,G){if(!(G instanceof P.TC))return!1;var C=G.geometry;G.finishPoly(),C.updateBatches();for(var T=C.batches,J=0;J<T.length;J++){var q=T[J].style.texture;q&&F(D,q.baseTexture)}return C.batchable||D.geometry.bind(C,G._resolveDirectShader(D)),!0}function c(D,G){return D instanceof P.TC&&(G.push(D),!0)}var x=function(D){function G(C){var T=D.call(this,C)||this;return T.uploadHookHelper=T.renderer,T.registerFindHook(c),T.registerUploadHook(F),T.registerUploadHook(M),T}return U(G,D),G}(L),X=function(){function D(G){this.maxMilliseconds=G,this.frameStart=0}return D.prototype.beginFrame=function(){this.frameStart=Date.now()},D.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},D}()},7584:(Ae,le,d)=>{d.d(le,{R:()=>k});var k=function(){function h(P){this.items=[],this._name=P,this._aliasCount=0}return h.prototype.emit=function(P,j,z,N,w,U,Y,E){if(arguments.length>8)throw new Error("max arguments reached");var v=this,n=v.name,a=v.items;this._aliasCount++;for(var u=0,p=a.length;u<p;u++)a[u][n](P,j,z,N,w,U,Y,E);return a===this.items&&this._aliasCount--,this},h.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},h.prototype.add=function(P){return P[this._name]&&(this.ensureNonAliasedItems(),this.remove(P),this.items.push(P)),this},h.prototype.remove=function(P){var j=this.items.indexOf(P);return j!==-1&&(this.ensureNonAliasedItems(),this.items.splice(j,1)),this},h.prototype.contains=function(P){return this.items.indexOf(P)!==-1},h.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},h.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(h.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),h}();Object.defineProperties(k.prototype,{dispatch:{value:k.prototype.emit},run:{value:k.prototype.emit}})},875:(Ae,le,d)=>{d.d(le,{t:()=>be,X:()=>ue});var k=/iPhone/i,h=/iPod/i,P=/iPad/i,j=/\biOS-universal(?:.+)Mac\b/i,z=/\bAndroid(?:.+)Mobile\b/i,N=/Android/i,w=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,U=/Silk/i,Y=/Windows Phone/i,E=/\bWindows(?:.+)ARM\b/i,v=/BlackBerry/i,n=/BB10/i,a=/Opera Mini/i,u=/\b(CriOS|Chrome)(?:.+)Mobile/i,p=/Mobile(?:.+)Firefox\b/i,I=function(y){return y!==void 0&&y.platform==="MacIntel"&&typeof y.maxTouchPoints=="number"&&y.maxTouchPoints>1&&typeof MSStream>"u"};function L(y){return function(B){return B.test(y)}}function F(y){var B={userAgent:"",platform:"",maxTouchPoints:0};y||typeof navigator>"u"?typeof y=="string"?B.userAgent=y:y&&y.userAgent&&(B={userAgent:y.userAgent,platform:y.platform,maxTouchPoints:y.maxTouchPoints||0}):B={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var V=B.userAgent,te=V.split("[FBAN");te[1]!==void 0&&(V=te[0]),(te=V.split("Twitter"))[1]!==void 0&&(V=te[0]);var re=L(V),ae={apple:{phone:re(k)&&!re(Y),ipod:re(h),tablet:!re(k)&&(re(P)||I(B))&&!re(Y),universal:re(j),device:(re(k)||re(h)||re(P)||re(j)||I(B))&&!re(Y)},amazon:{phone:re(w),tablet:!re(w)&&re(U),device:re(w)||re(U)},android:{phone:!re(Y)&&re(w)||!re(Y)&&re(z),tablet:!re(Y)&&!re(w)&&!re(z)&&(re(U)||re(N)),device:!re(Y)&&(re(w)||re(U)||re(z)||re(N))||re(/\bokhttp\b/i)},windows:{phone:re(Y),tablet:re(E),device:re(Y)||re(E)},other:{blackberry:re(v),blackberry10:re(n),opera:re(a),firefox:re(p),chrome:re(u),device:re(v)||re(n)||re(a)||re(p)||re(u)},any:!1,phone:!1,tablet:!1};return ae.any=ae.apple.device||ae.android.device||ae.windows.device||ae.other.device,ae.phone=ae.apple.phone||ae.android.phone||ae.windows.phone,ae.tablet=ae.apple.tablet||ae.android.tablet||ae.windows.tablet,ae}var M,c,x,X,D,G,C,T,J,q,K,A,b,R,O,W,Q,ee,ne,be=F(globalThis.navigator);function Ie(y){var B=!0;if(be.tablet||be.phone){var V;be.apple.device&&(V=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(V[1],10)<11&&(B=!1),be.android.device&&(V=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(V[1],10)<7&&(B=!1)}return B?y:4}function Oe(){return!be.apple.device}(function(y){y[y.WEBGL_LEGACY=0]="WEBGL_LEGACY",y[y.WEBGL=1]="WEBGL",y[y.WEBGL2=2]="WEBGL2"})(M||(M={})),function(y){y[y.UNKNOWN=0]="UNKNOWN",y[y.WEBGL=1]="WEBGL",y[y.CANVAS=2]="CANVAS"}(c||(c={})),function(y){y[y.COLOR=16384]="COLOR",y[y.DEPTH=256]="DEPTH",y[y.STENCIL=1024]="STENCIL"}(x||(x={})),function(y){y[y.NORMAL=0]="NORMAL",y[y.ADD=1]="ADD",y[y.MULTIPLY=2]="MULTIPLY",y[y.SCREEN=3]="SCREEN",y[y.OVERLAY=4]="OVERLAY",y[y.DARKEN=5]="DARKEN",y[y.LIGHTEN=6]="LIGHTEN",y[y.COLOR_DODGE=7]="COLOR_DODGE",y[y.COLOR_BURN=8]="COLOR_BURN",y[y.HARD_LIGHT=9]="HARD_LIGHT",y[y.SOFT_LIGHT=10]="SOFT_LIGHT",y[y.DIFFERENCE=11]="DIFFERENCE",y[y.EXCLUSION=12]="EXCLUSION",y[y.HUE=13]="HUE",y[y.SATURATION=14]="SATURATION",y[y.COLOR=15]="COLOR",y[y.LUMINOSITY=16]="LUMINOSITY",y[y.NORMAL_NPM=17]="NORMAL_NPM",y[y.ADD_NPM=18]="ADD_NPM",y[y.SCREEN_NPM=19]="SCREEN_NPM",y[y.NONE=20]="NONE",y[y.SRC_OVER=0]="SRC_OVER",y[y.SRC_IN=21]="SRC_IN",y[y.SRC_OUT=22]="SRC_OUT",y[y.SRC_ATOP=23]="SRC_ATOP",y[y.DST_OVER=24]="DST_OVER",y[y.DST_IN=25]="DST_IN",y[y.DST_OUT=26]="DST_OUT",y[y.DST_ATOP=27]="DST_ATOP",y[y.ERASE=26]="ERASE",y[y.SUBTRACT=28]="SUBTRACT",y[y.XOR=29]="XOR"}(X||(X={})),function(y){y[y.POINTS=0]="POINTS",y[y.LINES=1]="LINES",y[y.LINE_LOOP=2]="LINE_LOOP",y[y.LINE_STRIP=3]="LINE_STRIP",y[y.TRIANGLES=4]="TRIANGLES",y[y.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",y[y.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(D||(D={})),function(y){y[y.RGBA=6408]="RGBA",y[y.RGB=6407]="RGB",y[y.RG=33319]="RG",y[y.RED=6403]="RED",y[y.RGBA_INTEGER=36249]="RGBA_INTEGER",y[y.RGB_INTEGER=36248]="RGB_INTEGER",y[y.RG_INTEGER=33320]="RG_INTEGER",y[y.RED_INTEGER=36244]="RED_INTEGER",y[y.ALPHA=6406]="ALPHA",y[y.LUMINANCE=6409]="LUMINANCE",y[y.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",y[y.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",y[y.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(G||(G={})),function(y){y[y.TEXTURE_2D=3553]="TEXTURE_2D",y[y.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",y[y.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",y[y.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",y[y.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",y[y.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",y[y.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",y[y.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",y[y.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(C||(C={})),function(y){y[y.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",y[y.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",y[y.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",y[y.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",y[y.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",y[y.UNSIGNED_INT=5125]="UNSIGNED_INT",y[y.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",y[y.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",y[y.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",y[y.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",y[y.BYTE=5120]="BYTE",y[y.SHORT=5122]="SHORT",y[y.INT=5124]="INT",y[y.FLOAT=5126]="FLOAT",y[y.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",y[y.HALF_FLOAT=36193]="HALF_FLOAT"}(T||(T={})),function(y){y[y.FLOAT=0]="FLOAT",y[y.INT=1]="INT",y[y.UINT=2]="UINT"}(J||(J={})),function(y){y[y.NEAREST=0]="NEAREST",y[y.LINEAR=1]="LINEAR"}(q||(q={})),function(y){y[y.CLAMP=33071]="CLAMP",y[y.REPEAT=10497]="REPEAT",y[y.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(K||(K={})),function(y){y[y.OFF=0]="OFF",y[y.POW2=1]="POW2",y[y.ON=2]="ON",y[y.ON_MANUAL=3]="ON_MANUAL"}(A||(A={})),function(y){y[y.NPM=0]="NPM",y[y.UNPACK=1]="UNPACK",y[y.PMA=2]="PMA",y[y.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",y[y.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",y[y.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",y[y.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(b||(b={})),function(y){y[y.NO=0]="NO",y[y.YES=1]="YES",y[y.AUTO=2]="AUTO",y[y.BLEND=0]="BLEND",y[y.CLEAR=1]="CLEAR",y[y.BLIT=2]="BLIT"}(R||(R={})),function(y){y[y.AUTO=0]="AUTO",y[y.MANUAL=1]="MANUAL"}(O||(O={})),function(y){y.LOW="lowp",y.MEDIUM="mediump",y.HIGH="highp"}(W||(W={})),function(y){y[y.NONE=0]="NONE",y[y.SCISSOR=1]="SCISSOR",y[y.STENCIL=2]="STENCIL",y[y.SPRITE=3]="SPRITE"}(Q||(Q={})),function(y){y[y.NONE=0]="NONE",y[y.LOW=2]="LOW",y[y.MEDIUM=4]="MEDIUM",y[y.HIGH=8]="HIGH"}(ee||(ee={})),function(y){y[y.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",y[y.ARRAY_BUFFER=34962]="ARRAY_BUFFER",y[y.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(ne||(ne={}));var ue={MIPMAP_TEXTURES:A.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:ee.NONE,SPRITE_MAX_TEXTURES:Ie(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:O.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:K.CLAMP,SCALE_MODE:q.LINEAR,PRECISION_VERTEX:W.HIGH,PRECISION_FRAGMENT:be.apple.device?W.HIGH:W.MEDIUM,CAN_UPLOAD_SAME_BUFFER:Oe(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1}},9073:(Ae,le,d)=>{d.d(le,{S:()=>I,o:()=>Y});var k=d(9839),h=d(7442),P=d(5510),j=d(3736),z=d(5579),N=function(L,F){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,c){M.__proto__=c}||function(M,c){for(var x in c)c.hasOwnProperty(x)&&(M[x]=c[x])},N(L,F)};function w(L,F){function M(){this.constructor=L}N(L,F),L.prototype=F===null?Object.create(F):(M.prototype=F.prototype,new M)}var U=new h.E9,Y=function(L){function F(M,c,x){c===void 0&&(c=100),x===void 0&&(x=100);var X=L.call(this,M)||this;return X.tileTransform=new h.wx,X._width=c,X._height=x,X.uvMatrix=X.texture.uvMatrix||new k.UX(M),X.pluginName="tilingSprite",X.uvRespectAnchor=!1,X}return w(F,L),Object.defineProperty(F.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(M){this.uvMatrix.clampMargin=M,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(M){this.tileTransform.scale.copyFrom(M)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(M){this.tileTransform.position.copyFrom(M)},enumerable:!1,configurable:!0}),F.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},F.prototype._render=function(M){var c=this._texture;c&&c.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),M.batch.setObjectRenderer(M.plugins[this.pluginName]),M.plugins[this.pluginName].render(this))},F.prototype._calculateBounds=function(){var M=this._width*-this._anchor._x,c=this._height*-this._anchor._y,x=this._width*(1-this._anchor._x),X=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,M,c,x,X)},F.prototype.getLocalBounds=function(M){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),M||(this._localBoundsRect||(this._localBoundsRect=new h.Ae),M=this._localBoundsRect),this._bounds.getRectangle(M)):L.prototype.getLocalBounds.call(this,M)},F.prototype.containsPoint=function(M){this.worldTransform.applyInverse(M,U);var c=this._width,x=this._height,X=-c*this.anchor._x;if(U.x>=X&&U.x<X+c){var D=-x*this.anchor._y;if(U.y>=D&&U.y<D+x)return!0}return!1},F.prototype.destroy=function(M){L.prototype.destroy.call(this,M),this.tileTransform=null,this.uvMatrix=null},F.from=function(M,c){return new F(M instanceof k.xE?M:k.xE.from(M,c),c.width,c.height)},Object.defineProperty(F.prototype,"width",{get:function(){return this._width},set:function(M){this._width=M},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"height",{get:function(){return this._height},set:function(M){this._height=M},enumerable:!1,configurable:!0}),F}(P.j),E=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,v=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,n=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,a=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,u=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,p=new h.y3,I=function(L){function F(M){var c=L.call(this,M)||this;return M.runners.contextChange.add(c),c.quad=new k.ud,c.state=k.ZM.for2d(),c}return w(F,L),F.prototype.contextChange=function(){var M=this.renderer,c={globals:M.globalUniforms};this.simpleShader=k.ex.from(v,E,c),this.shader=M.context.webGLVersion>1?k.ex.from(a,u,c):k.ex.from(v,n,c)},F.prototype.render=function(M){var c=this.renderer,x=this.quad,X=x.vertices;X[0]=X[6]=M._width*-M.anchor.x,X[1]=X[3]=M._height*-M.anchor.y,X[2]=X[4]=M._width*(1-M.anchor.x),X[5]=X[7]=M._height*(1-M.anchor.y);var D=M.uvRespectAnchor?M.anchor.x:0,G=M.uvRespectAnchor?M.anchor.y:0;(X=x.uvs)[0]=X[6]=-D,X[1]=X[3]=-G,X[2]=X[4]=1-D,X[5]=X[7]=1-G,x.invalidate();var C=M._texture,T=C.baseTexture,J=M.tileTransform.localTransform,q=M.uvMatrix,K=T.isPowerOfTwo&&C.frame.width===T.width&&C.frame.height===T.height;K&&(T._glTextures[c.CONTEXT_UID]?K=T.wrapMode!==j.Nt.CLAMP:T.wrapMode===j.Nt.CLAMP&&(T.wrapMode=j.Nt.REPEAT));var A=K?this.simpleShader:this.shader,b=C.width,R=C.height,O=M._width,W=M._height;p.set(J.a*b/O,J.b*b/W,J.c*R/O,J.d*R/W,J.tx/O,J.ty/W),p.invert(),K?p.prepend(q.mapCoord):(A.uniforms.uMapCoord=q.mapCoord.toArray(!0),A.uniforms.uClampFrame=q.uClampFrame,A.uniforms.uClampOffset=q.uClampOffset),A.uniforms.uTransform=p.toArray(!0),A.uniforms.uColor=(0,z.premultiplyTintToRgba)(M.tint,M.worldAlpha,A.uniforms.uColor,T.alphaMode),A.uniforms.translationMatrix=M.transform.worldTransform.toArray(!0),A.uniforms.uSampler=C,c.shader.bind(A),c.geometry.bind(x),this.state.blendMode=(0,z.correctBlendMode)(M.blendMode,T.alphaMode),c.state.set(this.state),c.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},F}(k.bO)},5510:(Ae,le,d)=>{d.d(le,{j:()=>v});var k=d(3736),h=d(9839),P=d(7909),j=d(7442),z=d(875),N=d(5579),w=function(n,a){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var I in p)p.hasOwnProperty(I)&&(u[I]=p[I])},w(n,a)};function U(n,a){function u(){this.constructor=n}w(n,a),n.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}var Y=new j.E9,E=new Uint16Array([0,1,2,0,2,3]),v=function(n){function a(u){var p=n.call(this)||this;return p._anchor=new j.AB(p._onAnchorUpdate,p,u?u.defaultAnchor.x:0,u?u.defaultAnchor.y:0),p._texture=null,p._width=0,p._height=0,p._tint=null,p._tintRGB=null,p.tint=16777215,p.blendMode=k.T$.NORMAL,p._cachedTint=16777215,p.uvs=null,p.texture=u||h.xE.EMPTY,p.vertexData=new Float32Array(8),p.vertexTrimmedData=null,p._transformID=-1,p._textureID=-1,p._transformTrimmedID=-1,p._textureTrimmedID=-1,p.indices=E,p.pluginName="batch",p.isSprite=!0,p._roundPixels=z.X.ROUND_PIXELS,p}return U(a,n),a.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=(0,N.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,N.sign)(this.scale.y)*this._height/this._texture.orig.height)},a.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},a.prototype.calculateVertices=function(){var u=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==u._updateID){this._textureID!==u._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=u._updateID;var p=this.transform.worldTransform,I=p.a,L=p.b,F=p.c,M=p.d,c=p.tx,x=p.ty,X=this.vertexData,D=u.trim,G=u.orig,C=this._anchor,T=0,J=0,q=0,K=0;if(D?(T=(J=D.x-C._x*G.width)+D.width,q=(K=D.y-C._y*G.height)+D.height):(T=(J=-C._x*G.width)+G.width,q=(K=-C._y*G.height)+G.height),X[0]=I*J+F*K+c,X[1]=M*K+L*J+x,X[2]=I*T+F*K+c,X[3]=M*K+L*T+x,X[4]=I*T+F*q+c,X[5]=M*q+L*T+x,X[6]=I*J+F*q+c,X[7]=M*q+L*J+x,this._roundPixels)for(var A=z.X.RESOLUTION,b=0;b<X.length;++b)X[b]=Math.round((X[b]*A|0)/A)}},a.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var u=this._texture,p=this.vertexTrimmedData,I=u.orig,L=this._anchor,F=this.transform.worldTransform,M=F.a,c=F.b,x=F.c,X=F.d,D=F.tx,G=F.ty,C=-L._x*I.width,T=C+I.width,J=-L._y*I.height,q=J+I.height;p[0]=M*C+x*J+D,p[1]=X*J+c*C+G,p[2]=M*T+x*J+D,p[3]=X*J+c*T+G,p[4]=M*T+x*q+D,p[5]=X*q+c*T+G,p[6]=M*C+x*q+D,p[7]=X*q+c*C+G},a.prototype._render=function(u){this.calculateVertices(),u.batch.setObjectRenderer(u.plugins[this.pluginName]),u.plugins[this.pluginName].render(this)},a.prototype._calculateBounds=function(){var u=this._texture.trim,p=this._texture.orig;!u||u.width===p.width&&u.height===p.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},a.prototype.getLocalBounds=function(u){return this.children.length===0?(this._localBounds||(this._localBounds=new P.YZ),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),u||(this._localBoundsRect||(this._localBoundsRect=new j.Ae),u=this._localBoundsRect),this._localBounds.getRectangle(u)):n.prototype.getLocalBounds.call(this,u)},a.prototype.containsPoint=function(u){this.worldTransform.applyInverse(u,Y);var p=this._texture.orig.width,I=this._texture.orig.height,L=-p*this.anchor.x,F=0;return Y.x>=L&&Y.x<L+p&&(F=-I*this.anchor.y,Y.y>=F&&Y.y<F+I)},a.prototype.destroy=function(u){if(n.prototype.destroy.call(this,u),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof u=="boolean"?u:u&&u.texture){var p=typeof u=="boolean"?u:u&&u.baseTexture;this._texture.destroy(!!p)}this._texture=null},a.from=function(u,p){return new a(u instanceof h.xE?u:h.xE.from(u,p))},Object.defineProperty(a.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(u){this._roundPixels!==u&&(this._transformID=-1),this._roundPixels=u},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(u){var p=(0,N.sign)(this.scale.x)||1;this.scale.x=p*u/this._texture.orig.width,this._width=u},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(u){var p=(0,N.sign)(this.scale.y)||1;this.scale.y=p*u/this._texture.orig.height,this._height=u},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"anchor",{get:function(){return this._anchor},set:function(u){this._anchor.copyFrom(u)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"tint",{get:function(){return this._tint},set:function(u){this._tint=u,this._tintRGB=(u>>16)+(65280&u)+((255&u)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"texture",{get:function(){return this._texture},set:function(u){this._texture!==u&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=u||h.xE.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,u&&(u.baseTexture.valid?this._onTextureUpdate():u.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),a}(P.W2)},2865:(Ae,le,d)=>{d.d(le,{M_:()=>k,_A:()=>I,pn:()=>v,xv:()=>M});var k,h=d(5510),P=d(9839),j=d(875),z=d(7442),N=d(5579),w=function(c,x){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,D){X.__proto__=D}||function(X,D){for(var G in D)D.hasOwnProperty(G)&&(X[G]=D[G])},w(c,x)};function U(c,x){function X(){this.constructor=c}w(c,x),c.prototype=x===null?Object.create(x):(X.prototype=x.prototype,new X)}(function(c){c[c.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",c[c.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(k||(k={}));var Y={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:k.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},E=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],v=function(){function c(x){this.styleID=0,this.reset(),p(this,x,x)}return c.prototype.clone=function(){var x={};return p(x,this,Y),new c(x)},c.prototype.reset=function(){p(this,Y,Y)},Object.defineProperty(c.prototype,"align",{get:function(){return this._align},set:function(x){this._align!==x&&(this._align=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"breakWords",{get:function(){return this._breakWords},set:function(x){this._breakWords!==x&&(this._breakWords=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(x){this._dropShadow!==x&&(this._dropShadow=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(x){this._dropShadowAlpha!==x&&(this._dropShadowAlpha=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(x){this._dropShadowAngle!==x&&(this._dropShadowAngle=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(x){this._dropShadowBlur!==x&&(this._dropShadowBlur=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(x){var X=a(x);this._dropShadowColor!==X&&(this._dropShadowColor=X,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(x){this._dropShadowDistance!==x&&(this._dropShadowDistance=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"fill",{get:function(){return this._fill},set:function(x){var X=a(x);this._fill!==X&&(this._fill=X,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(x){this._fillGradientType!==x&&(this._fillGradientType=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(x){u(this._fillGradientStops,x)||(this._fillGradientStops=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(x){this.fontFamily!==x&&(this._fontFamily=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"fontSize",{get:function(){return this._fontSize},set:function(x){this._fontSize!==x&&(this._fontSize=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(x){this._fontStyle!==x&&(this._fontStyle=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(x){this._fontVariant!==x&&(this._fontVariant=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(x){this._fontWeight!==x&&(this._fontWeight=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(x){this._letterSpacing!==x&&(this._letterSpacing=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(x){this._lineHeight!==x&&(this._lineHeight=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"leading",{get:function(){return this._leading},set:function(x){this._leading!==x&&(this._leading=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(x){this._lineJoin!==x&&(this._lineJoin=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(x){this._miterLimit!==x&&(this._miterLimit=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"padding",{get:function(){return this._padding},set:function(x){this._padding!==x&&(this._padding=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"stroke",{get:function(){return this._stroke},set:function(x){var X=a(x);this._stroke!==X&&(this._stroke=X,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(x){this._strokeThickness!==x&&(this._strokeThickness=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(x){this._textBaseline!==x&&(this._textBaseline=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"trim",{get:function(){return this._trim},set:function(x){this._trim!==x&&(this._trim=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(x){this._whiteSpace!==x&&(this._whiteSpace=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(x){this._wordWrap!==x&&(this._wordWrap=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(x){this._wordWrapWidth!==x&&(this._wordWrapWidth=x,this.styleID++)},enumerable:!1,configurable:!0}),c.prototype.toFontString=function(){var x=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,X=this.fontFamily;Array.isArray(this.fontFamily)||(X=this.fontFamily.split(","));for(var D=X.length-1;D>=0;D--){var G=X[D].trim();!/([\"\'])[^\'\"]+\1/.test(G)&&E.indexOf(G)<0&&(G='"'+G+'"'),X[D]=G}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+x+" "+X.join(",")},c}();function n(c){return typeof c=="number"?(0,N.hex2string)(c):(typeof c=="string"&&c.indexOf("0x")===0&&(c=c.replace("0x","#")),c)}function a(c){if(Array.isArray(c)){for(var x=0;x<c.length;++x)c[x]=n(c[x]);return c}return n(c)}function u(c,x){if(!Array.isArray(c)||!Array.isArray(x)||c.length!==x.length)return!1;for(var X=0;X<c.length;++X)if(c[X]!==x[X])return!1;return!0}function p(c,x,X){for(var D in X)Array.isArray(x[D])?c[D]=x[D].slice():c[D]=x[D]}var I=function(){function c(x,X,D,G,C,T,J,q,K){this.text=x,this.style=X,this.width=D,this.height=G,this.lines=C,this.lineWidths=T,this.lineHeight=J,this.maxLineWidth=q,this.fontProperties=K}return c.measureText=function(x,X,D,G){G===void 0&&(G=c._canvas),D=D??X.wordWrap;var C=X.toFontString(),T=c.measureFont(C);T.fontSize===0&&(T.fontSize=X.fontSize,T.ascent=X.fontSize);var J=G.getContext("2d");J.font=C;for(var q=(D?c.wordWrap(x,X,G):x).split(/(?:\r\n|\r|\n)/),K=new Array(q.length),A=0,b=0;b<q.length;b++){var R=J.measureText(q[b]).width+(q[b].length-1)*X.letterSpacing;K[b]=R,A=Math.max(A,R)}var O=A+X.strokeThickness;X.dropShadow&&(O+=X.dropShadowDistance);var W=X.lineHeight||T.fontSize+X.strokeThickness,Q=Math.max(W,T.fontSize+X.strokeThickness)+(q.length-1)*(W+X.leading);return X.dropShadow&&(Q+=X.dropShadowDistance),new c(x,X,O,Q,q,K,W+X.leading,A,T)},c.wordWrap=function(x,X,D){D===void 0&&(D=c._canvas);for(var G=D.getContext("2d"),C=0,T="",J="",q=Object.create(null),K=X.letterSpacing,A=X.whiteSpace,b=c.collapseSpaces(A),R=c.collapseNewlines(A),O=!b,W=X.wordWrapWidth+K,Q=c.tokenize(x),ee=0;ee<Q.length;ee++){var ne=Q[ee];if(c.isNewline(ne)){if(!R){J+=c.addLine(T),O=!b,T="",C=0;continue}ne=" "}if(b){var be=c.isBreakingSpace(ne),Ie=c.isBreakingSpace(T[T.length-1]);if(be&&Ie)continue}var Oe=c.getFromCache(ne,K,q,G);if(Oe>W)if(T!==""&&(J+=c.addLine(T),T="",C=0),c.canBreakWords(ne,X.breakWords))for(var ue=c.wordWrapSplit(ne),y=0;y<ue.length;y++){for(var B=ue[y],V=1;ue[y+V];){var te=ue[y+V],re=B[B.length-1];if(c.canBreakChars(re,te,ne,y,X.breakWords))break;B+=te,V++}y+=B.length-1;var ae=c.getFromCache(B,K,q,G);ae+C>W&&(J+=c.addLine(T),O=!1,T="",C=0),T+=B,C+=ae}else{T.length>0&&(J+=c.addLine(T),T="",C=0);var _e=ee===Q.length-1;J+=c.addLine(ne,!_e),O=!1,T="",C=0}else Oe+C>W&&(O=!1,J+=c.addLine(T),T="",C=0),(T.length>0||!c.isBreakingSpace(ne)||O)&&(T+=ne,C+=Oe)}return J+=c.addLine(T,!1)},c.addLine=function(x,X){return X===void 0&&(X=!0),x=c.trimRight(x),x=X?x+`
`:x},c.getFromCache=function(x,X,D,G){var C=D[x];if(typeof C!="number"){var T=x.length*X;C=G.measureText(x).width+T,D[x]=C}return C},c.collapseSpaces=function(x){return x==="normal"||x==="pre-line"},c.collapseNewlines=function(x){return x==="normal"},c.trimRight=function(x){if(typeof x!="string")return"";for(var X=x.length-1;X>=0;X--){var D=x[X];if(!c.isBreakingSpace(D))break;x=x.slice(0,-1)}return x},c.isNewline=function(x){return typeof x=="string"&&c._newlines.indexOf(x.charCodeAt(0))>=0},c.isBreakingSpace=function(x,X){return typeof x=="string"&&c._breakingSpaces.indexOf(x.charCodeAt(0))>=0},c.tokenize=function(x){var X=[],D="";if(typeof x!="string")return X;for(var G=0;G<x.length;G++){var C=x[G],T=x[G+1];c.isBreakingSpace(C,T)||c.isNewline(C)?(D!==""&&(X.push(D),D=""),X.push(C)):D+=C}return D!==""&&X.push(D),X},c.canBreakWords=function(x,X){return X},c.canBreakChars=function(x,X,D,G,C){return!0},c.wordWrapSplit=function(x){return x.split("")},c.measureFont=function(x){if(c._fonts[x])return c._fonts[x];var X={ascent:0,descent:0,fontSize:0},D=c._canvas,G=c._context;G.font=x;var C=c.METRICS_STRING+c.BASELINE_SYMBOL,T=Math.ceil(G.measureText(C).width),J=Math.ceil(G.measureText(c.BASELINE_SYMBOL).width),q=Math.ceil(c.HEIGHT_MULTIPLIER*J);J=J*c.BASELINE_MULTIPLIER|0,D.width=T,D.height=q,G.fillStyle="#f00",G.fillRect(0,0,T,q),G.font=x,G.textBaseline="alphabetic",G.fillStyle="#000",G.fillText(C,0,J);var K=G.getImageData(0,0,T,q).data,A=K.length,b=4*T,R=0,O=0,W=!1;for(R=0;R<J;++R){for(var Q=0;Q<b;Q+=4)if(K[O+Q]!==255){W=!0;break}if(W)break;O+=b}for(X.ascent=J-R,O=A-b,W=!1,R=q;R>J;--R){for(Q=0;Q<b;Q+=4)if(K[O+Q]!==255){W=!0;break}if(W)break;O-=b}return X.descent=R-J,X.fontSize=X.ascent+X.descent,c._fonts[x]=X,X},c.clearMetrics=function(x){x===void 0&&(x=""),x?delete c._fonts[x]:c._fonts={}},c}(),L=function(){try{var c=new OffscreenCanvas(0,0),x=c.getContext("2d");return x&&x.measureText?c:document.createElement("canvas")}catch{return document.createElement("canvas")}}();L.width=L.height=10,I._canvas=L,I._context=L.getContext("2d"),I._fonts={},I.METRICS_STRING="|ÉqÅ",I.BASELINE_SYMBOL="M",I.BASELINE_MULTIPLIER=1.4,I.HEIGHT_MULTIPLIER=2,I._newlines=[10,13],I._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var F={texture:!0,children:!1,baseTexture:!0},M=function(c){function x(X,D,G){var C=this,T=!1;G||(G=document.createElement("canvas"),T=!0),G.width=3,G.height=3;var J=P.xE.from(G);return J.orig=new z.Ae,J.trim=new z.Ae,(C=c.call(this,J)||this)._ownCanvas=T,C.canvas=G,C.context=C.canvas.getContext("2d"),C._resolution=j.X.RESOLUTION,C._autoResolution=!0,C._text=null,C._style=null,C._styleListener=null,C._font="",C.text=X,C.style=D,C.localStyleID=-1,C}return U(x,c),x.prototype.updateText=function(X){var D=this._style;if(this.localStyleID!==D.styleID&&(this.dirty=!0,this.localStyleID=D.styleID),this.dirty||!X){this._font=this._style.toFontString();var G,C,T=this.context,J=I.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),q=J.width,K=J.height,A=J.lines,b=J.lineHeight,R=J.lineWidths,O=J.maxLineWidth,W=J.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,q)+2*D.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,K)+2*D.padding)*this._resolution),T.scale(this._resolution,this._resolution),T.clearRect(0,0,this.canvas.width,this.canvas.height),T.font=this._font,T.lineWidth=D.strokeThickness,T.textBaseline=D.textBaseline,T.lineJoin=D.lineJoin,T.miterLimit=D.miterLimit;for(var Q=D.dropShadow?2:1,ee=0;ee<Q;++ee){var ne=D.dropShadow&&ee===0,be=ne?Math.ceil(Math.max(1,K)+2*D.padding):0,Ie=be*this._resolution;if(ne){T.fillStyle="black",T.strokeStyle="black";var Oe=D.dropShadowColor,ue=(0,N.hex2rgb)(typeof Oe=="number"?Oe:(0,N.string2hex)(Oe)),y=D.dropShadowBlur*this._resolution,B=D.dropShadowDistance*this._resolution;T.shadowColor="rgba("+255*ue[0]+","+255*ue[1]+","+255*ue[2]+","+D.dropShadowAlpha+")",T.shadowBlur=y,T.shadowOffsetX=Math.cos(D.dropShadowAngle)*B,T.shadowOffsetY=Math.sin(D.dropShadowAngle)*B+Ie}else T.fillStyle=this._generateFillStyle(D,A,J),T.strokeStyle=D.stroke,T.shadowColor="black",T.shadowBlur=0,T.shadowOffsetX=0,T.shadowOffsetY=0;var V=(b-W.fontSize)/2;(!x.nextLineHeightBehavior||b-W.fontSize<0)&&(V=0);for(var te=0;te<A.length;te++)G=D.strokeThickness/2,C=D.strokeThickness/2+te*b+W.ascent+V,D.align==="right"?G+=O-R[te]:D.align==="center"&&(G+=(O-R[te])/2),D.stroke&&D.strokeThickness&&this.drawLetterSpacing(A[te],G+D.padding,C+D.padding-be,!0),D.fill&&this.drawLetterSpacing(A[te],G+D.padding,C+D.padding-be)}this.updateTexture()}},x.prototype.drawLetterSpacing=function(X,D,G,C){C===void 0&&(C=!1);var T=this._style.letterSpacing,J=x.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(T===0||J)return J&&(this.context.letterSpacing=T,this.context.textLetterSpacing=T),void(C?this.context.strokeText(X,D,G):this.context.fillText(X,D,G));for(var q=D,K=Array.from?Array.from(X):X.split(""),A=this.context.measureText(X).width,b=0,R=0;R<K.length;++R){var O=K[R];C?this.context.strokeText(O,q,G):this.context.fillText(O,q,G);for(var W="",Q=R+1;Q<K.length;++Q)W+=K[Q];q+=A-(b=this.context.measureText(W).width)+T,A=b}},x.prototype.updateTexture=function(){var X=this.canvas;if(this._style.trim){var D=(0,N.trimCanvas)(X);D.data&&(X.width=D.width,X.height=D.height,this.context.putImageData(D.data,0,0))}var G=this._texture,C=this._style,T=C.trim?0:C.padding,J=G.baseTexture;G.trim.width=G._frame.width=X.width/this._resolution,G.trim.height=G._frame.height=X.height/this._resolution,G.trim.x=-T,G.trim.y=-T,G.orig.width=G._frame.width-2*T,G.orig.height=G._frame.height-2*T,this._onTextureUpdate(),J.setRealSize(X.width,X.height,this._resolution),G.updateUvs(),this._recursivePostUpdateTransform(),this.dirty=!1},x.prototype._render=function(X){this._autoResolution&&this._resolution!==X.resolution&&(this._resolution=X.resolution,this.dirty=!0),this.updateText(!0),c.prototype._render.call(this,X)},x.prototype.getLocalBounds=function(X){return this.updateText(!0),c.prototype.getLocalBounds.call(this,X)},x.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},x.prototype._generateFillStyle=function(X,D,G){var C,T=X.fill;if(!Array.isArray(T))return T;if(T.length===1)return T[0];var J=X.dropShadow?X.dropShadowDistance:0,q=X.padding||0,K=this.canvas.width/this._resolution-J-2*q,A=this.canvas.height/this._resolution-J-2*q,b=T.slice(),R=X.fillGradientStops.slice();if(!R.length)for(var O=b.length+1,W=1;W<O;++W)R.push(W/O);if(b.unshift(T[0]),R.unshift(0),b.push(T[T.length-1]),R.push(1),X.fillGradientType===k.LINEAR_VERTICAL){C=this.context.createLinearGradient(K/2,q,K/2,A+q);var Q=G.fontProperties.fontSize+X.strokeThickness;for(W=0;W<D.length;W++){var ee=G.lineHeight*(W-1)+Q,ne=G.lineHeight*W,be=ne;W>0&&ee>ne&&(be=(ne+ee)/2);var Ie=ne+Q,Oe=G.lineHeight*(W+1),ue=Ie;W+1<D.length&&Oe<Ie&&(ue=(Ie+Oe)/2);for(var y=(ue-be)/A,B=0;B<b.length;B++){var V=0;V=typeof R[B]=="number"?R[B]:B/b.length;var te=Math.min(1,Math.max(0,be/A+V*y));te=Number(te.toFixed(5)),C.addColorStop(te,b[B])}}}else{C=this.context.createLinearGradient(q,A/2,K+q,A/2);var re=b.length+1,ae=1;for(W=0;W<b.length;W++){var _e=void 0;_e=typeof R[W]=="number"?R[W]:ae/re,C.addColorStop(_e,b[W]),ae++}}return C},x.prototype.destroy=function(X){typeof X=="boolean"&&(X={children:X}),X=Object.assign({},F,X),c.prototype.destroy.call(this,X),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(x.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(X){this.updateText(!0);var D=(0,N.sign)(this.scale.x)||1;this.scale.x=D*X/this._texture.orig.width,this._width=X},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(X){this.updateText(!0);var D=(0,N.sign)(this.scale.y)||1;this.scale.y=D*X/this._texture.orig.height,this._height=X},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"style",{get:function(){return this._style},set:function(X){X=X||{},this._style=X instanceof v?X:new v(X),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"text",{get:function(){return this._text},set:function(X){X=String(X??""),this._text!==X&&(this._text=X,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"resolution",{get:function(){return this._resolution},set:function(X){this._autoResolution=!1,this._resolution!==X&&(this._resolution=X,this.dirty=!0)},enumerable:!1,configurable:!0}),x.nextLineHeightBehavior=!1,x.experimentalLetterSpacing=!1,x}(h.j)},1298:(Ae,le,d)=>{d.d(le,{Sb:()=>z,uF:()=>k,vB:()=>j});var k,h=d(875);h.X.TARGET_FPMS=.06,function(N){N[N.INTERACTION=50]="INTERACTION",N[N.HIGH=25]="HIGH",N[N.NORMAL=0]="NORMAL",N[N.LOW=-25]="LOW",N[N.UTILITY=-50]="UTILITY"}(k||(k={}));var P=function(){function N(w,U,Y,E){U===void 0&&(U=null),Y===void 0&&(Y=0),E===void 0&&(E=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=w,this.context=U,this.priority=Y,this.once=E}return N.prototype.match=function(w,U){return U===void 0&&(U=null),this.fn===w&&this.context===U},N.prototype.emit=function(w){this.fn&&(this.context?this.fn.call(this.context,w):this.fn(w));var U=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),U},N.prototype.connect=function(w){this.previous=w,w.next&&(w.next.previous=this),this.next=w.next,w.next=this},N.prototype.destroy=function(w){w===void 0&&(w=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var U=this.next;return this.next=w?null:U,this.previous=null,U},N}(),j=function(){function N(){var w=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new P(null,null,1/0),this.deltaMS=1/h.X.TARGET_FPMS,this.elapsedMS=1/h.X.TARGET_FPMS,this._tick=function(U){w._requestId=null,w.started&&(w.update(U),w.started&&w._requestId===null&&w._head.next&&(w._requestId=requestAnimationFrame(w._tick)))}}return N.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},N.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},N.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},N.prototype.add=function(w,U,Y){return Y===void 0&&(Y=k.NORMAL),this._addListener(new P(w,U,Y))},N.prototype.addOnce=function(w,U,Y){return Y===void 0&&(Y=k.NORMAL),this._addListener(new P(w,U,Y,!0))},N.prototype._addListener=function(w){var U=this._head.next,Y=this._head;if(U){for(;U;){if(w.priority>U.priority){w.connect(Y);break}Y=U,U=U.next}w.previous||w.connect(Y)}else w.connect(Y);return this._startIfPossible(),this},N.prototype.remove=function(w,U){for(var Y=this._head.next;Y;)Y=Y.match(w,U)?Y.destroy():Y.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(N.prototype,"count",{get:function(){if(!this._head)return 0;for(var w=0,U=this._head;U=U.next;)w++;return w},enumerable:!1,configurable:!0}),N.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},N.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},N.prototype.destroy=function(){if(!this._protected){this.stop();for(var w=this._head.next;w;)w=w.destroy(!0);this._head.destroy(),this._head=null}},N.prototype.update=function(w){var U;if(w===void 0&&(w=performance.now()),w>this.lastTime){if((U=this.elapsedMS=w-this.lastTime)>this._maxElapsedMS&&(U=this._maxElapsedMS),U*=this.speed,this._minElapsedMS){var Y=w-this._lastFrame|0;if(Y<this._minElapsedMS)return;this._lastFrame=w-Y%this._minElapsedMS}this.deltaMS=U,this.deltaTime=this.deltaMS*h.X.TARGET_FPMS;for(var E=this._head,v=E.next;v;)v=v.emit(this.deltaTime);E.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=w},Object.defineProperty(N.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(w){var U=Math.min(this.maxFPS,w),Y=Math.min(Math.max(0,U)/1e3,h.X.TARGET_FPMS);this._maxElapsedMS=1/Y},enumerable:!1,configurable:!0}),Object.defineProperty(N.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(w){if(w===0)this._minElapsedMS=0;else{var U=Math.max(this.minFPS,w);this._minElapsedMS=1/(U/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(N,"shared",{get:function(){if(!N._shared){var w=N._shared=new N;w.autoStart=!0,w._protected=!0}return N._shared},enumerable:!1,configurable:!0}),Object.defineProperty(N,"system",{get:function(){if(!N._system){var w=N._system=new N;w.autoStart=!0,w._protected=!0}return N._system},enumerable:!1,configurable:!0}),N}(),z=function(){function N(){}return N.init=function(w){var U=this;w=Object.assign({autoStart:!0,sharedTicker:!1},w),Object.defineProperty(this,"ticker",{set:function(Y){this._ticker&&this._ticker.remove(this.render,this),this._ticker=Y,Y&&Y.add(this.render,this,k.LOW)},get:function(){return this._ticker}}),this.stop=function(){U._ticker.stop()},this.start=function(){U._ticker.start()},this._ticker=null,this.ticker=w.sharedTicker?j.shared:new j,w.autoStart&&this.start()},N.destroy=function(){if(this._ticker){var w=this._ticker;this.ticker=null,w.destroy()}},N}()},5579:(Ae,le,d)=>{d.r(le),d.d(le,{BaseTextureCache:()=>ue,CanvasRenderTarget:()=>V,DATA_URI:()=>ae,EventEmitter:()=>P.a,ProgramCache:()=>Ie,TextureCache:()=>Oe,clearTextureCache:()=>B,correctBlendMode:()=>X,createIndicesForQuads:()=>T,decomposeDataUri:()=>_e,deprecation:()=>be,destroyTextureCache:()=>y,determineCrossOrigin:()=>Ce,earcut:()=>z.a,getBufferType:()=>J,getResolutionOfUrl:()=>de,hex2rgb:()=>I,hex2string:()=>L,interleaveTypedArrays:()=>K,isMobile:()=>k.t,isPow2:()=>b,isWebGLSupported:()=>u,log2:()=>R,nextPow2:()=>A,premultiplyBlendMode:()=>x,premultiplyRgba:()=>D,premultiplyTint:()=>G,premultiplyTintToRgba:()=>C,removeItems:()=>O,rgb2hex:()=>M,sayHello:()=>a,sign:()=>W,skipHello:()=>n,string2hex:()=>F,trimCanvas:()=>te,uid:()=>ee,url:()=>U});var k=d(875),h=d(6913),P=d.n(h),j=d(6957),z=d.n(j),N=d(1096),w=d(3736),U={parse:N.Qc,format:N.WU,resolve:N.DB};k.X.RETINA_PREFIX=/@([0-9\.]+)x/,k.X.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Y,E=!1,v="6.3.0";function n(){E=!0}function a(ge){var ye;if(!E){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var xe=[`
 %c %c %c PixiJS `+v+" - ✰ "+ge+` ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(ye=globalThis.console).log.apply(ye,xe)}else globalThis.console&&globalThis.console.log("PixiJS "+v+" - "+ge+" - http://www.pixijs.com/");E=!0}}function u(){return Y===void 0&&(Y=function(){var ge={stencil:!0,failIfMajorPerformanceCaveat:k.X.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!globalThis.WebGLRenderingContext)return!1;var ye=document.createElement("canvas"),xe=ye.getContext("webgl",ge)||ye.getContext("experimental-webgl",ge),Be=!(!xe||!xe.getContextAttributes().stencil);if(xe){var We=xe.getExtension("WEBGL_lose_context");We&&We.loseContext()}return xe=null,Be}catch{return!1}}()),Y}var p={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function I(ge,ye){return ye===void 0&&(ye=[]),ye[0]=(ge>>16&255)/255,ye[1]=(ge>>8&255)/255,ye[2]=(255&ge)/255,ye}function L(ge){var ye=ge.toString(16);return"#"+(ye="000000".substring(0,6-ye.length)+ye)}function F(ge){return typeof ge=="string"&&(ge=p[ge.toLowerCase()]||ge)[0]==="#"&&(ge=ge.slice(1)),parseInt(ge,16)}function M(ge){return(255*ge[0]<<16)+(255*ge[1]<<8)+(255*ge[2]|0)}function c(){for(var ge=[],ye=[],xe=0;xe<32;xe++)ge[xe]=xe,ye[xe]=xe;ge[w.T$.NORMAL_NPM]=w.T$.NORMAL,ge[w.T$.ADD_NPM]=w.T$.ADD,ge[w.T$.SCREEN_NPM]=w.T$.SCREEN,ye[w.T$.NORMAL]=w.T$.NORMAL_NPM,ye[w.T$.ADD]=w.T$.ADD_NPM,ye[w.T$.SCREEN]=w.T$.SCREEN_NPM;var Be=[];return Be.push(ye),Be.push(ge),Be}var x=c();function X(ge,ye){return x[ye?1:0][ge]}function D(ge,ye,xe,Be){return xe=xe||new Float32Array(4),Be||Be===void 0?(xe[0]=ge[0]*ye,xe[1]=ge[1]*ye,xe[2]=ge[2]*ye):(xe[0]=ge[0],xe[1]=ge[1],xe[2]=ge[2]),xe[3]=ye,xe}function G(ge,ye){if(ye===1)return(255*ye<<24)+ge;if(ye===0)return 0;var xe=ge>>16&255,Be=ge>>8&255,We=255&ge;return(255*ye<<24)+((xe=xe*ye+.5|0)<<16)+((Be=Be*ye+.5|0)<<8)+(We=We*ye+.5|0)}function C(ge,ye,xe,Be){return(xe=xe||new Float32Array(4))[0]=(ge>>16&255)/255,xe[1]=(ge>>8&255)/255,xe[2]=(255&ge)/255,(Be||Be===void 0)&&(xe[0]*=ye,xe[1]*=ye,xe[2]*=ye),xe[3]=ye,xe}function T(ge,ye){ye===void 0&&(ye=null);var xe=6*ge;if((ye=ye||new Uint16Array(xe)).length!==xe)throw new Error("Out buffer length is incorrect, got "+ye.length+" and expected "+xe);for(var Be=0,We=0;Be<xe;Be+=6,We+=4)ye[Be+0]=We+0,ye[Be+1]=We+1,ye[Be+2]=We+2,ye[Be+3]=We+0,ye[Be+4]=We+2,ye[Be+5]=We+3;return ye}function J(ge){if(ge.BYTES_PER_ELEMENT===4)return ge instanceof Float32Array?"Float32Array":ge instanceof Uint32Array?"Uint32Array":"Int32Array";if(ge.BYTES_PER_ELEMENT===2){if(ge instanceof Uint16Array)return"Uint16Array"}else if(ge.BYTES_PER_ELEMENT===1&&ge instanceof Uint8Array)return"Uint8Array";return null}var q={Float32Array,Uint32Array,Int32Array,Uint8Array};function K(ge,ye){for(var xe=0,Be=0,We={},qe=0;qe<ge.length;qe++)Be+=ye[qe],xe+=ge[qe].length;var tt=new ArrayBuffer(4*xe),vt=null,yt=0;for(qe=0;qe<ge.length;qe++){var rt=ye[qe],mt=ge[qe],Ee=J(mt);We[Ee]||(We[Ee]=new q[Ee](tt)),vt=We[Ee];for(var je=0;je<mt.length;je++)vt[(je/rt|0)*Be+yt+je%rt]=mt[je];yt+=rt}return new Float32Array(tt)}function A(ge){return ge+=ge===0?1:0,--ge,ge|=ge>>>1,ge|=ge>>>2,ge|=ge>>>4,ge|=ge>>>8,(ge|=ge>>>16)+1}function b(ge){return!(ge&ge-1||!ge)}function R(ge){var ye=(ge>65535?1:0)<<4,xe=((ge>>>=ye)>255?1:0)<<3;return ye|=xe,ye|=xe=((ge>>>=xe)>15?1:0)<<2,(ye|=xe=((ge>>>=xe)>3?1:0)<<1)|(ge>>>=xe)>>1}function O(ge,ye,xe){var Be,We=ge.length;if(!(ye>=We||xe===0)){var qe=We-(xe=ye+xe>We?We-ye:xe);for(Be=ye;Be<qe;++Be)ge[Be]=ge[Be+xe];ge.length=qe}}function W(ge){return ge===0?0:ge<0?-1:1}var Q=0;function ee(){return++Q}var ne={};function be(ge,ye,xe){if(xe===void 0&&(xe=3),!ne[ye]){var Be=new Error().stack;Be===void 0?console.warn("PixiJS Deprecation Warning: ",ye+`
Deprecated since v`+ge):(Be=Be.split(`
`).splice(xe).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",ye+`
Deprecated since v`+ge),console.warn(Be),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",ye+`
Deprecated since v`+ge),console.warn(Be))),ne[ye]=!0}}var Ie={},Oe=Object.create(null),ue=Object.create(null);function y(){var ge;for(ge in Oe)Oe[ge].destroy();for(ge in ue)ue[ge].destroy()}function B(){var ge;for(ge in Oe)delete Oe[ge];for(ge in ue)delete ue[ge]}var V=function(){function ge(ye,xe,Be){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=Be||k.X.RESOLUTION,this.resize(ye,xe)}return ge.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},ge.prototype.resize=function(ye,xe){this.canvas.width=Math.round(ye*this.resolution),this.canvas.height=Math.round(xe*this.resolution)},ge.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(ge.prototype,"width",{get:function(){return this.canvas.width},set:function(ye){this.canvas.width=Math.round(ye)},enumerable:!1,configurable:!0}),Object.defineProperty(ge.prototype,"height",{get:function(){return this.canvas.height},set:function(ye){this.canvas.height=Math.round(ye)},enumerable:!1,configurable:!0}),ge}();function te(ge){var ye,xe,Be,We=ge.width,qe=ge.height,tt=ge.getContext("2d"),vt=tt.getImageData(0,0,We,qe).data,yt=vt.length,rt={top:null,left:null,right:null,bottom:null},mt=null;for(ye=0;ye<yt;ye+=4)vt[ye+3]!==0&&(xe=ye/4%We,Be=~~(ye/4/We),rt.top===null&&(rt.top=Be),(rt.left===null||xe<rt.left)&&(rt.left=xe),(rt.right===null||rt.right<xe)&&(rt.right=xe+1),(rt.bottom===null||rt.bottom<Be)&&(rt.bottom=Be));return rt.top!==null&&(We=rt.right-rt.left,qe=rt.bottom-rt.top+1,mt=tt.getImageData(rt.left,rt.top,We,qe)),{height:qe,width:We,data:mt}}var re,ae=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function _e(ge){var ye=ae.exec(ge);if(ye)return{mediaType:ye[1]?ye[1].toLowerCase():void 0,subType:ye[2]?ye[2].toLowerCase():void 0,charset:ye[3]?ye[3].toLowerCase():void 0,encoding:ye[4]?ye[4].toLowerCase():void 0,data:ye[5]}}function Ce(ge,ye){if(ye===void 0&&(ye=globalThis.location),ge.indexOf("data:")===0)return"";ye=ye||globalThis.location,re||(re=document.createElement("a")),re.href=ge;var xe=U.parse(re.href),Be=!xe.port&&ye.port===""||xe.port===ye.port;return xe.hostname===ye.hostname&&Be&&xe.protocol===ye.protocol?"":"anonymous"}function de(ge,ye){var xe=k.X.RETINA_PREFIX.exec(ge);return xe?parseFloat(xe[1]):ye!==void 0?ye:1}},4469:(Ae,le,d)=>{d.d(le,{R:()=>Oe});var k=d(135),h=d(2390),P=d(8684),j=d(6027),z=d(4503),N=d(5800),w=d(8321),U=d(9293),Y=d(7593),E=d(6629),v=d(6979),n=d(3553),a=d(2190),u=d(9276),p=d(3621),I=[];function L(ue){return ue.reduce(function(y,B){return y.every(function(V){return B.name!==V.name})&&y.push(B),y},[])}function F(ue){var y=ue.defaultIntegrations&&(0,h.fl)(ue.defaultIntegrations)||[],B=ue.integrations,V=(0,h.fl)(L(y));Array.isArray(B)?V=(0,h.fl)(V.filter(function(ae){return B.every(function(_e){return _e.name!==ae.name})}),L(B)):typeof B=="function"&&(V=B(V),V=Array.isArray(V)?V:[V]);var te=V.map(function(ae){return ae.name}),re="Debug";return te.indexOf(re)!==-1&&V.push.apply(V,(0,h.fl)(V.splice(te.indexOf(re),1))),V}function M(ue){I.indexOf(ue.name)===-1&&(ue.setupOnce(P.c,u.Gd),I.push(ue.name),(0,N.c)()&&w.kg.log("Integration installed: "+ue.name))}function c(ue){var y={};return F(ue).forEach(function(B){y[B.name]=B,M(B)}),(0,p.xp)(y,"initialized",!0),y}var x="Not capturing exception because it's already been captured.",X=function(){function ue(y,B){this._integrations={},this._numProcessing=0,this._backend=new y(B),this._options=B,B.dsn&&(this._dsn=(0,j.v)(B.dsn))}return ue.prototype.captureException=function(y,B,V){var te=this;if(!(0,z.YO)(y)){var re=B&&B.event_id;return this._process(this._getBackend().eventFromException(y,B).then(function(ae){return te._captureEvent(ae,B,V)}).then(function(ae){re=ae})),re}(0,N.c)()&&w.kg.log(x)},ue.prototype.captureMessage=function(y,B,V,te){var re=this,ae=V&&V.event_id,_e=(0,U.pt)(y)?this._getBackend().eventFromMessage(String(y),B,V):this._getBackend().eventFromException(y,V);return this._process(_e.then(function(Ce){return re._captureEvent(Ce,V,te)}).then(function(Ce){ae=Ce})),ae},ue.prototype.captureEvent=function(y,B,V){if(!(B&&B.originalException&&(0,z.YO)(B.originalException))){var te=B&&B.event_id;return this._process(this._captureEvent(y,B,V).then(function(re){te=re})),te}(0,N.c)()&&w.kg.log(x)},ue.prototype.captureSession=function(y){this._isEnabled()?typeof y.release!="string"?(0,N.c)()&&w.kg.warn("Discarded session because of missing or non-string release"):(this._sendSession(y),y.update({init:!1})):(0,N.c)()&&w.kg.warn("SDK not enabled, will not capture session.")},ue.prototype.getDsn=function(){return this._dsn},ue.prototype.getOptions=function(){return this._options},ue.prototype.getTransport=function(){return this._getBackend().getTransport()},ue.prototype.flush=function(y){var B=this;return this._isClientDoneProcessing(y).then(function(V){return B.getTransport().close(y).then(function(te){return V&&te})})},ue.prototype.close=function(y){var B=this;return this.flush(y).then(function(V){return B.getOptions().enabled=!1,V})},ue.prototype.setupIntegrations=function(){this._isEnabled()&&!this._integrations.initialized&&(this._integrations=c(this._options))},ue.prototype.getIntegration=function(y){try{return this._integrations[y.id]||null}catch{return(0,N.c)()&&w.kg.warn("Cannot retrieve integration "+y.id+" from the current Client"),null}},ue.prototype._updateSessionFromEvent=function(y,B){var V,te,re=!1,ae=!1,_e=B.exception&&B.exception.values;if(_e){ae=!0;try{for(var Ce=(0,h.XA)(_e),de=Ce.next();!de.done;de=Ce.next()){var ge=de.value.mechanism;if(ge&&ge.handled===!1){re=!0;break}}}catch(xe){V={error:xe}}finally{try{de&&!de.done&&(te=Ce.return)&&te.call(Ce)}finally{if(V)throw V.error}}}var ye=y.status==="ok";(ye&&y.errors===0||ye&&re)&&(y.update((0,h.pi)((0,h.pi)({},re&&{status:"crashed"}),{errors:y.errors||Number(ae||re)})),this.captureSession(y))},ue.prototype._sendSession=function(y){this._getBackend().sendSession(y)},ue.prototype._isClientDoneProcessing=function(y){var B=this;return new Y.cW(function(V){var te=0,re=1,ae=setInterval(function(){B._numProcessing==0?(clearInterval(ae),V(!0)):(te+=re,y&&te>=y&&(clearInterval(ae),V(!1)))},re)})},ue.prototype._getBackend=function(){return this._backend},ue.prototype._isEnabled=function(){return this.getOptions().enabled!==!1&&this._dsn!==void 0},ue.prototype._prepareEvent=function(y,B,V){var te=this,re=this.getOptions(),ae=re.normalizeDepth,_e=ae===void 0?3:ae,Ce=re.normalizeMaxBreadth,de=Ce===void 0?1e3:Ce,ge=(0,h.pi)((0,h.pi)({},y),{event_id:y.event_id||(V&&V.event_id?V.event_id:(0,z.DM)()),timestamp:y.timestamp||(0,E.yW)()});this._applyClientOptions(ge),this._applyIntegrationsMetadata(ge);var ye=B;V&&V.captureContext&&(ye=P.s.clone(ye).update(V.captureContext));var xe=(0,Y.WD)(ge);return ye&&(xe=ye.applyToEvent(ge,V)),xe.then(function(Be){return Be&&(Be.sdkProcessingMetadata=(0,h.pi)((0,h.pi)({},Be.sdkProcessingMetadata),{normalizeDepth:(0,v.Fv)(_e)})),typeof _e=="number"&&_e>0?te._normalizeEvent(Be,_e,de):Be})},ue.prototype._normalizeEvent=function(y,B,V){if(!y)return null;var te=(0,h.pi)((0,h.pi)((0,h.pi)((0,h.pi)((0,h.pi)({},y),y.breadcrumbs&&{breadcrumbs:y.breadcrumbs.map(function(re){return(0,h.pi)((0,h.pi)({},re),re.data&&{data:(0,v.Fv)(re.data,B,V)})})}),y.user&&{user:(0,v.Fv)(y.user,B,V)}),y.contexts&&{contexts:(0,v.Fv)(y.contexts,B,V)}),y.extra&&{extra:(0,v.Fv)(y.extra,B,V)});return y.contexts&&y.contexts.trace&&(te.contexts.trace=y.contexts.trace),te.sdkProcessingMetadata=(0,h.pi)((0,h.pi)({},te.sdkProcessingMetadata),{baseClientNormalized:!0}),te},ue.prototype._applyClientOptions=function(y){var B=this.getOptions(),V=B.environment,te=B.release,re=B.dist,ae=B.maxValueLength,_e=ae===void 0?250:ae;"environment"in y||(y.environment="environment"in B?V:"production"),y.release===void 0&&te!==void 0&&(y.release=te),y.dist===void 0&&re!==void 0&&(y.dist=re),y.message&&(y.message=(0,n.$G)(y.message,_e));var Ce=y.exception&&y.exception.values&&y.exception.values[0];Ce&&Ce.value&&(Ce.value=(0,n.$G)(Ce.value,_e));var de=y.request;de&&de.url&&(de.url=(0,n.$G)(de.url,_e))},ue.prototype._applyIntegrationsMetadata=function(y){var B=Object.keys(this._integrations);B.length>0&&(y.sdk=y.sdk||{},y.sdk.integrations=(0,h.fl)(y.sdk.integrations||[],B))},ue.prototype._sendEvent=function(y){this._getBackend().sendEvent(y)},ue.prototype._captureEvent=function(y,B,V){return this._processEvent(y,B,V).then(function(te){return te.event_id},function(te){(0,N.c)()&&w.kg.error(te)})},ue.prototype._processEvent=function(y,B,V){var te=this,re=this.getOptions(),ae=re.beforeSend,_e=re.sampleRate,Ce=this.getTransport();function de(ye,xe){Ce.recordLostEvent&&Ce.recordLostEvent(ye,xe)}if(!this._isEnabled())return(0,Y.$2)(new a.b("SDK not enabled, will not capture event."));var ge=y.type==="transaction";return!ge&&typeof _e=="number"&&Math.random()>_e?(de("sample_rate","event"),(0,Y.$2)(new a.b("Discarding event because it's not included in the random sample (sampling rate = "+_e+")"))):this._prepareEvent(y,V,B).then(function(ye){if(ye===null)throw de("event_processor",y.type||"event"),new a.b("An event processor returned null, will not send event.");return B&&B.data&&B.data.__sentry__===!0||ge||!ae?ye:D(ae(ye,B))}).then(function(ye){if(ye===null)throw de("before_send",y.type||"event"),new a.b("`beforeSend` returned `null`, will not send event.");var xe=V&&V.getSession&&V.getSession();return!ge&&xe&&te._updateSessionFromEvent(xe,ye),te._sendEvent(ye),ye}).then(null,function(ye){throw ye instanceof a.b?ye:(te.captureException(ye,{data:{__sentry__:!0},originalException:ye}),new a.b(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: `+ye))})},ue.prototype._process=function(y){var B=this;this._numProcessing+=1,y.then(function(V){return B._numProcessing-=1,V},function(V){return B._numProcessing-=1,V})},ue}();function D(ue){var y="`beforeSend` method has to return `null` or a valid event.";if((0,U.J8)(ue))return ue.then(function(B){if(!(0,U.PO)(B)&&B!==null)throw new a.b(y);return B},function(B){throw new a.b("beforeSend rejected with "+B)});if(!(0,U.PO)(ue)&&ue!==null)throw new a.b(y);return ue}var G=d(7735),C=d(3868),T=d(9778),J=d(5338),q=function(){function ue(){}return ue.prototype.sendEvent=function(y){return(0,Y.WD)({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:"skipped"})},ue.prototype.close=function(y){return(0,Y.WD)(!0)},ue}(),K=function(){function ue(y){this._options=y,this._options.dsn||(0,N.c)()&&w.kg.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return ue.prototype.eventFromException=function(y,B){throw new a.b("Backend has to implement `eventFromException` method")},ue.prototype.eventFromMessage=function(y,B,V){throw new a.b("Backend has to implement `eventFromMessage` method")},ue.prototype.sendEvent=function(y){if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var B=(0,T.hd)(this._options.dsn,this._options._metadata,this._options.tunnel),V=(0,J.Mq)(y,B);this._newTransport.send(V).then(null,function(te){(0,N.c)()&&w.kg.error("Error while sending event:",te)})}else this._transport.sendEvent(y).then(null,function(te){(0,N.c)()&&w.kg.error("Error while sending event:",te)})},ue.prototype.sendSession=function(y){if(this._transport.sendSession)if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var B=(0,T.hd)(this._options.dsn,this._options._metadata,this._options.tunnel),V=(0,h.CR)((0,J.Q3)(y,B),1)[0];this._newTransport.send(V).then(null,function(te){(0,N.c)()&&w.kg.error("Error while sending session:",te)})}else this._transport.sendSession(y).then(null,function(te){(0,N.c)()&&w.kg.error("Error while sending session:",te)});else(0,N.c)()&&w.kg.warn("Dropping session because custom transport doesn't implement sendSession")},ue.prototype.getTransport=function(){return this._transport},ue.prototype._setupTransport=function(){return new q},ue}(),A=d(3732),b=d(9018),R=d(7938),O=d(9431),W=d(9816),Q=d(6040),ee=d(1708),ne=function(ue){function y(){return ue!==null&&ue.apply(this,arguments)||this}return(0,k.ZT)(y,ue),y.prototype.eventFromException=function(B,V){return(0,R.dr)(B,V,this._options.attachStacktrace)},y.prototype.eventFromMessage=function(B,V,te){return V===void 0&&(V=A.z.Info),(0,R.aB)(B,V,te,this._options.attachStacktrace)},y.prototype._setupTransport=function(){if(!this._options.dsn)return ue.prototype._setupTransport.call(this);var B=(0,k.pi)((0,k.pi)({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,sendClientReports:this._options.sendClientReports,_metadata:this._options._metadata}),V=(0,T.hd)(B.dsn,B._metadata,B.tunnel),te=(0,T.Ut)(V.dsn,V.tunnel);if(this._options.transport)return new this._options.transport(B);if((0,b.Ak)()){var re=(0,k.pi)({},B.fetchParameters);return this._newTransport=(0,O.k)({requestOptions:re,url:te}),new W.V(B)}return this._newTransport=(0,Q.H)({url:te,headers:B.headers}),new ee.w(B)},y}(K),be=d(9e3),Ie=d(422),Oe=function(ue){function y(B){return B===void 0&&(B={}),B._metadata=B._metadata||{},B._metadata.sdk=B._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:G.J}],version:G.J},ue.call(this,ne,B)||this}return(0,k.ZT)(y,ue),y.prototype.showReportDialog=function(B){B===void 0&&(B={}),(0,C.R)().document&&(this._isEnabled()?(0,be.BS)((0,k.pi)((0,k.pi)({},B),{dsn:B.dsn||this.getDsn()})):(0,N.c)()&&w.kg.error("Trying to call showReportDialog with Sentry Client disabled"))},y.prototype._prepareEvent=function(B,V,te){return B.platform=B.platform||"javascript",ue.prototype._prepareEvent.call(this,B,V,te)},y.prototype._sendEvent=function(B){var V=this.getIntegration(Ie.O);V&&V.addSentryBreadcrumb(B),ue.prototype._sendEvent.call(this,B)},y}(X)},7938:(Ae,le,d)=>{d.d(le,{dr:()=>b,aB:()=>R,ME:()=>O,GJ:()=>G});var k=d(135),h=d(3732),P=d(9293),j=d(3621),z=d(6979),N=d(313),w=d(4503),U=d(7593),Y="?";function E(Q,ee,ne,be){var Ie={filename:Q,function:ee,in_app:!0};return ne!==void 0&&(Ie.lineno=ne),be!==void 0&&(Ie.colno=be),Ie}var v=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,n=/\((\S*)(?::(\d+))(?::(\d+))\)/,a=[30,function(Q){var ee=v.exec(Q);if(ee){if(ee[2]&&ee[2].indexOf("eval")===0){var ne=n.exec(ee[2]);ne&&(ee[2]=ne[1],ee[3]=ne[2],ee[4]=ne[3])}var be=(0,k.CR)(D(ee[1]||Y,ee[2]),2),Ie=be[0];return E(be[1],Ie,ee[3]?+ee[3]:void 0,ee[4]?+ee[4]:void 0)}}],u=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,p=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,I=[50,function(Q){var ee,ne=u.exec(Q);if(ne){if(ne[3]&&ne[3].indexOf(" > eval")>-1){var be=p.exec(ne[3]);be&&(ne[1]=ne[1]||"eval",ne[3]=be[1],ne[4]=be[2],ne[5]="")}var Ie=ne[3],Oe=ne[1]||Y;return Oe=(ee=(0,k.CR)(D(Oe,Ie),2))[0],E(Ie=ee[1],Oe,ne[4]?+ne[4]:void 0,ne[5]?+ne[5]:void 0)}}],L=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,F=[40,function(Q){var ee=L.exec(Q);return ee?E(ee[2],ee[1]||Y,+ee[3],ee[4]?+ee[4]:void 0):void 0}],M=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,c=[10,function(Q){var ee=M.exec(Q);return ee?E(ee[2],ee[3]||Y,+ee[1]):void 0}],x=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,X=[20,function(Q){var ee=x.exec(Q);return ee?E(ee[5],ee[3]||ee[4]||Y,+ee[1],+ee[2]):void 0}],D=function(Q,ee){var ne=Q.indexOf("safari-extension")!==-1,be=Q.indexOf("safari-web-extension")!==-1;return ne||be?[Q.indexOf("@")!==-1?Q.split("@")[0]:Y,ne?"safari-extension:"+ee:"safari-web-extension:"+ee]:[Q,ee]};function G(Q){var ee=J(Q),ne={type:Q&&Q.name,value:A(Q)};return ee.length&&(ne.stacktrace={frames:ee}),ne.type===void 0&&ne.value===""&&(ne.value="Unrecoverable error caught"),ne}function C(Q,ee,ne){var be={exception:{values:[{type:(0,P.cO)(Q)?Q.constructor.name:ne?"UnhandledRejection":"Error",value:"Non-Error "+(ne?"promise rejection":"exception")+" captured with keys: "+(0,j.zf)(Q)}]},extra:{__serialized__:(0,z.Qy)(Q)}};if(ee){var Ie=J(ee);Ie.length&&(be.stacktrace={frames:Ie})}return be}function T(Q){return{exception:{values:[G(Q)]}}}function J(Q){var ee=Q.stacktrace||Q.stack||"",ne=K(Q);try{return(0,N.pE)(c,X,a,F,I)(ee,ne)}catch{}return[]}var q=/Minified React error #\d+;/i;function K(Q){if(Q){if(typeof Q.framesToPop=="number")return Q.framesToPop;if(q.test(Q.message))return 1}return 0}function A(Q){var ee=Q&&Q.message;return ee?ee.error&&typeof ee.error.message=="string"?ee.error.message:ee:"No error message"}function b(Q,ee,ne){var be=O(Q,ee&&ee.syntheticException||void 0,ne);return(0,w.EG)(be),be.level=h.z.Error,ee&&ee.event_id&&(be.event_id=ee.event_id),(0,U.WD)(be)}function R(Q,ee,ne,be){ee===void 0&&(ee=h.z.Info);var Ie=W(Q,ne&&ne.syntheticException||void 0,be);return Ie.level=ee,ne&&ne.event_id&&(Ie.event_id=ne.event_id),(0,U.WD)(Ie)}function O(Q,ee,ne,be){var Ie;if((0,P.VW)(Q)&&Q.error)return T(Q.error);if((0,P.TX)(Q)||(0,P.fm)(Q)){var Oe=Q;if("stack"in Q)Ie=T(Q);else{var ue=Oe.name||((0,P.TX)(Oe)?"DOMError":"DOMException"),y=Oe.message?ue+": "+Oe.message:ue;Ie=W(y,ee,ne),(0,w.Db)(Ie,y)}return"code"in Oe&&(Ie.tags=(0,k.pi)((0,k.pi)({},Ie.tags),{"DOMException.code":""+Oe.code})),Ie}return(0,P.VZ)(Q)?T(Q):(0,P.PO)(Q)||(0,P.cO)(Q)?(Ie=C(Q,ee,be),(0,w.EG)(Ie,{synthetic:!0}),Ie):(Ie=W(Q,ee,ne),(0,w.Db)(Ie,""+Q,void 0),(0,w.EG)(Ie,{synthetic:!0}),Ie)}function W(Q,ee,ne){var be={message:Q};if(ne&&ee){var Ie=J(ee);Ie.length&&(be.stacktrace={frames:Ie})}return be}},9e3:(Ae,le,d)=>{d.d(le,{BS:()=>u,Wz:()=>v,re:()=>a});var k=d(135),h=d(2517),P=d(9778),j=d(3868),z=d(3621),N=d(4503),w=d(5800),U=d(8321),Y=(0,j.R)(),E=0;function v(){return E>0}function n(){E+=1,setTimeout(function(){E-=1})}function a(p,I,L){if(I===void 0&&(I={}),typeof p!="function")return p;try{var F=p.__sentry_wrapped__;if(F)return F;if((0,z.HK)(p))return p}catch{return p}var M=function(){var x=Array.prototype.slice.call(arguments);try{L&&typeof L=="function"&&L.apply(this,arguments);var X=x.map(function(D){return a(D,I)});return p.apply(this,X)}catch(D){throw n(),(0,h.$e)(function(G){G.addEventProcessor(function(C){return I.mechanism&&((0,N.Db)(C,void 0,void 0),(0,N.EG)(C,I.mechanism)),C.extra=(0,k.pi)((0,k.pi)({},C.extra),{arguments:x}),C}),(0,h.Tb)(D)}),D}};try{for(var c in p)Object.prototype.hasOwnProperty.call(p,c)&&(M[c]=p[c])}catch{}(0,z.$Q)(M,p),(0,z.xp)(p,"__sentry_wrapped__",M);try{Object.getOwnPropertyDescriptor(M,"name").configurable&&Object.defineProperty(M,"name",{get:function(){return p.name}})}catch{}return M}function u(p){if(p===void 0&&(p={}),Y.document)if(p.eventId)if(p.dsn){var I=Y.document.createElement("script");I.async=!0,I.src=(0,P.hR)(p.dsn,p),p.onLoad&&(I.onload=p.onLoad);var L=Y.document.head||Y.document.body;L&&L.appendChild(I)}else(0,w.c)()&&U.kg.error("Missing dsn option in showReportDialog call");else(0,w.c)()&&U.kg.error("Missing eventId option in showReportDialog call")}},3339:(Ae,le,d)=>{d.r(le),d.d(le,{BrowserClient:()=>v.R,Hub:()=>U.Xb,Integrations:()=>R,SDK_NAME:()=>p,SDK_VERSION:()=>E.J,Scope:()=>N.s,Session:()=>Y.z,Severity:()=>z.z,Transports:()=>P,addBreadcrumb:()=>w.n_,addGlobalEventProcessor:()=>N.c,captureEvent:()=>w.eN,captureException:()=>w.Tb,captureMessage:()=>w.uT,close:()=>u.xv,configureScope:()=>w.e,defaultIntegrations:()=>u.SS,eventFromException:()=>a.dr,eventFromMessage:()=>a.aB,flush:()=>u.yl,forceLoad:()=>u.Eg,getCurrentHub:()=>U.Gd,getHubFromCarrier:()=>U.vi,init:()=>u.S1,injectReportDialog:()=>n.BS,lastEventId:()=>u.eW,makeMain:()=>U.pj,onLoad:()=>u.lA,setContext:()=>w.v,setExtra:()=>w.sU,setExtras:()=>w.rJ,setTag:()=>w.YA,setTags:()=>w.mG,setUser:()=>w.av,showReportDialog:()=>u.jp,startTransaction:()=>w.Yr,withScope:()=>w.$e,wrap:()=>u.re});var k={};d.r(k),d.d(k,{FunctionToString:()=>I.c,InboundFilters:()=>L.QD});var h={};d.r(h),d.d(h,{Breadcrumbs:()=>x.O,Dedupe:()=>G.I,GlobalHandlers:()=>M.d,LinkedErrors:()=>X.iP,TryCatch:()=>c.p,UserAgent:()=>D.Z});var P={};d.r(P),d.d(P,{BaseTransport:()=>C.d,FetchTransport:()=>T.V,XHRTransport:()=>J.w,makeNewFetchTransport:()=>q.k,makeNewXHRTransport:()=>K.H});var j=d(135),z=d(3732),N=d(8684),w=d(2517),U=d(9276),Y=d(4218),E=d(7735),v=d(4469),n=d(9e3),a=d(7938),u=d(7585),p="sentry.javascript.browser",I=d(6212),L=d(3513),F=d(3868),M=d(2257),c=d(4648),x=d(422),X=d(2281),D=d(5398),G=d(345),C=d(1057),T=d(9816),J=d(1708),q=d(9431),K=d(6040),A={},b=(0,F.R)();b.Sentry&&b.Sentry.Integrations&&(A=b.Sentry.Integrations);var R=(0,j.pi)((0,j.pi)((0,j.pi)({},A),k),h)},422:(Ae,le,d)=>{d.d(le,{O:()=>n});var k=d(135),h=d(9276),P=d(3732),j=["fatal","error","warning","log","info","debug","critical"];function z(F){return j.indexOf(F)!==-1}function N(F){return F==="warn"?P.z.Warning:z(F)?F:P.z.Log}var w=d(4503),U=d(5954),Y=d(6448),E=d(3553),v=d(3868),n=function(){function F(M){this.name=F.id,this._options=(0,k.pi)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},M)}return F.prototype.addSentryBreadcrumb=function(M){this._options.sentry&&(0,h.Gd)().addBreadcrumb({category:"sentry."+(M.type==="transaction"?"transaction":"event"),event_id:M.event_id,level:M.level,message:(0,w.jH)(M)},{event:M})},F.prototype.setupOnce=function(){this._options.console&&(0,U.o)("console",u),this._options.dom&&(0,U.o)("dom",a(this._options.dom)),this._options.xhr&&(0,U.o)("xhr",p),this._options.fetch&&(0,U.o)("fetch",I),this._options.history&&(0,U.o)("history",L)},F.id="Breadcrumbs",F}();function a(F){function M(c){var x,X=typeof F=="object"?F.serializeAttribute:void 0;typeof X=="string"&&(X=[X]);try{x=c.event.target?(0,Y.R)(c.event.target,X):(0,Y.R)(c.event,X)}catch{x="<unknown>"}x.length!==0&&(0,h.Gd)().addBreadcrumb({category:"ui."+c.name,message:x},{event:c.event,name:c.name,global:c.global})}return M}function u(F){var M={category:"console",data:{arguments:F.args,logger:"console"},level:N(F.level),message:(0,E.nK)(F.args," ")};if(F.level==="assert"){if(F.args[0]!==!1)return;M.message="Assertion failed: "+((0,E.nK)(F.args.slice(1)," ")||"console.assert"),M.data.arguments=F.args.slice(1)}(0,h.Gd)().addBreadcrumb(M,{input:F.args,level:F.level})}function p(F){if(F.endTimestamp){if(F.xhr.__sentry_own_request__)return;var M=F.xhr.__sentry_xhr__||{},c=M.method,x=M.url,X=M.status_code,D=M.body;(0,h.Gd)().addBreadcrumb({category:"xhr",data:{method:c,url:x,status_code:X},type:"http"},{xhr:F.xhr,input:D})}}function I(F){F.endTimestamp&&(F.fetchData.url.match(/sentry_key/)&&F.fetchData.method==="POST"||(F.error?(0,h.Gd)().addBreadcrumb({category:"fetch",data:F.fetchData,level:P.z.Error,type:"http"},{data:F.error,input:F.args}):(0,h.Gd)().addBreadcrumb({category:"fetch",data:(0,k.pi)((0,k.pi)({},F.fetchData),{status_code:F.response.status}),type:"http"},{input:F.args,response:F.response})))}function L(F){var M=(0,v.R)(),c=F.from,x=F.to,X=(0,w.en)(M.location.href),D=(0,w.en)(c),G=(0,w.en)(x);D.path||(D=X),X.protocol===G.protocol&&X.host===G.host&&(x=G.relative),X.protocol===D.protocol&&X.host===D.host&&(c=D.relative),(0,h.Gd)().addBreadcrumb({category:"navigation",data:{from:c,to:x}})}},345:(Ae,le,d)=>{d.d(le,{I:()=>P});var k=d(5800),h=d(8321),P=function(){function v(){this.name=v.id}return v.prototype.setupOnce=function(n,a){n(function(u){var p=a().getIntegration(v);if(p){try{if(j(u,p._previousEvent))return(0,k.c)()&&h.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return p._previousEvent=u}return p._previousEvent=u}return u})},v.id="Dedupe",v}();function j(v,n){return!!n&&(!!z(v,n)||!!N(v,n))}function z(v,n){var a=v.message,u=n.message;return!(!a&&!u)&&!(a&&!u||!a&&u)&&a===u&&!!U(v,n)&&!!w(v,n)}function N(v,n){var a=Y(n),u=Y(v);return!(!a||!u)&&a.type===u.type&&a.value===u.value&&!!U(v,n)&&!!w(v,n)}function w(v,n){var a=E(v),u=E(n);if(!a&&!u)return!0;if(a&&!u||!a&&u||(a=a,(u=u).length!==a.length))return!1;for(var p=0;p<u.length;p++){var I=u[p],L=a[p];if(I.filename!==L.filename||I.lineno!==L.lineno||I.colno!==L.colno||I.function!==L.function)return!1}return!0}function U(v,n){var a=v.fingerprint,u=n.fingerprint;if(!a&&!u)return!0;if(a&&!u||!a&&u)return!1;a=a,u=u;try{return a.join("")===u.join("")}catch{return!1}}function Y(v){return v.exception&&v.exception.values&&v.exception.values[0]}function E(v){var n=v.exception;if(n)try{return n.values[0].stacktrace.frames}catch{return}else if(v.stacktrace)return v.stacktrace.frames}},2257:(Ae,le,d)=>{d.d(le,{d:()=>n});var k=d(135),h=d(9276),P=d(3732),j=d(5954),z=d(9293),N=d(6448),w=d(5800),U=d(8321),Y=d(4503),E=d(7938),v=d(9e3),n=function(){function x(X){this.name=x.id,this._installFunc={onerror:a,onunhandledrejection:u},this._options=(0,k.pi)({onerror:!0,onunhandledrejection:!0},X)}return x.prototype.setupOnce=function(){Error.stackTraceLimit=50;var X=this._options;for(var D in X){var G=this._installFunc[D];G&&X[D]&&(F(D),G(),this._installFunc[D]=void 0)}},x.id="GlobalHandlers",x}();function a(){(0,j.o)("error",function(x){var X=(0,k.CR)(c(),2),D=X[0],G=X[1];if(D.getIntegration(n)){var C=x.msg,T=x.url,J=x.line,q=x.column,K=x.error;if(!((0,v.Wz)()||K&&K.__sentry_own_request__)){var A=K===void 0&&(0,z.HD)(C)?I(C,T,J,q):L((0,E.ME)(K||C,void 0,G,!1),T,J,q);A.level=P.z.Error,M(D,K,A,"onerror")}}})}function u(){(0,j.o)("unhandledrejection",function(x){var X=(0,k.CR)(c(),2),D=X[0],G=X[1];if(D.getIntegration(n)){var C=x;try{"reason"in x?C=x.reason:"detail"in x&&"reason"in x.detail&&(C=x.detail.reason)}catch{}if((0,v.Wz)()||C&&C.__sentry_own_request__)return!0;var T=(0,z.pt)(C)?p(C):(0,E.ME)(C,void 0,G,!0);T.level=P.z.Error,M(D,C,T,"onunhandledrejection")}})}function p(x){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(x)}]}}}function I(x,X,D,G){var C=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,T=(0,z.VW)(x)?x.message:x,J="Error",q=T.match(C);return q&&(J=q[1],T=q[2]),L({exception:{values:[{type:J,value:T}]}},X,D,G)}function L(x,X,D,G){var C=x.exception=x.exception||{},T=C.values=C.values||[],J=T[0]=T[0]||{},q=J.stacktrace=J.stacktrace||{},K=q.frames=q.frames||[],A=isNaN(parseInt(G,10))?void 0:G,b=isNaN(parseInt(D,10))?void 0:D,R=(0,z.HD)(X)&&X.length>0?X:(0,N.l)();return K.length===0&&K.push({colno:A,filename:R,function:"?",in_app:!0,lineno:b}),x}function F(x){(0,w.c)()&&U.kg.log("Global Handler attached: "+x)}function M(x,X,D,G){(0,Y.EG)(D,{handled:!1,type:G}),x.captureEvent(D,{originalException:X})}function c(){var x=(0,h.Gd)(),X=x.getClient();return[x,X&&X.getOptions().attachStacktrace]}},2281:(Ae,le,d)=>{d.d(le,{iP:()=>U});var k=d(135),h=d(8684),P=d(9276),j=d(9293),z=d(7938),N="cause",w=5,U=function(){function v(n){n===void 0&&(n={}),this.name=v.id,this._key=n.key||N,this._limit=n.limit||w}return v.prototype.setupOnce=function(){(0,h.c)(function(n,a){var u=(0,P.Gd)().getIntegration(v);return u?Y(u._key,u._limit,n,a):n})},v.id="LinkedErrors",v}();function Y(v,n,a,u){if(!(a.exception&&a.exception.values&&u&&(0,j.V9)(u.originalException,Error)))return a;var p=E(n,u.originalException,v);return a.exception.values=(0,k.fl)(p,a.exception.values),a}function E(v,n,a,u){if(u===void 0&&(u=[]),!(0,j.V9)(n[a],Error)||u.length+1>=v)return u;var p=(0,z.GJ)(n[a]);return E(v,n[a],a,(0,k.fl)([p],u))}},4648:(Ae,le,d)=>{d.d(le,{p:()=>w});var k=d(135),h=d(3868),P=d(3621),j=d(313),z=d(9e3),N=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],w=function(){function n(a){this.name=n.id,this._options=(0,k.pi)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},a)}return n.prototype.setupOnce=function(){var a=(0,h.R)();this._options.setTimeout&&(0,P.hl)(a,"setTimeout",U),this._options.setInterval&&(0,P.hl)(a,"setInterval",U),this._options.requestAnimationFrame&&(0,P.hl)(a,"requestAnimationFrame",Y),this._options.XMLHttpRequest&&"XMLHttpRequest"in a&&(0,P.hl)(XMLHttpRequest.prototype,"send",E);var u=this._options.eventTarget;u&&(Array.isArray(u)?u:N).forEach(v)},n.id="TryCatch",n}();function U(n){return function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var p=a[0];return a[0]=(0,z.re)(p,{mechanism:{data:{function:(0,j.$P)(n)},handled:!0,type:"instrument"}}),n.apply(this,a)}}function Y(n){return function(a){return n.apply(this,[(0,z.re)(a,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,j.$P)(n)},handled:!0,type:"instrument"}})])}}function E(n){return function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var p=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(function(I){I in p&&typeof p[I]=="function"&&(0,P.hl)(p,I,function(L){var F={mechanism:{data:{function:I,handler:(0,j.$P)(L)},handled:!0,type:"instrument"}},M=(0,P.HK)(L);return M&&(F.mechanism.data.handler=(0,j.$P)(M)),(0,z.re)(L,F)})}),n.apply(this,a)}}function v(n){var a=(0,h.R)(),u=a[n]&&a[n].prototype;u&&u.hasOwnProperty&&u.hasOwnProperty("addEventListener")&&((0,P.hl)(u,"addEventListener",function(p){return function(I,L,F){try{typeof L.handleEvent=="function"&&(L.handleEvent=(0,z.re)(L.handleEvent.bind(L),{mechanism:{data:{function:"handleEvent",handler:(0,j.$P)(L),target:n},handled:!0,type:"instrument"}}))}catch{}return p.apply(this,[I,(0,z.re)(L,{mechanism:{data:{function:"addEventListener",handler:(0,j.$P)(L),target:n},handled:!0,type:"instrument"}}),F])}}),(0,P.hl)(u,"removeEventListener",function(p){return function(I,L,F){var M=L;try{var c=M&&M.__sentry_wrapped__;c&&p.call(this,I,c,F)}catch{}return p.call(this,I,M,F)}}))}},5398:(Ae,le,d)=>{d.d(le,{Z:()=>z});var k=d(135),h=d(8684),P=d(9276),j=(0,d(3868).R)(),z=function(){function N(){this.name=N.id}return N.prototype.setupOnce=function(){(0,h.c)(function(w){if((0,P.Gd)().getIntegration(N)){if(!j.navigator&&!j.location&&!j.document)return w;var U=w.request&&w.request.url||j.location&&j.location.href,Y=(j.document||{}).referrer,E=(j.navigator||{}).userAgent,v=(0,k.pi)((0,k.pi)((0,k.pi)({},w.request&&w.request.headers),Y&&{Referer:Y}),E&&{"User-Agent":E}),n=(0,k.pi)((0,k.pi)({},U&&{url:U}),{headers:v});return(0,k.pi)((0,k.pi)({},w),{request:n})}return w})},N.id="UserAgent",N}()},7585:(Ae,le,d)=>{d.d(le,{xv:()=>T,SS:()=>M,yl:()=>C,Eg:()=>D,S1:()=>c,eW:()=>X,lA:()=>G,jp:()=>x,re:()=>J});var k=d(135),h=d(9276),P=d(5800),j=d(8321);function z(A,b){b.debug===!0&&((0,P.c)()?j.kg.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var R=(0,h.Gd)(),O=R.getScope();O&&O.update(b.initialScope);var W=new A(b);R.bindClient(W)}var N=d(3513),w=d(6212),U=d(3868),Y=d(7593),E=d(5954),v=d(4469),n=d(9e3),a=d(4648),u=d(422),p=d(2257),I=d(2281),L=d(345),F=d(5398),M=[new N.QD,new w.c,new a.p,new u.O,new p.d,new I.iP,new L.I,new F.Z];function c(A){if(A===void 0&&(A={}),A.defaultIntegrations===void 0&&(A.defaultIntegrations=M),A.release===void 0){var b=(0,U.R)();b.SENTRY_RELEASE&&b.SENTRY_RELEASE.id&&(A.release=b.SENTRY_RELEASE.id)}A.autoSessionTracking===void 0&&(A.autoSessionTracking=!0),A.sendClientReports===void 0&&(A.sendClientReports=!0),z(v.R,A),A.autoSessionTracking&&K()}function x(A){A===void 0&&(A={});var b=(0,h.Gd)(),R=b.getScope();R&&(A.user=(0,k.pi)((0,k.pi)({},R.getUser()),A.user)),A.eventId||(A.eventId=b.lastEventId());var O=b.getClient();O&&O.showReportDialog(A)}function X(){return(0,h.Gd)().lastEventId()}function D(){}function G(A){A()}function C(A){var b=(0,h.Gd)().getClient();return b?b.flush(A):((0,P.c)()&&j.kg.warn("Cannot flush events. No client defined."),(0,Y.WD)(!1))}function T(A){var b=(0,h.Gd)().getClient();return b?b.close(A):((0,P.c)()&&j.kg.warn("Cannot flush events and disable SDK. No client defined."),(0,Y.WD)(!1))}function J(A){return(0,n.re)(A)()}function q(A){A.startSession({ignoreDuration:!0}),A.captureSession()}function K(){if((0,U.R)().document!==void 0){var A=(0,h.Gd)();A.captureSession&&(q(A),(0,E.o)("history",function(b){var R=b.from,O=b.to;R!==void 0&&R!==O&&q((0,h.Gd)())}))}else(0,P.c)()&&j.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}},1057:(Ae,le,d)=>{d.d(le,{d:()=>L});var k=d(135),h=d(9778),P=d(5338),j=d(1076),z=d(6629);function N(F,M,c){var x=[{type:"client_report"},{timestamp:c||(0,z.yW)(),discarded_events:F}];return(0,j.Jd)(M?{dsn:M}:{},[x])}var w=d(3868),U=d(9765),Y=d(5800),E=d(8321),v=d(6027),n=d(6222),a=d(2105),u=d(2938);function p(F){return F==="event"?"error":F}var I=(0,w.R)(),L=function(){function F(M){var c=this;this.options=M,this._buffer=(0,U.x)(30),this._rateLimits={},this._outcomes={},this._api=(0,h.hd)(M.dsn,M._metadata,M.tunnel),this.url=(0,h.qi)(this._api.dsn),this.options.sendClientReports&&I.document&&I.document.addEventListener("visibilitychange",function(){I.document.visibilityState==="hidden"&&c._flushOutcomes()})}return F.prototype.sendEvent=function(M){return this._sendRequest((0,P.nA)(M,this._api),M)},F.prototype.sendSession=function(M){return this._sendRequest((0,P.Qz)(M,this._api),M)},F.prototype.close=function(M){return this._buffer.drain(M)},F.prototype.recordLostEvent=function(M,c){var x;if(this.options.sendClientReports){var X=p(c)+":"+M;(0,Y.c)()&&E.kg.log("Adding outcome: "+X),this._outcomes[X]=((x=this._outcomes[X])!=null?x:0)+1}},F.prototype._flushOutcomes=function(){if(this.options.sendClientReports){var M=this._outcomes;if(this._outcomes={},Object.keys(M).length){(0,Y.c)()&&E.kg.log(`Flushing outcomes:
`+JSON.stringify(M,null,2));var c=(0,h.Ut)(this._api.dsn,this._api.tunnel),x=N(Object.keys(M).map(function(X){var D=(0,k.CR)(X.split(":"),2),G=D[0];return{reason:D[1],category:G,quantity:M[X]}}),this._api.tunnel&&(0,v.R)(this._api.dsn));try{(0,u.z)(c,(0,j.V$)(x))}catch(X){(0,Y.c)()&&E.kg.error(X)}}else(0,Y.c)()&&E.kg.log("No outcomes to flush")}},F.prototype._handleResponse=function(M){var c=M.requestType,x=M.response,X=M.headers,D=M.resolve,G=M.reject,C=(0,n.F)(x.status);this._rateLimits=(0,a.WG)(this._rateLimits,X),this._isRateLimited(c)&&(0,Y.c)()&&(0,Y.c)()&&E.kg.warn("Too many "+c+" requests, backing off until: "+this._disabledUntil(c)),C!=="success"?G(x):D({status:C})},F.prototype._disabledUntil=function(M){var c=p(M);return new Date((0,a.ns)(this._rateLimits,c))},F.prototype._isRateLimited=function(M){var c=p(M);return(0,a.Q)(this._rateLimits,c)},F}()},9816:(Ae,le,d)=>{d.d(le,{V:()=>w});var k=d(135),h=d(9018),P=d(7593),j=d(2190),z=d(1057),N=d(2938),w=function(U){function Y(E,v){v===void 0&&(v=(0,N.x)());var n=U.call(this,E)||this;return n._fetch=v,n}return(0,k.ZT)(Y,U),Y.prototype._sendRequest=function(E,v){var n=this;if(this._isRateLimited(E.type))return this.recordLostEvent("ratelimit_backoff",E.type),Promise.reject({event:v,type:E.type,reason:"Transport for "+E.type+" requests locked till "+this._disabledUntil(E.type)+" due to too many requests.",status:429});var a={body:E.body,method:"POST",referrerPolicy:(0,h.hv)()?"origin":""};return this.options.fetchParameters!==void 0&&Object.assign(a,this.options.fetchParameters),this.options.headers!==void 0&&(a.headers=this.options.headers),this._buffer.add(function(){return new P.cW(function(u,p){n._fetch(E.url,a).then(function(I){var L={"x-sentry-rate-limits":I.headers.get("X-Sentry-Rate-Limits"),"retry-after":I.headers.get("Retry-After")};n._handleResponse({requestType:E.type,response:I,headers:L,resolve:u,reject:p})}).catch(p)})}).then(void 0,function(u){throw u instanceof j.b?n.recordLostEvent("queue_overflow",E.type):n.recordLostEvent("network_error",E.type),u})},Y}(z.d)},9431:(Ae,le,d)=>{d.d(le,{k:()=>j});var k=d(135),h=d(2516),P=d(2938);function j(z,N){function w(U){var Y=(0,k.pi)({body:U.body,method:"POST",referrerPolicy:"origin"},z.requestOptions);return N(z.url,Y).then(function(E){return E.text().then(function(v){return{body:v,headers:{"x-sentry-rate-limits":E.headers.get("X-Sentry-Rate-Limits"),"retry-after":E.headers.get("Retry-After")},reason:E.statusText,statusCode:E.status}})})}return N===void 0&&(N=(0,P.x)()),(0,h.qv)({bufferSize:z.bufferSize},w)}},6040:(Ae,le,d)=>{d.d(le,{H:()=>j});var k=d(2516),h=d(7593),P=4;function j(z){function N(w){return new h.cW(function(U,Y){var E=new XMLHttpRequest;for(var v in E.onreadystatechange=function(){if(E.readyState===P){var n={body:E.response,headers:{"x-sentry-rate-limits":E.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":E.getResponseHeader("Retry-After")},reason:E.statusText,statusCode:E.status};U(n)}},E.open("POST",z.url),z.headers)Object.prototype.hasOwnProperty.call(z.headers,v)&&E.setRequestHeader(v,z.headers[v]);E.send(w.body)})}return(0,k.qv)({bufferSize:z.bufferSize},N)}},2938:(Ae,le,d)=>{function k(E){E.then(null,function(v){console.error(v)})}d.d(le,{x:()=>U,z:()=>Y});var h,P=d(3868),j=d(9018),z=d(5800),N=d(8321),w=(0,P.R)();function U(){if(h)return h;if((0,j.Du)(w.fetch))return h=w.fetch.bind(w);var E=w.document,v=w.fetch;if(E&&typeof E.createElement=="function")try{var n=E.createElement("iframe");n.hidden=!0,E.head.appendChild(n);var a=n.contentWindow;a&&a.fetch&&(v=a.fetch),E.head.removeChild(n)}catch(u){(0,z.c)()&&N.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",u)}return h=v.bind(w)}function Y(E,v){return Object.prototype.toString.call(w&&w.navigator)==="[object Navigator]"&&typeof w.navigator.sendBeacon=="function"?w.navigator.sendBeacon.bind(w.navigator)(E,v):(0,j.Ak)()?k(U()(E,{body:v,method:"POST",credentials:"omit",keepalive:!0})):void 0}},1708:(Ae,le,d)=>{d.d(le,{w:()=>j});var k=d(135),h=d(7593),P=d(2190),j=function(z){function N(){return z!==null&&z.apply(this,arguments)||this}return(0,k.ZT)(N,z),N.prototype._sendRequest=function(w,U){var Y=this;return this._isRateLimited(w.type)?(this.recordLostEvent("ratelimit_backoff",w.type),Promise.reject({event:U,type:w.type,reason:"Transport for "+w.type+" requests locked till "+this._disabledUntil(w.type)+" due to too many requests.",status:429})):this._buffer.add(function(){return new h.cW(function(E,v){var n=new XMLHttpRequest;for(var a in n.onreadystatechange=function(){if(n.readyState===4){var u={"x-sentry-rate-limits":n.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":n.getResponseHeader("Retry-After")};Y._handleResponse({requestType:w.type,response:n,headers:u,resolve:E,reject:v})}},n.open("POST",w.url),Y.options.headers)Object.prototype.hasOwnProperty.call(Y.options.headers,a)&&n.setRequestHeader(a,Y.options.headers[a]);n.send(w.body)})}).then(void 0,function(E){throw E instanceof P.b?Y.recordLostEvent("queue_overflow",w.type):Y.recordLostEvent("network_error",w.type),E})},N}(d(1057).d)},135:(Ae,le,d)=>{d.d(le,{CR:()=>j,ZT:()=>h,fl:()=>z,pi:()=>P});var k=function(N,w){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,Y){U.__proto__=Y}||function(U,Y){for(var E in Y)Y.hasOwnProperty(E)&&(U[E]=Y[E])},k(N,w)};function h(N,w){function U(){this.constructor=N}k(N,w),N.prototype=w===null?Object.create(w):(U.prototype=w.prototype,new U)}var P=function(){return P=Object.assign||function(N){for(var w,U=1,Y=arguments.length;U<Y;U++)for(var E in w=arguments[U])Object.prototype.hasOwnProperty.call(w,E)&&(N[E]=w[E]);return N},P.apply(this,arguments)};function j(N,w){var U=typeof Symbol=="function"&&N[Symbol.iterator];if(!U)return N;var Y,E,v=U.call(N),n=[];try{for(;(w===void 0||w-- >0)&&!(Y=v.next()).done;)n.push(Y.value)}catch(a){E={error:a}}finally{try{Y&&!Y.done&&(U=v.return)&&U.call(v)}finally{if(E)throw E.error}}return n}function z(){for(var N=[],w=0;w<arguments.length;w++)N=N.concat(j(arguments[w]));return N}},9778:(Ae,le,d)=>{d.d(le,{Ut:()=>v,hR:()=>n,hd:()=>j,qi:()=>Y});var k=d(6027),h=d(3621),P="7";function j(a,u,p){return{initDsn:a,metadata:u||{},dsn:(0,k.v)(a),tunnel:p}}function z(a){var u=a.protocol?a.protocol+":":"",p=a.port?":"+a.port:"";return u+"//"+a.host+p+(a.path?"/"+a.path:"")+"/api/"}function N(a,u){return""+z(a)+a.projectId+"/"+u+"/"}function w(a){return(0,h._j)({sentry_key:a.publicKey,sentry_version:P})}function U(a){return N(a,"store")}function Y(a){return U(a)+"?"+w(a)}function E(a){return N(a,"envelope")}function v(a,u){return u||E(a)+"?"+w(a)}function n(a,u){var p=(0,k.v)(a),I=z(p)+"embed/error-page/",L="dsn="+(0,k.R)(p);for(var F in u)if(F!=="dsn")if(F==="user"){if(!u.user)continue;u.user.name&&(L+="&name="+encodeURIComponent(u.user.name)),u.user.email&&(L+="&email="+encodeURIComponent(u.user.email))}else L+="&"+encodeURIComponent(F)+"="+encodeURIComponent(u[F]);return I+"?"+L}},6212:(Ae,le,d)=>{d.d(le,{c:()=>P});var k,h=d(3621),P=function(){function j(){this.name=j.id}return j.prototype.setupOnce=function(){k=Function.prototype.toString,Function.prototype.toString=function(){for(var z=[],N=0;N<arguments.length;N++)z[N]=arguments[N];var w=(0,h.HK)(this)||this;return k.apply(w,z)}},j.id="FunctionToString",j}()},3513:(Ae,le,d)=>{d.d(le,{QD:()=>w});var k=d(2390),h=d(5800),P=d(8321),j=d(4503),z=d(3553),N=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],w=function(){function L(F){F===void 0&&(F={}),this._options=F,this.name=L.id}return L.prototype.setupOnce=function(F,M){F(function(c){var x=M();if(x){var X=x.getIntegration(L);if(X){var D=x.getClient(),G=D?D.getOptions():{};return Y(c,U(X._options,G))?null:c}}return c})},L.id="InboundFilters",L}();function U(L,F){return L===void 0&&(L={}),F===void 0&&(F={}),{allowUrls:(0,k.fl)(L.whitelistUrls||[],L.allowUrls||[],F.whitelistUrls||[],F.allowUrls||[]),denyUrls:(0,k.fl)(L.blacklistUrls||[],L.denyUrls||[],F.blacklistUrls||[],F.denyUrls||[]),ignoreErrors:(0,k.fl)(L.ignoreErrors||[],F.ignoreErrors||[],N),ignoreInternal:L.ignoreInternal===void 0||L.ignoreInternal}}function Y(L,F){return F.ignoreInternal&&u(L)?((0,h.c)()&&P.kg.warn(`Event dropped due to being internal Sentry Error.
Event: `+(0,j.jH)(L)),!0):E(L,F.ignoreErrors)?((0,h.c)()&&P.kg.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+(0,j.jH)(L)),!0):v(L,F.denyUrls)?((0,h.c)()&&P.kg.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+(0,j.jH)(L)+`.
Url: `+I(L)),!0):!n(L,F.allowUrls)&&((0,h.c)()&&P.kg.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+(0,j.jH)(L)+`.
Url: `+I(L)),!0)}function E(L,F){return!(!F||!F.length)&&a(L).some(function(M){return F.some(function(c){return(0,z.zC)(M,c)})})}function v(L,F){if(!F||!F.length)return!1;var M=I(L);return!!M&&F.some(function(c){return(0,z.zC)(M,c)})}function n(L,F){if(!F||!F.length)return!0;var M=I(L);return!M||F.some(function(c){return(0,z.zC)(M,c)})}function a(L){if(L.message)return[L.message];if(L.exception)try{var F=L.exception.values&&L.exception.values[0]||{},M=F.type,c=M===void 0?"":M,x=F.value,X=x===void 0?"":x;return[""+X,c+": "+X]}catch{return(0,h.c)()&&P.kg.error("Cannot extract message for event "+(0,j.jH)(L)),[]}return[]}function u(L){try{return L.exception.values[0].type==="SentryError"}catch{}return!1}function p(L){L===void 0&&(L=[]);for(var F=L.length-1;F>=0;F--){var M=L[F];if(M&&M.filename!=="<anonymous>"&&M.filename!=="[native code]")return M.filename||null}return null}function I(L){try{if(L.stacktrace)return p(L.stacktrace.frames);var F;try{F=L.exception.values[0].stacktrace.frames}catch{}return F?p(F):null}catch{return(0,h.c)()&&P.kg.error("Cannot extract url for event "+(0,j.jH)(L)),null}}},5338:(Ae,le,d)=>{d.d(le,{Mq:()=>E,Q3:()=>U,Qz:()=>Y,nA:()=>v});var k=d(2390),h=d(6027),P=d(1076),j=d(6979),z=d(9778);function N(n){if(n.metadata&&n.metadata.sdk){var a=n.metadata.sdk;return{name:a.name,version:a.version}}}function w(n,a){return a&&(n.sdk=n.sdk||{},n.sdk.name=n.sdk.name||a.name,n.sdk.version=n.sdk.version||a.version,n.sdk.integrations=(0,k.fl)(n.sdk.integrations||[],a.integrations||[]),n.sdk.packages=(0,k.fl)(n.sdk.packages||[],a.packages||[])),n}function U(n,a){var u=N(a),p=(0,k.pi)((0,k.pi)({sent_at:new Date().toISOString()},u&&{sdk:u}),!!a.tunnel&&{dsn:(0,h.R)(a.dsn)}),I="aggregates"in n?"sessions":"session",L=[{type:I},n];return[(0,P.Jd)(p,[L]),I]}function Y(n,a){var u=(0,k.CR)(U(n,a),2),p=u[0],I=u[1];return{body:(0,P.V$)(p),type:I,url:(0,z.Ut)(a.dsn,a.tunnel)}}function E(n,a){var u=N(a),p=n.type||"event",I=(n.sdkProcessingMetadata||{}).transactionSampling||{},L=I.method,F=I.rate;w(n,a.metadata.sdk),n.tags=n.tags||{},n.extra=n.extra||{},n.sdkProcessingMetadata&&n.sdkProcessingMetadata.baseClientNormalized||(n.tags.skippedNormalization=!0,n.extra.normalizeDepth=n.sdkProcessingMetadata?n.sdkProcessingMetadata.normalizeDepth:"unset"),delete n.sdkProcessingMetadata;var M=(0,k.pi)((0,k.pi)({event_id:n.event_id,sent_at:new Date().toISOString()},u&&{sdk:u}),!!a.tunnel&&{dsn:(0,h.R)(a.dsn)}),c=[{type:p,sample_rates:[{id:L,rate:F}]},n];return(0,P.Jd)(M,[c])}function v(n,a){var u,p=N(a),I=n.type||"event",L=I==="transaction"||!!a.tunnel,F=(n.sdkProcessingMetadata||{}).transactionSampling||{},M=F.method,c=F.rate;w(n,a.metadata.sdk),n.tags=n.tags||{},n.extra=n.extra||{},n.sdkProcessingMetadata&&n.sdkProcessingMetadata.baseClientNormalized||(n.tags.skippedNormalization=!0,n.extra.normalizeDepth=n.sdkProcessingMetadata?n.sdkProcessingMetadata.normalizeDepth:"unset"),delete n.sdkProcessingMetadata;try{u=JSON.stringify(n)}catch(T){n.tags.JSONStringifyError=!0,n.extra.JSONStringifyError=T;try{u=JSON.stringify((0,j.Fv)(n))}catch(J){var x=J;u=JSON.stringify({message:"JSON.stringify error after renormalization",extra:{message:x.message,stack:x.stack}})}}var X={body:u,type:I,url:L?(0,z.Ut)(a.dsn,a.tunnel):(0,z.qi)(a.dsn)};if(L){var D=(0,k.pi)((0,k.pi)({event_id:n.event_id,sent_at:new Date().toISOString()},p&&{sdk:p}),!!a.tunnel&&{dsn:(0,h.R)(a.dsn)}),G=[{type:I,sample_rates:[{id:M,rate:c}]},X.body],C=(0,P.Jd)(D,[G]);X.body=(0,P.V$)(C)}return X}},2516:(Ae,le,d)=>{d.d(le,{qv:()=>w});var k=d(9765),h=d(1076),P=d(2105),j=d(7593),z=d(6222),N=30;function w(Y,E,v){v===void 0&&(v=(0,k.x)(Y.bufferSize||N));var n={};function a(u){var p=(0,h.y7)(u),I=p==="event"?"error":p,L={category:I,body:(0,h.V$)(u)};if((0,P.Q)(n,I))return(0,j.$2)({status:"rate_limit",reason:U(n,I)});var F=function(){return E(L).then(function(M){var c=M.body,x=M.headers,X=M.reason,D=M.statusCode,G=(0,z.F)(D);return x&&(n=(0,P.WG)(n,x)),G==="success"?(0,j.WD)({status:G,reason:X}):(0,j.$2)({status:G,reason:X||c||(G==="rate_limit"?U(n,I):"Unknown transport error")})})};return v.add(F)}return{send:a,flush:function(u){return v.drain(u)}}}function U(Y,E){return"Too many "+E+" requests, backing off until: "+new Date((0,P.ns)(Y,E)).toISOString()}},7735:(Ae,le,d)=>{d.d(le,{J:()=>k});var k="6.19.3"},2390:(Ae,le,d)=>{d.d(le,{CR:()=>P,XA:()=>h,fl:()=>j,pi:()=>k});var k=function(){return k=Object.assign||function(z){for(var N,w=1,U=arguments.length;w<U;w++)for(var Y in N=arguments[w])Object.prototype.hasOwnProperty.call(N,Y)&&(z[Y]=N[Y]);return z},k.apply(this,arguments)};function h(z){var N=typeof Symbol=="function"&&Symbol.iterator,w=N&&z[N],U=0;if(w)return w.call(z);if(z&&typeof z.length=="number")return{next:function(){return z&&U>=z.length&&(z=void 0),{value:z&&z[U++],done:!z}}};throw new TypeError(N?"Object is not iterable.":"Symbol.iterator is not defined.")}function P(z,N){var w=typeof Symbol=="function"&&z[Symbol.iterator];if(!w)return z;var U,Y,E=w.call(z),v=[];try{for(;(N===void 0||N-- >0)&&!(U=E.next()).done;)v.push(U.value)}catch(n){Y={error:n}}finally{try{U&&!U.done&&(w=E.return)&&w.call(E)}finally{if(Y)throw Y.error}}return v}function j(){for(var z=[],N=0;N<arguments.length;N++)z=z.concat(P(arguments[N]));return z}},9276:(Ae,le,d)=>{d.d(le,{Gd:()=>p,Xb:()=>n,pj:()=>u,vi:()=>F});var k=d(1726),h=d(4503),P=d(6629),j=d(8321),z=d(5800),N=d(3868),w=d(8790),U=d(8684),Y=d(4218),E=4,v=100,n=function(){function c(x,X,D){X===void 0&&(X=new U.s),D===void 0&&(D=E),this._version=D,this._stack=[{}],this.getStackTop().scope=X,x&&this.bindClient(x)}return c.prototype.isOlderThan=function(x){return this._version<x},c.prototype.bindClient=function(x){this.getStackTop().client=x,x&&x.setupIntegrations&&x.setupIntegrations()},c.prototype.pushScope=function(){var x=U.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:x}),x},c.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},c.prototype.withScope=function(x){var X=this.pushScope();try{x(X)}finally{this.popScope()}},c.prototype.getClient=function(){return this.getStackTop().client},c.prototype.getScope=function(){return this.getStackTop().scope},c.prototype.getStack=function(){return this._stack},c.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},c.prototype.captureException=function(x,X){var D=this._lastEventId=X&&X.event_id?X.event_id:(0,h.DM)(),G=X;if(!X){var C=void 0;try{throw new Error("Sentry syntheticException")}catch(T){C=T}G={originalException:x,syntheticException:C}}return this._invokeClient("captureException",x,(0,k.pi)((0,k.pi)({},G),{event_id:D})),D},c.prototype.captureMessage=function(x,X,D){var G=this._lastEventId=D&&D.event_id?D.event_id:(0,h.DM)(),C=D;if(!D){var T=void 0;try{throw new Error(x)}catch(J){T=J}C={originalException:x,syntheticException:T}}return this._invokeClient("captureMessage",x,X,(0,k.pi)((0,k.pi)({},C),{event_id:G})),G},c.prototype.captureEvent=function(x,X){var D=X&&X.event_id?X.event_id:(0,h.DM)();return x.type!=="transaction"&&(this._lastEventId=D),this._invokeClient("captureEvent",x,(0,k.pi)((0,k.pi)({},X),{event_id:D})),D},c.prototype.lastEventId=function(){return this._lastEventId},c.prototype.addBreadcrumb=function(x,X){var D=this.getStackTop(),G=D.scope,C=D.client;if(G&&C){var T=C.getOptions&&C.getOptions()||{},J=T.beforeBreadcrumb,q=J===void 0?null:J,K=T.maxBreadcrumbs,A=K===void 0?v:K;if(!(A<=0)){var b=(0,P.yW)(),R=(0,k.pi)({timestamp:b},x),O=q?(0,j.Cf)(function(){return q(R,X)}):R;O!==null&&G.addBreadcrumb(O,A)}}},c.prototype.setUser=function(x){var X=this.getScope();X&&X.setUser(x)},c.prototype.setTags=function(x){var X=this.getScope();X&&X.setTags(x)},c.prototype.setExtras=function(x){var X=this.getScope();X&&X.setExtras(x)},c.prototype.setTag=function(x,X){var D=this.getScope();D&&D.setTag(x,X)},c.prototype.setExtra=function(x,X){var D=this.getScope();D&&D.setExtra(x,X)},c.prototype.setContext=function(x,X){var D=this.getScope();D&&D.setContext(x,X)},c.prototype.configureScope=function(x){var X=this.getStackTop(),D=X.scope,G=X.client;D&&G&&x(D)},c.prototype.run=function(x){var X=u(this);try{x(this)}finally{u(X)}},c.prototype.getIntegration=function(x){var X=this.getClient();if(!X)return null;try{return X.getIntegration(x)}catch{return(0,z.c)()&&j.kg.warn("Cannot retrieve integration "+x.id+" from the current Hub"),null}},c.prototype.startSpan=function(x){return this._callExtensionMethod("startSpan",x)},c.prototype.startTransaction=function(x,X){return this._callExtensionMethod("startTransaction",x,X)},c.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},c.prototype.captureSession=function(x){if(x===void 0&&(x=!1),x)return this.endSession();this._sendSessionUpdate()},c.prototype.endSession=function(){var x=this.getStackTop(),X=x&&x.scope,D=X&&X.getSession();D&&D.close(),this._sendSessionUpdate(),X&&X.setSession()},c.prototype.startSession=function(x){var X=this.getStackTop(),D=X.scope,G=X.client,C=G&&G.getOptions()||{},T=C.release,J=C.environment,q=((0,N.R)().navigator||{}).userAgent,K=new Y.z((0,k.pi)((0,k.pi)((0,k.pi)({release:T,environment:J},D&&{user:D.getUser()}),q&&{userAgent:q}),x));if(D){var A=D.getSession&&D.getSession();A&&A.status==="ok"&&A.update({status:"exited"}),this.endSession(),D.setSession(K)}return K},c.prototype._sendSessionUpdate=function(){var x=this.getStackTop(),X=x.scope,D=x.client;if(X){var G=X.getSession&&X.getSession();G&&D&&D.captureSession&&D.captureSession(G)}},c.prototype._invokeClient=function(x){for(var X,D=[],G=1;G<arguments.length;G++)D[G-1]=arguments[G];var C=this.getStackTop(),T=C.scope,J=C.client;J&&J[x]&&(X=J)[x].apply(X,(0,k.fl)(D,[T]))},c.prototype._callExtensionMethod=function(x){for(var X=[],D=1;D<arguments.length;D++)X[D-1]=arguments[D];var G=a().__SENTRY__;if(G&&G.extensions&&typeof G.extensions[x]=="function")return G.extensions[x].apply(this,X);(0,z.c)()&&j.kg.warn("Extension method "+x+" couldn't be found, doing nothing.")},c}();function a(){var c=(0,N.R)();return c.__SENTRY__=c.__SENTRY__||{extensions:{},hub:void 0},c}function u(c){var x=a(),X=F(x);return M(x,c),X}function p(){var c=a();return L(c)&&!F(c).isOlderThan(E)||M(c,new n),(0,w.KV)()?I(c):F(c)}function I(c){try{var x=a().__SENTRY__,X=x&&x.extensions&&x.extensions.domain&&x.extensions.domain.active;if(!X)return F(c);if(!L(X)||F(X).isOlderThan(E)){var D=F(c).getStackTop();M(X,new n(D.client,U.s.clone(D.scope)))}return F(X)}catch{return F(c)}}function L(c){return!!(c&&c.__SENTRY__&&c.__SENTRY__.hub)}function F(c){return c&&c.__SENTRY__&&c.__SENTRY__.hub||(c.__SENTRY__=c.__SENTRY__||{},c.__SENTRY__.hub=new n),c.__SENTRY__.hub}function M(c,x){return!!c&&(c.__SENTRY__=c.__SENTRY__||{},c.__SENTRY__.hub=x,!0)}},8684:(Ae,le,d)=>{d.d(le,{c:()=>Y,s:()=>w});var k=d(1726),h=d(9293),P=d(6629),j=d(7593),z=d(3868),N=100,w=function(){function E(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}return E.clone=function(v){var n=new E;return v&&(n._breadcrumbs=(0,k.fl)(v._breadcrumbs),n._tags=(0,k.pi)({},v._tags),n._extra=(0,k.pi)({},v._extra),n._contexts=(0,k.pi)({},v._contexts),n._user=v._user,n._level=v._level,n._span=v._span,n._session=v._session,n._transactionName=v._transactionName,n._fingerprint=v._fingerprint,n._eventProcessors=(0,k.fl)(v._eventProcessors),n._requestSession=v._requestSession),n},E.prototype.addScopeListener=function(v){this._scopeListeners.push(v)},E.prototype.addEventProcessor=function(v){return this._eventProcessors.push(v),this},E.prototype.setUser=function(v){return this._user=v||{},this._session&&this._session.update({user:v}),this._notifyScopeListeners(),this},E.prototype.getUser=function(){return this._user},E.prototype.getRequestSession=function(){return this._requestSession},E.prototype.setRequestSession=function(v){return this._requestSession=v,this},E.prototype.setTags=function(v){return this._tags=(0,k.pi)((0,k.pi)({},this._tags),v),this._notifyScopeListeners(),this},E.prototype.setTag=function(v,n){var a;return this._tags=(0,k.pi)((0,k.pi)({},this._tags),((a={})[v]=n,a)),this._notifyScopeListeners(),this},E.prototype.setExtras=function(v){return this._extra=(0,k.pi)((0,k.pi)({},this._extra),v),this._notifyScopeListeners(),this},E.prototype.setExtra=function(v,n){var a;return this._extra=(0,k.pi)((0,k.pi)({},this._extra),((a={})[v]=n,a)),this._notifyScopeListeners(),this},E.prototype.setFingerprint=function(v){return this._fingerprint=v,this._notifyScopeListeners(),this},E.prototype.setLevel=function(v){return this._level=v,this._notifyScopeListeners(),this},E.prototype.setTransactionName=function(v){return this._transactionName=v,this._notifyScopeListeners(),this},E.prototype.setTransaction=function(v){return this.setTransactionName(v)},E.prototype.setContext=function(v,n){var a;return n===null?delete this._contexts[v]:this._contexts=(0,k.pi)((0,k.pi)({},this._contexts),((a={})[v]=n,a)),this._notifyScopeListeners(),this},E.prototype.setSpan=function(v){return this._span=v,this._notifyScopeListeners(),this},E.prototype.getSpan=function(){return this._span},E.prototype.getTransaction=function(){var v=this.getSpan();return v&&v.transaction},E.prototype.setSession=function(v){return v?this._session=v:delete this._session,this._notifyScopeListeners(),this},E.prototype.getSession=function(){return this._session},E.prototype.update=function(v){if(!v)return this;if(typeof v=="function"){var n=v(this);return n instanceof E?n:this}return v instanceof E?(this._tags=(0,k.pi)((0,k.pi)({},this._tags),v._tags),this._extra=(0,k.pi)((0,k.pi)({},this._extra),v._extra),this._contexts=(0,k.pi)((0,k.pi)({},this._contexts),v._contexts),v._user&&Object.keys(v._user).length&&(this._user=v._user),v._level&&(this._level=v._level),v._fingerprint&&(this._fingerprint=v._fingerprint),v._requestSession&&(this._requestSession=v._requestSession)):(0,h.PO)(v)&&(v=v,this._tags=(0,k.pi)((0,k.pi)({},this._tags),v.tags),this._extra=(0,k.pi)((0,k.pi)({},this._extra),v.extra),this._contexts=(0,k.pi)((0,k.pi)({},this._contexts),v.contexts),v.user&&(this._user=v.user),v.level&&(this._level=v.level),v.fingerprint&&(this._fingerprint=v.fingerprint),v.requestSession&&(this._requestSession=v.requestSession)),this},E.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},E.prototype.addBreadcrumb=function(v,n){var a=typeof n=="number"?Math.min(n,N):N;if(a<=0)return this;var u=(0,k.pi)({timestamp:(0,P.yW)()},v);return this._breadcrumbs=(0,k.fl)(this._breadcrumbs,[u]).slice(-a),this._notifyScopeListeners(),this},E.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},E.prototype.applyToEvent=function(v,n){if(this._extra&&Object.keys(this._extra).length&&(v.extra=(0,k.pi)((0,k.pi)({},this._extra),v.extra)),this._tags&&Object.keys(this._tags).length&&(v.tags=(0,k.pi)((0,k.pi)({},this._tags),v.tags)),this._user&&Object.keys(this._user).length&&(v.user=(0,k.pi)((0,k.pi)({},this._user),v.user)),this._contexts&&Object.keys(this._contexts).length&&(v.contexts=(0,k.pi)((0,k.pi)({},this._contexts),v.contexts)),this._level&&(v.level=this._level),this._transactionName&&(v.transaction=this._transactionName),this._span){v.contexts=(0,k.pi)({trace:this._span.getTraceContext()},v.contexts);var a=this._span.transaction&&this._span.transaction.name;a&&(v.tags=(0,k.pi)({transaction:a},v.tags))}return this._applyFingerprint(v),v.breadcrumbs=(0,k.fl)(v.breadcrumbs||[],this._breadcrumbs),v.breadcrumbs=v.breadcrumbs.length>0?v.breadcrumbs:void 0,v.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors((0,k.fl)(U(),this._eventProcessors),v,n)},E.prototype.setSDKProcessingMetadata=function(v){return this._sdkProcessingMetadata=(0,k.pi)((0,k.pi)({},this._sdkProcessingMetadata),v),this},E.prototype._notifyEventProcessors=function(v,n,a,u){var p=this;return u===void 0&&(u=0),new j.cW(function(I,L){var F=v[u];if(n===null||typeof F!="function")I(n);else{var M=F((0,k.pi)({},n),a);(0,h.J8)(M)?M.then(function(c){return p._notifyEventProcessors(v,c,a,u+1).then(I)}).then(null,L):p._notifyEventProcessors(v,M,a,u+1).then(I).then(null,L)}})},E.prototype._notifyScopeListeners=function(){var v=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(n){n(v)}),this._notifyingListeners=!1)},E.prototype._applyFingerprint=function(v){v.fingerprint=v.fingerprint?Array.isArray(v.fingerprint)?v.fingerprint:[v.fingerprint]:[],this._fingerprint&&(v.fingerprint=v.fingerprint.concat(this._fingerprint)),v.fingerprint&&!v.fingerprint.length&&delete v.fingerprint},E}();function U(){var E=(0,z.R)();return E.__SENTRY__=E.__SENTRY__||{},E.__SENTRY__.globalEventProcessors=E.__SENTRY__.globalEventProcessors||[],E.__SENTRY__.globalEventProcessors}function Y(E){U().push(E)}},4218:(Ae,le,d)=>{d.d(le,{z:()=>j});var k=d(4503),h=d(6629),P=d(3621),j=function(){function z(N){this.errors=0,this.sid=(0,k.DM)(),this.duration=0,this.status="ok",this.init=!0,this.ignoreDuration=!1;var w=(0,h.ph)();this.timestamp=w,this.started=w,N&&this.update(N)}return z.prototype.update=function(N){if(N===void 0&&(N={}),N.user&&(!this.ipAddress&&N.user.ip_address&&(this.ipAddress=N.user.ip_address),this.did||N.did||(this.did=N.user.id||N.user.email||N.user.username)),this.timestamp=N.timestamp||(0,h.ph)(),N.ignoreDuration&&(this.ignoreDuration=N.ignoreDuration),N.sid&&(this.sid=N.sid.length===32?N.sid:(0,k.DM)()),N.init!==void 0&&(this.init=N.init),!this.did&&N.did&&(this.did=""+N.did),typeof N.started=="number"&&(this.started=N.started),this.ignoreDuration)this.duration=void 0;else if(typeof N.duration=="number")this.duration=N.duration;else{var w=this.timestamp-this.started;this.duration=w>=0?w:0}N.release&&(this.release=N.release),N.environment&&(this.environment=N.environment),!this.ipAddress&&N.ipAddress&&(this.ipAddress=N.ipAddress),!this.userAgent&&N.userAgent&&(this.userAgent=N.userAgent),typeof N.errors=="number"&&(this.errors=N.errors),N.status&&(this.status=N.status)},z.prototype.close=function(N){N?this.update({status:N}):this.status==="ok"?this.update({status:"exited"}):this.update()},z.prototype.toJSON=function(){return(0,P.Jr)({sid:""+this.sid,init:this.init,started:new Date(1e3*this.started).toISOString(),timestamp:new Date(1e3*this.timestamp).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:{release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent}})},z}()},1726:(Ae,le,d)=>{d.d(le,{fl:()=>P,pi:()=>k});var k=function(){return k=Object.assign||function(j){for(var z,N=1,w=arguments.length;N<w;N++)for(var U in z=arguments[N])Object.prototype.hasOwnProperty.call(z,U)&&(j[U]=z[U]);return j},k.apply(this,arguments)};function h(j,z){var N=typeof Symbol=="function"&&j[Symbol.iterator];if(!N)return j;var w,U,Y=N.call(j),E=[];try{for(;(z===void 0||z-- >0)&&!(w=Y.next()).done;)E.push(w.value)}catch(v){U={error:v}}finally{try{w&&!w.done&&(N=Y.return)&&N.call(Y)}finally{if(U)throw U.error}}return E}function P(){for(var j=[],z=0;z<arguments.length;z++)j=j.concat(h(arguments[z]));return j}},2517:(Ae,le,d)=>{d.d(le,{n_:()=>E,eN:()=>U,Tb:()=>N,uT:()=>w,e:()=>Y,v:()=>v,sU:()=>u,rJ:()=>n,YA:()=>p,mG:()=>a,av:()=>I,Yr:()=>F,$e:()=>L});var k=function(){return k=Object.assign||function(M){for(var c,x=1,X=arguments.length;x<X;x++)for(var D in c=arguments[x])Object.prototype.hasOwnProperty.call(c,D)&&(M[D]=c[D]);return M},k.apply(this,arguments)};function h(M,c){var x=typeof Symbol=="function"&&M[Symbol.iterator];if(!x)return M;var X,D,G=x.call(M),C=[];try{for(;(c===void 0||c-- >0)&&!(X=G.next()).done;)C.push(X.value)}catch(T){D={error:T}}finally{try{X&&!X.done&&(x=G.return)&&x.call(G)}finally{if(D)throw D.error}}return C}function P(){for(var M=[],c=0;c<arguments.length;c++)M=M.concat(h(arguments[c]));return M}var j=d(9276);function z(M){for(var c=[],x=1;x<arguments.length;x++)c[x-1]=arguments[x];var X=(0,j.Gd)();if(X&&X[M])return X[M].apply(X,P(c));throw new Error("No hub defined or "+M+" was not found on the hub, please open a bug report.")}function N(M,c){return z("captureException",M,{captureContext:c,originalException:M,syntheticException:new Error("Sentry syntheticException")})}function w(M,c){var x=new Error(M);return z("captureMessage",M,typeof c=="string"?c:void 0,k({originalException:M,syntheticException:x},typeof c!="string"?{captureContext:c}:void 0))}function U(M){return z("captureEvent",M)}function Y(M){z("configureScope",M)}function E(M){z("addBreadcrumb",M)}function v(M,c){z("setContext",M,c)}function n(M){z("setExtras",M)}function a(M){z("setTags",M)}function u(M,c){z("setExtra",M,c)}function p(M,c){z("setTag",M,c)}function I(M){z("setUser",M)}function L(M){z("withScope",M)}function F(M,c){return z("startTransaction",k({},M),c)}},3732:(Ae,le,d)=>{var k;d.d(le,{z:()=>k}),function(h){h.Fatal="fatal",h.Error="error",h.Warning="warning",h.Log="log",h.Info="info",h.Debug="debug",h.Critical="critical"}(k||(k={}))},6448:(Ae,le,d)=>{d.d(le,{R:()=>P,l:()=>z});var k=d(3868),h=d(9293);function P(N,w){try{for(var U=N,Y=5,E=80,v=[],n=0,a=0,u=" > ",p=u.length,I=void 0;U&&n++<Y&&!((I=j(U,w))==="html"||n>1&&a+v.length*p+I.length>=E);)v.push(I),a+=I.length,U=U.parentNode;return v.reverse().join(u)}catch{return"<unknown>"}}function j(N,w){var U,Y,E,v,n,a=N,u=[];if(!a||!a.tagName)return"";u.push(a.tagName.toLowerCase());var p=w&&w.length?w.filter(function(L){return a.getAttribute(L)}).map(function(L){return[L,a.getAttribute(L)]}):null;if(p&&p.length)p.forEach(function(L){u.push("["+L[0]+'="'+L[1]+'"]')});else if(a.id&&u.push("#"+a.id),(U=a.className)&&(0,h.HD)(U))for(Y=U.split(/\s+/),n=0;n<Y.length;n++)u.push("."+Y[n]);var I=["type","name","title","alt"];for(n=0;n<I.length;n++)E=I[n],(v=a.getAttribute(E))&&u.push("["+E+'="'+v+'"]');return u.join("")}function z(){var N=(0,k.R)();try{return N.document.location.href}catch{return""}}},6027:(Ae,le,d)=>{d.d(le,{R:()=>N,v:()=>E});var k=d(4175),h=d(5800),P=d(2190),j=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function z(v){return v==="http"||v==="https"}function N(v,n){n===void 0&&(n=!1);var a=v.host,u=v.path,p=v.pass,I=v.port,L=v.projectId;return v.protocol+"://"+v.publicKey+(n&&p?":"+p:"")+"@"+a+(I?":"+I:"")+"/"+(u&&u+"/")+L}function w(v){var n=j.exec(v);if(!n)throw new P.b("Invalid Sentry Dsn: "+v);var a=(0,k.CR)(n.slice(1),6),u=a[0],p=a[1],I=a[2],L=I===void 0?"":I,F=a[3],M=a[4],c=M===void 0?"":M,x="",X=a[5],D=X.split("/");if(D.length>1&&(x=D.slice(0,-1).join("/"),X=D.pop()),X){var G=X.match(/^\d+/);G&&(X=G[0])}return U({host:F,pass:L,path:x,projectId:X,port:c,protocol:u,publicKey:p})}function U(v){return"user"in v&&!("publicKey"in v)&&(v.publicKey=v.user),{user:v.publicKey||"",protocol:v.protocol,publicKey:v.publicKey||"",pass:v.pass||"",host:v.host,port:v.port||"",path:v.path||"",projectId:v.projectId}}function Y(v){if((0,h.c)()){var n=v.port,a=v.projectId,u=v.protocol;if(["protocol","publicKey","host","projectId"].forEach(function(p){if(!v[p])throw new P.b("Invalid Sentry Dsn: "+p+" missing")}),!a.match(/^\d+$/))throw new P.b("Invalid Sentry Dsn: Invalid projectId "+a);if(!z(u))throw new P.b("Invalid Sentry Dsn: Invalid protocol "+u);if(n&&isNaN(parseInt(n,10)))throw new P.b("Invalid Sentry Dsn: Invalid port "+n);return!0}}function E(v){var n=typeof v=="string"?w(v):U(v);return Y(n),n}},5800:(Ae,le,d)=>{d.d(le,{c:()=>h,n:()=>P});var k=!0;function h(){return k}function P(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}},1076:(Ae,le,d)=>{d.d(le,{Jd:()=>P,V$:()=>z,y7:()=>j});var k=d(4175),h=d(9293);function P(N,w){return w===void 0&&(w=[]),[N,w]}function j(N){var w=(0,k.CR)(N,2),U=(0,k.CR)(w[1],1);return(0,k.CR)(U[0],1)[0].type}function z(N){var w=(0,k.CR)(N,2),U=w[0],Y=w[1],E=JSON.stringify(U);return Y.reduce(function(v,n){var a=(0,k.CR)(n,2),u=a[0],p=a[1],I=(0,h.pt)(p)?String(p):JSON.stringify(p);return v+`
`+JSON.stringify(u)+`
`+I},E)}},2190:(Ae,le,d)=>{d.d(le,{b:()=>z});var k=d(4175),h=Object.setPrototypeOf||({__proto__:[]}instanceof Array?P:j);function P(N,w){return N.__proto__=w,N}function j(N,w){for(var U in w)Object.prototype.hasOwnProperty.call(N,U)||(N[U]=w[U]);return N}var z=function(N){function w(U){var Y=this.constructor,E=N.call(this,U)||this;return E.message=U,E.name=Y.prototype.constructor.name,h(E,Y.prototype),E}return(0,k.ZT)(w,N),w}(Error)},3868:(Ae,le,d)=>{d.d(le,{R:()=>P});var k=d(8790),h={};function P(){return(0,k.KV)()?d.g:typeof window<"u"?window:typeof self<"u"?self:h}},5954:(Ae,le,d)=>{d.d(le,{o:()=>u});var k,h=d(4175),P=d(5800),j=d(3868),z=d(9293),N=d(8321),w=d(3621),U=d(313),Y=d(9018),E=(0,j.R)(),v={},n={};function a(O){if(!n[O])switch(n[O]=!0,O){case"console":I();break;case"dom":q();break;case"xhr":c();break;case"fetch":L();break;case"history":x();break;case"error":A();break;case"unhandledrejection":R();break;default:return void((0,P.c)()&&N.kg.warn("unknown instrumentation type:",O))}}function u(O,W){v[O]=v[O]||[],v[O].push(W),a(O)}function p(O,W){var Q,ee;if(O&&v[O])try{for(var ne=(0,h.XA)(v[O]||[]),be=ne.next();!be.done;be=ne.next()){var Ie=be.value;try{Ie(W)}catch(Oe){(0,P.c)()&&N.kg.error(`Error while triggering instrumentation handler.
Type: `+O+`
Name: `+(0,U.$P)(Ie)+`
Error:`,Oe)}}}catch(Oe){Q={error:Oe}}finally{try{be&&!be.done&&(ee=ne.return)&&ee.call(ne)}finally{if(Q)throw Q.error}}}function I(){"console"in E&&N.RU.forEach(function(O){O in E.console&&(0,w.hl)(E.console,O,function(W){return function(){for(var Q=[],ee=0;ee<arguments.length;ee++)Q[ee]=arguments[ee];p("console",{args:Q,level:O}),W&&W.apply(E.console,Q)}})})}function L(){(0,Y.t$)()&&(0,w.hl)(E,"fetch",function(O){return function(){for(var W=[],Q=0;Q<arguments.length;Q++)W[Q]=arguments[Q];var ee={args:W,fetchData:{method:F(W),url:M(W)},startTimestamp:Date.now()};return p("fetch",(0,h.pi)({},ee)),O.apply(E,W).then(function(ne){return p("fetch",(0,h.pi)((0,h.pi)({},ee),{endTimestamp:Date.now(),response:ne})),ne},function(ne){throw p("fetch",(0,h.pi)((0,h.pi)({},ee),{endTimestamp:Date.now(),error:ne})),ne})}})}function F(O){return O===void 0&&(O=[]),"Request"in E&&(0,z.V9)(O[0],Request)&&O[0].method?String(O[0].method).toUpperCase():O[1]&&O[1].method?String(O[1].method).toUpperCase():"GET"}function M(O){return O===void 0&&(O=[]),typeof O[0]=="string"?O[0]:"Request"in E&&(0,z.V9)(O[0],Request)?O[0].url:String(O[0])}function c(){if("XMLHttpRequest"in E){var O=XMLHttpRequest.prototype;(0,w.hl)(O,"open",function(W){return function(){for(var Q=[],ee=0;ee<arguments.length;ee++)Q[ee]=arguments[ee];var ne=this,be=Q[1],Ie=ne.__sentry_xhr__={method:(0,z.HD)(Q[0])?Q[0].toUpperCase():Q[0],url:Q[1]};(0,z.HD)(be)&&Ie.method==="POST"&&be.match(/sentry_key/)&&(ne.__sentry_own_request__=!0);var Oe=function(){if(ne.readyState===4){try{Ie.status_code=ne.status}catch{}p("xhr",{args:Q,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:ne})}};return"onreadystatechange"in ne&&typeof ne.onreadystatechange=="function"?(0,w.hl)(ne,"onreadystatechange",function(ue){return function(){for(var y=[],B=0;B<arguments.length;B++)y[B]=arguments[B];return Oe(),ue.apply(ne,y)}}):ne.addEventListener("readystatechange",Oe),W.apply(ne,Q)}}),(0,w.hl)(O,"send",function(W){return function(){for(var Q=[],ee=0;ee<arguments.length;ee++)Q[ee]=arguments[ee];return this.__sentry_xhr__&&Q[0]!==void 0&&(this.__sentry_xhr__.body=Q[0]),p("xhr",{args:Q,startTimestamp:Date.now(),xhr:this}),W.apply(this,Q)}})}}function x(){if((0,Y.Bf)()){var O=E.onpopstate;E.onpopstate=function(){for(var Q=[],ee=0;ee<arguments.length;ee++)Q[ee]=arguments[ee];var ne=E.location.href,be=k;if(k=ne,p("history",{from:be,to:ne}),O)try{return O.apply(this,Q)}catch{}},(0,w.hl)(E.history,"pushState",W),(0,w.hl)(E.history,"replaceState",W)}function W(Q){return function(){for(var ee=[],ne=0;ne<arguments.length;ne++)ee[ne]=arguments[ne];var be=ee.length>2?ee[2]:void 0;if(be){var Ie=k,Oe=String(be);k=Oe,p("history",{from:Ie,to:Oe})}return Q.apply(this,ee)}}}var X,D,G=1e3;function C(O,W){if(!O||O.type!==W.type)return!0;try{if(O.target!==W.target)return!0}catch{}return!1}function T(O){if(O.type!=="keypress")return!1;try{var W=O.target;if(!W||!W.tagName)return!0;if(W.tagName==="INPUT"||W.tagName==="TEXTAREA"||W.isContentEditable)return!1}catch{}return!0}function J(O,W){return W===void 0&&(W=!1),function(Q){if(Q&&D!==Q&&!T(Q)){var ee=Q.type==="keypress"?"input":Q.type;(X===void 0||C(D,Q))&&(O({event:Q,name:ee,global:W}),D=Q),clearTimeout(X),X=E.setTimeout(function(){X=void 0},G)}}}function q(){if("document"in E){var O=p.bind(null,"dom"),W=J(O,!0);E.document.addEventListener("click",W,!1),E.document.addEventListener("keypress",W,!1),["EventTarget","Node"].forEach(function(Q){var ee=E[Q]&&E[Q].prototype;ee&&ee.hasOwnProperty&&ee.hasOwnProperty("addEventListener")&&((0,w.hl)(ee,"addEventListener",function(ne){return function(be,Ie,Oe){if(be==="click"||be=="keypress")try{var ue=this,y=ue.__sentry_instrumentation_handlers__=ue.__sentry_instrumentation_handlers__||{},B=y[be]=y[be]||{refCount:0};if(!B.handler){var V=J(O);B.handler=V,ne.call(this,be,V,Oe)}B.refCount+=1}catch{}return ne.call(this,be,Ie,Oe)}}),(0,w.hl)(ee,"removeEventListener",function(ne){return function(be,Ie,Oe){if(be==="click"||be=="keypress")try{var ue=this,y=ue.__sentry_instrumentation_handlers__||{},B=y[be];B&&(B.refCount-=1,B.refCount<=0&&(ne.call(this,be,B.handler,Oe),B.handler=void 0,delete y[be]),Object.keys(y).length===0&&delete ue.__sentry_instrumentation_handlers__)}catch{}return ne.call(this,be,Ie,Oe)}}))})}}var K=null;function A(){K=E.onerror,E.onerror=function(O,W,Q,ee,ne){return p("error",{column:ee,error:ne,line:Q,msg:O,url:W}),!!K&&K.apply(this,arguments)}}var b=null;function R(){b=E.onunhandledrejection,E.onunhandledrejection=function(O){return p("unhandledrejection",O),!b||b.apply(this,arguments)}}},9293:(Ae,le,d)=>{d.d(le,{Cy:()=>u,HD:()=>w,J8:()=>a,Kj:()=>n,PO:()=>Y,TX:()=>z,V9:()=>I,VW:()=>j,VZ:()=>h,cO:()=>E,fm:()=>N,i2:()=>p,kK:()=>v,pt:()=>U});var k=Object.prototype.toString;function h(L){switch(k.call(L)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return I(L,Error)}}function P(L,F){return k.call(L)==="[object "+F+"]"}function j(L){return P(L,"ErrorEvent")}function z(L){return P(L,"DOMError")}function N(L){return P(L,"DOMException")}function w(L){return P(L,"String")}function U(L){return L===null||typeof L!="object"&&typeof L!="function"}function Y(L){return P(L,"Object")}function E(L){return typeof Event<"u"&&I(L,Event)}function v(L){return typeof Element<"u"&&I(L,Element)}function n(L){return P(L,"RegExp")}function a(L){return!!(L&&L.then&&typeof L.then=="function")}function u(L){return Y(L)&&"nativeEvent"in L&&"preventDefault"in L&&"stopPropagation"in L}function p(L){return typeof L=="number"&&L!=L}function I(L,F){try{return L instanceof F}catch{return!1}}},8321:(Ae,le,d)=>{d.d(le,{Cf:()=>w,RU:()=>N,kg:()=>E});var k=d(4175),h=d(5800),P=d(3868),j=(0,P.R)(),z="Sentry Logger ",N=["debug","info","warn","error","log","assert"];function w(v){var n=(0,P.R)();if(!("console"in n))return v();var a=n.console,u={};N.forEach(function(I){I in n.console&&a[I].__sentry_original__&&(u[I]=a[I],a[I]=a[I].__sentry_original__)});var p=v();return Object.keys(u).forEach(function(I){a[I]=u[I]}),p}var U=function(){function v(){this._enabled=!1}return v.prototype.disable=function(){this._enabled=!1},v.prototype.enable=function(){this._enabled=!0},v.prototype.log=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];this._enabled&&w(function(){var u;(u=j.console).log.apply(u,(0,k.fl)([z+"[Log]:"],n))})},v.prototype.warn=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];this._enabled&&w(function(){var u;(u=j.console).warn.apply(u,(0,k.fl)([z+"[Warn]:"],n))})},v.prototype.error=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];this._enabled&&w(function(){var u;(u=j.console).error.apply(u,(0,k.fl)([z+"[Error]:"],n))})},v}(),Y=j.__SENTRY__||{},E=Y.logger||new U;(0,h.c)()&&(Y.logger=E,j.__SENTRY__=Y)},4503:(Ae,le,d)=>{d.d(le,{DM:()=>j,Db:()=>U,EG:()=>Y,YO:()=>E,en:()=>z,jH:()=>w});var k=d(4175),h=d(3868),P=d(3621);function j(){var v=(0,h.R)(),n=v.crypto||v.msCrypto;if(n!==void 0&&n.getRandomValues){var a=new Uint16Array(8);n.getRandomValues(a),a[3]=4095&a[3]|16384,a[4]=16383&a[4]|32768;var u=function(p){for(var I=p.toString(16);I.length<4;)I="0"+I;return I};return u(a[0])+u(a[1])+u(a[2])+u(a[3])+u(a[4])+u(a[5])+u(a[6])+u(a[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(p){var I=16*Math.random()|0;return(p==="x"?I:3&I|8).toString(16)})}function z(v){if(!v)return{};var n=v.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!n)return{};var a=n[6]||"",u=n[8]||"";return{host:n[4],path:n[5],protocol:n[2],relative:n[5]+a+u}}function N(v){return v.exception&&v.exception.values?v.exception.values[0]:void 0}function w(v){var n=v.message,a=v.event_id;if(n)return n;var u=N(v);return u?u.type&&u.value?u.type+": "+u.value:u.type||u.value||a||"<unknown>":a||"<unknown>"}function U(v,n,a){var u=v.exception=v.exception||{},p=u.values=u.values||[],I=p[0]=p[0]||{};I.value||(I.value=n||""),I.type||(I.type=a||"Error")}function Y(v,n){var a=N(v);if(a){var u={type:"generic",handled:!0},p=a.mechanism;if(a.mechanism=(0,k.pi)((0,k.pi)((0,k.pi)({},u),p),n),n&&"data"in n){var I=(0,k.pi)((0,k.pi)({},p&&p.data),n.data);a.mechanism.data=I}}}function E(v){if(v&&v.__sentry_captured__)return!0;try{(0,P.xp)(v,"__sentry_captured__",!0)}catch{}return!1}},8790:(Ae,le,d)=>{d.d(le,{KV:()=>h,l$:()=>P});var k=d(5800);function h(){return!(0,k.n)()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function P(j,z){return j.require(z)}Ae=d.hmd(Ae)},6979:(Ae,le,d)=>{d.d(le,{Fv:()=>N,Qy:()=>w});var k=d(4175),h=d(9293);function P(){var n=typeof WeakSet=="function",a=n?new WeakSet:[];function u(I){if(n)return!!a.has(I)||(a.add(I),!1);for(var L=0;L<a.length;L++)if(a[L]===I)return!0;return a.push(I),!1}function p(I){if(n)a.delete(I);else for(var L=0;L<a.length;L++)if(a[L]===I){a.splice(L,1);break}}return[u,p]}var j=d(3621),z=d(313);function N(n,a,u){a===void 0&&(a=1/0),u===void 0&&(u=1/0);try{return U("",n,a,u)}catch(p){return{ERROR:"**non-serializable** ("+p+")"}}}function w(n,a,u){a===void 0&&(a=3),u===void 0&&(u=102400);var p=N(n,a);return v(p)>u?w(n,a-1,u):p}function U(n,a,u,p,I){u===void 0&&(u=1/0),p===void 0&&(p=1/0),I===void 0&&(I=P());var L=(0,k.CR)(I,2),F=L[0],M=L[1],c=a;if(c&&typeof c.toJSON=="function")try{return c.toJSON()}catch{}if(a===null||["number","boolean","string"].includes(typeof a)&&!(0,h.i2)(a))return a;var x=Y(n,a);if(!x.startsWith("[object "))return x;if(u===0)return x.replace("object ","");if(F(a))return"[Circular ~]";var X=Array.isArray(a)?[]:{},D=0,G=(0,h.VZ)(a)||(0,h.cO)(a)?(0,j.Sh)(a):a;for(var C in G)if(Object.prototype.hasOwnProperty.call(G,C)){if(D>=p){X[C]="[MaxProperties ~]";break}var T=G[C];X[C]=U(C,T,u-1,p,I),D+=1}return M(a),X}function Y(n,a){try{return n==="domain"&&a&&typeof a=="object"&&a._events?"[Domain]":n==="domainEmitter"?"[DomainEmitter]":d.g!==void 0&&a===d.g?"[Global]":typeof window<"u"&&a===window?"[Window]":typeof document<"u"&&a===document?"[Document]":(0,h.Cy)(a)?"[SyntheticEvent]":typeof a=="number"&&a!=a?"[NaN]":a===void 0?"[undefined]":typeof a=="function"?"[Function: "+(0,z.$P)(a)+"]":typeof a=="symbol"?"["+String(a)+"]":typeof a=="bigint"?"[BigInt: "+String(a)+"]":"[object "+Object.getPrototypeOf(a).constructor.name+"]"}catch(u){return"**non-serializable** ("+u+")"}}function E(n){return~-encodeURI(n).split(/%..|./).length}function v(n){return E(JSON.stringify(n))}},3621:(Ae,le,d)=>{d.d(le,{$Q:()=>w,HK:()=>U,Jr:()=>u,Sh:()=>E,_j:()=>Y,hl:()=>z,xp:()=>N,zf:()=>a});var k=d(4175),h=d(6448),P=d(9293),j=d(3553);function z(p,I,L){if(I in p){var F=p[I],M=L(F);if(typeof M=="function")try{w(M,F)}catch{}p[I]=M}}function N(p,I,L){Object.defineProperty(p,I,{value:L,writable:!0,configurable:!0})}function w(p,I){var L=I.prototype||{};p.prototype=I.prototype=L,N(p,"__sentry_original__",I)}function U(p){return p.__sentry_original__}function Y(p){return Object.keys(p).map(function(I){return encodeURIComponent(I)+"="+encodeURIComponent(p[I])}).join("&")}function E(p){var I=p;if((0,P.VZ)(p))I=(0,k.pi)({message:p.message,name:p.name,stack:p.stack},n(p));else if((0,P.cO)(p)){var L=p;I=(0,k.pi)({type:L.type,target:v(L.target),currentTarget:v(L.currentTarget)},n(L)),typeof CustomEvent<"u"&&(0,P.V9)(p,CustomEvent)&&(I.detail=L.detail)}return I}function v(p){try{return(0,P.kK)(p)?(0,h.R)(p):Object.prototype.toString.call(p)}catch{return"<unknown>"}}function n(p){var I={};for(var L in p)Object.prototype.hasOwnProperty.call(p,L)&&(I[L]=p[L]);return I}function a(p,I){I===void 0&&(I=40);var L=Object.keys(E(p));if(L.sort(),!L.length)return"[object has no keys]";if(L[0].length>=I)return(0,j.$G)(L[0],I);for(var F=L.length;F>0;F--){var M=L.slice(0,F).join(", ");if(!(M.length>I))return F===L.length?M:(0,j.$G)(M,I)}return""}function u(p){var I,L;if((0,P.PO)(p)){var F={};try{for(var M=(0,k.XA)(Object.keys(p)),c=M.next();!c.done;c=M.next()){var x=c.value;p[x]!==void 0&&(F[x]=u(p[x]))}}catch(X){I={error:X}}finally{try{c&&!c.done&&(L=M.return)&&L.call(M)}finally{if(I)throw I.error}}return F}return Array.isArray(p)?p.map(u):p}},9765:(Ae,le,d)=>{d.d(le,{x:()=>P});var k=d(2190),h=d(7593);function P(j){var z=[];function N(){return j===void 0||z.length<j}function w(E){return z.splice(z.indexOf(E),1)[0]}function U(E){if(!N())return(0,h.$2)(new k.b("Not adding Promise due to buffer limit reached."));var v=E();return z.indexOf(v)===-1&&z.push(v),v.then(function(){return w(v)}).then(null,function(){return w(v).then(null,function(){})}),v}function Y(E){return new h.cW(function(v,n){var a=z.length;if(!a)return v(!0);var u=setTimeout(function(){E&&E>0&&v(!1)},E);z.forEach(function(p){(0,h.WD)(p).then(function(){--a||(clearTimeout(u),v(!0))},n)})})}return{$:z,add:U,drain:Y}}},2105:(Ae,le,d)=>{d.d(le,{Q:()=>z,WG:()=>N,ns:()=>j});var k=d(4175),h=6e4;function P(w,U){U===void 0&&(U=Date.now());var Y=parseInt(""+w,10);if(!isNaN(Y))return 1e3*Y;var E=Date.parse(""+w);return isNaN(E)?h:E-U}function j(w,U){return w[U]||w.all||0}function z(w,U,Y){return Y===void 0&&(Y=Date.now()),j(w,U)>Y}function N(w,U,Y){var E,v,n,a;Y===void 0&&(Y=Date.now());var u=(0,k.pi)({},w),p=U["x-sentry-rate-limits"],I=U["retry-after"];if(p)try{for(var L=(0,k.XA)(p.trim().split(",")),F=L.next();!F.done;F=L.next()){var M=F.value.split(":",2),c=parseInt(M[0],10),x=1e3*(isNaN(c)?60:c);if(M[1])try{for(var X=(n=void 0,(0,k.XA)(M[1].split(";"))),D=X.next();!D.done;D=X.next())u[D.value]=Y+x}catch(G){n={error:G}}finally{try{D&&!D.done&&(a=X.return)&&a.call(X)}finally{if(n)throw n.error}}else u.all=Y+x}}catch(G){E={error:G}}finally{try{F&&!F.done&&(v=L.return)&&v.call(L)}finally{if(E)throw E.error}}else I&&(u.all=Y+P(I,Y));return u}},313:(Ae,le,d)=>{d.d(le,{$P:()=>N,pE:()=>P});var k=d(4175),h=50;function P(){for(var w=[],U=0;U<arguments.length;U++)w[U]=arguments[U];var Y=w.sort(function(E,v){return E[0]-v[0]}).map(function(E){return E[1]});return function(E,v){var n,a,u,p;v===void 0&&(v=0);var I=[];try{for(var L=(0,k.XA)(E.split(`
`).slice(v)),F=L.next();!F.done;F=L.next()){var M=F.value;try{for(var c=(u=void 0,(0,k.XA)(Y)),x=c.next();!x.done;x=c.next()){var X=(0,x.value)(M);if(X){I.push(X);break}}}catch(D){u={error:D}}finally{try{x&&!x.done&&(p=c.return)&&p.call(c)}finally{if(u)throw u.error}}}}catch(D){n={error:D}}finally{try{F&&!F.done&&(a=L.return)&&a.call(L)}finally{if(n)throw n.error}}return j(I)}}function j(w){if(!w.length)return[];var U=w,Y=U[0].function||"",E=U[U.length-1].function||"";return Y.indexOf("captureMessage")===-1&&Y.indexOf("captureException")===-1||(U=U.slice(1)),E.indexOf("sentryWrapped")!==-1&&(U=U.slice(0,-1)),U.slice(0,h).map(function(v){return(0,k.pi)((0,k.pi)({},v),{filename:v.filename||U[0].filename,function:v.function||"?"})}).reverse()}var z="<anonymous>";function N(w){try{return w&&typeof w=="function"&&w.name||z}catch{return z}}},6222:(Ae,le,d)=>{function k(h){return h>=200&&h<300?"success":h===429?"rate_limit":h>=400&&h<500?"invalid":h>=500?"failed":"unknown"}d.d(le,{F:()=>k})},3553:(Ae,le,d)=>{d.d(le,{$G:()=>h,nK:()=>P,zC:()=>j});var k=d(9293);function h(z,N){return N===void 0&&(N=0),typeof z!="string"||N===0||z.length<=N?z:z.substr(0,N)+"..."}function P(z,N){if(!Array.isArray(z))return"";for(var w=[],U=0;U<z.length;U++){var Y=z[U];try{w.push(String(Y))}catch{w.push("[value cannot be serialized]")}}return w.join(N)}function j(z,N){return!!(0,k.HD)(z)&&((0,k.Kj)(N)?N.test(z):typeof N=="string"&&z.indexOf(N)!==-1)}},9018:(Ae,le,d)=>{d.d(le,{Ak:()=>j,Bf:()=>U,Du:()=>z,hv:()=>w,t$:()=>N});var k=d(5800),h=d(3868),P=d(8321);function j(){if(!("fetch"in(0,h.R)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch{return!1}}function z(Y){return Y&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(Y.toString())}function N(){if(!j())return!1;var Y=(0,h.R)();if(z(Y.fetch))return!0;var E=!1,v=Y.document;if(v&&typeof v.createElement=="function")try{var n=v.createElement("iframe");n.hidden=!0,v.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(E=z(n.contentWindow.fetch)),v.head.removeChild(n)}catch(a){(0,k.c)()&&P.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",a)}return E}function w(){if(!j())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch{return!1}}function U(){var Y=(0,h.R)(),E=Y.chrome,v=E&&E.app&&E.app.runtime,n="history"in Y&&!!Y.history.pushState&&!!Y.history.replaceState;return!v&&n}},7593:(Ae,le,d)=>{d.d(le,{$2:()=>P,WD:()=>h,cW:()=>j});var k=d(9293);function h(z){return new j(function(N){N(z)})}function P(z){return new j(function(N,w){w(z)})}var j=function(){function z(N){var w=this;this._state=0,this._handlers=[],this._resolve=function(U){w._setResult(1,U)},this._reject=function(U){w._setResult(2,U)},this._setResult=function(U,Y){w._state===0&&((0,k.J8)(Y)?Y.then(w._resolve,w._reject):(w._state=U,w._value=Y,w._executeHandlers()))},this._executeHandlers=function(){if(w._state!==0){var U=w._handlers.slice();w._handlers=[],U.forEach(function(Y){Y[0]||(w._state===1&&Y[1](w._value),w._state===2&&Y[2](w._value),Y[0]=!0)})}};try{N(this._resolve,this._reject)}catch(U){this._reject(U)}}return z.prototype.then=function(N,w){var U=this;return new z(function(Y,E){U._handlers.push([!1,function(v){if(N)try{Y(N(v))}catch(n){E(n)}else Y(v)},function(v){if(w)try{Y(w(v))}catch(n){E(n)}else E(v)}]),U._executeHandlers()})},z.prototype.catch=function(N){return this.then(function(w){return w},N)},z.prototype.finally=function(N){var w=this;return new z(function(U,Y){var E,v;return w.then(function(n){v=!1,E=n,N&&N()},function(n){v=!0,E=n,N&&N()}).then(function(){v?Y(E):U(E)})})},z}()},6629:(Ae,le,d)=>{d.d(le,{ph:()=>Y,yW:()=>U});var k=d(3868),h=d(8790);Ae=d.hmd(Ae);var P={nowSeconds:function(){return Date.now()/1e3}};function j(){var E=(0,k.R)().performance;if(E&&E.now)return{now:function(){return E.now()},timeOrigin:Date.now()-E.now()}}function z(){try{return(0,h.l$)(Ae,"perf_hooks").performance}catch{return}}var N=(0,h.KV)()?z():j(),w=N===void 0?P:{nowSeconds:function(){return(N.timeOrigin+N.now())/1e3}},U=P.nowSeconds.bind(P),Y=w.nowSeconds.bind(w);(function(){var E=(0,k.R)().performance;if(E&&E.now){var v=36e5,n=E.now(),a=Date.now(),u=E.timeOrigin?Math.abs(E.timeOrigin+n-a):v,p=u<v,I=E.timing&&E.timing.navigationStart,L=typeof I=="number"?Math.abs(I+n-a):v;return p||L<v?u<=L?E.timeOrigin:I:a}})()},4175:(Ae,le,d)=>{d.d(le,{CR:()=>z,XA:()=>j,ZT:()=>h,fl:()=>N,pi:()=>P});var k=function(w,U){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,E){Y.__proto__=E}||function(Y,E){for(var v in E)E.hasOwnProperty(v)&&(Y[v]=E[v])},k(w,U)};function h(w,U){function Y(){this.constructor=w}k(w,U),w.prototype=U===null?Object.create(U):(Y.prototype=U.prototype,new Y)}var P=function(){return P=Object.assign||function(w){for(var U,Y=1,E=arguments.length;Y<E;Y++)for(var v in U=arguments[Y])Object.prototype.hasOwnProperty.call(U,v)&&(w[v]=U[v]);return w},P.apply(this,arguments)};function j(w){var U=typeof Symbol=="function"&&Symbol.iterator,Y=U&&w[U],E=0;if(Y)return Y.call(w);if(w&&typeof w.length=="number")return{next:function(){return w&&E>=w.length&&(w=void 0),{value:w&&w[E++],done:!w}}};throw new TypeError(U?"Object is not iterable.":"Symbol.iterator is not defined.")}function z(w,U){var Y=typeof Symbol=="function"&&w[Symbol.iterator];if(!Y)return w;var E,v,n=Y.call(w),a=[];try{for(;(U===void 0||U-- >0)&&!(E=n.next()).done;)a.push(E.value)}catch(u){v={error:u}}finally{try{E&&!E.done&&(Y=n.return)&&Y.call(n)}finally{if(v)throw v.error}}return a}function N(){for(var w=[],U=0;U<arguments.length;U++)w=w.concat(z(arguments[U]));return w}},3410:(Ae,le,d)=>{var k=typeof window<"u"?window:d.g!==void 0?d.g:typeof self<"u"?self:{};k.SENTRY_RELEASE={id:"Plinko (game: v0.0.27_v14.6.4, utils: v14.6.4)"},k.SENTRY_RELEASES=k.SENTRY_RELEASES||{},k.SENTRY_RELEASES["games-front-end@sentry"]={id:"Plinko (game: v0.0.27_v14.6.4, utils: v14.6.4)"}},6957:Ae=>{function le(b,R,O){O=O||2;var W,Q,ee,ne,be,Ie,Oe,ue=R&&R.length,y=ue?R[0]*O:b.length,B=d(b,0,y,O,!0),V=[];if(!B||B.next===B.prev)return V;if(ue&&(B=w(b,R,B,O)),b.length>80*O){W=ee=b[0],Q=ne=b[1];for(var te=O;te<y;te+=O)(be=b[te])<W&&(W=be),(Ie=b[te+1])<Q&&(Q=Ie),be>ee&&(ee=be),Ie>ne&&(ne=Ie);Oe=(Oe=Math.max(ee-W,ne-Q))!==0?1/Oe:0}return h(B,V,O,W,Q,Oe),V}function d(b,R,O,W,Q){var ee,ne;if(Q===A(b,R,O,W)>0)for(ee=R;ee<O;ee+=W)ne=J(ee,b[ee],b[ee+1],ne);else for(ee=O-W;ee>=R;ee-=W)ne=J(ee,b[ee],b[ee+1],ne);return ne&&M(ne,ne.next)&&(q(ne),ne=ne.next),ne}function k(b,R){if(!b)return b;R||(R=b);var O,W=b;do if(O=!1,W.steiner||!M(W,W.next)&&F(W.prev,W,W.next)!==0)W=W.next;else{if(q(W),(W=R=W.prev)===W.next)break;O=!0}while(O||W!==R);return R}function h(b,R,O,W,Q,ee,ne){if(b){!ne&&ee&&n(b,W,Q,ee);for(var be,Ie,Oe=b;b.prev!==b.next;)if(be=b.prev,Ie=b.next,ee?j(b,W,Q,ee):P(b))R.push(be.i/O),R.push(b.i/O),R.push(Ie.i/O),q(b),b=Ie.next,Oe=Ie.next;else if((b=Ie)===Oe){ne?ne===1?h(b=z(k(b),R,O),R,O,W,Q,ee,2):ne===2&&N(b,R,O,W,Q,ee):h(k(b),R,O,W,Q,ee,1);break}}}function P(b){var R=b.prev,O=b,W=b.next;if(F(R,O,W)>=0)return!1;for(var Q=b.next.next;Q!==b.prev;){if(I(R.x,R.y,O.x,O.y,W.x,W.y,Q.x,Q.y)&&F(Q.prev,Q,Q.next)>=0)return!1;Q=Q.next}return!0}function j(b,R,O,W){var Q=b.prev,ee=b,ne=b.next;if(F(Q,ee,ne)>=0)return!1;for(var be=Q.x<ee.x?Q.x<ne.x?Q.x:ne.x:ee.x<ne.x?ee.x:ne.x,Ie=Q.y<ee.y?Q.y<ne.y?Q.y:ne.y:ee.y<ne.y?ee.y:ne.y,Oe=Q.x>ee.x?Q.x>ne.x?Q.x:ne.x:ee.x>ne.x?ee.x:ne.x,ue=Q.y>ee.y?Q.y>ne.y?Q.y:ne.y:ee.y>ne.y?ee.y:ne.y,y=u(be,Ie,R,O,W),B=u(Oe,ue,R,O,W),V=b.prevZ,te=b.nextZ;V&&V.z>=y&&te&&te.z<=B;){if(V!==b.prev&&V!==b.next&&I(Q.x,Q.y,ee.x,ee.y,ne.x,ne.y,V.x,V.y)&&F(V.prev,V,V.next)>=0||(V=V.prevZ,te!==b.prev&&te!==b.next&&I(Q.x,Q.y,ee.x,ee.y,ne.x,ne.y,te.x,te.y)&&F(te.prev,te,te.next)>=0))return!1;te=te.nextZ}for(;V&&V.z>=y;){if(V!==b.prev&&V!==b.next&&I(Q.x,Q.y,ee.x,ee.y,ne.x,ne.y,V.x,V.y)&&F(V.prev,V,V.next)>=0)return!1;V=V.prevZ}for(;te&&te.z<=B;){if(te!==b.prev&&te!==b.next&&I(Q.x,Q.y,ee.x,ee.y,ne.x,ne.y,te.x,te.y)&&F(te.prev,te,te.next)>=0)return!1;te=te.nextZ}return!0}function z(b,R,O){var W=b;do{var Q=W.prev,ee=W.next.next;!M(Q,ee)&&c(Q,W,W.next,ee)&&G(Q,ee)&&G(ee,Q)&&(R.push(Q.i/O),R.push(W.i/O),R.push(ee.i/O),q(W),q(W.next),W=b=ee),W=W.next}while(W!==b);return k(W)}function N(b,R,O,W,Q,ee){var ne=b;do{for(var be=ne.next.next;be!==ne.prev;){if(ne.i!==be.i&&L(ne,be)){var Ie=T(ne,be);return ne=k(ne,ne.next),Ie=k(Ie,Ie.next),h(ne,R,O,W,Q,ee),void h(Ie,R,O,W,Q,ee)}be=be.next}ne=ne.next}while(ne!==b)}function w(b,R,O,W){var Q,ee,ne,be=[];for(Q=0,ee=R.length;Q<ee;Q++)(ne=d(b,R[Q]*W,Q<ee-1?R[Q+1]*W:b.length,W,!1))===ne.next&&(ne.steiner=!0),be.push(p(ne));for(be.sort(U),Q=0;Q<be.length;Q++)O=k(O=Y(be[Q],O),O.next);return O}function U(b,R){return b.x-R.x}function Y(b,R){var O=E(b,R);if(!O)return R;var W=T(O,b),Q=k(O,O.next);return k(W,W.next),R===O?Q:R}function E(b,R){var O,W=R,Q=b.x,ee=b.y,ne=-1/0;do{if(ee<=W.y&&ee>=W.next.y&&W.next.y!==W.y){var be=W.x+(ee-W.y)*(W.next.x-W.x)/(W.next.y-W.y);if(be<=Q&&be>ne){if(ne=be,be===Q){if(ee===W.y)return W;if(ee===W.next.y)return W.next}O=W.x<W.next.x?W:W.next}}W=W.next}while(W!==R);if(!O)return null;if(Q===ne)return O;var Ie,Oe=O,ue=O.x,y=O.y,B=1/0;W=O;do Q>=W.x&&W.x>=ue&&Q!==W.x&&I(ee<y?Q:ne,ee,ue,y,ee<y?ne:Q,ee,W.x,W.y)&&(Ie=Math.abs(ee-W.y)/(Q-W.x),G(W,b)&&(Ie<B||Ie===B&&(W.x>O.x||W.x===O.x&&v(O,W)))&&(O=W,B=Ie)),W=W.next;while(W!==Oe);return O}function v(b,R){return F(b.prev,b,R.prev)<0&&F(R.next,b,b.next)<0}function n(b,R,O,W){var Q=b;do Q.z===null&&(Q.z=u(Q.x,Q.y,R,O,W)),Q.prevZ=Q.prev,Q.nextZ=Q.next,Q=Q.next;while(Q!==b);Q.prevZ.nextZ=null,Q.prevZ=null,a(Q)}function a(b){var R,O,W,Q,ee,ne,be,Ie,Oe=1;do{for(O=b,b=null,ee=null,ne=0;O;){for(ne++,W=O,be=0,R=0;R<Oe&&(be++,W=W.nextZ);R++);for(Ie=Oe;be>0||Ie>0&&W;)be!==0&&(Ie===0||!W||O.z<=W.z)?(Q=O,O=O.nextZ,be--):(Q=W,W=W.nextZ,Ie--),ee?ee.nextZ=Q:b=Q,Q.prevZ=ee,ee=Q;O=W}ee.nextZ=null,Oe*=2}while(ne>1);return b}function u(b,R,O,W,Q){return(b=1431655765&((b=858993459&((b=252645135&((b=16711935&((b=32767*(b-O)*Q)|b<<8))|b<<4))|b<<2))|b<<1))|(R=1431655765&((R=858993459&((R=252645135&((R=16711935&((R=32767*(R-W)*Q)|R<<8))|R<<4))|R<<2))|R<<1))<<1}function p(b){var R=b,O=b;do(R.x<O.x||R.x===O.x&&R.y<O.y)&&(O=R),R=R.next;while(R!==b);return O}function I(b,R,O,W,Q,ee,ne,be){return(Q-ne)*(R-be)-(b-ne)*(ee-be)>=0&&(b-ne)*(W-be)-(O-ne)*(R-be)>=0&&(O-ne)*(ee-be)-(Q-ne)*(W-be)>=0}function L(b,R){return b.next.i!==R.i&&b.prev.i!==R.i&&!D(b,R)&&(G(b,R)&&G(R,b)&&C(b,R)&&(F(b.prev,b,R.prev)||F(b,R.prev,R))||M(b,R)&&F(b.prev,b,b.next)>0&&F(R.prev,R,R.next)>0)}function F(b,R,O){return(R.y-b.y)*(O.x-R.x)-(R.x-b.x)*(O.y-R.y)}function M(b,R){return b.x===R.x&&b.y===R.y}function c(b,R,O,W){var Q=X(F(b,R,O)),ee=X(F(b,R,W)),ne=X(F(O,W,b)),be=X(F(O,W,R));return Q!==ee&&ne!==be||!(Q!==0||!x(b,O,R))||!(ee!==0||!x(b,W,R))||!(ne!==0||!x(O,b,W))||!(be!==0||!x(O,R,W))}function x(b,R,O){return R.x<=Math.max(b.x,O.x)&&R.x>=Math.min(b.x,O.x)&&R.y<=Math.max(b.y,O.y)&&R.y>=Math.min(b.y,O.y)}function X(b){return b>0?1:b<0?-1:0}function D(b,R){var O=b;do{if(O.i!==b.i&&O.next.i!==b.i&&O.i!==R.i&&O.next.i!==R.i&&c(O,O.next,b,R))return!0;O=O.next}while(O!==b);return!1}function G(b,R){return F(b.prev,b,b.next)<0?F(b,R,b.next)>=0&&F(b,b.prev,R)>=0:F(b,R,b.prev)<0||F(b,b.next,R)<0}function C(b,R){var O=b,W=!1,Q=(b.x+R.x)/2,ee=(b.y+R.y)/2;do O.y>ee!=O.next.y>ee&&O.next.y!==O.y&&Q<(O.next.x-O.x)*(ee-O.y)/(O.next.y-O.y)+O.x&&(W=!W),O=O.next;while(O!==b);return W}function T(b,R){var O=new K(b.i,b.x,b.y),W=new K(R.i,R.x,R.y),Q=b.next,ee=R.prev;return b.next=R,R.prev=b,O.next=Q,Q.prev=O,W.next=O,O.prev=W,ee.next=W,W.prev=ee,W}function J(b,R,O,W){var Q=new K(b,R,O);return W?(Q.next=W.next,Q.prev=W,W.next.prev=Q,W.next=Q):(Q.prev=Q,Q.next=Q),Q}function q(b){b.next.prev=b.prev,b.prev.next=b.next,b.prevZ&&(b.prevZ.nextZ=b.nextZ),b.nextZ&&(b.nextZ.prevZ=b.prevZ)}function K(b,R,O){this.i=b,this.x=R,this.y=O,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(b,R,O,W){for(var Q=0,ee=R,ne=O-W;ee<O;ee+=W)Q+=(b[ne]-b[ee])*(b[ee+1]+b[ne+1]),ne=ee;return Q}Ae.exports=le,Ae.exports.default=le,le.deviation=function(b,R,O,W){var Q=R&&R.length,ee=Q?R[0]*O:b.length,ne=Math.abs(A(b,0,ee,O));if(Q)for(var be=0,Ie=R.length;be<Ie;be++){var Oe=R[be]*O,ue=be<Ie-1?R[be+1]*O:b.length;ne-=Math.abs(A(b,Oe,ue,O))}var y=0;for(be=0;be<W.length;be+=3){var B=W[be]*O,V=W[be+1]*O,te=W[be+2]*O;y+=Math.abs((b[B]-b[te])*(b[V+1]-b[B+1])-(b[B]-b[V])*(b[te+1]-b[B+1]))}return ne===0&&y===0?0:Math.abs((y-ne)/ne)},le.flatten=function(b){for(var R=b[0][0].length,O={vertices:[],holes:[],dimensions:R},W=0,Q=0;Q<b.length;Q++){for(var ee=0;ee<b[Q].length;ee++)for(var ne=0;ne<R;ne++)O.vertices.push(b[Q][ee][ne]);Q>0&&(W+=b[Q-1].length,O.holes.push(W))}return O}},6913:Ae=>{var le=Object.prototype.hasOwnProperty,d="~";function k(){}function h(N,w,U){this.fn=N,this.context=w,this.once=U||!1}function P(N,w,U,Y,E){if(typeof U!="function")throw new TypeError("The listener must be a function");var v=new h(U,Y||N,E),n=d?d+w:w;return N._events[n]?N._events[n].fn?N._events[n]=[N._events[n],v]:N._events[n].push(v):(N._events[n]=v,N._eventsCount++),N}function j(N,w){--N._eventsCount==0?N._events=new k:delete N._events[w]}function z(){this._events=new k,this._eventsCount=0}Object.create&&(k.prototype=Object.create(null),new k().__proto__||(d=!1)),z.prototype.eventNames=function(){var N,w,U=[];if(this._eventsCount===0)return U;for(w in N=this._events)le.call(N,w)&&U.push(d?w.slice(1):w);return Object.getOwnPropertySymbols?U.concat(Object.getOwnPropertySymbols(N)):U},z.prototype.listeners=function(N){var w=d?d+N:N,U=this._events[w];if(!U)return[];if(U.fn)return[U.fn];for(var Y=0,E=U.length,v=new Array(E);Y<E;Y++)v[Y]=U[Y].fn;return v},z.prototype.listenerCount=function(N){var w=d?d+N:N,U=this._events[w];return U?U.fn?1:U.length:0},z.prototype.emit=function(N,w,U,Y,E,v){var n=d?d+N:N;if(!this._events[n])return!1;var a,u,p=this._events[n],I=arguments.length;if(p.fn){switch(p.once&&this.removeListener(N,p.fn,void 0,!0),I){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,w),!0;case 3:return p.fn.call(p.context,w,U),!0;case 4:return p.fn.call(p.context,w,U,Y),!0;case 5:return p.fn.call(p.context,w,U,Y,E),!0;case 6:return p.fn.call(p.context,w,U,Y,E,v),!0}for(u=1,a=new Array(I-1);u<I;u++)a[u-1]=arguments[u];p.fn.apply(p.context,a)}else{var L,F=p.length;for(u=0;u<F;u++)switch(p[u].once&&this.removeListener(N,p[u].fn,void 0,!0),I){case 1:p[u].fn.call(p[u].context);break;case 2:p[u].fn.call(p[u].context,w);break;case 3:p[u].fn.call(p[u].context,w,U);break;case 4:p[u].fn.call(p[u].context,w,U,Y);break;default:if(!a)for(L=1,a=new Array(I-1);L<I;L++)a[L-1]=arguments[L];p[u].fn.apply(p[u].context,a)}}return!0},z.prototype.on=function(N,w,U){return P(this,N,w,U,!1)},z.prototype.once=function(N,w,U){return P(this,N,w,U,!0)},z.prototype.removeListener=function(N,w,U,Y){var E=d?d+N:N;if(!this._events[E])return this;if(!w)return j(this,E),this;var v=this._events[E];if(v.fn)v.fn!==w||Y&&!v.once||U&&v.context!==U||j(this,E);else{for(var n=0,a=[],u=v.length;n<u;n++)(v[n].fn!==w||Y&&!v[n].once||U&&v[n].context!==U)&&a.push(v[n]);a.length?this._events[E]=a.length===1?a[0]:a:j(this,E)}return this},z.prototype.removeAllListeners=function(N){var w;return N?(w=d?d+N:N,this._events[w]&&j(this,w)):(this._events=new k,this._eventsCount=0),this},z.prototype.off=z.prototype.removeListener,z.prototype.addListener=z.prototype.on,z.prefixed=d,z.EventEmitter=z,Ae.exports=z},379:Ae=>{function le(E,v){var n=v&&v.cache?v.cache:Y,a=v&&v.serializer?v.serializer:w;return(v&&v.strategy?v.strategy:j)(E,{cache:n,serializer:a})}function d(E){return E==null||typeof E=="number"||typeof E=="boolean"}function k(E,v,n,a){var u=d(a)?a:n(a),p=v.get(u);return p===void 0&&(p=E.call(this,a),v.set(u,p)),p}function h(E,v,n){var a=Array.prototype.slice.call(arguments,3),u=n(a),p=v.get(u);return p===void 0&&(p=E.apply(this,a),v.set(u,p)),p}function P(E,v,n,a,u){return n.bind(v,E,a,u)}function j(E,v){return P(E,this,E.length===1?k:h,v.cache.create(),v.serializer)}function z(E,v){return P(E,this,h,v.cache.create(),v.serializer)}function N(E,v){return P(E,this,k,v.cache.create(),v.serializer)}function w(){return JSON.stringify(arguments)}function U(){this.cache=Object.create(null)}U.prototype.has=function(E){return E in this.cache},U.prototype.get=function(E){return this.cache[E]},U.prototype.set=function(E,v){this.cache[E]=v};var Y={create:function(){return new U}};Ae.exports=le,Ae.exports.strategies={variadic:z,monadic:N}},7287:(Ae,le,d)=>{var{webm:k,mp4:h}=d(9812),P=()=>typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,j=()=>"wakeLock"in navigator;class z{constructor(){if(this.enabled=!1,j()){this._wakeLock=null;var w=()=>{this._wakeLock!==null&&document.visibilityState==="visible"&&this.enable()};document.addEventListener("visibilitychange",w),document.addEventListener("fullscreenchange",w)}else P()?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",k),this._addSourceToVideo(this.noSleepVideo,"mp4",h),this.noSleepVideo.addEventListener("loadedmetadata",()=>{this.noSleepVideo.duration<=1?this.noSleepVideo.setAttribute("loop",""):this.noSleepVideo.addEventListener("timeupdate",()=>{this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())})}))}_addSourceToVideo(w,U,Y){var E=document.createElement("source");E.src=Y,E.type=`video/${U}`,w.appendChild(E)}get isEnabled(){return this.enabled}enable(){return j()?navigator.wakeLock.request("screen").then(w=>{this._wakeLock=w,this.enabled=!0,console.log("Wake Lock active."),this._wakeLock.addEventListener("release",()=>{console.log("Wake Lock released.")})}).catch(w=>{throw this.enabled=!1,console.error(`${w.name}, ${w.message}`),w}):P()?(this.disable(),console.warn(`
        NoSleep enabled for older iOS devices. This can interrupt
        active or long-running network requests from completing successfully.
        See https://github.com/richtr/NoSleep.js/issues/15 for more details.
      `),this.noSleepTimer=window.setInterval(()=>{document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))},15e3),this.enabled=!0,Promise.resolve()):this.noSleepVideo.play().then(w=>(this.enabled=!0,w)).catch(w=>{throw this.enabled=!1,w})}disable(){j()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):P()?this.noSleepTimer&&(console.warn(`
          NoSleep now disabled for older iOS devices.
        `),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause(),this.enabled=!1}}Ae.exports=z},9812:Ae=>{Ae.exports={webm:"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK",mp4:"data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"}},7842:Ae=>{var le=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;function h(j){if(j==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(j)}function P(){try{if(!Object.assign)return!1;var j=new String("abc");if(j[5]="de",Object.getOwnPropertyNames(j)[0]==="5")return!1;for(var z={},N=0;N<10;N++)z["_"+String.fromCharCode(N)]=N;if(Object.getOwnPropertyNames(z).map(function(U){return z[U]}).join("")!=="0123456789")return!1;var w={};return"abcdefghijklmnopqrst".split("").forEach(function(U){w[U]=U}),Object.keys(Object.assign({},w)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}Ae.exports=P()?Object.assign:function(j,z){for(var N,w,U=h(j),Y=1;Y<arguments.length;Y++){for(var E in N=Object(arguments[Y]))d.call(N,E)&&(U[E]=N[E]);if(le){w=le(N);for(var v=0;v<w.length;v++)k.call(N,w[v])&&(U[w[v]]=N[w[v]])}}return U}},6107:(Ae,le,d)=>{function k(e){var s=this.constructor;return this.then(function(l){return s.resolve(e()).then(function(){return l})},function(l){return s.resolve(e()).then(function(){return s.reject(l)})})}d.r(le),d.d(le,{ALPHA_MODES:()=>at.iw,AbstractBatchRenderer:()=>de.eo,AbstractMultiResource:()=>de.M4,AbstractRenderer:()=>de.I8,AccessibilityManager:()=>ne,AnimatedSprite:()=>sr,AppLoaderPlugin:()=>Ne,Application:()=>ge,ArrayResource:()=>de.$N,Attribute:()=>de.ah,BLEND_MODES:()=>at.T$,BUFFER_BITS:()=>at.V0,BUFFER_TYPE:()=>at.mr,BaseImageResource:()=>de.bg,BasePrepare:()=>Ei.Zq,BaseRenderTexture:()=>de.jd,BaseTexture:()=>de.VL,BatchDrawCall:()=>de.a$,BatchGeometry:()=>de.JZ,BatchPluginFactory:()=>de.TJ,BatchRenderer:()=>de.Bv,BatchShaderGenerator:()=>de.Zk,BatchSystem:()=>de.Sj,BatchTextureArray:()=>de.Ie,BitmapFont:()=>Bi,BitmapFontData:()=>Ai,BitmapFontLoader:()=>Ii,BitmapText:()=>Jn,BlobResource:()=>fn,Bounds:()=>T.YZ,Buffer:()=>de.lW,BufferResource:()=>de.qm,CLEAR_MODES:()=>at.yl,CanvasResource:()=>de.Y8,Circle:()=>be.Cd,CompressedTextureLoader:()=>gn,CompressedTextureResource:()=>Yi,Container:()=>T.W2,ContextSystem:()=>de.lH,CountLimiter:()=>Ei.fh,CubeResource:()=>de.TA,DDSLoader:()=>An,DEG_TO_RAD:()=>be.ZX,DRAW_MODES:()=>at.lg,DisplayObject:()=>T.s$,ENV:()=>at.Vi,Ellipse:()=>be.Pj,Extract:()=>We,FORMATS:()=>at.I2,FORMATS_TO_COMPONENTS:()=>sn,FillStyle:()=>Pi.ft,Filter:()=>de.wn,FilterState:()=>de.jV,FilterSystem:()=>de.kV,Framebuffer:()=>de.AI,FramebufferSystem:()=>de.WB,GC_MODES:()=>at.UN,GLFramebuffer:()=>de.tT,GLProgram:()=>de.Ei,GLTexture:()=>de.fy,GRAPHICS_CURVES:()=>Pi.wA,Geometry:()=>de.ZX,GeometrySystem:()=>de.TO,Graphics:()=>Pi.TC,GraphicsData:()=>Pi.iM,GraphicsGeometry:()=>Pi.RB,IGLUniformData:()=>de.W1,INSTALLED:()=>de.e_,INTERNAL_FORMATS:()=>st,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:()=>Dt,ImageBitmapResource:()=>de._w,ImageResource:()=>de.PA,InteractionData:()=>Oe,InteractionEvent:()=>B,InteractionManager:()=>Ce,InteractionTrackingData:()=>V,KTXLoader:()=>pi,LINE_CAP:()=>Pi.$o,LINE_JOIN:()=>Pi.S,LineStyle:()=>Pi.TD,Loader:()=>fe,LoaderResource:()=>De,MASK_TYPES:()=>at.A7,MIPMAP_MODES:()=>at.WB,MSAA_QUALITY:()=>at.G5,MaskData:()=>de.HI,MaskSystem:()=>de.zj,Matrix:()=>be.y3,Mesh:()=>vi.Kj,MeshBatchUvs:()=>vi.wQ,MeshGeometry:()=>vi.xc,MeshMaterial:()=>vi.rY,NineSlicePlane:()=>Wi.ZT,ObjectRenderer:()=>de.bO,ObservablePoint:()=>be.AB,PI_2:()=>be._b,PRECISION:()=>at.cB,ParticleContainer:()=>on.T,ParticleRenderer:()=>on.P,PlaneGeometry:()=>Wi._1,Point:()=>be.E9,Polygon:()=>be.mg,Prepare:()=>Ei.B9,Program:()=>de.$r,ProjectionSystem:()=>de.NW,Quad:()=>de.lD,QuadUv:()=>de.ud,RAD_TO_DEG:()=>be.jl,RENDERER_TYPE:()=>at.N3,Rectangle:()=>be.Ae,RenderTexture:()=>de.TI,RenderTexturePool:()=>de.uW,RenderTextureSystem:()=>de.J$,Renderer:()=>de.Th,Resource:()=>de._z,RopeGeometry:()=>Wi.Au,RoundedRectangle:()=>be.c9,Runner:()=>Vr.R,SAMPLER_TYPES:()=>at.oT,SCALE_MODES:()=>at.aH,SHAPES:()=>be.HS,SVGResource:()=>de.pX,ScissorSystem:()=>de.id,Shader:()=>de.ex,ShaderSystem:()=>de.p,SimpleMesh:()=>Wi.AL,SimplePlane:()=>Wi.VJ,SimpleRope:()=>Wi.IE,Sprite:()=>dn.j,SpriteMaskFilter:()=>de.z9,Spritesheet:()=>Xi,SpritesheetLoader:()=>qn,State:()=>de.ZM,StateSystem:()=>de.zI,StencilSystem:()=>de.Ld,System:()=>de.xP,TARGETS:()=>at.sp,TEXT_GRADIENT:()=>Si.M_,TYPES:()=>at.vK,TYPES_TO_BYTES_PER_COMPONENT:()=>Dn,TYPES_TO_BYTES_PER_PIXEL:()=>zn,TemporaryDisplayObject:()=>T.Ql,Text:()=>Si.xv,TextMetrics:()=>Si._A,TextStyle:()=>Si.pn,Texture:()=>de.xE,TextureGCSystem:()=>de.wr,TextureLoader:()=>Ge,TextureMatrix:()=>de.UX,TextureSystem:()=>de.CT,TextureUvs:()=>de.aF,Ticker:()=>Ie.vB,TickerPlugin:()=>Ie.Sb,TilingSprite:()=>Nn.o,TilingSpriteRenderer:()=>Nn.S,TimeLimiter:()=>Ei.FI,Transform:()=>be.wx,UPDATE_PRIORITY:()=>Ie.uF,UniformGroup:()=>de.oo,VERSION:()=>or,VideoResource:()=>de.eH,ViewableBuffer:()=>de.Rv,WRAP_MODES:()=>at.Nt,accessibleTarget:()=>J,autoDetectRenderer:()=>de.e6,autoDetectResource:()=>de.pb,checkMaxIfStatementsInShader:()=>de.a7,createUBOElements:()=>de.TF,defaultFilterVertex:()=>de.Y9,defaultVertex:()=>de.kP,filters:()=>Yr,generateProgram:()=>de.qw,generateUniformBufferSync:()=>de.K0,getTestContext:()=>de.Kc,getUBOData:()=>de.DL,graphicsUtils:()=>Pi.yR,groupD8:()=>be.Lv,interactiveTarget:()=>re,isMobile:()=>Li.t,resources:()=>de.Jb,settings:()=>Li.X,systems:()=>de.eG,uniformParsers:()=>de.sg,utils:()=>C});const h=k;function P(e){return new this(function(s,l){if(!e||e.length===void 0)return l(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var f=Array.prototype.slice.call(e);if(f.length===0)return s([]);var S=f.length;function he(Te,Pe){if(Pe&&(typeof Pe=="object"||typeof Pe=="function")){var we=Pe.then;if(typeof we=="function")return void we.call(Pe,function(Ue){he(Te,Ue)},function(Ue){f[Te]={status:"rejected",reason:Ue},--S==0&&s(f)})}f[Te]={status:"fulfilled",value:Pe},--S==0&&s(f)}for(var se=0;se<f.length;se++)he(se,f[se])})}const j=P;var z=setTimeout;function N(e){return!!(e&&e.length!==void 0)}function w(){}function U(e,s){return function(){e.apply(s,arguments)}}function Y(e){if(!(this instanceof Y))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function E(e,s){for(;e._state===3;)e=e._value;e._state!==0?(e._handled=!0,Y._immediateFn(function(){var l=e._state===1?s.onFulfilled:s.onRejected;if(l!==null){var f;try{f=l(e._value)}catch(S){return void n(s.promise,S)}v(s.promise,f)}else(e._state===1?v:n)(s.promise,e._value)})):e._deferreds.push(s)}function v(e,s){try{if(s===e)throw new TypeError("A promise cannot be resolved with itself.");if(s&&(typeof s=="object"||typeof s=="function")){var l=s.then;if(s instanceof Y)return e._state=3,e._value=s,void a(e);if(typeof l=="function")return void p(U(l,s),e)}e._state=1,e._value=s,a(e)}catch(f){n(e,f)}}function n(e,s){e._state=2,e._value=s,a(e)}function a(e){e._state===2&&e._deferreds.length===0&&Y._immediateFn(function(){e._handled||Y._unhandledRejectionFn(e._value)});for(var s=0,l=e._deferreds.length;s<l;s++)E(e,e._deferreds[s]);e._deferreds=null}function u(e,s,l){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof s=="function"?s:null,this.promise=l}function p(e,s){var l=!1;try{e(function(f){l||(l=!0,v(s,f))},function(f){l||(l=!0,n(s,f))})}catch(f){if(l)return;l=!0,n(s,f)}}Y.prototype.catch=function(e){return this.then(null,e)},Y.prototype.then=function(e,s){var l=new this.constructor(w);return E(this,new u(e,s,l)),l},Y.prototype.finally=h,Y.all=function(e){return new Y(function(s,l){if(!N(e))return l(new TypeError("Promise.all accepts an array"));var f=Array.prototype.slice.call(e);if(f.length===0)return s([]);var S=f.length;function he(Te,Pe){try{if(Pe&&(typeof Pe=="object"||typeof Pe=="function")){var we=Pe.then;if(typeof we=="function")return void we.call(Pe,function(Ue){he(Te,Ue)},l)}f[Te]=Pe,--S==0&&s(f)}catch(Ue){l(Ue)}}for(var se=0;se<f.length;se++)he(se,f[se])})},Y.allSettled=j,Y.resolve=function(e){return e&&typeof e=="object"&&e.constructor===Y?e:new Y(function(s){s(e)})},Y.reject=function(e){return new Y(function(s,l){l(e)})},Y.race=function(e){return new Y(function(s,l){if(!N(e))return l(new TypeError("Promise.race accepts an array"));for(var f=0,S=e.length;f<S;f++)Y.resolve(e[f]).then(s,l)})},Y._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){z(e,0)},Y._unhandledRejectionFn=function(e){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};const I=Y;var L=d(7842),F=d.n(L);typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:d.g!==void 0&&(d.g.globalThis=d.g)),globalThis.Promise||(globalThis.Promise=I),Object.assign||(Object.assign=F());var M=16;if(Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()}),!globalThis.performance||!globalThis.performance.now){var c=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-c}}for(var x=Date.now(),X=["ms","moz","webkit","o"],D=0;D<X.length&&!globalThis.requestAnimationFrame;++D){var G=X[D];globalThis.requestAnimationFrame=globalThis[G+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[G+"CancelAnimationFrame"]||globalThis[G+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(e){if(typeof e!="function")throw new TypeError(e+"is not a function");var s=Date.now(),l=M+x-s;return l<0&&(l=0),x=s,globalThis.self.setTimeout(function(){x=Date.now(),e(performance.now())},l)}),globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(e){return clearTimeout(e)}),Math.sign||(Math.sign=function(e){return(e=Number(e))===0||isNaN(e)?e:e>0?1:-1}),Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}),globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array),globalThis.Float32Array||(globalThis.Float32Array=Array),globalThis.Uint32Array||(globalThis.Uint32Array=Array),globalThis.Uint16Array||(globalThis.Uint16Array=Array),globalThis.Uint8Array||(globalThis.Uint8Array=Array),globalThis.Int32Array||(globalThis.Int32Array=Array);var C=d(5579),T=d(7909),J={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};T.s$.mixin(J);var q=9,K=100,A=0,b=0,R=2,O=1,W=-1e3,Q=-1e3,ee=2,ne=function(){function e(s){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(C.isMobile.tablet||C.isMobile.phone)&&this.createTouchHook();var l=document.createElement("div");l.style.width=K+"px",l.style.height=K+"px",l.style.position="absolute",l.style.top=A+"px",l.style.left=b+"px",l.style.zIndex=R.toString(),this.div=l,this.renderer=s,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),e.prototype.createTouchHook=function(){var s=this,l=document.createElement("button");l.style.width=O+"px",l.style.height=O+"px",l.style.position="absolute",l.style.top=W+"px",l.style.left=Q+"px",l.style.zIndex=ee.toString(),l.style.backgroundColor="#FF0000",l.title="select to enable accessibility for this content",l.addEventListener("focus",function(){s._isMobileAccessibility=!0,s.activate(),s.destroyTouchHook()}),document.body.appendChild(l),this._hookDiv=l},e.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},e.prototype.activate=function(){var s;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(s=this.renderer.view.parentNode)===null||s===void 0||s.appendChild(this.div))},e.prototype.deactivate=function(){var s;this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(s=this.div.parentNode)===null||s===void 0||s.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(s){if(s.visible&&s.accessibleChildren){s.accessible&&s.interactive&&(s._accessibleActive||this.addChild(s),s.renderId=this.renderId);var l=s.children;if(l)for(var f=0;f<l.length;f++)this.updateAccessibleObjects(l[f])}},e.prototype.update=function(){var s=performance.now();if(!(C.isMobile.android.device&&s<this.androidUpdateCount)&&(this.androidUpdateCount=s+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var l=this.renderer.view.getBoundingClientRect(),f=l.left,S=l.top,he=l.width,se=l.height,Te=this.renderer,Pe=Te.width,we=Te.height,Ue=Te.resolution,Qe=he/Pe*Ue,it=se/we*Ue,ze=this.div;ze.style.left=f+"px",ze.style.top=S+"px",ze.style.width=Pe+"px",ze.style.height=we+"px";for(var lt=0;lt<this.children.length;lt++){var et=this.children[lt];if(et.renderId!==this.renderId)et._accessibleActive=!1,(0,C.removeItems)(this.children,lt,1),this.div.removeChild(et._accessibleDiv),this.pool.push(et._accessibleDiv),et._accessibleDiv=null,lt--;else{ze=et._accessibleDiv;var Tt=et.hitArea,Pt=et.worldTransform;et.hitArea?(ze.style.left=(Pt.tx+Tt.x*Pt.a)*Qe+"px",ze.style.top=(Pt.ty+Tt.y*Pt.d)*it+"px",ze.style.width=Tt.width*Pt.a*Qe+"px",ze.style.height=Tt.height*Pt.d*it+"px"):(Tt=et.getBounds(),this.capHitArea(Tt),ze.style.left=Tt.x*Qe+"px",ze.style.top=Tt.y*it+"px",ze.style.width=Tt.width*Qe+"px",ze.style.height=Tt.height*it+"px",ze.title!==et.accessibleTitle&&et.accessibleTitle!==null&&(ze.title=et.accessibleTitle),ze.getAttribute("aria-label")!==et.accessibleHint&&et.accessibleHint!==null&&ze.setAttribute("aria-label",et.accessibleHint)),et.accessibleTitle===ze.title&&et.tabIndex===ze.tabIndex||(ze.title=et.accessibleTitle,ze.tabIndex=et.tabIndex,this.debug&&this.updateDebugHTML(ze))}}this.renderId++}},e.prototype.updateDebugHTML=function(s){s.innerHTML="type: "+s.type+"</br> title : "+s.title+"</br> tabIndex: "+s.tabIndex},e.prototype.capHitArea=function(s){s.x<0&&(s.width+=s.x,s.x=0),s.y<0&&(s.height+=s.y,s.y=0);var l=this.renderer,f=l.width,S=l.height;s.x+s.width>f&&(s.width=f-s.x),s.y+s.height>S&&(s.height=S-s.y)},e.prototype.addChild=function(s){var l=this.pool.pop();l||((l=document.createElement("button")).style.width=K+"px",l.style.height=K+"px",l.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",l.style.position="absolute",l.style.zIndex=R.toString(),l.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?l.setAttribute("aria-live","off"):l.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?l.setAttribute("aria-relevant","additions"):l.setAttribute("aria-relevant","text"),l.addEventListener("click",this._onClick.bind(this)),l.addEventListener("focus",this._onFocus.bind(this)),l.addEventListener("focusout",this._onFocusOut.bind(this))),l.style.pointerEvents=s.accessiblePointerEvents,l.type=s.accessibleType,s.accessibleTitle&&s.accessibleTitle!==null?l.title=s.accessibleTitle:s.accessibleHint&&s.accessibleHint!==null||(l.title="displayObject "+s.tabIndex),s.accessibleHint&&s.accessibleHint!==null&&l.setAttribute("aria-label",s.accessibleHint),this.debug&&this.updateDebugHTML(l),s._accessibleActive=!0,s._accessibleDiv=l,l.displayObject=s,this.children.push(s),this.div.appendChild(s._accessibleDiv),s._accessibleDiv.tabIndex=s.tabIndex},e.prototype._onClick=function(s){var l=this.renderer.plugins.interaction,f=s.target.displayObject,S=l.eventData;l.dispatchEvent(f,"click",S),l.dispatchEvent(f,"pointertap",S),l.dispatchEvent(f,"tap",S)},e.prototype._onFocus=function(s){s.target.getAttribute("aria-live")||s.target.setAttribute("aria-live","assertive");var l=this.renderer.plugins.interaction,f=s.target.displayObject,S=l.eventData;l.dispatchEvent(f,"mouseover",S)},e.prototype._onFocusOut=function(s){s.target.getAttribute("aria-live")||s.target.setAttribute("aria-live","polite");var l=this.renderer.plugins.interaction,f=s.target.displayObject,S=l.eventData;l.dispatchEvent(f,"mouseout",S)},e.prototype._onKeyDown=function(s){s.keyCode===q&&this.activate()},e.prototype._onMouseMove=function(s){s.movementX===0&&s.movementY===0||this.deactivate()},e.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}(),be=d(7442),Ie=d(1298),Oe=function(){function e(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new be.E9,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(e.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),e.prototype.getLocalPosition=function(s,l,f){return s.worldTransform.applyInverse(f||this.global,l)},e.prototype.copyEvent=function(s){"isPrimary"in s&&s.isPrimary&&(this.isPrimary=!0),this.button="button"in s&&s.button;var l="buttons"in s&&s.buttons;this.buttons=Number.isInteger(l)?l:"which"in s&&s.which,this.width="width"in s&&s.width,this.height="height"in s&&s.height,this.tiltX="tiltX"in s&&s.tiltX,this.tiltY="tiltY"in s&&s.tiltY,this.pointerType="pointerType"in s&&s.pointerType,this.pressure="pressure"in s&&s.pressure,this.rotationAngle="rotationAngle"in s&&s.rotationAngle,this.twist="twist"in s&&s.twist||0,this.tangentialPressure="tangentialPressure"in s&&s.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},e}(),ue=function(e,s){return ue=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var S in f)f.hasOwnProperty(S)&&(l[S]=f[S])},ue(e,s)};function y(e,s){function l(){this.constructor=e}ue(e,s),e.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}var B=function(){function e(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},e.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},e}(),V=function(){function e(s){this._pointerId=s,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(s,l){this._flags=l?this._flags|s:this._flags&~s},Object.defineProperty(e.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return this._flags},set:function(s){this._flags=s},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"none",{get:function(){return this._flags===e.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return(this._flags&e.FLAGS.OVER)!=0},set:function(s){this._doSet(e.FLAGS.OVER,s)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightDown",{get:function(){return(this._flags&e.FLAGS.RIGHT_DOWN)!=0},set:function(s){this._doSet(e.FLAGS.RIGHT_DOWN,s)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftDown",{get:function(){return(this._flags&e.FLAGS.LEFT_DOWN)!=0},set:function(s){this._doSet(e.FLAGS.LEFT_DOWN,s)},enumerable:!1,configurable:!0}),e.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),e}(),te=function(){function e(){this._tempPoint=new be.E9}return e.prototype.recursiveFindHit=function(s,l,f,S,he){if(!l||!l.visible)return!1;var se=s.data.global,Te=!1,Pe=he=l.interactive||he,we=!0;if(l.hitArea?(S&&(l.worldTransform.applyInverse(se,this._tempPoint),l.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?Te=!0:(S=!1,we=!1)),Pe=!1):l._mask&&S&&(l._mask.containsPoint&&l._mask.containsPoint(se)||(S=!1)),we&&l.interactiveChildren&&l.children)for(var Ue=l.children,Qe=Ue.length-1;Qe>=0;Qe--){var it=Ue[Qe],ze=this.recursiveFindHit(s,it,f,S,Pe);if(ze){if(!it.parent)continue;Pe=!1,ze&&(s.target&&(S=!1),Te=!0)}}return he&&(S&&!s.target&&!l.hitArea&&l.containsPoint&&l.containsPoint(se)&&(Te=!0),l.interactive&&(Te&&!s.target&&(s.target=l),f&&f(s,l,!!Te))),Te},e.prototype.findHit=function(s,l,f,S){this.recursiveFindHit(s,l,f,S,!1)},e}(),re={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(e){e?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};T.s$.mixin(re);var ae=1,_e={target:null,data:{global:null}},Ce=function(e){function s(l,f){var S=e.call(this)||this;return f=f||{},S.renderer=l,S.autoPreventDefault=f.autoPreventDefault===void 0||f.autoPreventDefault,S.interactionFrequency=f.interactionFrequency||10,S.mouse=new Oe,S.mouse.identifier=ae,S.mouse.global.set(-999999),S.activeInteractionData={},S.activeInteractionData[ae]=S.mouse,S.interactionDataPool=[],S.eventData=new B,S.interactionDOMElement=null,S.moveWhenInside=!1,S.eventsAdded=!1,S.tickerAdded=!1,S.mouseOverRenderer=!("PointerEvent"in globalThis),S.supportsTouchEvents="ontouchstart"in globalThis,S.supportsPointerEvents=!!globalThis.PointerEvent,S.onPointerUp=S.onPointerUp.bind(S),S.processPointerUp=S.processPointerUp.bind(S),S.onPointerCancel=S.onPointerCancel.bind(S),S.processPointerCancel=S.processPointerCancel.bind(S),S.onPointerDown=S.onPointerDown.bind(S),S.processPointerDown=S.processPointerDown.bind(S),S.onPointerMove=S.onPointerMove.bind(S),S.processPointerMove=S.processPointerMove.bind(S),S.onPointerOut=S.onPointerOut.bind(S),S.processPointerOverOut=S.processPointerOverOut.bind(S),S.onPointerOver=S.onPointerOver.bind(S),S.cursorStyles={default:"inherit",pointer:"pointer"},S.currentCursorMode=null,S.cursor=null,S.resolution=1,S.delayedEvents=[],S.search=new te,S._tempDisplayObject=new T.Ql,S._eventListenerOptions={capture:!0,passive:!1},S._useSystemTicker=f.useSystemTicker===void 0||f.useSystemTicker,S.setTargetElement(S.renderer.view,S.renderer.resolution),S}return y(s,e),Object.defineProperty(s.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(l){this._useSystemTicker=l,l?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),s.prototype.hitTest=function(l,f){return _e.target=null,_e.data.global=l,f||(f=this.lastObjectRendered),this.processInteractive(_e,f,null,!0),_e.target},s.prototype.setTargetElement=function(l,f){f===void 0&&(f=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=l,this.resolution=f,this.addEvents(),this.addTickerListener()},s.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(Ie.vB.system.add(this.tickerUpdate,this,Ie.uF.INTERACTION),this.tickerAdded=!0)},s.prototype.removeTickerListener=function(){this.tickerAdded&&(Ie.vB.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},s.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var l=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(l.msContentZooming="none",l.msTouchAction="none"):this.supportsPointerEvents&&(l.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},s.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var l=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(l.msContentZooming="",l.msTouchAction=""):this.supportsPointerEvents&&(l.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},s.prototype.tickerUpdate=function(l){this._deltaTime+=l,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},s.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var l in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(l)){var f=this.activeInteractionData[l];if(f.originalEvent&&f.pointerType!=="touch"){var S=this.configureInteractionEventForDOMEvent(this.eventData,f.originalEvent,f);this.processInteractive(S,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},s.prototype.setCursorMode=function(l){l=l||"default";var f=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(f=!1),this.currentCursorMode!==l){this.currentCursorMode=l;var S=this.cursorStyles[l];if(S)switch(typeof S){case"string":f&&(this.interactionDOMElement.style.cursor=S);break;case"function":S(l);break;case"object":f&&Object.assign(this.interactionDOMElement.style,S)}else f&&typeof l=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,l)&&(this.interactionDOMElement.style.cursor=l)}},s.prototype.dispatchEvent=function(l,f,S){S.stopPropagationHint&&l!==S.stopsPropagatingAt||(S.currentTarget=l,S.type=f,l.emit(f,S),l[f]&&l[f](S))},s.prototype.delayDispatchEvent=function(l,f,S){this.delayedEvents.push({displayObject:l,eventString:f,eventData:S})},s.prototype.mapPositionToPoint=function(l,f,S){var he;he=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var se=1/this.resolution;l.x=(f-he.left)*(this.interactionDOMElement.width/he.width)*se,l.y=(S-he.top)*(this.interactionDOMElement.height/he.height)*se},s.prototype.processInteractive=function(l,f,S,he){var se=this.search.findHit(l,f,S,he),Te=this.delayedEvents;if(!Te.length)return se;l.stopPropagationHint=!1;var Pe=Te.length;this.delayedEvents=[];for(var we=0;we<Pe;we++){var Ue=Te[we],Qe=Ue.displayObject,it=Ue.eventString,ze=Ue.eventData;ze.stopsPropagatingAt===Qe&&(ze.stopPropagationHint=!0),this.dispatchEvent(Qe,it,ze)}return se},s.prototype.onPointerDown=function(l){if(!this.supportsTouchEvents||l.pointerType!=="touch"){var f=this.normalizeToPointerData(l);this.autoPreventDefault&&f[0].isNormalized&&(l.cancelable||!("cancelable"in l))&&l.preventDefault();for(var S=f.length,he=0;he<S;he++){var se=f[he],Te=this.getInteractionDataForPointerId(se),Pe=this.configureInteractionEventForDOMEvent(this.eventData,se,Te);if(Pe.data.originalEvent=l,this.processInteractive(Pe,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",Pe),se.pointerType==="touch")this.emit("touchstart",Pe);else if(se.pointerType==="mouse"||se.pointerType==="pen"){var we=se.button===2;this.emit(we?"rightdown":"mousedown",this.eventData)}}}},s.prototype.processPointerDown=function(l,f,S){var he=l.data,se=l.data.identifier;if(S){if(f.trackedPointers[se]||(f.trackedPointers[se]=new V(se)),this.dispatchEvent(f,"pointerdown",l),he.pointerType==="touch")this.dispatchEvent(f,"touchstart",l);else if(he.pointerType==="mouse"||he.pointerType==="pen"){var Te=he.button===2;Te?f.trackedPointers[se].rightDown=!0:f.trackedPointers[se].leftDown=!0,this.dispatchEvent(f,Te?"rightdown":"mousedown",l)}}},s.prototype.onPointerComplete=function(l,f,S){for(var he=this.normalizeToPointerData(l),se=he.length,Te=l.target!==this.interactionDOMElement?"outside":"",Pe=0;Pe<se;Pe++){var we=he[Pe],Ue=this.getInteractionDataForPointerId(we),Qe=this.configureInteractionEventForDOMEvent(this.eventData,we,Ue);if(Qe.data.originalEvent=l,this.processInteractive(Qe,this.lastObjectRendered,S,f||!Te),this.emit(f?"pointercancel":"pointerup"+Te,Qe),we.pointerType==="mouse"||we.pointerType==="pen"){var it=we.button===2;this.emit(it?"rightup"+Te:"mouseup"+Te,Qe)}else we.pointerType==="touch"&&(this.emit(f?"touchcancel":"touchend"+Te,Qe),this.releaseInteractionDataForPointerId(we.pointerId))}},s.prototype.onPointerCancel=function(l){this.supportsTouchEvents&&l.pointerType==="touch"||this.onPointerComplete(l,!0,this.processPointerCancel)},s.prototype.processPointerCancel=function(l,f){var S=l.data,he=l.data.identifier;f.trackedPointers[he]!==void 0&&(delete f.trackedPointers[he],this.dispatchEvent(f,"pointercancel",l),S.pointerType==="touch"&&this.dispatchEvent(f,"touchcancel",l))},s.prototype.onPointerUp=function(l){this.supportsTouchEvents&&l.pointerType==="touch"||this.onPointerComplete(l,!1,this.processPointerUp)},s.prototype.processPointerUp=function(l,f,S){var he=l.data,se=l.data.identifier,Te=f.trackedPointers[se],Pe=he.pointerType==="touch",we=he.pointerType==="mouse"||he.pointerType==="pen",Ue=!1;if(we){var Qe=he.button===2,it=V.FLAGS,ze=Qe?it.RIGHT_DOWN:it.LEFT_DOWN,lt=Te!==void 0&&Te.flags&ze;S?(this.dispatchEvent(f,Qe?"rightup":"mouseup",l),lt&&(this.dispatchEvent(f,Qe?"rightclick":"click",l),Ue=!0)):lt&&this.dispatchEvent(f,Qe?"rightupoutside":"mouseupoutside",l),Te&&(Qe?Te.rightDown=!1:Te.leftDown=!1)}S?(this.dispatchEvent(f,"pointerup",l),Pe&&this.dispatchEvent(f,"touchend",l),Te&&(we&&!Ue||this.dispatchEvent(f,"pointertap",l),Pe&&(this.dispatchEvent(f,"tap",l),Te.over=!1))):Te&&(this.dispatchEvent(f,"pointerupoutside",l),Pe&&this.dispatchEvent(f,"touchendoutside",l)),Te&&Te.none&&delete f.trackedPointers[se]},s.prototype.onPointerMove=function(l){if(!this.supportsTouchEvents||l.pointerType!=="touch"){var f=this.normalizeToPointerData(l);f[0].pointerType!=="mouse"&&f[0].pointerType!=="pen"||(this._didMove=!0,this.cursor=null);for(var S=f.length,he=0;he<S;he++){var se=f[he],Te=this.getInteractionDataForPointerId(se),Pe=this.configureInteractionEventForDOMEvent(this.eventData,se,Te);Pe.data.originalEvent=l,this.processInteractive(Pe,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",Pe),se.pointerType==="touch"&&this.emit("touchmove",Pe),se.pointerType!=="mouse"&&se.pointerType!=="pen"||this.emit("mousemove",Pe)}f[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},s.prototype.processPointerMove=function(l,f,S){var he=l.data,se=he.pointerType==="touch",Te=he.pointerType==="mouse"||he.pointerType==="pen";Te&&this.processPointerOverOut(l,f,S),this.moveWhenInside&&!S||(this.dispatchEvent(f,"pointermove",l),se&&this.dispatchEvent(f,"touchmove",l),Te&&this.dispatchEvent(f,"mousemove",l))},s.prototype.onPointerOut=function(l){if(!this.supportsTouchEvents||l.pointerType!=="touch"){var f=this.normalizeToPointerData(l)[0];f.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var S=this.getInteractionDataForPointerId(f),he=this.configureInteractionEventForDOMEvent(this.eventData,f,S);he.data.originalEvent=f,this.processInteractive(he,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",he),f.pointerType==="mouse"||f.pointerType==="pen"?this.emit("mouseout",he):this.releaseInteractionDataForPointerId(S.identifier)}},s.prototype.processPointerOverOut=function(l,f,S){var he=l.data,se=l.data.identifier,Te=he.pointerType==="mouse"||he.pointerType==="pen",Pe=f.trackedPointers[se];S&&!Pe&&(Pe=f.trackedPointers[se]=new V(se)),Pe!==void 0&&(S&&this.mouseOverRenderer?(Pe.over||(Pe.over=!0,this.delayDispatchEvent(f,"pointerover",l),Te&&this.delayDispatchEvent(f,"mouseover",l)),Te&&this.cursor===null&&(this.cursor=f.cursor)):Pe.over&&(Pe.over=!1,this.dispatchEvent(f,"pointerout",this.eventData),Te&&this.dispatchEvent(f,"mouseout",l),Pe.none&&delete f.trackedPointers[se]))},s.prototype.onPointerOver=function(l){var f=this.normalizeToPointerData(l)[0],S=this.getInteractionDataForPointerId(f),he=this.configureInteractionEventForDOMEvent(this.eventData,f,S);he.data.originalEvent=f,f.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",he),f.pointerType!=="mouse"&&f.pointerType!=="pen"||this.emit("mouseover",he)},s.prototype.getInteractionDataForPointerId=function(l){var f,S=l.pointerId;return S===ae||l.pointerType==="mouse"?f=this.mouse:this.activeInteractionData[S]?f=this.activeInteractionData[S]:((f=this.interactionDataPool.pop()||new Oe).identifier=S,this.activeInteractionData[S]=f),f.copyEvent(l),f},s.prototype.releaseInteractionDataForPointerId=function(l){var f=this.activeInteractionData[l];f&&(delete this.activeInteractionData[l],f.reset(),this.interactionDataPool.push(f))},s.prototype.configureInteractionEventForDOMEvent=function(l,f,S){return l.data=S,this.mapPositionToPoint(S.global,f.clientX,f.clientY),f.pointerType==="touch"&&(f.globalX=S.global.x,f.globalY=S.global.y),S.originalEvent=f,l.reset(),l},s.prototype.normalizeToPointerData=function(l){var f=[];if(this.supportsTouchEvents&&l instanceof TouchEvent)for(var S=0,he=l.changedTouches.length;S<he;S++){var se=l.changedTouches[S];se.button===void 0&&(se.button=l.touches.length?1:0),se.buttons===void 0&&(se.buttons=l.touches.length?1:0),se.isPrimary===void 0&&(se.isPrimary=l.touches.length===1&&l.type==="touchstart"),se.width===void 0&&(se.width=se.radiusX||1),se.height===void 0&&(se.height=se.radiusY||1),se.tiltX===void 0&&(se.tiltX=0),se.tiltY===void 0&&(se.tiltY=0),se.pointerType===void 0&&(se.pointerType="touch"),se.pointerId===void 0&&(se.pointerId=se.identifier||0),se.pressure===void 0&&(se.pressure=se.force||.5),se.twist===void 0&&(se.twist=0),se.tangentialPressure===void 0&&(se.tangentialPressure=0),se.layerX===void 0&&(se.layerX=se.offsetX=se.clientX),se.layerY===void 0&&(se.layerY=se.offsetY=se.clientY),se.isNormalized=!0,f.push(se)}else if(globalThis.MouseEvent&&(!(l instanceof MouseEvent)||this.supportsPointerEvents&&l instanceof globalThis.PointerEvent))f.push(l);else{var Te=l;Te.isPrimary===void 0&&(Te.isPrimary=!0),Te.width===void 0&&(Te.width=1),Te.height===void 0&&(Te.height=1),Te.tiltX===void 0&&(Te.tiltX=0),Te.tiltY===void 0&&(Te.tiltY=0),Te.pointerType===void 0&&(Te.pointerType="mouse"),Te.pointerId===void 0&&(Te.pointerId=ae),Te.pressure===void 0&&(Te.pressure=.5),Te.twist===void 0&&(Te.twist=0),Te.tangentialPressure===void 0&&(Te.tangentialPressure=0),Te.isNormalized=!0,f.push(Te)}return f},s.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},s}(C.EventEmitter),de=d(9839),ge=function(){function e(s){var l=this;this.stage=new T.W2,s=Object.assign({forceCanvas:!1},s),this.renderer=(0,de.e6)(s),e._plugins.forEach(function(f){f.init.call(l,s)})}return e.registerPlugin=function(s){e._plugins.push(s)},e.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(e.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),e.prototype.destroy=function(s,l){var f=this,S=e._plugins.slice(0);S.reverse(),S.forEach(function(he){he.destroy.call(f)}),this.stage.destroy(l),this.stage=null,this.renderer.destroy(s),this.renderer=null},e._plugins=[],e}(),ye=function(){function e(){}return e.init=function(s){var l=this;Object.defineProperty(this,"resizeTo",{set:function(f){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=f,f&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){l._resizeTo&&(l.cancelResize(),l._resizeId=requestAnimationFrame(function(){return l.resize()}))},this.cancelResize=function(){l._resizeId&&(cancelAnimationFrame(l._resizeId),l._resizeId=null)},this.resize=function(){if(l._resizeTo){var f,S;if(l.cancelResize(),l._resizeTo===globalThis.window)f=globalThis.innerWidth,S=globalThis.innerHeight;else{var he=l._resizeTo;f=he.clientWidth,S=he.clientHeight}l.renderer.resize(f,S)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=s.resizeTo||null},e.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},e}();ge.registerPlugin(ye);var xe=new be.Ae,Be=4,We=function(){function e(s){this.renderer=s}return e.prototype.image=function(s,l,f){var S=new Image;return S.src=this.base64(s,l,f),S},e.prototype.base64=function(s,l,f){return this.canvas(s).toDataURL(l,f)},e.prototype.canvas=function(s){var l,f,S,he=this.renderer,se=!1,Te=!1;s&&(s instanceof de.TI?S=s:(S=this.renderer.generateTexture(s),Te=!0)),S?(l=S.baseTexture.resolution,f=S.frame,se=!1,he.renderTexture.bind(S)):(l=this.renderer.resolution,se=!0,(f=xe).width=this.renderer.width,f.height=this.renderer.height,he.renderTexture.bind(null));var Pe=Math.floor(f.width*l+1e-4),we=Math.floor(f.height*l+1e-4),Ue=new C.CanvasRenderTarget(Pe,we,1),Qe=new Uint8Array(Be*Pe*we),it=he.gl;it.readPixels(f.x*l,f.y*l,Pe,we,it.RGBA,it.UNSIGNED_BYTE,Qe);var ze=Ue.context.getImageData(0,0,Pe,we);if(e.arrayPostDivide(Qe,ze.data),Ue.context.putImageData(ze,0,0),se){var lt=new C.CanvasRenderTarget(Ue.width,Ue.height,1);lt.context.scale(1,-1),lt.context.drawImage(Ue.canvas,0,-we),Ue.destroy(),Ue=lt}return Te&&S.destroy(!0),Ue.canvas},e.prototype.pixels=function(s){var l,f,S,he=this.renderer,se=!1;s&&(s instanceof de.TI?S=s:(S=this.renderer.generateTexture(s),se=!0)),S?(l=S.baseTexture.resolution,f=S.frame,he.renderTexture.bind(S)):(l=he.resolution,(f=xe).width=he.width,f.height=he.height,he.renderTexture.bind(null));var Te=f.width*l,Pe=f.height*l,we=new Uint8Array(Be*Te*Pe),Ue=he.gl;return Ue.readPixels(f.x*l,f.y*l,Te,Pe,Ue.RGBA,Ue.UNSIGNED_BYTE,we),se&&S.destroy(!0),e.arrayPostDivide(we,we),we},e.prototype.destroy=function(){this.renderer=null},e.arrayPostDivide=function(s,l){for(var f=0;f<s.length;f+=4){var S=l[f+3]=s[f+3];S!==0?(l[f]=Math.round(Math.min(255*s[f]/S,255)),l[f+1]=Math.round(Math.min(255*s[f+1]/S,255)),l[f+2]=Math.round(Math.min(255*s[f+2]/S,255))):(l[f]=s[f],l[f+1]=s[f+1],l[f+2]=s[f+2])}},e}(),qe=function(){function e(s,l,f){l===void 0&&(l=!1),this._fn=s,this._once=l,this._thisArg=f,this._next=this._prev=this._owner=null}return e.prototype.detach=function(){return this._owner!==null&&(this._owner.detach(this),!0)},e}();function tt(e,s){return e._head?(e._tail._next=s,s._prev=e._tail,e._tail=s):(e._head=s,e._tail=s),s._owner=e,s}var vt=function(){function e(){this._head=this._tail=void 0}return e.prototype.handlers=function(s){s===void 0&&(s=!1);var l=this._head;if(s)return!!l;for(var f=[];l;)f.push(l),l=l._next;return f},e.prototype.has=function(s){if(!(s instanceof qe))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return s._owner===this},e.prototype.dispatch=function(){for(var s=arguments,l=[],f=0;f<arguments.length;f++)l[f]=s[f];var S=this._head;if(!S)return!1;for(;S;)S._once&&this.detach(S),S._fn.apply(S._thisArg,l),S=S._next;return!0},e.prototype.add=function(s,l){if(l===void 0&&(l=null),typeof s!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return tt(this,new qe(s,!1,l))},e.prototype.once=function(s,l){if(l===void 0&&(l=null),typeof s!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return tt(this,new qe(s,!0,l))},e.prototype.detach=function(s){if(!(s instanceof qe))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return s._owner!==this||(s._prev&&(s._prev._next=s._next),s._next&&(s._next._prev=s._prev),s===this._head?(this._head=s._next,s._next===null&&(this._tail=null)):s===this._tail&&(this._tail=s._prev,this._tail._next=null),s._owner=null),this},e.prototype.detachAll=function(){var s=this._head;if(!s)return this;for(this._head=this._tail=null;s;)s._owner=null,s=s._next;return this},e}();function yt(e,s){s=s||{};for(var l={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},f=l.parser[s.strictMode?"strict":"loose"].exec(e),S={},he=14;he--;)S[l.key[he]]=f[he]||"";return S[l.q.name]={},S[l.key[12]].replace(l.q.parser,function(se,Te,Pe){Te&&(S[l.q.name][Te]=Pe)}),S}var rt=!(!globalThis.XDomainRequest||"withCredentials"in new XMLHttpRequest),mt=null,Ee=0,je=200,Ht=204,Ut=1223,ft=2;function oe(){}function Se(e,s,l){s&&s.indexOf(".")===0&&(s=s.substring(1)),s&&(e[s]=l)}function ke(e){return e.toString().replace("object ","")}var De=function(){function e(s,l,f){if(this._dequeue=oe,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof s!="string"||typeof l!="string")throw new Error("Both name and url are required for constructing a resource.");f=f||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,l.indexOf("data:")===0),this.name=s,this.url=l,this.extension=this._getExtension(),this.data=null,this.crossOrigin=f.crossOrigin===!0?"anonymous":f.crossOrigin,this.timeout=f.timeout||0,this.loadType=f.loadType||this._determineLoadType(),this.xhrType=f.xhrType,this.metadata=f.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=oe,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new vt,this.onProgress=new vt,this.onComplete=new vt,this.onAfterMiddleware=new vt}return e.setExtensionLoadType=function(s,l){Se(e._loadTypeMap,s,l)},e.setExtensionXhrType=function(s,l){Se(e._xhrTypeMap,s,l)},Object.defineProperty(e.prototype,"isDataUrl",{get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),e.prototype.complete=function(){this._clearEvents(),this._finish()},e.prototype.abort=function(s){if(!this.error){if(this.error=new Error(s),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.prototype.load=function(s){var l=this;if(!this.isLoading)if(this.isComplete)s&&setTimeout(function(){return s(l)},1);else switch(s&&this.onComplete.once(s),this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),this.crossOrigin!==!1&&typeof this.crossOrigin=="string"||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:rt&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e.prototype._hasFlag=function(s){return(this._flags&s)!=0},e.prototype._setFlag=function(s,l){this._flags=l?this._flags|s:this._flags&~s},e.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e.prototype._loadElement=function(s){this.metadata.loadElement?this.data=this.metadata.loadElement:s==="image"&&globalThis.Image!==void 0?this.data=new Image:this.data=document.createElement(s),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e.prototype._loadSourceElement=function(s){if(this.metadata.loadElement?this.data=this.metadata.loadElement:s==="audio"&&globalThis.Audio!==void 0?this.data=new Audio:this.data=document.createElement(s),this.data!==null){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var l=this.metadata.mimeType,f=0;f<this.url.length;++f)this.data.appendChild(this._createSource(s,this.url[f],Array.isArray(l)?l[f]:l));else l=this.metadata.mimeType,this.data.appendChild(this._createSource(s,this.url,Array.isArray(l)?l[0]:l));this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+s)},e.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var s=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(s.withCredentials=!0),s.open("GET",this.url,!0),s.timeout=this.timeout,this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?s.responseType=e.XHR_RESPONSE_TYPE.TEXT:s.responseType=this.xhrType,s.addEventListener("error",this._boundXhrOnError,!1),s.addEventListener("timeout",this._boundXhrOnTimeout,!1),s.addEventListener("abort",this._boundXhrOnAbort,!1),s.addEventListener("progress",this._boundOnProgress,!1),s.addEventListener("load",this._boundXhrOnLoad,!1),s.send()},e.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var s=this.xhr=new globalThis.XDomainRequest;s.timeout=this.timeout||5e3,s.onerror=this._boundXhrOnError,s.ontimeout=this._boundXhrOnTimeout,s.onprogress=this._boundOnProgress,s.onload=this._boundXhrOnLoad,s.open("GET",this.url,!0),setTimeout(function(){return s.send()},1)},e.prototype._createSource=function(s,l,f){f||(f=s+"/"+this._getExtension(l));var S=document.createElement("source");return S.src=l,S.type=f,S},e.prototype._onError=function(s){this.abort("Failed to load element using: "+s.target.nodeName)},e.prototype._onProgress=function(s){s&&s.lengthComputable&&this.onProgress.dispatch(this,s.loaded/s.total)},e.prototype._onTimeout=function(){this.abort("Load timed out.")},e.prototype._xhrOnError=function(){var s=this.xhr;this.abort(ke(s)+" Request failed. Status: "+s.status+', text: "'+s.statusText+'"')},e.prototype._xhrOnTimeout=function(){var s=this.xhr;this.abort(ke(s)+" Request timed out.")},e.prototype._xhrOnAbort=function(){var s=this.xhr;this.abort(ke(s)+" Request was aborted by the user.")},e.prototype._xhrOnLoad=function(){var s=this.xhr,l="",f=s.status===void 0?je:s.status;if(s.responseType!==""&&s.responseType!=="text"&&s.responseType!==void 0||(l=s.responseText),f===Ee&&(l.length>0||s.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?f=je:f===Ut&&(f=Ht),(f/100|0)===ft){if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=l,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(l),this.type=e.TYPE.JSON}catch(se){return void this.abort("Error trying to parse loaded json: "+se)}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var S=new DOMParser;this.data=S.parseFromString(l,"text/xml")}else{var he=document.createElement("div");he.innerHTML=l,this.data=he}this.type=e.TYPE.XML}catch(se){return void this.abort("Error trying to parse loaded xml: "+se)}else this.data=s.response||l;this.complete()}else this.abort("["+s.status+"] "+s.statusText+": "+s.responseURL)},e.prototype._determineCrossOrigin=function(s,l){if(s.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";l=l||globalThis.location,mt||(mt=document.createElement("a")),mt.href=s;var f=yt(mt.href,{strictMode:!0}),S=!f.port&&l.port===""||f.port===l.port,he=f.protocol?f.protocol+":":"";return f.host===l.hostname&&S&&he===l.protocol?"":"anonymous"},e.prototype._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},e.prototype._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},e.prototype._getExtension=function(s){s===void 0&&(s=this.url);var l="";if(this.isDataUrl){var f=s.indexOf("/");l=s.substring(f+1,s.indexOf(";",f))}else{var S=s.indexOf("?"),he=s.indexOf("#"),se=Math.min(S>-1?S:s.length,he>-1?he:s.length);l=(s=s.substring(0,se)).substring(s.lastIndexOf(".")+1)}return l.toLowerCase()},e.prototype._getMimeFromXhrType=function(s){switch(s){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},e}();function Ke(){}function Ve(e){return function(){for(var s=arguments,l=[],f=0;f<arguments.length;f++)l[f]=s[f];if(e===null)throw new Error("Callback was already called.");var S=e;e=null,S.apply(this,l)}}(function(e){(function(s){s[s.NONE=0]="NONE",s[s.DATA_URL=1]="DATA_URL",s[s.COMPLETE=2]="COMPLETE",s[s.LOADING=4]="LOADING"})(e.STATUS_FLAGS||(e.STATUS_FLAGS={})),function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.JSON=1]="JSON",s[s.XML=2]="XML",s[s.IMAGE=3]="IMAGE",s[s.AUDIO=4]="AUDIO",s[s.VIDEO=5]="VIDEO",s[s.TEXT=6]="TEXT"}(e.TYPE||(e.TYPE={})),function(s){s[s.XHR=1]="XHR",s[s.IMAGE=2]="IMAGE",s[s.AUDIO=3]="AUDIO",s[s.VIDEO=4]="VIDEO"}(e.LOAD_TYPE||(e.LOAD_TYPE={})),function(s){s.DEFAULT="text",s.BUFFER="arraybuffer",s.BLOB="blob",s.DOCUMENT="document",s.JSON="json",s.TEXT="text"}(e.XHR_RESPONSE_TYPE||(e.XHR_RESPONSE_TYPE={})),e._loadTypeMap={gif:e.LOAD_TYPE.IMAGE,png:e.LOAD_TYPE.IMAGE,bmp:e.LOAD_TYPE.IMAGE,jpg:e.LOAD_TYPE.IMAGE,jpeg:e.LOAD_TYPE.IMAGE,tif:e.LOAD_TYPE.IMAGE,tiff:e.LOAD_TYPE.IMAGE,webp:e.LOAD_TYPE.IMAGE,tga:e.LOAD_TYPE.IMAGE,svg:e.LOAD_TYPE.IMAGE,"svg+xml":e.LOAD_TYPE.IMAGE,mp3:e.LOAD_TYPE.AUDIO,ogg:e.LOAD_TYPE.AUDIO,wav:e.LOAD_TYPE.AUDIO,mp4:e.LOAD_TYPE.VIDEO,webm:e.LOAD_TYPE.VIDEO},e._xhrTypeMap={xhtml:e.XHR_RESPONSE_TYPE.DOCUMENT,html:e.XHR_RESPONSE_TYPE.DOCUMENT,htm:e.XHR_RESPONSE_TYPE.DOCUMENT,xml:e.XHR_RESPONSE_TYPE.DOCUMENT,tmx:e.XHR_RESPONSE_TYPE.DOCUMENT,svg:e.XHR_RESPONSE_TYPE.DOCUMENT,tsx:e.XHR_RESPONSE_TYPE.DOCUMENT,gif:e.XHR_RESPONSE_TYPE.BLOB,png:e.XHR_RESPONSE_TYPE.BLOB,bmp:e.XHR_RESPONSE_TYPE.BLOB,jpg:e.XHR_RESPONSE_TYPE.BLOB,jpeg:e.XHR_RESPONSE_TYPE.BLOB,tif:e.XHR_RESPONSE_TYPE.BLOB,tiff:e.XHR_RESPONSE_TYPE.BLOB,webp:e.XHR_RESPONSE_TYPE.BLOB,tga:e.XHR_RESPONSE_TYPE.BLOB,json:e.XHR_RESPONSE_TYPE.JSON,text:e.XHR_RESPONSE_TYPE.TEXT,txt:e.XHR_RESPONSE_TYPE.TEXT,ttf:e.XHR_RESPONSE_TYPE.BUFFER,otf:e.XHR_RESPONSE_TYPE.BUFFER},e.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(De||(De={}));var Je=function(){function e(s,l){this.data=s,this.callback=l}return e}(),pt=function(){function e(s,l){var f=this;if(l===void 0&&(l=1),this.workers=0,this.saturated=Ke,this.unsaturated=Ke,this.empty=Ke,this.drain=Ke,this.error=Ke,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(S,he,se){if(se&&typeof se!="function")throw new Error("task callback must be a function");if(f.started=!0,S==null&&f.idle())setTimeout(function(){return f.drain()},1);else{var Te=new Je(S,typeof se=="function"?se:Ke);he?f._tasks.unshift(Te):f._tasks.push(Te),setTimeout(f.process,1)}},this.process=function(){for(;!f.paused&&f.workers<f.concurrency&&f._tasks.length;){var S=f._tasks.shift();f._tasks.length===0&&f.empty(),f.workers+=1,f.workers===f.concurrency&&f.saturated(),f._worker(S.data,Ve(f._next(S)))}},this._worker=s,l===0)throw new Error("Concurrency must not be zero");this.concurrency=l,this.buffer=l/4}return e.prototype._next=function(s){var l=this;return function(){for(var f=arguments,S=[],he=0;he<arguments.length;he++)S[he]=f[he];l.workers-=1,s.callback.apply(s,S),S[0]!=null&&l.error(S[0],s.data),l.workers<=l.concurrency-l.buffer&&l.unsaturated(),l.idle()&&l.drain(),l.process()}},e.prototype.push=function(s,l){this._insert(s,!1,l)},e.prototype.kill=function(){this.workers=0,this.drain=Ke,this.started=!1,this._tasks=[]},e.prototype.unshift=function(s,l){this._insert(s,!0,l)},e.prototype.length=function(){return this._tasks.length},e.prototype.running=function(){return this.workers},e.prototype.idle=function(){return this._tasks.length+this.workers===0},e.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},e.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var s=1;s<=this.concurrency;s++)this.process()}},e.eachSeries=function(s,l,f,S){var he=0,se=s.length;function Te(Pe){Pe||he===se?f&&f(Pe):S?setTimeout(function(){l(s[he++],Te)},1):l(s[he++],Te)}Te()},e.queue=function(s,l){return new e(s,l)},e}(),Et=100,Fe=/(#[\w-]+)?$/,fe=function(){function e(s,l){var f=this;s===void 0&&(s=""),l===void 0&&(l=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(Pe,we){return f._loadResource(Pe,we)},this.resources={},this.baseUrl=s,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(Pe,we){return f._loadResource(Pe,we)},this._queue=pt.queue(this._boundLoadResource,l),this._queue.pause(),this.resources={},this.onProgress=new vt,this.onError=new vt,this.onLoad=new vt,this.onStart=new vt,this.onComplete=new vt;for(var S=0;S<e._plugins.length;++S){var he=e._plugins[S],se=he.pre,Te=he.use;se&&this.pre(se),Te&&this.use(Te)}this._protected=!1}return e.prototype._add=function(s,l,f,S){if(this.loading&&(!f||!f.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[s])throw new Error('Resource named "'+s+'" already exists.');if(l=this._prepareUrl(l),this.resources[s]=new De(s,l,f),typeof S=="function"&&this.resources[s].onAfterMiddleware.once(S),this.loading){for(var he=f.parentResource,se=[],Te=0;Te<he.children.length;++Te)he.children[Te].isComplete||se.push(he.children[Te]);var Pe=he.progressChunk*(se.length+1)/(se.length+2);for(he.children.push(this.resources[s]),he.progressChunk=Pe,Te=0;Te<se.length;++Te)se[Te].progressChunk=Pe;this.resources[s].progressChunk=Pe}return this._queue.push(this.resources[s]),this},e.prototype.pre=function(s){return this._beforeMiddleware.push(s),this},e.prototype.use=function(s){return this._afterMiddleware.push(s),this},e.prototype.reset=function(){for(var s in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var l=this.resources[s];l._onLoadBinding&&l._onLoadBinding.detach(),l.isLoading&&l.abort("loader reset")}return this.resources={},this},e.prototype.load=function(s){if(typeof s=="function"&&this.onComplete.once(s),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var l=this._queue._tasks.length,f=Et/l,S=0;S<this._queue._tasks.length;++S)this._queue._tasks[S].data.progressChunk=f;this._onStart(),this._queue.resume()}return this},Object.defineProperty(e.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(s){this._queue.concurrency=s},enumerable:!1,configurable:!0}),e.prototype._prepareUrl=function(s){var l,f=yt(s,{strictMode:!0});if(l=f.protocol||!f.path||s.indexOf("//")===0?s:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&s.charAt(0)!=="/"?this.baseUrl+"/"+s:this.baseUrl+s,this.defaultQueryString){var S=Fe.exec(l)[0];(l=l.slice(0,l.length-S.length)).indexOf("?")!==-1?l+="&"+this.defaultQueryString:l+="?"+this.defaultQueryString,l+=S}return l},e.prototype._loadResource=function(s,l){var f=this;s._dequeue=l,pt.eachSeries(this._beforeMiddleware,function(S,he){S.call(f,s,function(){he(s.isComplete?{}:null)})},function(){s.isComplete?f._onLoad(s):(s._onLoadBinding=s.onComplete.once(f._onLoad,f),s.load())},!0)},e.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e.prototype._onComplete=function(){this.progress=Et,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e.prototype._onLoad=function(s){var l=this;s._onLoadBinding=null,this._resourcesParsing.push(s),s._dequeue(),pt.eachSeries(this._afterMiddleware,function(f,S){f.call(l,s,S)},function(){s.onAfterMiddleware.dispatch(s),l.progress=Math.min(Et,l.progress+s.progressChunk),l.onProgress.dispatch(l,s),s.error?l.onError.dispatch(s.error,l,s):l.onLoad.dispatch(l,s),l._resourcesParsing.splice(l._resourcesParsing.indexOf(s),1),l._queue.idle()&&l._resourcesParsing.length===0&&l._onComplete()},!0)},e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var s=e._shared;return s||((s=new e)._protected=!0,e._shared=s),s},enumerable:!1,configurable:!0}),e.registerPlugin=function(s){return e._plugins.push(s),s.add&&s.add(),e},e._plugins=[],e}();fe.prototype.add=function(e,s,l,f){if(Array.isArray(e)){for(var S=0;S<e.length;++S)this.add(e[S]);return this}if(typeof e=="object"&&(l=e,f=s||l.callback||l.onComplete,s=l.url,e=l.name||l.key||l.url),typeof s!="string"&&(f=l,l=s,s=e),typeof s!="string")throw new Error("No url passed to add resource to loader.");return typeof l=="function"&&(f=l,l=null),this._add(e,s,l,f)};var Ne=function(){function e(){}return e.init=function(s){s=Object.assign({sharedLoader:!1},s),this.loader=s.sharedLoader?fe.shared:new fe},e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e}(),Ge=function(){function e(){}return e.add=function(){De.setExtensionLoadType("svg",De.LOAD_TYPE.XHR),De.setExtensionXhrType("svg",De.XHR_RESPONSE_TYPE.TEXT)},e.use=function(s,l){if(!s.data||s.type!==De.TYPE.IMAGE&&s.extension!=="svg")l();else{var f=s.data,S=s.url,he=s.name,se=s.metadata;de.xE.fromLoader(f,S,he,se).then(function(Te){s.texture=Te,l()}).catch(l)}},e}(),Ze="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ot(e){for(var s="",l=0;l<e.length;){for(var f=[0,0,0],S=[0,0,0,0],he=0;he<f.length;++he)l<e.length?f[he]=255&e.charCodeAt(l++):f[he]=0;switch(S[0]=f[0]>>2,S[1]=(3&f[0])<<4|f[1]>>4,S[2]=(15&f[1])<<2|f[2]>>6,S[3]=63&f[2],l-(e.length-1)){case 2:S[3]=64,S[2]=64;break;case 1:S[3]=64}for(he=0;he<S.length;++he)s+=Ze.charAt(S[he])}return s}var xt=self.URL||self.webkitURL;function Mt(e,s){if(e.data){if(e.xhr&&e.xhrType===De.XHR_RESPONSE_TYPE.BLOB)if(self.Blob&&typeof e.data!="string"){if(e.data.type.indexOf("image")===0){var l=xt.createObjectURL(e.data);return e.blob=e.data,e.data=new Image,e.data.src=l,e.type=De.TYPE.IMAGE,void(e.data.onload=function(){xt.revokeObjectURL(l),e.data.onload=null,s()})}}else{var f=e.xhr.getResponseHeader("content-type");if(f&&f.indexOf("image")===0)return e.data=new Image,e.data.src="data:"+f+";base64,"+ot(e.xhr.responseText),e.type=De.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,s()})}s()}else s()}fe.registerPlugin({use:Mt}),fe.registerPlugin(Ge);var gt,st,at=d(3736);(function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(st||(st={}));var Dt=((gt={})[st.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,gt[st.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,gt[st.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,gt[st.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,gt[st.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,gt[st.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,gt[st.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,gt[st.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,gt[st.COMPRESSED_R11_EAC]=.5,gt[st.COMPRESSED_SIGNED_R11_EAC]=.5,gt[st.COMPRESSED_RG11_EAC]=1,gt[st.COMPRESSED_SIGNED_RG11_EAC]=1,gt[st.COMPRESSED_RGB8_ETC2]=.5,gt[st.COMPRESSED_RGBA8_ETC2_EAC]=1,gt[st.COMPRESSED_SRGB8_ETC2]=.5,gt[st.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,gt[st.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,gt[st.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,gt[st.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,gt[st.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,gt[st.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,gt[st.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,gt[st.COMPRESSED_RGB_ETC1_WEBGL]=.5,gt[st.COMPRESSED_RGB_ATC_WEBGL]=.5,gt[st.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,gt[st.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,gt),Bt=function(e,s){return Bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var S in f)f.hasOwnProperty(S)&&(l[S]=f[S])},Bt(e,s)};function Nt(e,s){function l(){this.constructor=e}Bt(e,s),e.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}function kt(e,s,l,f){return new(l||(l=Promise))(function(S,he){function se(we){try{Pe(f.next(we))}catch(Ue){he(Ue)}}function Te(we){try{Pe(f.throw(we))}catch(Ue){he(Ue)}}function Pe(we){we.done?S(we.value):new l(function(Ue){Ue(we.value)}).then(se,Te)}Pe((f=f.apply(e,s||[])).next())})}function Vt(e,s){var l,f,S,he,se={label:0,sent:function(){if(1&S[0])throw S[1];return S[1]},trys:[],ops:[]};return he={next:Te(0),throw:Te(1),return:Te(2)},typeof Symbol=="function"&&(he[Symbol.iterator]=function(){return this}),he;function Te(we){return function(Ue){return Pe([we,Ue])}}function Pe(we){if(l)throw new TypeError("Generator is already executing.");for(;se;)try{if(l=1,f&&(S=2&we[0]?f.return:we[0]?f.throw||((S=f.return)&&S.call(f),0):f.next)&&!(S=S.call(f,we[1])).done)return S;switch(f=0,S&&(we=[2&we[0],S.value]),we[0]){case 0:case 1:S=we;break;case 4:return se.label++,{value:we[1],done:!1};case 5:se.label++,f=we[1],we=[0];continue;case 7:we=se.ops.pop(),se.trys.pop();continue;default:if(S=se.trys,!((S=S.length>0&&S[S.length-1])||we[0]!==6&&we[0]!==2)){se=0;continue}if(we[0]===3&&(!S||we[1]>S[0]&&we[1]<S[3])){se.label=we[1];break}if(we[0]===6&&se.label<S[1]){se.label=S[1],S=we;break}if(S&&se.label<S[2]){se.label=S[2],se.ops.push(we);break}S[2]&&se.ops.pop(),se.trys.pop();continue}we=s.call(e,se)}catch(Ue){we=[6,Ue],f=0}finally{l=S=0}if(5&we[0])throw we[1];return{value:we[0]?we[1]:void 0,done:!0}}}var Ft,qt,fn=function(e){function s(l,f){f===void 0&&(f={width:1,height:1,autoLoad:!0});var S,he,se=this;return typeof l=="string"?(S=l,he=new Uint8Array):(S=null,he=l),(se=e.call(this,he,f)||this).origin=S,se.buffer=he?new de.Rv(he):null,se.origin&&f.autoLoad!==!1&&se.load(),he&&he.length&&(se.loaded=!0,se.onBlobLoaded(se.buffer.rawBinaryData)),se}return Nt(s,e),s.prototype.onBlobLoaded=function(l){},s.prototype.load=function(){return kt(this,void 0,Promise,function(){var l;return Vt(this,function(f){switch(f.label){case 0:return[4,fetch(this.origin)];case 1:return[4,f.sent().blob()];case 2:return[4,f.sent().arrayBuffer()];case 3:return l=f.sent(),this.data=new Uint32Array(l),this.buffer=new de.Rv(l),this.loaded=!0,this.onBlobLoaded(l),this.update(),[2,this]}})})},s}(de.qm),Yi=function(e){function s(l,f){var S=e.call(this,l,f)||this;return S.format=f.format,S.levels=f.levels||1,S._width=f.width,S._height=f.height,S._extension=s._formatToExtension(S.format),(f.levelBuffers||S.buffer)&&(S._levelBuffers=f.levelBuffers||s._createLevelBuffers(l instanceof Uint8Array?l:S.buffer.uint8View,S.format,S.levels,4,4,S.width,S.height)),S}return Nt(s,e),s.prototype.upload=function(l,f,S){var he=l.gl;if(!l.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var se=0,Te=this.levels;se<Te;se++){var Pe=this._levelBuffers[se],we=Pe.levelID,Ue=Pe.levelWidth,Qe=Pe.levelHeight,it=Pe.levelBuffer;he.compressedTexImage2D(he.TEXTURE_2D,we,this.format,Ue,Qe,0,it)}return!0},s.prototype.onBlobLoaded=function(){this._levelBuffers=s._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},s._formatToExtension=function(l){if(l>=33776&&l<=33779)return"s3tc";if(l>=37488&&l<=37497)return"etc";if(l>=35840&&l<=35843)return"pvrtc";if(l>=36196)return"etc1";if(l>=35986&&l<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},s._createLevelBuffers=function(l,f,S,he,se,Te,Pe){for(var we=new Array(S),Ue=l.byteOffset,Qe=Te,it=Pe,ze=Qe+he-1&~(he-1),lt=it+se-1&~(se-1),et=ze*lt*Dt[f],Tt=0;Tt<S;Tt++)we[Tt]={levelID:Tt,levelWidth:S>1?Qe:ze,levelHeight:S>1?it:lt,levelBuffer:new Uint8Array(l.buffer,Ue,et)},Ue+=et,et=(ze=(Qe=Qe>>1||1)+he-1&~(he-1))*(lt=(it=it>>1||1)+se-1&~(se-1))*Dt[f];return we},s}(fn),gn=function(){function e(){}return e.use=function(s,l){var f=s.data,S=this;if(s.type===De.TYPE.JSON&&f&&f.cacheID&&f.textures){for(var he=f.textures,se=void 0,Te=void 0,Pe=0,we=he.length;Pe<we;Pe++){var Ue=he[Pe],Qe=Ue.src,it=Ue.format;if(it||(Te=Qe),e.textureFormats[it]){se=Qe;break}}if(!(se=se||Te))return void l(new Error("Cannot load compressed-textures in "+s.url+", make sure you provide a fallback"));if(se===s.url)return void l(new Error("URL of compressed texture cannot be the same as the manifest's URL"));var ze={crossOrigin:s.crossOrigin,metadata:s.metadata.imageMetadata,parentResource:s},lt=C.url.resolve(s.url.replace(S.baseUrl,""),se),et=f.cacheID;S.add(et,lt,ze,function(Tt){if(Tt.error)l(Tt.error);else{var Pt=Tt.texture,Lt=Pt===void 0?null:Pt,Ct=Tt.textures,jt=Ct===void 0?{}:Ct;Object.assign(s,{texture:Lt,textures:jt}),l()}})}else l()},e.add=function(){var s=document.createElement("canvas").getContext("webgl");if(s){var l={s3tc:s.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:s.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:s.getExtension("WEBGL_compressed_texture_etc"),etc1:s.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:s.getExtension("WEBGL_compressed_texture_pvrtc")||s.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:s.getExtension("WEBGL_compressed_texture_atc"),astc:s.getExtension("WEBGL_compressed_texture_astc")};for(var f in e.textureExtensions=l,e.textureFormats={},l){var S=l[f];S&&Object.assign(e.textureFormats,Object.getPrototypeOf(S))}}else console.warn("WebGL not available for compressed textures. Silently failing.")},e}();function mn(e,s,l){var f={textures:{},texture:null};return s&&s.map(function(S){return new de.xE(new de.VL(S,Object.assign({mipmap:at.WB.OFF,alphaMode:at.iw.NO_PREMULTIPLIED_ALPHA},l)))}).forEach(function(S,he){var se=S.baseTexture,Te=e+"-"+(he+1);de.VL.addToCache(se,Te),de.xE.addToCache(S,Te),he===0&&(de.VL.addToCache(se,e),de.xE.addToCache(S,e),f.texture=S),f.textures[Te]=S}),f}De.setExtensionXhrType("dds",De.XHR_RESPONSE_TYPE.BUFFER);var ni,mi,en=4,Ti=124,ri=32,tn=20,wn=542327876,_n={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},cr={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},nn={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4};(function(e){e[e.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",e[e.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",e[e.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",e[e.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",e[e.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",e[e.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",e[e.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",e[e.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",e[e.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",e[e.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",e[e.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",e[e.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",e[e.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",e[e.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",e[e.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",e[e.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",e[e.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",e[e.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",e[e.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",e[e.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",e[e.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",e[e.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",e[e.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",e[e.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",e[e.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",e[e.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",e[e.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",e[e.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",e[e.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",e[e.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",e[e.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",e[e.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",e[e.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",e[e.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",e[e.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",e[e.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",e[e.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",e[e.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",e[e.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",e[e.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",e[e.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",e[e.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",e[e.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",e[e.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",e[e.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",e[e.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",e[e.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",e[e.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",e[e.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",e[e.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",e[e.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",e[e.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",e[e.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",e[e.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",e[e.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",e[e.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",e[e.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",e[e.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",e[e.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",e[e.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",e[e.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",e[e.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",e[e.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",e[e.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",e[e.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",e[e.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",e[e.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",e[e.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",e[e.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",e[e.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",e[e.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",e[e.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",e[e.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",e[e.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",e[e.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",e[e.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",e[e.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",e[e.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",e[e.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",e[e.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",e[e.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",e[e.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",e[e.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",e[e.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",e[e.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",e[e.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",e[e.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",e[e.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",e[e.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",e[e.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",e[e.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",e[e.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",e[e.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",e[e.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",e[e.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",e[e.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",e[e.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",e[e.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",e[e.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",e[e.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",e[e.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",e[e.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",e[e.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",e[e.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",e[e.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",e[e.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",e[e.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",e[e.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",e[e.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",e[e.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",e[e.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",e[e.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(ni||(ni={})),function(e){e[e.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",e[e.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",e[e.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"}(mi||(mi={}));var Ni,hi,zi,Yn=1,vn=2,Rn=4,Pn=64,On=512,_i=131072,rn=861165636,Cn=894720068,Mn=808540228,an=4,ai=((Ft={})[827611204]=st.COMPRESSED_RGBA_S3TC_DXT1_EXT,Ft[rn]=st.COMPRESSED_RGBA_S3TC_DXT3_EXT,Ft[Cn]=st.COMPRESSED_RGBA_S3TC_DXT5_EXT,Ft),oi=((qt={})[ni.DXGI_FORMAT_BC1_TYPELESS]=st.COMPRESSED_RGBA_S3TC_DXT1_EXT,qt[ni.DXGI_FORMAT_BC1_UNORM]=st.COMPRESSED_RGBA_S3TC_DXT1_EXT,qt[ni.DXGI_FORMAT_BC2_TYPELESS]=st.COMPRESSED_RGBA_S3TC_DXT3_EXT,qt[ni.DXGI_FORMAT_BC2_UNORM]=st.COMPRESSED_RGBA_S3TC_DXT3_EXT,qt[ni.DXGI_FORMAT_BC3_TYPELESS]=st.COMPRESSED_RGBA_S3TC_DXT5_EXT,qt[ni.DXGI_FORMAT_BC3_UNORM]=st.COMPRESSED_RGBA_S3TC_DXT5_EXT,qt[ni.DXGI_FORMAT_BC1_UNORM_SRGB]=st.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,qt[ni.DXGI_FORMAT_BC2_UNORM_SRGB]=st.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,qt[ni.DXGI_FORMAT_BC3_UNORM_SRGB]=st.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,qt),An=function(){function e(){}return e.use=function(s,l){if(s.extension==="dds"&&s.data)try{Object.assign(s,mn(s.name||s.url,e.parse(s.data),s.metadata))}catch(f){return void l(f)}l()},e.parse=function(s){var l=new Uint32Array(s);if(l[0]!==wn)throw new Error("Invalid DDS file magic word");var f=new Uint32Array(s,0,Ti/Uint32Array.BYTES_PER_ELEMENT),S=f[_n.HEIGHT],he=f[_n.WIDTH],se=f[_n.MIPMAP_COUNT],Te=new Uint32Array(s,_n.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,ri/Uint32Array.BYTES_PER_ELEMENT),Pe=Te[Yn];if(Pe&Rn){var we=Te[cr.FOURCC];if(we!==Mn){var Ue=ai[we],Qe=new Uint8Array(s,en+Ti);return[new Yi(Qe,{format:Ue,width:he,height:S,levels:se})]}var it=en+Ti,ze=new Uint32Array(l.buffer,it,tn/Uint32Array.BYTES_PER_ELEMENT),lt=ze[nn.DXGI_FORMAT],et=ze[nn.RESOURCE_DIMENSION],Tt=ze[nn.MISC_FLAG],Pt=ze[nn.ARRAY_SIZE],Lt=oi[lt];if(Lt===void 0)throw new Error("DDSLoader cannot parse texture data with DXGI format "+lt);if(Tt===an)throw new Error("DDSLoader does not support cubemap textures");if(et===mi.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var Ct=new Array,jt=en+Ti+tn;if(Pt===1)Ct.push(new Uint8Array(s,jt));else{for(var ct=Dt[Lt],Qt=0,Xt=he,Yt=S,ti=0;ti<se;ti++)Qt+=Math.max(1,Xt+3&-4)*Math.max(1,Yt+3&-4)*ct,Xt>>>=1,Yt>>>=1;var yi=jt;for(ti=0;ti<Pt;ti++)Ct.push(new Uint8Array(s,yi,Qt)),yi+=Qt}return Ct.map(function(Kt){return new Yi(Kt,{format:Lt,width:he,height:S,levels:se})})}throw Pe&Pn?new Error("DDSLoader does not support uncompressed texture data."):Pe&On?new Error("DDSLoader does not supported YUV uncompressed texture data."):Pe&_i?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):Pe&vn?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},e}();De.setExtensionXhrType("ktx",De.XHR_RESPONSE_TYPE.BUFFER);var qi=[171,75,84,88,32,49,49,187,13,10,26,10],pr=67305985,ui={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},dr=64,Dn=((Ni={})[at.vK.UNSIGNED_BYTE]=1,Ni[at.vK.UNSIGNED_SHORT]=2,Ni[at.vK.INT]=4,Ni[at.vK.UNSIGNED_INT]=4,Ni[at.vK.FLOAT]=4,Ni[at.vK.HALF_FLOAT]=8,Ni),sn=((hi={})[at.I2.RGBA]=4,hi[at.I2.RGB]=3,hi[at.I2.RG]=2,hi[at.I2.RED]=1,hi[at.I2.LUMINANCE]=1,hi[at.I2.LUMINANCE_ALPHA]=2,hi[at.I2.ALPHA]=1,hi),zn=((zi={})[at.vK.UNSIGNED_SHORT_4_4_4_4]=2,zi[at.vK.UNSIGNED_SHORT_5_5_5_1]=2,zi[at.vK.UNSIGNED_SHORT_5_6_5]=2,zi),pi=function(){function e(){}return e.use=function(s,l){if(s.extension==="ktx"&&s.data)try{var f=s.name||s.url,S=e.parse(f,s.data),he=S.compressed,se=S.uncompressed;if(he)Object.assign(s,mn(f,he,s.metadata));else if(se){var Te={};se.forEach(function(Pe,we){var Ue=new de.xE(new de.VL(Pe.resource,{mipmap:at.WB.OFF,alphaMode:at.iw.NO_PREMULTIPLIED_ALPHA,type:Pe.type,format:Pe.format})),Qe=f+"-"+(we+1);de.VL.addToCache(Ue.baseTexture,Qe),de.xE.addToCache(Ue,Qe),we===0&&(Te[f]=Ue,de.VL.addToCache(Ue.baseTexture,f),de.xE.addToCache(Ue,f)),Te[Qe]=Ue}),Object.assign(s,{textures:Te})}}catch(Pe){return void l(Pe)}l()},e.parse=function(s,l){var f=new DataView(l);if(!e.validate(s,f))return null;var S=f.getUint32(ui.ENDIANNESS,!0)===pr,he=f.getUint32(ui.GL_TYPE,S),se=f.getUint32(ui.GL_FORMAT,S),Te=f.getUint32(ui.GL_INTERNAL_FORMAT,S),Pe=f.getUint32(ui.PIXEL_WIDTH,S),we=f.getUint32(ui.PIXEL_HEIGHT,S)||1,Ue=f.getUint32(ui.PIXEL_DEPTH,S)||1,Qe=f.getUint32(ui.NUMBER_OF_ARRAY_ELEMENTS,S)||1,it=f.getUint32(ui.NUMBER_OF_FACES,S),ze=f.getUint32(ui.NUMBER_OF_MIPMAP_LEVELS,S),lt=f.getUint32(ui.BYTES_OF_KEY_VALUE_DATA,S);if(we===0||Ue!==1)throw new Error("Only 2D textures are supported");if(it!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(Qe!==1)throw new Error("WebGL does not support array textures");var et,Tt=4,Pt=4,Lt=Pe+3&-4,Ct=we+3&-4,jt=new Array(Qe),ct=Pe*we;if(he===0&&(ct=Lt*Ct),(et=he!==0?Dn[he]?Dn[he]*sn[se]:zn[he]:Dt[Te])===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var Qt=ct*et,Xt=Pe,Yt=we,ti=Lt,yi=Ct,Kt=dr+lt,si=0;si<ze;si++){for(var Wt=f.getUint32(Kt,S),Zt=Kt+4,bi=0;bi<Qe;bi++){var ci=jt[bi];ci||(ci=jt[bi]=new Array(ze)),ci[si]={levelID:si,levelWidth:ze>1||he!==0?Xt:ti,levelHeight:ze>1||he!==0?Yt:yi,levelBuffer:new Uint8Array(l,Zt,Qt)},Zt+=Qt}Kt=(Kt+=Wt+4)%4!=0?Kt+4-Kt%4:Kt,Qt=(ti=(Xt=Xt>>1||1)+Tt-1&~(Tt-1))*(yi=(Yt=Yt>>1||1)+Pt-1&~(Pt-1))*et}return he!==0?{uncompressed:jt.map(function(ii){var Ci=ii[0].levelBuffer,$i=!1;return he===at.vK.FLOAT?Ci=new Float32Array(ii[0].levelBuffer.buffer,ii[0].levelBuffer.byteOffset,ii[0].levelBuffer.byteLength/4):he===at.vK.UNSIGNED_INT?($i=!0,Ci=new Uint32Array(ii[0].levelBuffer.buffer,ii[0].levelBuffer.byteOffset,ii[0].levelBuffer.byteLength/4)):he===at.vK.INT&&($i=!0,Ci=new Int32Array(ii[0].levelBuffer.buffer,ii[0].levelBuffer.byteOffset,ii[0].levelBuffer.byteLength/4)),{resource:new de.qm(Ci,{width:ii[0].levelWidth,height:ii[0].levelHeight}),type:he,format:$i?e.convertFormatToInteger(se):se}})}:{compressed:jt.map(function(ii){return new Yi(null,{format:Te,width:Pe,height:we,levels:ze,levelBuffers:ii})})}},e.validate=function(s,l){for(var f=0;f<qi.length;f++)if(l.getUint8(f)!==qi[f])return console.error(s+" is not a valid *.ktx file!"),!1;return!0},e.convertFormatToInteger=function(s){switch(s){case at.I2.RGBA:return at.I2.RGBA_INTEGER;case at.I2.RGB:return at.I2.RGB_INTEGER;case at.I2.RG:return at.I2.RG_INTEGER;case at.I2.RED:return at.I2.RED_INTEGER;default:return s}},e}(),on=d(3685),Ei=d(1024),Xi=function(){function e(s,l,f){f===void 0&&(f=null),this._texture=s instanceof de.xE?s:null,this.baseTexture=s instanceof de.VL?s:this._texture.baseTexture,this.textures={},this.animations={},this.data=l;var S=this.baseTexture.resource;this.resolution=this._updateResolution(f||(S?S.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return e.prototype._updateResolution=function(s){s===void 0&&(s=null);var l=this.data.meta.scale,f=(0,C.getResolutionOfUrl)(s,null);return f===null&&(f=l!==void 0?parseFloat(l):1),f!==1&&this.baseTexture.setResolution(f),f},e.prototype.parse=function(s){this._batchIndex=0,this._callback=s,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},e.prototype._processFrames=function(s){for(var l=s,f=e.BATCH_SIZE;l-s<f&&l<this._frameKeys.length;){var S=this._frameKeys[l],he=this._frames[S],se=he.frame;if(se){var Te=null,Pe=null,we=he.trimmed!==!1&&he.sourceSize?he.sourceSize:he.frame,Ue=new be.Ae(0,0,Math.floor(we.w)/this.resolution,Math.floor(we.h)/this.resolution);Te=he.rotated?new be.Ae(Math.floor(se.x)/this.resolution,Math.floor(se.y)/this.resolution,Math.floor(se.h)/this.resolution,Math.floor(se.w)/this.resolution):new be.Ae(Math.floor(se.x)/this.resolution,Math.floor(se.y)/this.resolution,Math.floor(se.w)/this.resolution,Math.floor(se.h)/this.resolution),he.trimmed!==!1&&he.spriteSourceSize&&(Pe=new be.Ae(Math.floor(he.spriteSourceSize.x)/this.resolution,Math.floor(he.spriteSourceSize.y)/this.resolution,Math.floor(se.w)/this.resolution,Math.floor(se.h)/this.resolution)),this.textures[S]=new de.xE(this.baseTexture,Te,Ue,Pe,he.rotated?2:0,he.anchor),de.xE.addToCache(this.textures[S],S)}l++}},e.prototype._processAnimations=function(){var s=this.data.animations||{};for(var l in s){this.animations[l]=[];for(var f=0;f<s[l].length;f++){var S=s[l][f];this.animations[l].push(this.textures[S])}}},e.prototype._parseComplete=function(){var s=this._callback;this._callback=null,this._batchIndex=0,s.call(this,this.textures)},e.prototype._nextBatch=function(){var s=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout(function(){s._batchIndex*e.BATCH_SIZE<s._frameKeys.length?s._nextBatch():(s._processAnimations(),s._parseComplete())},0)},e.prototype.destroy=function(s){var l;for(var f in s===void 0&&(s=!1),this.textures)this.textures[f].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,s&&((l=this._texture)===null||l===void 0||l.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},e.BATCH_SIZE=1e3,e}(),qn=function(){function e(){}return e.use=function(s,l){var f,S,he=this,se=s.name+"_image";if(s.data&&s.type===De.TYPE.JSON&&s.data.frames&&!he.resources[se]){var Te=(S=(f=s.data)===null||f===void 0?void 0:f.meta)===null||S===void 0?void 0:S.related_multi_packs;if(Array.isArray(Te))for(var Pe=function(ze){if(typeof ze!="string")return"continue";var lt=ze.replace(".json",""),et=C.url.resolve(s.url.replace(he.baseUrl,""),ze);if(he.resources[lt]||Object.values(he.resources).some(function(Pt){return C.url.format(C.url.parse(Pt.url))===et}))return"continue";var Tt={crossOrigin:s.crossOrigin,loadType:De.LOAD_TYPE.XHR,xhrType:De.XHR_RESPONSE_TYPE.JSON,parentResource:s,metadata:s.metadata};he.add(lt,et,Tt)},we=0,Ue=Te;we<Ue.length;we++)Pe(Ue[we]);var Qe={crossOrigin:s.crossOrigin,metadata:s.metadata.imageMetadata,parentResource:s},it=e.getResourcePath(s,he.baseUrl);he.add(se,it,Qe,function(ze){if(ze.error)l(ze.error);else{var lt=new Xi(ze.texture,s.data,s.url);lt.parse(function(){s.spritesheet=lt,s.textures=lt.textures,l()})}})}else l()},e.getResourcePath=function(s,l){return s.isDataUrl?s.data.meta.image:C.url.resolve(s.url.replace(l,""),s.data.meta.image)},e}(),Nn=d(9073),Li=d(875),vi=d(3880),Si=d(2865),ln=function(e,s){return ln=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var S in f)f.hasOwnProperty(S)&&(l[S]=f[S])},ln(e,s)};function yn(e,s){function l(){this.constructor=e}ln(e,s),e.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}var Ai=function(){function e(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return e}(),hn=function(){function e(){}return e.test=function(s){return typeof s=="string"&&s.indexOf("info face=")===0},e.parse=function(s){var l=s.match(/^[a-z]+\s+.+$/gm),f={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var S in l){var he=l[S].match(/^[a-z]+/gm)[0],se=l[S].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),Te={};for(var Pe in se){var we=se[Pe].split("="),Ue=we[0],Qe=we[1].replace(/"/gm,""),it=parseFloat(Qe),ze=isNaN(it)?Qe:it;Te[Ue]=ze}f[he].push(Te)}var lt=new Ai;return f.info.forEach(function(et){return lt.info.push({face:et.face,size:parseInt(et.size,10)})}),f.common.forEach(function(et){return lt.common.push({lineHeight:parseInt(et.lineHeight,10)})}),f.page.forEach(function(et){return lt.page.push({id:parseInt(et.id,10),file:et.file})}),f.char.forEach(function(et){return lt.char.push({id:parseInt(et.id,10),page:parseInt(et.page,10),x:parseInt(et.x,10),y:parseInt(et.y,10),width:parseInt(et.width,10),height:parseInt(et.height,10),xoffset:parseInt(et.xoffset,10),yoffset:parseInt(et.yoffset,10),xadvance:parseInt(et.xadvance,10)})}),f.kerning.forEach(function(et){return lt.kerning.push({first:parseInt(et.first,10),second:parseInt(et.second,10),amount:parseInt(et.amount,10)})}),f.distanceField.forEach(function(et){return lt.distanceField.push({distanceRange:parseInt(et.distanceRange,10),fieldType:et.fieldType})}),lt},e}(),Qi=function(){function e(){}return e.test=function(s){return s instanceof XMLDocument&&s.getElementsByTagName("page").length&&s.getElementsByTagName("info")[0].getAttribute("face")!==null},e.parse=function(s){for(var l=new Ai,f=s.getElementsByTagName("info"),S=s.getElementsByTagName("common"),he=s.getElementsByTagName("page"),se=s.getElementsByTagName("char"),Te=s.getElementsByTagName("kerning"),Pe=s.getElementsByTagName("distanceField"),we=0;we<f.length;we++)l.info.push({face:f[we].getAttribute("face"),size:parseInt(f[we].getAttribute("size"),10)});for(we=0;we<S.length;we++)l.common.push({lineHeight:parseInt(S[we].getAttribute("lineHeight"),10)});for(we=0;we<he.length;we++)l.page.push({id:parseInt(he[we].getAttribute("id"),10)||0,file:he[we].getAttribute("file")});for(we=0;we<se.length;we++){var Ue=se[we];l.char.push({id:parseInt(Ue.getAttribute("id"),10),page:parseInt(Ue.getAttribute("page"),10)||0,x:parseInt(Ue.getAttribute("x"),10),y:parseInt(Ue.getAttribute("y"),10),width:parseInt(Ue.getAttribute("width"),10),height:parseInt(Ue.getAttribute("height"),10),xoffset:parseInt(Ue.getAttribute("xoffset"),10),yoffset:parseInt(Ue.getAttribute("yoffset"),10),xadvance:parseInt(Ue.getAttribute("xadvance"),10)})}for(we=0;we<Te.length;we++)l.kerning.push({first:parseInt(Te[we].getAttribute("first"),10),second:parseInt(Te[we].getAttribute("second"),10),amount:parseInt(Te[we].getAttribute("amount"),10)});for(we=0;we<Pe.length;we++)l.distanceField.push({fieldType:Pe[we].getAttribute("fieldType"),distanceRange:parseInt(Pe[we].getAttribute("distanceRange"),10)});return l},e}(),Ln=function(){function e(){}return e.test=function(s){if(typeof s=="string"&&s.indexOf("<font>")>-1){var l=new globalThis.DOMParser().parseFromString(s,"text/xml");return Qi.test(l)}return!1},e.parse=function(s){var l=new globalThis.DOMParser().parseFromString(s,"text/xml");return Qi.parse(l)},e}(),Ki=[hn,Qi,Ln];function bn(e){for(var s=0;s<Ki.length;s++)if(Ki[s].test(e))return Ki[s];return null}function Qn(e,s,l,f,S,he){var se,Te=l.fill;if(!Array.isArray(Te))return Te;if(Te.length===1)return Te[0];var Pe=l.dropShadow?l.dropShadowDistance:0,we=l.padding||0,Ue=e.width/f-Pe-2*we,Qe=e.height/f-Pe-2*we,it=Te.slice(),ze=l.fillGradientStops.slice();if(!ze.length)for(var lt=it.length+1,et=1;et<lt;++et)ze.push(et/lt);if(it.unshift(Te[0]),ze.unshift(0),it.push(Te[Te.length-1]),ze.push(1),l.fillGradientType===Si.M_.LINEAR_VERTICAL){se=s.createLinearGradient(Ue/2,we,Ue/2,Qe+we);var Tt=0,Pt=(he.fontProperties.fontSize+l.strokeThickness)/Qe;for(et=0;et<S.length;et++)for(var Lt=he.lineHeight*et,Ct=0;Ct<it.length;Ct++){var jt=Lt/Qe+(typeof ze[Ct]=="number"?ze[Ct]:Ct/it.length)*Pt,ct=Math.max(Tt,jt);ct=Math.min(ct,1),se.addColorStop(ct,it[Ct]),Tt=ct}}else{se=s.createLinearGradient(we,Qe/2,Ue+we,Qe/2);var Qt=it.length+1,Xt=1;for(et=0;et<it.length;et++){var Yt=void 0;Yt=typeof ze[et]=="number"?ze[et]:Xt/Qt,se.addColorStop(Yt,it[et]),Xt++}}return se}function fr(e,s,l,f,S,he,se){var Te=l.text,Pe=l.fontProperties;s.translate(f,S),s.scale(he,he);var we=se.strokeThickness/2,Ue=-se.strokeThickness/2;if(s.font=se.toFontString(),s.lineWidth=se.strokeThickness,s.textBaseline=se.textBaseline,s.lineJoin=se.lineJoin,s.miterLimit=se.miterLimit,s.fillStyle=Qn(e,s,se,he,[Te],l),s.strokeStyle=se.stroke,se.dropShadow){var Qe=se.dropShadowColor,it=(0,C.hex2rgb)(typeof Qe=="number"?Qe:(0,C.string2hex)(Qe)),ze=se.dropShadowBlur*he,lt=se.dropShadowDistance*he;s.shadowColor="rgba("+255*it[0]+","+255*it[1]+","+255*it[2]+","+se.dropShadowAlpha+")",s.shadowBlur=ze,s.shadowOffsetX=Math.cos(se.dropShadowAngle)*lt,s.shadowOffsetY=Math.sin(se.dropShadowAngle)*lt}else s.shadowColor="black",s.shadowBlur=0,s.shadowOffsetX=0,s.shadowOffsetY=0;se.stroke&&se.strokeThickness&&s.strokeText(Te,we,Ue+l.lineHeight-Pe.descent),se.fill&&s.fillText(Te,we,Ue+l.lineHeight-Pe.descent),s.setTransform(1,0,0,1,0,0),s.fillStyle="rgba(0, 0, 0, 0)"}function xn(e){return Array.from?Array.from(e):e.split("")}function gr(e){typeof e=="string"&&(e=[e]);for(var s=[],l=0,f=e.length;l<f;l++){var S=e[l];if(Array.isArray(S)){if(S.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+S.length+".");var he=S[0].charCodeAt(0),se=S[1].charCodeAt(0);if(se<he)throw new Error("[BitmapFont]: Invalid character range.");for(var Te=he,Pe=se;Te<=Pe;Te++)s.push(String.fromCharCode(Te))}else s.push.apply(s,xn(S))}if(s.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return s}function Tn(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}var Bi=function(){function e(s,l,f){var S,he,se=s.info[0],Te=s.common[0],Pe=s.page[0],we=s.distanceField[0],Ue=(0,C.getResolutionOfUrl)(Pe.file),Qe={};this._ownsTextures=f,this.font=se.face,this.size=se.size,this.lineHeight=Te.lineHeight/Ue,this.chars={},this.pageTextures=Qe;for(var it=0;it<s.page.length;it++){var ze=s.page[it],lt=ze.id,et=ze.file;Qe[lt]=l instanceof Array?l[it]:l[et],we!=null&&we.fieldType&&we.fieldType!=="none"&&(Qe[lt].baseTexture.alphaMode=at.iw.NO_PREMULTIPLIED_ALPHA)}for(it=0;it<s.char.length;it++){var Tt=s.char[it],Pt=(lt=Tt.id,Tt.page),Lt=s.char[it],Ct=Lt.x,jt=Lt.y,ct=Lt.width,Qt=Lt.height,Xt=Lt.xoffset,Yt=Lt.yoffset,ti=Lt.xadvance;Ct/=Ue,jt/=Ue,ct/=Ue,Qt/=Ue,Xt/=Ue,Yt/=Ue,ti/=Ue;var yi=new be.Ae(Ct+Qe[Pt].frame.x/Ue,jt+Qe[Pt].frame.y/Ue,ct,Qt);this.chars[lt]={xOffset:Xt,yOffset:Yt,xAdvance:ti,kerning:{},texture:new de.xE(Qe[Pt].baseTexture,yi),page:Pt}}for(it=0;it<s.kerning.length;it++){var Kt=s.kerning[it],si=Kt.first,Wt=Kt.second,Zt=Kt.amount;si/=Ue,Wt/=Ue,Zt/=Ue,this.chars[Wt]&&(this.chars[Wt].kerning[si]=Zt)}this.distanceFieldRange=we==null?void 0:we.distanceRange,this.distanceFieldType=(he=(S=we==null?void 0:we.fieldType)===null||S===void 0?void 0:S.toLowerCase())!==null&&he!==void 0?he:"none"}return e.prototype.destroy=function(){for(var s in this.chars)this.chars[s].texture.destroy(),this.chars[s].texture=null;for(var s in this.pageTextures)this._ownsTextures&&this.pageTextures[s].destroy(!0),this.pageTextures[s]=null;this.chars=null,this.pageTextures=null},e.install=function(s,l,f){var S;if(s instanceof Ai)S=s;else{var he=bn(s);if(!he)throw new Error("Unrecognized data format for font.");S=he.parse(s)}l instanceof de.xE&&(l=[l]);var se=new e(S,l,f);return e.available[se.font]=se,se},e.uninstall=function(s){var l=e.available[s];if(!l)throw new Error("No font found named '"+s+"'");l.destroy(),delete e.available[s]},e.from=function(s,l,f){if(!s)throw new Error("[BitmapFont] Property `name` is required.");var S=Object.assign({},e.defaultOptions,f),he=S.chars,se=S.padding,Te=S.resolution,Pe=S.textureWidth,we=S.textureHeight,Ue=gr(he),Qe=l instanceof Si.pn?l:new Si.pn(l),it=Pe,ze=new Ai;ze.info[0]={face:Qe.fontFamily,size:Qe.fontSize},ze.common[0]={lineHeight:Qe.fontSize};for(var lt,et,Tt,Pt=0,Lt=0,Ct=0,jt=[],ct=0;ct<Ue.length;ct++){lt||((lt=document.createElement("canvas")).width=Pe,lt.height=we,et=lt.getContext("2d"),Tt=new de.VL(lt,{resolution:Te}),jt.push(new de.xE(Tt)),ze.page.push({id:jt.length-1,file:""}));var Qt=Si._A.measureText(Ue[ct],Qe,!1,lt),Xt=Qt.width,Yt=Math.ceil(Qt.height),ti=Math.ceil((Qe.fontStyle==="italic"?2:1)*Xt);if(Lt>=we-Yt*Te){if(Lt===0)throw new Error("[BitmapFont] textureHeight "+we+"px is too small for "+Qe.fontSize+"px fonts");--ct,lt=null,et=null,Tt=null,Lt=0,Pt=0,Ct=0}else if(Ct=Math.max(Yt+Qt.fontProperties.descent,Ct),ti*Te+Pt>=it)--ct,Lt+=Ct*Te,Lt=Math.ceil(Lt),Pt=0,Ct=0;else{fr(lt,et,Qt,Pt,Lt,Te,Qe);var yi=Tn(Qt.text);ze.char.push({id:yi,page:jt.length-1,x:Pt/Te,y:Lt/Te,width:ti,height:Yt,xoffset:0,yoffset:0,xadvance:Math.ceil(Xt-(Qe.dropShadow?Qe.dropShadowDistance:0)-(Qe.stroke?Qe.strokeThickness:0))}),Pt+=(ti+2*se)*Te,Pt=Math.ceil(Pt)}}ct=0;for(var Kt=Ue.length;ct<Kt;ct++)for(var si=Ue[ct],Wt=0;Wt<Kt;Wt++){var Zt=Ue[Wt],bi=et.measureText(si).width,ci=et.measureText(Zt).width,ii=et.measureText(si+Zt).width-(bi+ci);ii&&ze.kerning.push({first:Tn(si),second:Tn(Zt),amount:ii})}var Ci=new e(ze,jt,!0);return e.available[s]!==void 0&&e.uninstall(s),e.available[s]=Ci,Ci},e.ALPHA=[["a","z"],["A","Z"]," "],e.NUMERIC=[["0","9"]],e.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],e.ASCII=[[" ","~"]],e.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:e.ALPHANUMERIC},e.available={},e}(),Bn=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,Kn=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,kn=[],un=[],Fn=[],Jn=function(e){function s(l,f){f===void 0&&(f={});var S=e.call(this)||this;S._tint=16777215;var he=Object.assign({},s.styleDefaults,f),se=he.align,Te=he.tint,Pe=he.maxWidth,we=he.letterSpacing,Ue=he.fontName,Qe=he.fontSize;if(!Bi.available[Ue])throw new Error('Missing BitmapFont "'+Ue+'"');return S._activePagesMeshData=[],S._textWidth=0,S._textHeight=0,S._align=se,S._tint=Te,S._fontName=Ue,S._fontSize=Qe||Bi.available[Ue].size,S._text=l,S._maxWidth=Pe,S._maxLineHeight=0,S._letterSpacing=we,S._anchor=new be.AB(function(){S.dirty=!0},S,0,0),S._roundPixels=Li.X.ROUND_PIXELS,S.dirty=!0,S._textureCache={},S}return yn(s,e),s.prototype.updateText=function(){for(var l,f=Bi.available[this._fontName],S=this._fontSize/f.size,he=new be.E9,se=[],Te=[],Pe=[],we=xn(this._text.replace(/(?:\r\n|\r)/g,`
`)||" "),Ue=this._maxWidth*f.size/this._fontSize,Qe=f.distanceFieldType==="none"?kn:un,it=null,ze=0,lt=0,et=0,Tt=-1,Pt=0,Lt=0,Ct=0,jt=0,ct=0;ct<we.length;ct++){var Qt=Tn(Zi=we[ct]);if(/(?:\s)/.test(Zi)&&(Tt=ct,Pt=ze,jt++),Zi!=="\r"&&Zi!==`
`){var Xt=f.chars[Qt];if(Xt){it&&Xt.kerning[it]&&(he.x+=Xt.kerning[it]);var Yt=Fn.pop()||{texture:de.xE.EMPTY,line:0,charCode:0,prevSpaces:0,position:new be.E9};Yt.texture=Xt.texture,Yt.line=et,Yt.charCode=Qt,Yt.position.x=he.x+Xt.xOffset+this._letterSpacing/2,Yt.position.y=he.y+Xt.yOffset,Yt.prevSpaces=jt,se.push(Yt),ze=Yt.position.x+Math.max(Xt.xAdvance,Xt.texture.orig.width),he.x+=Xt.xAdvance+this._letterSpacing,Ct=Math.max(Ct,Xt.yOffset+Xt.texture.height),it=Qt,Tt!==-1&&Ue>0&&he.x>Ue&&(++Lt,(0,C.removeItems)(se,1+Tt-Lt,1+ct-Tt),ct=Tt,Tt=-1,Te.push(Pt),Pe.push(se.length>0?se[se.length-1].prevSpaces:0),lt=Math.max(lt,Pt),et++,he.x=0,he.y+=f.lineHeight,it=null,jt=0)}}else Te.push(ze),Pe.push(-1),lt=Math.max(lt,ze),++et,++Lt,he.x=0,he.y+=f.lineHeight,it=null,jt=0}var ti=we[we.length-1];ti!=="\r"&&ti!==`
`&&(/(?:\s)/.test(ti)&&(ze=Pt),Te.push(ze),lt=Math.max(lt,ze),Pe.push(-1));var yi=[];for(ct=0;ct<=et;ct++){var Kt=0;this._align==="right"?Kt=lt-Te[ct]:this._align==="center"?Kt=(lt-Te[ct])/2:this._align==="justify"&&(Kt=Pe[ct]<0?0:(lt-Te[ct])/Pe[ct]),yi.push(Kt)}var si=se.length,Wt={},Zt=[],bi=this._activePagesMeshData;for(ct=0;ct<bi.length;ct++)Qe.push(bi[ct]);for(ct=0;ct<si;ct++){var ci=(Fi=se[ct].texture).baseTexture.uid;if(!Wt[ci]){if(!(ve=Qe.pop())){var ii=new vi.xc,Ci=void 0,$i=void 0;f.distanceFieldType==="none"?(Ci=new vi.rY(de.xE.EMPTY),$i=at.T$.NORMAL):(Ci=new vi.rY(de.xE.EMPTY,{program:de.$r.from(Kn,Bn),uniforms:{uFWidth:0}}),$i=at.T$.NORMAL_NPM);var lr=new vi.Kj(ii,Ci);lr.blendMode=$i,ve={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:lr,vertices:null,uvs:null,indices:null}}ve.index=0,ve.indexCount=0,ve.vertexCount=0,ve.uvsCount=0,ve.total=0;var hr=this._textureCache;hr[ci]=hr[ci]||new de.xE(Fi.baseTexture),ve.mesh.texture=hr[ci],ve.mesh.tint=this._tint,Zt.push(ve),Wt[ci]=ve}Wt[ci].total++}for(ct=0;ct<bi.length;ct++)Zt.indexOf(bi[ct])===-1&&this.removeChild(bi[ct].mesh);for(ct=0;ct<Zt.length;ct++)Zt[ct].mesh.parent!==this&&this.addChild(Zt[ct].mesh);for(var ct in this._activePagesMeshData=Zt,Wt){var Wn=(ve=Wt[ct]).total;if(!(((l=ve.indices)===null||l===void 0?void 0:l.length)>6*Wn)||ve.vertices.length<2*vi.Kj.BATCHABLE_SIZE)ve.vertices=new Float32Array(8*Wn),ve.uvs=new Float32Array(8*Wn),ve.indices=new Uint16Array(6*Wn);else for(var Gr=ve.total,Xr=ve.vertices,Zn=4*Gr*2;Zn<Xr.length;Zn++)Xr[Zn]=0;ve.mesh.size=6*Wn}for(ct=0;ct<si;ct++){var Zi,Sr=(Zi=se[ct]).position.x+yi[Zi.line]*(this._align==="justify"?Zi.prevSpaces:1);this._roundPixels&&(Sr=Math.round(Sr));var Fi,St=Sr*S,g=Zi.position.y*S,o=Wt[(Fi=Zi.texture).baseTexture.uid],Z=Fi.frame,$=Fi._uvs,pe=o.index++;o.indices[6*pe+0]=0+4*pe,o.indices[6*pe+1]=1+4*pe,o.indices[6*pe+2]=2+4*pe,o.indices[6*pe+3]=0+4*pe,o.indices[6*pe+4]=2+4*pe,o.indices[6*pe+5]=3+4*pe,o.vertices[8*pe+0]=St,o.vertices[8*pe+1]=g,o.vertices[8*pe+2]=St+Z.width*S,o.vertices[8*pe+3]=g,o.vertices[8*pe+4]=St+Z.width*S,o.vertices[8*pe+5]=g+Z.height*S,o.vertices[8*pe+6]=St,o.vertices[8*pe+7]=g+Z.height*S,o.uvs[8*pe+0]=$.x0,o.uvs[8*pe+1]=$.y0,o.uvs[8*pe+2]=$.x1,o.uvs[8*pe+3]=$.y1,o.uvs[8*pe+4]=$.x2,o.uvs[8*pe+5]=$.y2,o.uvs[8*pe+6]=$.x3,o.uvs[8*pe+7]=$.y3}for(var ct in this._textWidth=lt*S,this._textHeight=(he.y+f.lineHeight)*S,Wt){var ve=Wt[ct];if(this.anchor.x!==0||this.anchor.y!==0)for(var Re=0,Me=this._textWidth*this.anchor.x,Ye=this._textHeight*this.anchor.y,nt=0;nt<ve.total;nt++)ve.vertices[Re++]-=Me,ve.vertices[Re++]-=Ye,ve.vertices[Re++]-=Me,ve.vertices[Re++]-=Ye,ve.vertices[Re++]-=Me,ve.vertices[Re++]-=Ye,ve.vertices[Re++]-=Me,ve.vertices[Re++]-=Ye;this._maxLineHeight=Ct*S;var Xe=ve.mesh.geometry.getBuffer("aVertexPosition"),At=ve.mesh.geometry.getBuffer("aTextureCoord"),dt=ve.mesh.geometry.getIndex();Xe.data=ve.vertices,At.data=ve.uvs,dt.data=ve.indices,Xe.update(),At.update(),dt.update()}for(ct=0;ct<se.length;ct++)Fn.push(se[ct])},s.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},s.prototype._render=function(l){var f=Bi.available[this._fontName],S=f.distanceFieldRange,he=f.distanceFieldType,se=f.size;if(he!=="none")for(var Te=this.worldTransform,Pe=Te.a,we=Te.b,Ue=Te.c,Qe=Te.d,it=Math.sqrt(Pe*Pe+we*we),ze=Math.sqrt(Ue*Ue+Qe*Qe),lt=(Math.abs(it)+Math.abs(ze))/2,et=this._fontSize/se,Tt=0,Pt=this._activePagesMeshData;Tt<Pt.length;Tt++)Pt[Tt].mesh.shader.uniforms.uFWidth=lt*S*et*l.resolution;e.prototype._render.call(this,l)},s.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},s.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(s.prototype,"tint",{get:function(){return this._tint},set:function(l){if(this._tint!==l){this._tint=l;for(var f=0;f<this._activePagesMeshData.length;f++)this._activePagesMeshData[f].mesh.tint=l}},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"align",{get:function(){return this._align},set:function(l){this._align!==l&&(this._align=l,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"fontName",{get:function(){return this._fontName},set:function(l){if(!Bi.available[l])throw new Error('Missing BitmapFont "'+l+'"');this._fontName!==l&&(this._fontName=l,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"fontSize",{get:function(){return this._fontSize},set:function(l){this._fontSize!==l&&(this._fontSize=l,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"anchor",{get:function(){return this._anchor},set:function(l){typeof l=="number"?this._anchor.set(l):this._anchor.copyFrom(l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"text",{get:function(){return this._text},set:function(l){l=String(l??""),this._text!==l&&(this._text=l,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(l){this._maxWidth!==l&&(this._maxWidth=l,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(l){this._letterSpacing!==l&&(this._letterSpacing=l,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(l){l!==this._roundPixels&&(this._roundPixels=l,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),s.prototype.destroy=function(l){var f=this._textureCache;for(var S in f)f[S].destroy(),delete f[S];this._textureCache=null,e.prototype.destroy.call(this,l)},s.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},s}(T.W2),Ii=function(){function e(){}return e.add=function(){De.setExtensionXhrType("fnt",De.XHR_RESPONSE_TYPE.TEXT)},e.use=function(s,l){var f=bn(s.data);if(f)for(var S=e.getBaseUrl(this,s),he=f.parse(s.data),se={},Te=function(et){se[et.metadata.pageFile]=et.texture,Object.keys(se).length===he.page.length&&(s.bitmapFont=Bi.install(he,se,!0),l())},Pe=0;Pe<he.page.length;++Pe){var we=he.page[Pe].file,Ue=S+we,Qe=!1;for(var it in this.resources){var ze=this.resources[it];if(ze.url===Ue){ze.metadata.pageFile=we,ze.texture?Te(ze):ze.onAfterMiddleware.add(Te),Qe=!0;break}}if(!Qe){var lt={crossOrigin:s.crossOrigin,loadType:De.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:we},s.metadata.imageMetadata),parentResource:s};this.add(Ue,lt,Te)}}else l()},e.getBaseUrl=function(s,l){var f=l.isDataUrl?"":e.dirname(l.url);return l.isDataUrl&&(f==="."&&(f=""),s.baseUrl&&f&&s.baseUrl.charAt(s.baseUrl.length-1)==="/"&&(f+="/")),(f=f.replace(s.baseUrl,""))&&f.charAt(f.length-1)!=="/"&&(f+="/"),f},e.dirname=function(s){var l=s.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return l===s?".":l===""?"/":l},e}(),di=function(e,s){return di=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var S in f)f.hasOwnProperty(S)&&(l[S]=f[S])},di(e,s)};function Un(e,s){function l(){this.constructor=e}di(e,s),e.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}var $n=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,mr=function(e){function s(l){l===void 0&&(l=1);var f=e.call(this,de.kP,$n,{uAlpha:1})||this;return f.alpha=l,f}return Un(s,e),Object.defineProperty(s.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(l){this.uniforms.uAlpha=l},enumerable:!1,configurable:!0}),s}(de.wn),Hi=function(e,s){return Hi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var S in f)f.hasOwnProperty(S)&&(l[S]=f[S])},Hi(e,s)};function Gn(e,s){function l(){this.constructor=e}Hi(e,s),e.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}var Xn=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function cn(e,s){var l,f=Math.ceil(e/2),S=Xn,he="";l=s?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var se=0;se<e;se++){var Te=l.replace("%index%",se.toString());he+=Te=Te.replace("%sampleIndex%",se-(f-1)+".0"),he+=`
`}return S=(S=S.replace("%blur%",he)).replace("%size%",e.toString())}var er,_,t,i,r,m,H,ie,ce,me,Le,He,$e,ht,bt,It,Rt,wt,ei,li={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},wi=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function tr(e){for(var s,l=li[e],f=l.length,S=wi,he="",se="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",Te=0;Te<e;Te++){var Pe=se.replace("%index%",Te.toString());s=Te,Te>=f&&(s=e-Te-1),he+=Pe=Pe.replace("%value%",l[s].toString()),he+=`
`}return S=(S=S.replace("%blur%",he)).replace("%size%",e.toString())}(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(er||(er={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(_||(_={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(t||(t={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(i||(i={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(r||(r={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(m||(m={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(H||(H={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(ie||(ie={})),function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"}(ce||(ce={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(me||(me={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(Le||(Le={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"}(He||(He={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}($e||($e={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(ht||(ht={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(bt||(bt={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(It||(It={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(Rt||(Rt={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(wt||(wt={})),function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(ei||(ei={}));var pn=function(e){function s(l,f,S,he,se){f===void 0&&(f=8),S===void 0&&(S=4),he===void 0&&(he=Li.X.FILTER_RESOLUTION),se===void 0&&(se=5);var Te=this,Pe=cn(se,l),we=tr(se);return(Te=e.call(this,Pe,we)||this).horizontal=l,Te.resolution=he,Te._quality=0,Te.quality=S,Te.blur=f,Te}return Gn(s,e),s.prototype.apply=function(l,f,S,he){if(S?this.horizontal?this.uniforms.strength=1/S.width*(S.width/f.width):this.uniforms.strength=1/S.height*(S.height/f.height):this.horizontal?this.uniforms.strength=1/l.renderer.width*(l.renderer.width/f.width):this.uniforms.strength=1/l.renderer.height*(l.renderer.height/f.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)l.applyFilter(this,f,S,he);else{var se=l.getFilterTexture(),Te=l.renderer,Pe=f,we=se;this.state.blend=!1,l.applyFilter(this,Pe,we,ht.CLEAR);for(var Ue=1;Ue<this.passes-1;Ue++){l.bindAndClear(Pe,ht.BLIT),this.uniforms.uSampler=we;var Qe=we;we=Pe,Pe=Qe,Te.shader.bind(this),Te.geometry.draw(5)}this.state.blend=!0,l.applyFilter(this,we,S,he),l.returnFilterTexture(se)}},Object.defineProperty(s.prototype,"blur",{get:function(){return this.strength},set:function(l){this.padding=1+2*Math.abs(l),this.strength=l},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"quality",{get:function(){return this._quality},set:function(l){this._quality=l,this.passes=l},enumerable:!1,configurable:!0}),s}(de.wn),ir=function(e){function s(l,f,S,he){l===void 0&&(l=8),f===void 0&&(f=4),S===void 0&&(S=Li.X.FILTER_RESOLUTION),he===void 0&&(he=5);var se=e.call(this)||this;return se.blurXFilter=new pn(!0,l,f,S,he),se.blurYFilter=new pn(!1,l,f,S,he),se.resolution=S,se.quality=f,se.blur=l,se.repeatEdgePixels=!1,se}return Gn(s,e),s.prototype.apply=function(l,f,S,he){var se=Math.abs(this.blurXFilter.strength),Te=Math.abs(this.blurYFilter.strength);if(se&&Te){var Pe=l.getFilterTexture();this.blurXFilter.apply(l,f,Pe,ht.CLEAR),this.blurYFilter.apply(l,Pe,S,he),l.returnFilterTexture(Pe)}else Te?this.blurYFilter.apply(l,f,S,he):this.blurXFilter.apply(l,f,S,he)},s.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(s.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(l){this.blurXFilter.blur=this.blurYFilter.blur=l,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(l){this.blurXFilter.quality=this.blurYFilter.quality=l},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(l){this.blurXFilter.blur=l,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(l){this.blurYFilter.blur=l,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(l){this.blurYFilter.blendMode=l},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(l){this._repeatEdgePixels=l,this.updatePadding()},enumerable:!1,configurable:!0}),s}(de.wn),ji=function(e,s){return ji=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var S in f)f.hasOwnProperty(S)&&(l[S]=f[S])},ji(e,s)};function Hr(e,s){function l(){this.constructor=e}ji(e,s),e.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}var Ir=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,nr=function(e){function s(){var l=this,f={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(l=e.call(this,de.Y9,Ir,f)||this).alpha=1,l}return Hr(s,e),s.prototype._loadMatrix=function(l,f){f===void 0&&(f=!1);var S=l;f&&(this._multiply(S,this.uniforms.m,l),S=this._colorMatrix(S)),this.uniforms.m=S},s.prototype._multiply=function(l,f,S){return l[0]=f[0]*S[0]+f[1]*S[5]+f[2]*S[10]+f[3]*S[15],l[1]=f[0]*S[1]+f[1]*S[6]+f[2]*S[11]+f[3]*S[16],l[2]=f[0]*S[2]+f[1]*S[7]+f[2]*S[12]+f[3]*S[17],l[3]=f[0]*S[3]+f[1]*S[8]+f[2]*S[13]+f[3]*S[18],l[4]=f[0]*S[4]+f[1]*S[9]+f[2]*S[14]+f[3]*S[19]+f[4],l[5]=f[5]*S[0]+f[6]*S[5]+f[7]*S[10]+f[8]*S[15],l[6]=f[5]*S[1]+f[6]*S[6]+f[7]*S[11]+f[8]*S[16],l[7]=f[5]*S[2]+f[6]*S[7]+f[7]*S[12]+f[8]*S[17],l[8]=f[5]*S[3]+f[6]*S[8]+f[7]*S[13]+f[8]*S[18],l[9]=f[5]*S[4]+f[6]*S[9]+f[7]*S[14]+f[8]*S[19]+f[9],l[10]=f[10]*S[0]+f[11]*S[5]+f[12]*S[10]+f[13]*S[15],l[11]=f[10]*S[1]+f[11]*S[6]+f[12]*S[11]+f[13]*S[16],l[12]=f[10]*S[2]+f[11]*S[7]+f[12]*S[12]+f[13]*S[17],l[13]=f[10]*S[3]+f[11]*S[8]+f[12]*S[13]+f[13]*S[18],l[14]=f[10]*S[4]+f[11]*S[9]+f[12]*S[14]+f[13]*S[19]+f[14],l[15]=f[15]*S[0]+f[16]*S[5]+f[17]*S[10]+f[18]*S[15],l[16]=f[15]*S[1]+f[16]*S[6]+f[17]*S[11]+f[18]*S[16],l[17]=f[15]*S[2]+f[16]*S[7]+f[17]*S[12]+f[18]*S[17],l[18]=f[15]*S[3]+f[16]*S[8]+f[17]*S[13]+f[18]*S[18],l[19]=f[15]*S[4]+f[16]*S[9]+f[17]*S[14]+f[18]*S[19]+f[19],l},s.prototype._colorMatrix=function(l){var f=new Float32Array(l);return f[4]/=255,f[9]/=255,f[14]/=255,f[19]/=255,f},s.prototype.brightness=function(l,f){var S=[l,0,0,0,0,0,l,0,0,0,0,0,l,0,0,0,0,0,1,0];this._loadMatrix(S,f)},s.prototype.tint=function(l,f){var S=[(l>>16&255)/255,0,0,0,0,0,(l>>8&255)/255,0,0,0,0,0,(255&l)/255,0,0,0,0,0,1,0];this._loadMatrix(S,f)},s.prototype.greyscale=function(l,f){var S=[l,l,l,0,0,l,l,l,0,0,l,l,l,0,0,0,0,0,1,0];this._loadMatrix(S,f)},s.prototype.blackAndWhite=function(l){var f=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(f,l)},s.prototype.hue=function(l,f){l=(l||0)/180*Math.PI;var S=Math.cos(l),he=Math.sin(l),se=1/3,Te=(0,Math.sqrt)(se),Pe=[S+(1-S)*se,se*(1-S)-Te*he,se*(1-S)+Te*he,0,0,se*(1-S)+Te*he,S+se*(1-S),se*(1-S)-Te*he,0,0,se*(1-S)-Te*he,se*(1-S)+Te*he,S+se*(1-S),0,0,0,0,0,1,0];this._loadMatrix(Pe,f)},s.prototype.contrast=function(l,f){var S=(l||0)+1,he=-.5*(S-1),se=[S,0,0,0,he,0,S,0,0,he,0,0,S,0,he,0,0,0,1,0];this._loadMatrix(se,f)},s.prototype.saturate=function(l,f){l===void 0&&(l=0);var S=2*l/3+1,he=-.5*(S-1),se=[S,he,he,0,0,he,S,he,0,0,he,he,S,0,0,0,0,0,1,0];this._loadMatrix(se,f)},s.prototype.desaturate=function(){this.saturate(-1)},s.prototype.negative=function(l){var f=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(f,l)},s.prototype.sepia=function(l){var f=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(f,l)},s.prototype.technicolor=function(l){var f=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(f,l)},s.prototype.polaroid=function(l){var f=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(f,l)},s.prototype.toBGR=function(l){var f=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(f,l)},s.prototype.kodachrome=function(l){var f=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(f,l)},s.prototype.browni=function(l){var f=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(f,l)},s.prototype.vintage=function(l){var f=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(f,l)},s.prototype.colorTone=function(l,f,S,he,se){var Te=((S=S||16770432)>>16&255)/255,Pe=(S>>8&255)/255,we=(255&S)/255,Ue=((he=he||3375104)>>16&255)/255,Qe=(he>>8&255)/255,it=(255&he)/255,ze=[.3,.59,.11,0,0,Te,Pe,we,l=l||.2,0,Ue,Qe,it,f=f||.15,0,Te-Ue,Pe-Qe,we-it,0,0];this._loadMatrix(ze,se)},s.prototype.night=function(l,f){var S=[-2*(l=l||.1),-l,0,0,0,-l,0,l,0,0,0,l,2*l,0,0,0,0,0,1,0];this._loadMatrix(S,f)},s.prototype.predator=function(l,f){var S=[11.224130630493164*l,-4.794486999511719*l,-2.8746118545532227*l,0*l,.40342438220977783*l,-3.6330697536468506*l,9.193157196044922*l,-2.951810836791992*l,0*l,-1.316135048866272*l,-3.2184197902679443*l,-4.2375030517578125*l,7.476448059082031*l,0*l,.8044459223747253*l,0,0,0,1,0];this._loadMatrix(S,f)},s.prototype.lsd=function(l){var f=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(f,l)},s.prototype.reset=function(){var l=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(l,!1)},Object.defineProperty(s.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(l){this.uniforms.m=l},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(l){this.uniforms.uAlpha=l},enumerable:!1,configurable:!0}),s}(de.wn);nr.prototype.grayscale=nr.prototype.greyscale;var Ri=function(e,s){return Ri=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var S in f)f.hasOwnProperty(S)&&(l[S]=f[S])},Ri(e,s)};function Ji(e,s){function l(){this.constructor=e}Ri(e,s),e.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}var jr=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,wr=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,_r=function(e){function s(l,f){var S=this,he=new be.y3;return l.renderable=!1,(S=e.call(this,wr,jr,{mapSampler:l._texture,filterMatrix:he,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=l,S.maskMatrix=he,f==null&&(f=20),S.scale=new be.E9(f,f),S}return Ji(s,e),s.prototype.apply=function(l,f,S,he){this.uniforms.filterMatrix=l.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var se=this.maskSprite.worldTransform,Te=Math.sqrt(se.a*se.a+se.b*se.b),Pe=Math.sqrt(se.c*se.c+se.d*se.d);Te!==0&&Pe!==0&&(this.uniforms.rotation[0]=se.a/Te,this.uniforms.rotation[1]=se.b/Te,this.uniforms.rotation[2]=se.c/Pe,this.uniforms.rotation[3]=se.d/Pe),l.applyFilter(this,f,S,he)},Object.defineProperty(s.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(l){this.uniforms.mapSampler=l},enumerable:!1,configurable:!0}),s}(de.wn),Hn=function(e,s){return Hn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var S in f)f.hasOwnProperty(S)&&(l[S]=f[S])},Hn(e,s)};function Rr(e,s){function l(){this.constructor=e}Hn(e,s),e.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}var Wr=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,Pr=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,Zr=function(e){function s(){return e.call(this,Wr,Pr)||this}return Rr(s,e),s}(de.wn),fi=function(e,s){return fi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var S in f)f.hasOwnProperty(S)&&(l[S]=f[S])},fi(e,s)};function En(e,s){function l(){this.constructor=e}fi(e,s),e.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}var vr,Ar,yr,br,Sn,Or,Cr,Mr,Dr,Nr,In,Lr,Br,xr,rr,ar,Tr,ki,Er,jn=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,gi=function(e){function s(l,f){l===void 0&&(l=.5),f===void 0&&(f=Math.random());var S=e.call(this,de.Y9,jn,{uNoise:0,uSeed:0})||this;return S.noise=l,S.seed=f,S}return En(s,e),Object.defineProperty(s.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(l){this.uniforms.uNoise=l},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(l){this.uniforms.uSeed=l},enumerable:!1,configurable:!0}),s}(de.wn),dn=d(5510);(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(vr||(vr={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(Ar||(Ar={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(yr||(yr={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(br||(br={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(Sn||(Sn={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(Or||(Or={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(Cr||(Cr={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(Mr||(Mr={})),function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"}(Dr||(Dr={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(Nr||(Nr={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(In||(In={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"}(Lr||(Lr={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(Br||(Br={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(xr||(xr={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(rr||(rr={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(ar||(ar={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(Tr||(Tr={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(ki||(ki={})),function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(Er||(Er={}));var kr=new be.y3;T.s$.prototype._cacheAsBitmap=!1,T.s$.prototype._cacheData=null,T.s$.prototype._cacheAsBitmapResolution=null,T.s$.prototype._cacheAsBitmapMultisample=ki.NONE;var Fr=function(){function e(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return e}();Object.defineProperties(T.s$.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){var s;this._cacheAsBitmap!==e&&(this._cacheAsBitmap=e,e?(this._cacheData||(this._cacheData=new Fr),(s=this._cacheData).originalRender=this.render,s.originalRenderCanvas=this.renderCanvas,s.originalUpdateTransform=this.updateTransform,s.originalCalculateBounds=this.calculateBounds,s.originalGetLocalBounds=this.getLocalBounds,s.originalDestroy=this.destroy,s.originalContainsPoint=this.containsPoint,s.originalMask=this._mask,s.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((s=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=s.originalRender,this.renderCanvas=s.originalRenderCanvas,this.calculateBounds=s.originalCalculateBounds,this.getLocalBounds=s.originalGetLocalBounds,this.destroy=s.originalDestroy,this.updateTransform=s.originalUpdateTransform,this.containsPoint=s.originalContainsPoint,this._mask=s.originalMask,this.filterArea=s.originalFilterArea))}}}),T.s$.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},T.s$.prototype._initCachedDisplayObject=function(e){var s;if(!this._cacheData||!this._cacheData.sprite){var l=this.alpha;this.alpha=1,e.batch.flush();var f=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var S=this.filters[0].padding;f.pad(S)}f.ceil(Li.X.RESOLUTION);var he=e.renderTexture.current,se=e.renderTexture.sourceFrame.clone(),Te=e.renderTexture.destinationFrame.clone(),Pe=e.projection.transform,we=de.TI.create({width:f.width,height:f.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:(s=this.cacheAsBitmapMultisample)!==null&&s!==void 0?s:e.multisample}),Ue="cacheAsBitmap_"+(0,C.uid)();this._cacheData.textureCacheId=Ue,de.VL.addToCache(we.baseTexture,Ue),de.xE.addToCache(we,Ue);var Qe=this.transform.localTransform.copyTo(kr).invert().translate(-f.x,-f.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:we,clear:!0,transform:Qe,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=Pe,e.renderTexture.bind(he,se,Te),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=l;var it=new dn.j(we);it.transform.worldTransform=this.transform.worldTransform,it.anchor.x=-f.x/f.width,it.anchor.y=-f.y/f.height,it.alpha=l,it._bounds=this._bounds,this._cacheData.sprite=it,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=it.containsPoint.bind(it)}},T.s$.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},T.s$.prototype._initCachedDisplayObjectCanvas=function(e){if(!this._cacheData||!this._cacheData.sprite){var s=this.getLocalBounds(null,!0),l=this.alpha;this.alpha=1;var f=e.context,S=e._projTransform;s.ceil(Li.X.RESOLUTION);var he=de.TI.create({width:s.width,height:s.height}),se="cacheAsBitmap_"+(0,C.uid)();this._cacheData.textureCacheId=se,de.VL.addToCache(he.baseTexture,se),de.xE.addToCache(he,se);var Te=kr;this.transform.localTransform.copyTo(Te),Te.invert(),Te.tx-=s.x,Te.ty-=s.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:he,clear:!0,transform:Te,skipUpdateTransform:!1}),e.context=f,e._projTransform=S,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=l;var Pe=new dn.j(he);Pe.transform.worldTransform=this.transform.worldTransform,Pe.anchor.x=-s.x/s.width,Pe.anchor.y=-s.y/s.height,Pe.alpha=l,Pe._bounds=this._bounds,this._cacheData.sprite=Pe,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=Pe.containsPoint.bind(Pe)}},T.s$.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},T.s$.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},T.s$.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,de.VL.removeFromCache(this._cacheData.textureCacheId),de.xE.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},T.s$.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)},T.s$.prototype.name=null,T.W2.prototype.getChildByName=function(e,s){for(var l=0,f=this.children.length;l<f;l++)if(this.children[l].name===e)return this.children[l];if(s){for(l=0,f=this.children.length;l<f;l++)if(this.children[l].getChildByName){var S=this.children[l].getChildByName(e,!0);if(S)return S}}return null},T.s$.prototype.getGlobalPosition=function(e,s){return e===void 0&&(e=new be.E9),s===void 0&&(s=!1),this.parent?this.parent.toGlobal(this.position,e,s):(e.x=this.position.x,e.y=this.position.y),e};var Pi=d(8838),Wi=d(9838),Vr=d(7584),Oi=function(e,s){return Oi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var S in f)f.hasOwnProperty(S)&&(l[S]=f[S])},Oi(e,s)};function Ur(e,s){function l(){this.constructor=e}Oi(e,s),e.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}var sr=function(e){function s(l,f){f===void 0&&(f=!0);var S=e.call(this,l[0]instanceof de.xE?l[0]:l[0].texture)||this;return S._textures=null,S._durations=null,S._autoUpdate=f,S._isConnectedToTicker=!1,S.animationSpeed=1,S.loop=!0,S.updateAnchor=!1,S.onComplete=null,S.onFrameChange=null,S.onLoop=null,S._currentTime=0,S._playing=!1,S._previousFrame=null,S.textures=l,S}return Ur(s,e),s.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Ie.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1))},s.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Ie.vB.shared.add(this.update,this,Ie.uF.HIGH),this._isConnectedToTicker=!0))},s.prototype.gotoAndStop=function(l){this.stop();var f=this.currentFrame;this._currentTime=l,f!==this.currentFrame&&this.updateTexture()},s.prototype.gotoAndPlay=function(l){var f=this.currentFrame;this._currentTime=l,f!==this.currentFrame&&this.updateTexture(),this.play()},s.prototype.update=function(l){if(this._playing){var f=this.animationSpeed*l,S=this.currentFrame;if(this._durations!==null){var he=this._currentTime%1*this._durations[this.currentFrame];for(he+=f/60*1e3;he<0;)this._currentTime--,he+=this._durations[this.currentFrame];var se=Math.sign(this.animationSpeed*l);for(this._currentTime=Math.floor(this._currentTime);he>=this._durations[this.currentFrame];)he-=this._durations[this.currentFrame]*se,this._currentTime+=se;this._currentTime+=he/this._durations[this.currentFrame]}else this._currentTime+=f;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):S!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<S||this.animationSpeed<0&&this.currentFrame>S)&&this.onLoop(),this.updateTexture())}},s.prototype.updateTexture=function(){var l=this.currentFrame;this._previousFrame!==l&&(this._previousFrame=l,this._texture=this._textures[l],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},s.prototype.destroy=function(l){this.stop(),e.prototype.destroy.call(this,l),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},s.fromFrames=function(l){for(var f=[],S=0;S<l.length;++S)f.push(de.xE.from(l[S]));return new s(f)},s.fromImages=function(l){for(var f=[],S=0;S<l.length;++S)f.push(de.xE.from(l[S]));return new s(f)},Object.defineProperty(s.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"textures",{get:function(){return this._textures},set:function(l){if(l[0]instanceof de.xE)this._textures=l,this._durations=null;else{this._textures=[],this._durations=[];for(var f=0;f<l.length;f++)this._textures.push(l[f].texture),this._durations.push(l[f].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"currentFrame",{get:function(){var l=Math.floor(this._currentTime)%this._textures.length;return l<0&&(l+=this._textures.length),l},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(l){l!==this._autoUpdate&&(this._autoUpdate=l,!this._autoUpdate&&this._isConnectedToTicker?(Ie.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Ie.vB.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),s}(dn.j);de.Th.registerPlugin("accessibility",ne),de.Th.registerPlugin("extract",We),de.Th.registerPlugin("interaction",Ce),de.Th.registerPlugin("particle",on.P),de.Th.registerPlugin("prepare",Ei.B9),de.Th.registerPlugin("batch",de.Bv),de.Th.registerPlugin("tilingSprite",Nn.S),fe.registerPlugin(Ii),fe.registerPlugin(gn),fe.registerPlugin(An),fe.registerPlugin(pi),fe.registerPlugin(qn),ge.registerPlugin(Ie.Sb),ge.registerPlugin(Ne);var or="6.3.0",Yr={AlphaFilter:mr,BlurFilter:ir,BlurFilterPass:pn,ColorMatrixFilter:nr,DisplacementFilter:_r,FXAAFilter:Zr,NoiseFilter:gi}},1919:Ae=>{function le(d,k){return Object.prototype.hasOwnProperty.call(d,k)}Ae.exports=function(d,k,h,P){k=k||"&",h=h||"=";var j={};if(typeof d!="string"||d.length===0)return j;var z=/\+/g;d=d.split(k);var N=1e3;P&&typeof P.maxKeys=="number"&&(N=P.maxKeys);var w=d.length;N>0&&w>N&&(w=N);for(var U=0;U<w;++U){var Y,E,v,n,a=d[U].replace(z,"%20"),u=a.indexOf(h);u>=0?(Y=a.substr(0,u),E=a.substr(u+1)):(Y=a,E=""),v=decodeURIComponent(Y),n=decodeURIComponent(E),le(j,v)?Array.isArray(j[v])?j[v].push(n):j[v]=[j[v],n]:j[v]=n}return j}},3651:Ae=>{var le=function(d){switch(typeof d){case"string":return d;case"boolean":return d?"true":"false";case"number":return isFinite(d)?d:"";default:return""}};Ae.exports=function(d,k,h,P){return k=k||"&",h=h||"=",d===null&&(d=void 0),typeof d=="object"?Object.keys(d).map(function(j){var z=encodeURIComponent(le(j))+h;return Array.isArray(d[j])?d[j].map(function(N){return z+encodeURIComponent(le(N))}).join(k):z+encodeURIComponent(le(d[j]))}).join(k):P?encodeURIComponent(le(P))+h+encodeURIComponent(le(d)):""}},4709:(Ae,le,d)=>{le.decode=le.parse=d(1919),le.encode=le.stringify=d(3651)},1088:(Ae,le,d)=>{d.r(le),d.d(le,{__assign:()=>P,__asyncDelegator:()=>M,__asyncGenerator:()=>F,__asyncValues:()=>c,__await:()=>L,__awaiter:()=>U,__classPrivateFieldGet:()=>C,__classPrivateFieldIn:()=>J,__classPrivateFieldSet:()=>T,__createBinding:()=>E,__decorate:()=>z,__exportStar:()=>v,__extends:()=>h,__generator:()=>Y,__importDefault:()=>G,__importStar:()=>D,__makeTemplateObject:()=>x,__metadata:()=>w,__param:()=>N,__read:()=>a,__rest:()=>j,__spread:()=>u,__spreadArray:()=>I,__spreadArrays:()=>p,__values:()=>n});var k=function(q,K){return k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,b){A.__proto__=b}||function(A,b){for(var R in b)Object.prototype.hasOwnProperty.call(b,R)&&(A[R]=b[R])},k(q,K)};function h(q,K){if(typeof K!="function"&&K!==null)throw new TypeError("Class extends value "+String(K)+" is not a constructor or null");function A(){this.constructor=q}k(q,K),q.prototype=K===null?Object.create(K):(A.prototype=K.prototype,new A)}var P=function(){return P=Object.assign||function(q){for(var K,A=1,b=arguments.length;A<b;A++)for(var R in K=arguments[A])Object.prototype.hasOwnProperty.call(K,R)&&(q[R]=K[R]);return q},P.apply(this,arguments)};function j(q,K){var A={};for(var b in q)Object.prototype.hasOwnProperty.call(q,b)&&K.indexOf(b)<0&&(A[b]=q[b]);if(q!=null&&typeof Object.getOwnPropertySymbols=="function"){var R=0;for(b=Object.getOwnPropertySymbols(q);R<b.length;R++)K.indexOf(b[R])<0&&Object.prototype.propertyIsEnumerable.call(q,b[R])&&(A[b[R]]=q[b[R]])}return A}function z(q,K,A,b){var R,O=arguments.length,W=O<3?K:b===null?b=Object.getOwnPropertyDescriptor(K,A):b;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")W=Reflect.decorate(q,K,A,b);else for(var Q=q.length-1;Q>=0;Q--)(R=q[Q])&&(W=(O<3?R(W):O>3?R(K,A,W):R(K,A))||W);return O>3&&W&&Object.defineProperty(K,A,W),W}function N(q,K){return function(A,b){K(A,b,q)}}function w(q,K){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(q,K)}function U(q,K,A,b){function R(O){return O instanceof A?O:new A(function(W){W(O)})}return new(A||(A=Promise))(function(O,W){function Q(be){try{ne(b.next(be))}catch(Ie){W(Ie)}}function ee(be){try{ne(b.throw(be))}catch(Ie){W(Ie)}}function ne(be){be.done?O(be.value):R(be.value).then(Q,ee)}ne((b=b.apply(q,K||[])).next())})}function Y(q,K){var A,b,R,O,W={label:0,sent:function(){if(1&R[0])throw R[1];return R[1]},trys:[],ops:[]};return O={next:Q(0),throw:Q(1),return:Q(2)},typeof Symbol=="function"&&(O[Symbol.iterator]=function(){return this}),O;function Q(ne){return function(be){return ee([ne,be])}}function ee(ne){if(A)throw new TypeError("Generator is already executing.");for(;O&&(O=0,ne[0]&&(W=0)),W;)try{if(A=1,b&&(R=2&ne[0]?b.return:ne[0]?b.throw||((R=b.return)&&R.call(b),0):b.next)&&!(R=R.call(b,ne[1])).done)return R;switch(b=0,R&&(ne=[2&ne[0],R.value]),ne[0]){case 0:case 1:R=ne;break;case 4:return W.label++,{value:ne[1],done:!1};case 5:W.label++,b=ne[1],ne=[0];continue;case 7:ne=W.ops.pop(),W.trys.pop();continue;default:if(R=W.trys,!((R=R.length>0&&R[R.length-1])||ne[0]!==6&&ne[0]!==2)){W=0;continue}if(ne[0]===3&&(!R||ne[1]>R[0]&&ne[1]<R[3])){W.label=ne[1];break}if(ne[0]===6&&W.label<R[1]){W.label=R[1],R=ne;break}if(R&&W.label<R[2]){W.label=R[2],W.ops.push(ne);break}R[2]&&W.ops.pop(),W.trys.pop();continue}ne=K.call(q,W)}catch(be){ne=[6,be],b=0}finally{A=R=0}if(5&ne[0])throw ne[1];return{value:ne[0]?ne[1]:void 0,done:!0}}}var E=Object.create?function(q,K,A,b){b===void 0&&(b=A);var R=Object.getOwnPropertyDescriptor(K,A);R&&!("get"in R?!K.__esModule:R.writable||R.configurable)||(R={enumerable:!0,get:function(){return K[A]}}),Object.defineProperty(q,b,R)}:function(q,K,A,b){b===void 0&&(b=A),q[b]=K[A]};function v(q,K){for(var A in q)A==="default"||Object.prototype.hasOwnProperty.call(K,A)||E(K,q,A)}function n(q){var K=typeof Symbol=="function"&&Symbol.iterator,A=K&&q[K],b=0;if(A)return A.call(q);if(q&&typeof q.length=="number")return{next:function(){return q&&b>=q.length&&(q=void 0),{value:q&&q[b++],done:!q}}};throw new TypeError(K?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(q,K){var A=typeof Symbol=="function"&&q[Symbol.iterator];if(!A)return q;var b,R,O=A.call(q),W=[];try{for(;(K===void 0||K-- >0)&&!(b=O.next()).done;)W.push(b.value)}catch(Q){R={error:Q}}finally{try{b&&!b.done&&(A=O.return)&&A.call(O)}finally{if(R)throw R.error}}return W}function u(){for(var q=[],K=0;K<arguments.length;K++)q=q.concat(a(arguments[K]));return q}function p(){for(var q=0,K=0,A=arguments.length;K<A;K++)q+=arguments[K].length;var b=Array(q),R=0;for(K=0;K<A;K++)for(var O=arguments[K],W=0,Q=O.length;W<Q;W++,R++)b[R]=O[W];return b}function I(q,K,A){if(A||arguments.length===2)for(var b,R=0,O=K.length;R<O;R++)!b&&R in K||(b||(b=Array.prototype.slice.call(K,0,R)),b[R]=K[R]);return q.concat(b||Array.prototype.slice.call(K))}function L(q){return this instanceof L?(this.v=q,this):new L(q)}function F(q,K,A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var b,R=A.apply(q,K||[]),O=[];return b={},W("next"),W("throw"),W("return"),b[Symbol.asyncIterator]=function(){return this},b;function W(Oe){R[Oe]&&(b[Oe]=function(ue){return new Promise(function(y,B){O.push([Oe,ue,y,B])>1||Q(Oe,ue)})})}function Q(Oe,ue){try{ee(R[Oe](ue))}catch(y){Ie(O[0][3],y)}}function ee(Oe){Oe.value instanceof L?Promise.resolve(Oe.value.v).then(ne,be):Ie(O[0][2],Oe)}function ne(Oe){Q("next",Oe)}function be(Oe){Q("throw",Oe)}function Ie(Oe,ue){Oe(ue),O.shift(),O.length&&Q(O[0][0],O[0][1])}}function M(q){var K,A;return K={},b("next"),b("throw",function(R){throw R}),b("return"),K[Symbol.iterator]=function(){return this},K;function b(R,O){K[R]=q[R]?function(W){return(A=!A)?{value:L(q[R](W)),done:R==="return"}:O?O(W):W}:O}}function c(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K,A=q[Symbol.asyncIterator];return A?A.call(q):(q=typeof n=="function"?n(q):q[Symbol.iterator](),K={},b("next"),b("throw"),b("return"),K[Symbol.asyncIterator]=function(){return this},K);function b(O){K[O]=q[O]&&function(W){return new Promise(function(Q,ee){R(Q,ee,(W=q[O](W)).done,W.value)})}}function R(O,W,Q,ee){Promise.resolve(ee).then(function(ne){O({value:ne,done:Q})},W)}}function x(q,K){return Object.defineProperty?Object.defineProperty(q,"raw",{value:K}):q.raw=K,q}var X=Object.create?function(q,K){Object.defineProperty(q,"default",{enumerable:!0,value:K})}:function(q,K){q.default=K};function D(q){if(q&&q.__esModule)return q;var K={};if(q!=null)for(var A in q)A!=="default"&&Object.prototype.hasOwnProperty.call(q,A)&&E(K,q,A);return X(K,q),K}function G(q){return q&&q.__esModule?q:{default:q}}function C(q,K,A,b){if(A==="a"&&!b)throw new TypeError("Private accessor was defined without a getter");if(typeof K=="function"?q!==K||!b:!K.has(q))throw new TypeError("Cannot read private member from an object whose class did not declare it");return A==="m"?b:A==="a"?b.call(q):b?b.value:K.get(q)}function T(q,K,A,b,R){if(b==="m")throw new TypeError("Private method is not writable");if(b==="a"&&!R)throw new TypeError("Private accessor was defined without a setter");if(typeof K=="function"?q!==K||!R:!K.has(q))throw new TypeError("Cannot write private member to an object whose class did not declare it");return b==="a"?R.call(q,A):R?R.value=A:K.set(q,A),A}function J(q,K){if(K===null||typeof K!="object"&&typeof K!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof q=="function"?K===q:q.has(K)}},9079:function(Ae,le,d){var k;Ae=d.nmd(Ae),function(h){le&&le.nodeType,Ae&&Ae.nodeType;var P=typeof d.g=="object"&&d.g;P.global!==P&&P.window!==P&&P.self;var j,z=2147483647,N=36,w=1,U=26,Y=38,E=700,v=72,n=128,a="-",u=/^xn--/,p=/[^\x20-\x7E]/,I=/[\x2E\u3002\uFF0E\uFF61]/g,L={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},F=N-w,M=Math.floor,c=String.fromCharCode;function x(O){throw RangeError(L[O])}function X(O,W){for(var Q=O.length,ee=[];Q--;)ee[Q]=W(O[Q]);return ee}function D(O,W){var Q=O.split("@"),ee="";return Q.length>1&&(ee=Q[0]+"@",O=Q[1]),ee+X((O=O.replace(I,".")).split("."),W).join(".")}function G(O){for(var W,Q,ee=[],ne=0,be=O.length;ne<be;)(W=O.charCodeAt(ne++))>=55296&&W<=56319&&ne<be?(64512&(Q=O.charCodeAt(ne++)))==56320?ee.push(((1023&W)<<10)+(1023&Q)+65536):(ee.push(W),ne--):ee.push(W);return ee}function C(O){return X(O,function(W){var Q="";return W>65535&&(Q+=c((W-=65536)>>>10&1023|55296),W=56320|1023&W),Q+=c(W)}).join("")}function T(O){return O-48<10?O-22:O-65<26?O-65:O-97<26?O-97:N}function J(O,W){return O+22+75*(O<26)-((W!=0)<<5)}function q(O,W,Q){var ee=0;for(O=Q?M(O/E):O>>1,O+=M(O/W);O>F*U>>1;ee+=N)O=M(O/F);return M(ee+(F+1)*O/(O+Y))}function K(O){var W,Q,ee,ne,be,Ie,Oe,ue,y,B,V=[],te=O.length,re=0,ae=n,_e=v;for((Q=O.lastIndexOf(a))<0&&(Q=0),ee=0;ee<Q;++ee)O.charCodeAt(ee)>=128&&x("not-basic"),V.push(O.charCodeAt(ee));for(ne=Q>0?Q+1:0;ne<te;){for(be=re,Ie=1,Oe=N;ne>=te&&x("invalid-input"),((ue=T(O.charCodeAt(ne++)))>=N||ue>M((z-re)/Ie))&&x("overflow"),re+=ue*Ie,!(ue<(y=Oe<=_e?w:Oe>=_e+U?U:Oe-_e));Oe+=N)Ie>M(z/(B=N-y))&&x("overflow"),Ie*=B;_e=q(re-be,W=V.length+1,be==0),M(re/W)>z-ae&&x("overflow"),ae+=M(re/W),re%=W,V.splice(re++,0,ae)}return C(V)}function A(O){var W,Q,ee,ne,be,Ie,Oe,ue,y,B,V,te,re,ae,_e,Ce=[];for(te=(O=G(O)).length,W=n,Q=0,be=v,Ie=0;Ie<te;++Ie)(V=O[Ie])<128&&Ce.push(c(V));for(ee=ne=Ce.length,ne&&Ce.push(a);ee<te;){for(Oe=z,Ie=0;Ie<te;++Ie)(V=O[Ie])>=W&&V<Oe&&(Oe=V);for(Oe-W>M((z-Q)/(re=ee+1))&&x("overflow"),Q+=(Oe-W)*re,W=Oe,Ie=0;Ie<te;++Ie)if((V=O[Ie])<W&&++Q>z&&x("overflow"),V==W){for(ue=Q,y=N;!(ue<(B=y<=be?w:y>=be+U?U:y-be));y+=N)_e=ue-B,ae=N-B,Ce.push(c(J(B+_e%ae,0))),ue=M(_e/ae);Ce.push(c(J(ue,0))),be=q(Q,re,ee==ne),Q=0,++ee}++Q,++W}return Ce.join("")}function b(O){return D(O,function(W){return u.test(W)?K(W.slice(4).toLowerCase()):W})}function R(O){return D(O,function(W){return p.test(W)?"xn--"+A(W):W})}j={version:"1.3.2",ucs2:{decode:G,encode:C},decode:K,encode:A,toASCII:R,toUnicode:b},(k=(function(){return j}).call(le,d,le,Ae))===void 0||(Ae.exports=k)}()},1096:(Ae,le,d)=>{var k=d(9079),h=d(1046);function P(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}le.Qc=F,le.DB=c,le.WU=M;var j=/^([a-z0-9.+-]+:)/i,z=/:[0-9]*$/,N=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,w=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),U=["'"].concat(w),Y=["%","/","?",";","#"].concat(U),E=["/","?","#"],v=255,n=/^[+a-z0-9A-Z_-]{0,63}$/,a=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,u={javascript:!0,"javascript:":!0},p={javascript:!0,"javascript:":!0},I={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},L=d(4709);function F(x,X,D){if(x&&h.isObject(x)&&x instanceof P)return x;var G=new P;return G.parse(x,X,D),G}function M(x){return h.isString(x)&&(x=F(x)),x instanceof P?x.format():P.prototype.format.call(x)}function c(x,X){return F(x,!1,!0).resolve(X)}P.prototype.parse=function(x,X,D){if(!h.isString(x))throw new TypeError("Parameter 'url' must be a string, not "+typeof x);var G=x.indexOf("?"),C=G!==-1&&G<x.indexOf("#")?"?":"#",T=x.split(C),J=/\\/g;T[0]=T[0].replace(J,"/");var q=x=T.join(C);if(q=q.trim(),!D&&x.split("#").length===1){var K=N.exec(q);if(K)return this.path=q,this.href=q,this.pathname=K[1],K[2]?(this.search=K[2],this.query=X?L.parse(this.search.substr(1)):this.search.substr(1)):X&&(this.search="",this.query={}),this}var A=j.exec(q);if(A){var b=(A=A[0]).toLowerCase();this.protocol=b,q=q.substr(A.length)}if(D||A||q.match(/^\/\/[^@\/]+@[^@\/]+/)){var R=q.substr(0,2)==="//";!R||A&&p[A]||(q=q.substr(2),this.slashes=!0)}if(!p[A]&&(R||A&&!I[A])){for(var O,W,Q=-1,ee=0;ee<E.length;ee++)(ne=q.indexOf(E[ee]))!==-1&&(Q===-1||ne<Q)&&(Q=ne);for((W=Q===-1?q.lastIndexOf("@"):q.lastIndexOf("@",Q))!==-1&&(O=q.slice(0,W),q=q.slice(W+1),this.auth=decodeURIComponent(O)),Q=-1,ee=0;ee<Y.length;ee++){var ne;(ne=q.indexOf(Y[ee]))!==-1&&(Q===-1||ne<Q)&&(Q=ne)}Q===-1&&(Q=q.length),this.host=q.slice(0,Q),q=q.slice(Q),this.parseHost(),this.hostname=this.hostname||"";var be=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!be)for(var Ie=this.hostname.split(/\./),Oe=(ee=0,Ie.length);ee<Oe;ee++){var ue=Ie[ee];if(ue&&!ue.match(n)){for(var y="",B=0,V=ue.length;B<V;B++)ue.charCodeAt(B)>127?y+="x":y+=ue[B];if(!y.match(n)){var te=Ie.slice(0,ee),re=Ie.slice(ee+1),ae=ue.match(a);ae&&(te.push(ae[1]),re.unshift(ae[2])),re.length&&(q="/"+re.join(".")+q),this.hostname=te.join(".");break}}}this.hostname.length>v?this.hostname="":this.hostname=this.hostname.toLowerCase(),be||(this.hostname=k.toASCII(this.hostname));var _e=this.port?":"+this.port:"",Ce=this.hostname||"";this.host=Ce+_e,this.href+=this.host,be&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),q[0]!=="/"&&(q="/"+q))}if(!u[b])for(ee=0,Oe=U.length;ee<Oe;ee++){var de=U[ee];if(q.indexOf(de)!==-1){var ge=encodeURIComponent(de);ge===de&&(ge=escape(de)),q=q.split(de).join(ge)}}var ye=q.indexOf("#");ye!==-1&&(this.hash=q.substr(ye),q=q.slice(0,ye));var xe=q.indexOf("?");if(xe!==-1?(this.search=q.substr(xe),this.query=q.substr(xe+1),X&&(this.query=L.parse(this.query)),q=q.slice(0,xe)):X&&(this.search="",this.query={}),q&&(this.pathname=q),I[b]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){_e=this.pathname||"";var Be=this.search||"";this.path=_e+Be}return this.href=this.format(),this},P.prototype.format=function(){var x=this.auth||"";x&&(x=(x=encodeURIComponent(x)).replace(/%3A/i,":"),x+="@");var X=this.protocol||"",D=this.pathname||"",G=this.hash||"",C=!1,T="";this.host?C=x+this.host:this.hostname&&(C=x+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(C+=":"+this.port)),this.query&&h.isObject(this.query)&&Object.keys(this.query).length&&(T=L.stringify(this.query));var J=this.search||T&&"?"+T||"";return X&&X.substr(-1)!==":"&&(X+=":"),this.slashes||(!X||I[X])&&C!==!1?(C="//"+(C||""),D&&D.charAt(0)!=="/"&&(D="/"+D)):C||(C=""),G&&G.charAt(0)!=="#"&&(G="#"+G),J&&J.charAt(0)!=="?"&&(J="?"+J),X+C+(D=D.replace(/[?#]/g,function(q){return encodeURIComponent(q)}))+(J=J.replace("#","%23"))+G},P.prototype.resolve=function(x){return this.resolveObject(F(x,!1,!0)).format()},P.prototype.resolveObject=function(x){if(h.isString(x)){var X=new P;X.parse(x,!1,!0),x=X}for(var D=new P,G=Object.keys(this),C=0;C<G.length;C++){var T=G[C];D[T]=this[T]}if(D.hash=x.hash,x.href==="")return D.href=D.format(),D;if(x.slashes&&!x.protocol){for(var J=Object.keys(x),q=0;q<J.length;q++){var K=J[q];K!=="protocol"&&(D[K]=x[K])}return I[D.protocol]&&D.hostname&&!D.pathname&&(D.path=D.pathname="/"),D.href=D.format(),D}if(x.protocol&&x.protocol!==D.protocol){if(!I[x.protocol]){for(var A=Object.keys(x),b=0;b<A.length;b++){var R=A[b];D[R]=x[R]}return D.href=D.format(),D}if(D.protocol=x.protocol,x.host||p[x.protocol])D.pathname=x.pathname;else{for(var O=(x.pathname||"").split("/");O.length&&!(x.host=O.shift()););x.host||(x.host=""),x.hostname||(x.hostname=""),O[0]!==""&&O.unshift(""),O.length<2&&O.unshift(""),D.pathname=O.join("/")}if(D.search=x.search,D.query=x.query,D.host=x.host||"",D.auth=x.auth,D.hostname=x.hostname||x.host,D.port=x.port,D.pathname||D.search){var W=D.pathname||"",Q=D.search||"";D.path=W+Q}return D.slashes=D.slashes||x.slashes,D.href=D.format(),D}var ee=D.pathname&&D.pathname.charAt(0)==="/",ne=x.host||x.pathname&&x.pathname.charAt(0)==="/",be=ne||ee||D.host&&x.pathname,Ie=be,Oe=D.pathname&&D.pathname.split("/")||[],ue=(O=x.pathname&&x.pathname.split("/")||[],D.protocol&&!I[D.protocol]);if(ue&&(D.hostname="",D.port=null,D.host&&(Oe[0]===""?Oe[0]=D.host:Oe.unshift(D.host)),D.host="",x.protocol&&(x.hostname=null,x.port=null,x.host&&(O[0]===""?O[0]=x.host:O.unshift(x.host)),x.host=null),be=be&&(O[0]===""||Oe[0]==="")),ne)D.host=x.host||x.host===""?x.host:D.host,D.hostname=x.hostname||x.hostname===""?x.hostname:D.hostname,D.search=x.search,D.query=x.query,Oe=O;else if(O.length)Oe||(Oe=[]),Oe.pop(),Oe=Oe.concat(O),D.search=x.search,D.query=x.query;else if(!h.isNullOrUndefined(x.search))return ue&&(D.hostname=D.host=Oe.shift(),(re=!!(D.host&&D.host.indexOf("@")>0)&&D.host.split("@"))&&(D.auth=re.shift(),D.host=D.hostname=re.shift())),D.search=x.search,D.query=x.query,h.isNull(D.pathname)&&h.isNull(D.search)||(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.href=D.format(),D;if(!Oe.length)return D.pathname=null,D.search?D.path="/"+D.search:D.path=null,D.href=D.format(),D;for(var y=Oe.slice(-1)[0],B=(D.host||x.host||Oe.length>1)&&(y==="."||y==="..")||y==="",V=0,te=Oe.length;te>=0;te--)(y=Oe[te])==="."?Oe.splice(te,1):y===".."?(Oe.splice(te,1),V++):V&&(Oe.splice(te,1),V--);if(!be&&!Ie)for(;V--;V)Oe.unshift("..");!be||Oe[0]===""||Oe[0]&&Oe[0].charAt(0)==="/"||Oe.unshift(""),B&&Oe.join("/").substr(-1)!=="/"&&Oe.push("");var re,ae=Oe[0]===""||Oe[0]&&Oe[0].charAt(0)==="/";return ue&&(D.hostname=D.host=ae?"":Oe.length?Oe.shift():"",(re=!!(D.host&&D.host.indexOf("@")>0)&&D.host.split("@"))&&(D.auth=re.shift(),D.host=D.hostname=re.shift())),(be=be||D.host&&Oe.length)&&!ae&&Oe.unshift(""),Oe.length?D.pathname=Oe.join("/"):(D.pathname=null,D.path=null),h.isNull(D.pathname)&&h.isNull(D.search)||(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.auth=x.auth||D.auth,D.slashes=D.slashes||x.slashes,D.href=D.format(),D},P.prototype.parseHost=function(){var x=this.host,X=z.exec(x);X&&((X=X[0])!==":"&&(this.port=X.substr(1)),x=x.substr(0,x.length-X.length)),x&&(this.hostname=x)}},1046:Ae=>{Ae.exports={isString:function(le){return typeof le=="string"},isObject:function(le){return typeof le=="object"&&le!==null},isNull:function(le){return le===null},isNullOrUndefined:function(le){return le==null}}},4852:function(Ae,le){(function(){function d(oe,Se,ke){return oe.call.apply(oe.bind,arguments)}function k(oe,Se,ke){if(!oe)throw Error();if(2<arguments.length){var De=Array.prototype.slice.call(arguments,2);return function(){var Ke=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ke,De),oe.apply(Se,Ke)}}return function(){return oe.apply(Se,arguments)}}function h(oe,Se,ke){return(h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:k).apply(null,arguments)}var P=Date.now||function(){return+new Date};function j(oe,Se){this.a=oe,this.o=Se||oe,this.c=this.o.document}var z=!!window.FontFace;function N(oe,Se,ke,De){if(Se=oe.c.createElement(Se),ke)for(var Ke in ke)ke.hasOwnProperty(Ke)&&(Ke=="style"?Se.style.cssText=ke[Ke]:Se.setAttribute(Ke,ke[Ke]));return De&&Se.appendChild(oe.c.createTextNode(De)),Se}function w(oe,Se,ke){(oe=oe.c.getElementsByTagName(Se)[0])||(oe=document.documentElement),oe.insertBefore(ke,oe.lastChild)}function U(oe){oe.parentNode&&oe.parentNode.removeChild(oe)}function Y(oe,Se,ke){Se=Se||[],ke=ke||[];for(var De=oe.className.split(/\s+/),Ke=0;Ke<Se.length;Ke+=1){for(var Ve=!1,Je=0;Je<De.length;Je+=1)if(Se[Ke]===De[Je]){Ve=!0;break}Ve||De.push(Se[Ke])}for(Se=[],Ke=0;Ke<De.length;Ke+=1){for(Ve=!1,Je=0;Je<ke.length;Je+=1)if(De[Ke]===ke[Je]){Ve=!0;break}Ve||Se.push(De[Ke])}oe.className=Se.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function E(oe,Se){for(var ke=oe.className.split(/\s+/),De=0,Ke=ke.length;De<Ke;De++)if(ke[De]==Se)return!0;return!1}function v(oe){return oe.o.location.hostname||oe.a.location.hostname}function n(oe,Se,ke){function De(){pt&&Ke&&Ve&&(pt(Je),pt=null)}Se=N(oe,"link",{rel:"stylesheet",href:Se,media:"all"});var Ke=!1,Ve=!0,Je=null,pt=ke||null;z?(Se.onload=function(){Ke=!0,De()},Se.onerror=function(){Ke=!0,Je=Error("Stylesheet failed to load"),De()}):setTimeout(function(){Ke=!0,De()},0),w(oe,"head",Se)}function a(oe,Se,ke,De){var Ke=oe.c.getElementsByTagName("head")[0];if(Ke){var Ve=N(oe,"script",{src:Se}),Je=!1;return Ve.onload=Ve.onreadystatechange=function(){Je||this.readyState&&this.readyState!="loaded"&&this.readyState!="complete"||(Je=!0,ke&&ke(null),Ve.onload=Ve.onreadystatechange=null,Ve.parentNode.tagName=="HEAD"&&Ke.removeChild(Ve))},Ke.appendChild(Ve),setTimeout(function(){Je||(Je=!0,ke&&ke(Error("Script load timeout")))},De||5e3),Ve}return null}function u(){this.a=0,this.c=null}function p(oe){return oe.a++,function(){oe.a--,L(oe)}}function I(oe,Se){oe.c=Se,L(oe)}function L(oe){oe.a==0&&oe.c&&(oe.c(),oe.c=null)}function F(oe){this.a=oe||"-"}function M(oe,Se){this.c=oe,this.f=4,this.a="n";var ke=(Se||"n4").match(/^([nio])([1-9])$/i);ke&&(this.a=ke[1],this.f=parseInt(ke[2],10))}function c(oe){return D(oe)+" "+oe.f+"00 300px "+x(oe.c)}function x(oe){var Se=[];oe=oe.split(/,\s*/);for(var ke=0;ke<oe.length;ke++){var De=oe[ke].replace(/['"]/g,"");De.indexOf(" ")!=-1||/^\d/.test(De)?Se.push("'"+De+"'"):Se.push(De)}return Se.join(",")}function X(oe){return oe.a+oe.f}function D(oe){var Se="normal";return oe.a==="o"?Se="oblique":oe.a==="i"&&(Se="italic"),Se}function G(oe){var Se=4,ke="n",De=null;return oe&&((De=oe.match(/(normal|oblique|italic)/i))&&De[1]&&(ke=De[1].substr(0,1).toLowerCase()),(De=oe.match(/([1-9]00|normal|bold)/i))&&De[1]&&(/bold/i.test(De[1])?Se=7:/[1-9]00/.test(De[1])&&(Se=parseInt(De[1].substr(0,1),10)))),ke+Se}function C(oe,Se){this.c=oe,this.f=oe.o.document.documentElement,this.h=Se,this.a=new F("-"),this.j=Se.events!==!1,this.g=Se.classes!==!1}function T(oe){oe.g&&Y(oe.f,[oe.a.c("wf","loading")]),q(oe,"loading")}function J(oe){if(oe.g){var Se=E(oe.f,oe.a.c("wf","active")),ke=[],De=[oe.a.c("wf","loading")];Se||ke.push(oe.a.c("wf","inactive")),Y(oe.f,ke,De)}q(oe,"inactive")}function q(oe,Se,ke){oe.j&&oe.h[Se]&&(ke?oe.h[Se](ke.c,X(ke)):oe.h[Se]())}function K(){this.c={}}function A(oe,Se,ke){var De,Ke=[];for(De in Se)if(Se.hasOwnProperty(De)){var Ve=oe.c[De];Ve&&Ke.push(Ve(Se[De],ke))}return Ke}function b(oe,Se){this.c=oe,this.f=Se,this.a=N(this.c,"span",{"aria-hidden":"true"},this.f)}function R(oe){w(oe.c,"body",oe.a)}function O(oe){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+x(oe.c)+";font-style:"+D(oe)+";font-weight:"+oe.f+"00;"}function W(oe,Se,ke,De,Ke,Ve){this.g=oe,this.j=Se,this.a=De,this.c=ke,this.f=Ke||3e3,this.h=Ve||void 0}function Q(oe,Se,ke,De,Ke,Ve,Je){this.v=oe,this.B=Se,this.c=ke,this.a=De,this.s=Je||"BESbswy",this.f={},this.w=Ke||3e3,this.u=Ve||null,this.m=this.j=this.h=this.g=null,this.g=new b(this.c,this.s),this.h=new b(this.c,this.s),this.j=new b(this.c,this.s),this.m=new b(this.c,this.s),oe=O(oe=new M(this.a.c+",serif",X(this.a))),this.g.a.style.cssText=oe,oe=O(oe=new M(this.a.c+",sans-serif",X(this.a))),this.h.a.style.cssText=oe,oe=O(oe=new M("serif",X(this.a))),this.j.a.style.cssText=oe,oe=O(oe=new M("sans-serif",X(this.a))),this.m.a.style.cssText=oe,R(this.g),R(this.h),R(this.j),R(this.m)}F.prototype.c=function(oe){for(var Se=[],ke=0;ke<arguments.length;ke++)Se.push(arguments[ke].replace(/[\W_]+/g,"").toLowerCase());return Se.join(this.a)},W.prototype.start=function(){var oe=this.c.o.document,Se=this,ke=P(),De=new Promise(function(Je,pt){function Et(){P()-ke>=Se.f?pt():oe.fonts.load(c(Se.a),Se.h).then(function(Fe){1<=Fe.length?Je():setTimeout(Et,25)},function(){pt()})}Et()}),Ke=null,Ve=new Promise(function(Je,pt){Ke=setTimeout(pt,Se.f)});Promise.race([Ve,De]).then(function(){Ke&&(clearTimeout(Ke),Ke=null),Se.g(Se.a)},function(){Se.j(Se.a)})};var ee={D:"serif",C:"sans-serif"},ne=null;function be(){if(ne===null){var oe=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);ne=!!oe&&(536>parseInt(oe[1],10)||parseInt(oe[1],10)===536&&11>=parseInt(oe[2],10))}return ne}function Ie(oe,Se,ke){for(var De in ee)if(ee.hasOwnProperty(De)&&Se===oe.f[ee[De]]&&ke===oe.f[ee[De]])return!0;return!1}function Oe(oe){var Se,ke=oe.g.a.offsetWidth,De=oe.h.a.offsetWidth;(Se=ke===oe.f.serif&&De===oe.f["sans-serif"])||(Se=be()&&Ie(oe,ke,De)),Se?P()-oe.A>=oe.w?be()&&Ie(oe,ke,De)&&(oe.u===null||oe.u.hasOwnProperty(oe.a.c))?y(oe,oe.v):y(oe,oe.B):ue(oe):y(oe,oe.v)}function ue(oe){setTimeout(h(function(){Oe(this)},oe),50)}function y(oe,Se){setTimeout(h(function(){U(this.g.a),U(this.h.a),U(this.j.a),U(this.m.a),Se(this.a)},oe),0)}function B(oe,Se,ke){this.c=oe,this.a=Se,this.f=0,this.m=this.j=!1,this.s=ke}Q.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=P(),Oe(this)};var V=null;function te(oe){--oe.f==0&&oe.j&&(oe.m?((oe=oe.a).g&&Y(oe.f,[oe.a.c("wf","active")],[oe.a.c("wf","loading"),oe.a.c("wf","inactive")]),q(oe,"active")):J(oe.a))}function re(oe){this.j=oe,this.a=new K,this.h=0,this.f=this.g=!0}function ae(oe,Se,ke,De,Ke){var Ve=--oe.h==0;(oe.f||oe.g)&&setTimeout(function(){var Je=Ke||null,pt=De||{};if(ke.length===0&&Ve)J(Se.a);else{Se.f+=ke.length,Ve&&(Se.j=Ve);var Et,Fe=[];for(Et=0;Et<ke.length;Et++){var fe=ke[Et],Ne=pt[fe.c],Ge=Se.a,Ze=fe;if(Ge.g&&Y(Ge.f,[Ge.a.c("wf",Ze.c,X(Ze).toString(),"loading")]),q(Ge,"fontloading",Ze),Ge=null,V===null)if(window.FontFace){Ze=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var ot=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);V=Ze?42<parseInt(Ze[1],10):!ot}else V=!1;Ge=V?new W(h(Se.g,Se),h(Se.h,Se),Se.c,fe,Se.s,Ne):new Q(h(Se.g,Se),h(Se.h,Se),Se.c,fe,Se.s,Je,Ne),Fe.push(Ge)}for(Et=0;Et<Fe.length;Et++)Fe[Et].start()}},0)}function _e(oe,Se,ke){var De=[],Ke=ke.timeout;T(Se),De=A(oe.a,ke,oe.c);var Ve=new B(oe.c,Se,Ke);for(oe.h=De.length,Se=0,ke=De.length;Se<ke;Se++)De[Se].load(function(Je,pt,Et){ae(oe,Ve,Je,pt,Et)})}function Ce(oe,Se){this.c=oe,this.a=Se}function de(oe,Se){this.c=oe,this.a=Se}function ge(oe,Se){this.c=oe||ye,this.a=[],this.f=[],this.g=Se||""}B.prototype.g=function(oe){var Se=this.a;Se.g&&Y(Se.f,[Se.a.c("wf",oe.c,X(oe).toString(),"active")],[Se.a.c("wf",oe.c,X(oe).toString(),"loading"),Se.a.c("wf",oe.c,X(oe).toString(),"inactive")]),q(Se,"fontactive",oe),this.m=!0,te(this)},B.prototype.h=function(oe){var Se=this.a;if(Se.g){var ke=E(Se.f,Se.a.c("wf",oe.c,X(oe).toString(),"active")),De=[],Ke=[Se.a.c("wf",oe.c,X(oe).toString(),"loading")];ke||De.push(Se.a.c("wf",oe.c,X(oe).toString(),"inactive")),Y(Se.f,De,Ke)}q(Se,"fontinactive",oe),te(this)},re.prototype.load=function(oe){this.c=new j(this.j,oe.context||this.j),this.g=oe.events!==!1,this.f=oe.classes!==!1,_e(this,new C(this.c,oe),oe)},Ce.prototype.load=function(oe){function Se(){if(Ve["__mti_fntLst"+De]){var Je,pt=Ve["__mti_fntLst"+De](),Et=[];if(pt)for(var Fe=0;Fe<pt.length;Fe++){var fe=pt[Fe].fontfamily;pt[Fe].fontStyle!=null&&pt[Fe].fontWeight!=null?(Je=pt[Fe].fontStyle+pt[Fe].fontWeight,Et.push(new M(fe,Je))):Et.push(new M(fe))}oe(Et)}else setTimeout(function(){Se()},50)}var ke=this,De=ke.a.projectId,Ke=ke.a.version;if(De){var Ve=ke.c.o;a(this.c,(ke.a.api||"https://fast.fonts.net/jsapi")+"/"+De+".js"+(Ke?"?v="+Ke:""),function(Je){Je?oe([]):(Ve["__MonotypeConfiguration__"+De]=function(){return ke.a},Se())}).id="__MonotypeAPIScript__"+De}else oe([])},de.prototype.load=function(oe){var Se,ke,De=this.a.urls||[],Ke=this.a.families||[],Ve=this.a.testStrings||{},Je=new u;for(Se=0,ke=De.length;Se<ke;Se++)n(this.c,De[Se],p(Je));var pt=[];for(Se=0,ke=Ke.length;Se<ke;Se++)if((De=Ke[Se].split(":"))[1])for(var Et=De[1].split(","),Fe=0;Fe<Et.length;Fe+=1)pt.push(new M(De[0],Et[Fe]));else pt.push(new M(De[0]));I(Je,function(){oe(pt,Ve)})};var ye="https://fonts.googleapis.com/css";function xe(oe,Se){for(var ke=Se.length,De=0;De<ke;De++){var Ke=Se[De].split(":");Ke.length==3&&oe.f.push(Ke.pop());var Ve="";Ke.length==2&&Ke[1]!=""&&(Ve=":"),oe.a.push(Ke.join(Ve))}}function Be(oe){if(oe.a.length==0)throw Error("No fonts to load!");if(oe.c.indexOf("kit=")!=-1)return oe.c;for(var Se=oe.a.length,ke=[],De=0;De<Se;De++)ke.push(oe.a[De].replace(/ /g,"+"));return Se=oe.c+"?family="+ke.join("%7C"),0<oe.f.length&&(Se+="&subset="+oe.f.join(",")),0<oe.g.length&&(Se+="&text="+encodeURIComponent(oe.g)),Se}function We(oe){this.f=oe,this.a=[],this.c={}}var qe={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},tt={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},vt={i:"i",italic:"i",n:"n",normal:"n"},yt=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function rt(oe){for(var Se=oe.f.length,ke=0;ke<Se;ke++){var De=oe.f[ke].split(":"),Ke=De[0].replace(/\+/g," "),Ve=["n4"];if(2<=De.length){var Je;if(Je=[],pt=De[1])for(var pt,Et=(pt=pt.split(",")).length,Fe=0;Fe<Et;Fe++){var fe;if((fe=pt[Fe]).match(/^[\w-]+$/))if((Ge=yt.exec(fe.toLowerCase()))==null)fe="";else{if(fe=(fe=Ge[2])==null||fe==""?"n":vt[fe],(Ge=Ge[1])==null||Ge=="")Ge="4";else var Ne=tt[Ge],Ge=Ne||(isNaN(Ge)?"4":Ge.substr(0,1));fe=[fe,Ge].join("")}else fe="";fe&&Je.push(fe)}0<Je.length&&(Ve=Je),De.length==3&&(Je=[],0<(De=(De=De[2])?De.split(","):Je).length&&(De=qe[De[0]])&&(oe.c[Ke]=De))}for(oe.c[Ke]||(De=qe[Ke])&&(oe.c[Ke]=De),De=0;De<Ve.length;De+=1)oe.a.push(new M(Ke,Ve[De]))}}function mt(oe,Se){this.c=oe,this.a=Se}var Ee={Arimo:!0,Cousine:!0,Tinos:!0};function je(oe,Se){this.c=oe,this.a=Se}function Ht(oe,Se){this.c=oe,this.f=Se,this.a=[]}mt.prototype.load=function(oe){var Se=new u,ke=this.c,De=new ge(this.a.api,this.a.text),Ke=this.a.families;xe(De,Ke);var Ve=new We(Ke);rt(Ve),n(ke,Be(De),p(Se)),I(Se,function(){oe(Ve.a,Ve.c,Ee)})},je.prototype.load=function(oe){var Se=this.a.id,ke=this.c.o;Se?a(this.c,(this.a.api||"https://use.typekit.net")+"/"+Se+".js",function(De){if(De)oe([]);else if(ke.Typekit&&ke.Typekit.config&&ke.Typekit.config.fn){De=ke.Typekit.config.fn;for(var Ke=[],Ve=0;Ve<De.length;Ve+=2)for(var Je=De[Ve],pt=De[Ve+1],Et=0;Et<pt.length;Et++)Ke.push(new M(Je,pt[Et]));try{ke.Typekit.load({events:!1,classes:!1,async:!0})}catch{}oe(Ke)}},2e3):oe([])},Ht.prototype.load=function(oe){var Se=this.f.id,ke=this.c.o,De=this;Se?(ke.__webfontfontdeckmodule__||(ke.__webfontfontdeckmodule__={}),ke.__webfontfontdeckmodule__[Se]=function(Ke,Ve){for(var Je=0,pt=Ve.fonts.length;Je<pt;++Je){var Et=Ve.fonts[Je];De.a.push(new M(Et.name,G("font-weight:"+Et.weight+";font-style:"+Et.style)))}oe(De.a)},a(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+v(this.c)+"/"+Se+".js",function(Ke){Ke&&oe([])})):oe([])};var Ut=new re(window);Ut.a.c.custom=function(oe,Se){return new de(Se,oe)},Ut.a.c.fontdeck=function(oe,Se){return new Ht(Se,oe)},Ut.a.c.monotype=function(oe,Se){return new Ce(Se,oe)},Ut.a.c.typekit=function(oe,Se){return new je(Se,oe)},Ut.a.c.google=function(oe,Se){return new mt(Se,oe)};var ft={load:h(Ut.load,Ut)};typeof define=="function"&&define.amd?define(function(){return ft}):Ae!==void 0&&Ae.exports?Ae.exports=ft:(window.WebFont=ft,window.WebFontConfig&&Ut.load(window.WebFontConfig))})()},6426:(Ae,le,d)=>{var k=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||k!==void 0&&k,h={searchParams:"URLSearchParams"in k,iterable:"Symbol"in k&&"iterator"in Symbol,blob:"FileReader"in k&&"Blob"in k&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in k,arrayBuffer:"ArrayBuffer"in k};function P(T){return T&&DataView.prototype.isPrototypeOf(T)}if(h.arrayBuffer)var j=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],z=ArrayBuffer.isView||function(T){return T&&j.indexOf(Object.prototype.toString.call(T))>-1};function N(T){if(typeof T!="string"&&(T=String(T)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(T)||T==="")throw new TypeError('Invalid character in header field name: "'+T+'"');return T.toLowerCase()}function w(T){return typeof T!="string"&&(T=String(T)),T}function U(T){var J={next:function(){var q=T.shift();return{done:q===void 0,value:q}}};return h.iterable&&(J[Symbol.iterator]=function(){return J}),J}function Y(T){this.map={},T instanceof Y?T.forEach(function(J,q){this.append(q,J)},this):Array.isArray(T)?T.forEach(function(J){this.append(J[0],J[1])},this):T&&Object.getOwnPropertyNames(T).forEach(function(J){this.append(J,T[J])},this)}function E(T){if(T.bodyUsed)return Promise.reject(new TypeError("Already read"));T.bodyUsed=!0}function v(T){return new Promise(function(J,q){T.onload=function(){J(T.result)},T.onerror=function(){q(T.error)}})}function n(T){var J=new FileReader,q=v(J);return J.readAsArrayBuffer(T),q}function a(T){var J=new FileReader,q=v(J);return J.readAsText(T),q}function u(T){for(var J=new Uint8Array(T),q=new Array(J.length),K=0;K<J.length;K++)q[K]=String.fromCharCode(J[K]);return q.join("")}function p(T){if(T.slice)return T.slice(0);var J=new Uint8Array(T.byteLength);return J.set(new Uint8Array(T)),J.buffer}function I(){return this.bodyUsed=!1,this._initBody=function(T){this.bodyUsed=this.bodyUsed,this._bodyInit=T,T?typeof T=="string"?this._bodyText=T:h.blob&&Blob.prototype.isPrototypeOf(T)?this._bodyBlob=T:h.formData&&FormData.prototype.isPrototypeOf(T)?this._bodyFormData=T:h.searchParams&&URLSearchParams.prototype.isPrototypeOf(T)?this._bodyText=T.toString():h.arrayBuffer&&h.blob&&P(T)?(this._bodyArrayBuffer=p(T.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):h.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(T)||z(T))?this._bodyArrayBuffer=p(T):this._bodyText=T=Object.prototype.toString.call(T):this._bodyText="",this.headers.get("content-type")||(typeof T=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):h.searchParams&&URLSearchParams.prototype.isPrototypeOf(T)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h.blob&&(this.blob=function(){var T=E(this);if(T)return T;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var T=E(this);return T||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(n)}),this.text=function(){var T=E(this);if(T)return T;if(this._bodyBlob)return a(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},h.formData&&(this.formData=function(){return this.text().then(c)}),this.json=function(){return this.text().then(JSON.parse)},this}Y.prototype.append=function(T,J){T=N(T),J=w(J);var q=this.map[T];this.map[T]=q?q+", "+J:J},Y.prototype.delete=function(T){delete this.map[N(T)]},Y.prototype.get=function(T){return T=N(T),this.has(T)?this.map[T]:null},Y.prototype.has=function(T){return this.map.hasOwnProperty(N(T))},Y.prototype.set=function(T,J){this.map[N(T)]=w(J)},Y.prototype.forEach=function(T,J){for(var q in this.map)this.map.hasOwnProperty(q)&&T.call(J,this.map[q],q,this)},Y.prototype.keys=function(){var T=[];return this.forEach(function(J,q){T.push(q)}),U(T)},Y.prototype.values=function(){var T=[];return this.forEach(function(J){T.push(J)}),U(T)},Y.prototype.entries=function(){var T=[];return this.forEach(function(J,q){T.push([q,J])}),U(T)},h.iterable&&(Y.prototype[Symbol.iterator]=Y.prototype.entries);var L=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function F(T){var J=T.toUpperCase();return L.indexOf(J)>-1?J:T}function M(T,J){if(!(this instanceof M))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var q=(J=J||{}).body;if(T instanceof M){if(T.bodyUsed)throw new TypeError("Already read");this.url=T.url,this.credentials=T.credentials,J.headers||(this.headers=new Y(T.headers)),this.method=T.method,this.mode=T.mode,this.signal=T.signal,q||T._bodyInit==null||(q=T._bodyInit,T.bodyUsed=!0)}else this.url=String(T);if(this.credentials=J.credentials||this.credentials||"same-origin",!J.headers&&this.headers||(this.headers=new Y(J.headers)),this.method=F(J.method||this.method||"GET"),this.mode=J.mode||this.mode||null,this.signal=J.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&q)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(q),!(this.method!=="GET"&&this.method!=="HEAD"||J.cache!=="no-store"&&J.cache!=="no-cache")){var K=/([?&])_=[^&]*/;if(K.test(this.url))this.url=this.url.replace(K,"$1_="+new Date().getTime());else{var A=/\?/;this.url+=(A.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}function c(T){var J=new FormData;return T.trim().split("&").forEach(function(q){if(q){var K=q.split("="),A=K.shift().replace(/\+/g," "),b=K.join("=").replace(/\+/g," ");J.append(decodeURIComponent(A),decodeURIComponent(b))}}),J}function x(T){var J=new Y;return T.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(q){return q.indexOf(`
`)===0?q.substr(1,q.length):q}).forEach(function(q){var K=q.split(":"),A=K.shift().trim();if(A){var b=K.join(":").trim();J.append(A,b)}}),J}function X(T,J){if(!(this instanceof X))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');J||(J={}),this.type="default",this.status=J.status===void 0?200:J.status,this.ok=this.status>=200&&this.status<300,this.statusText=J.statusText===void 0?"":""+J.statusText,this.headers=new Y(J.headers),this.url=J.url||"",this._initBody(T)}M.prototype.clone=function(){return new M(this,{body:this._bodyInit})},I.call(M.prototype),I.call(X.prototype),X.prototype.clone=function(){return new X(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Y(this.headers),url:this.url})},X.error=function(){var T=new X(null,{status:0,statusText:""});return T.type="error",T};var D=[301,302,303,307,308];X.redirect=function(T,J){if(D.indexOf(J)===-1)throw new RangeError("Invalid status code");return new X(null,{status:J,headers:{location:T}})};var G=k.DOMException;try{new G}catch{(G=function(J,q){this.message=J,this.name=q;var K=Error(J);this.stack=K.stack}).prototype=Object.create(Error.prototype),G.prototype.constructor=G}function C(T,J){return new Promise(function(q,K){var A=new M(T,J);if(A.signal&&A.signal.aborted)return K(new G("Aborted","AbortError"));var b=new XMLHttpRequest;function R(){b.abort()}function O(W){try{return W===""&&k.location.href?k.location.href:W}catch{return W}}b.onload=function(){var W={status:b.status,statusText:b.statusText,headers:x(b.getAllResponseHeaders()||"")};W.url="responseURL"in b?b.responseURL:W.headers.get("X-Request-URL");var Q="response"in b?b.response:b.responseText;setTimeout(function(){q(new X(Q,W))},0)},b.onerror=function(){setTimeout(function(){K(new TypeError("Network request failed"))},0)},b.ontimeout=function(){setTimeout(function(){K(new TypeError("Network request failed"))},0)},b.onabort=function(){setTimeout(function(){K(new G("Aborted","AbortError"))},0)},b.open(A.method,O(A.url),!0),A.credentials==="include"?b.withCredentials=!0:A.credentials==="omit"&&(b.withCredentials=!1),"responseType"in b&&(h.blob?b.responseType="blob":h.arrayBuffer&&A.headers.get("Content-Type")&&A.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(b.responseType="arraybuffer")),!J||typeof J.headers!="object"||J.headers instanceof Y?A.headers.forEach(function(W,Q){b.setRequestHeader(Q,W)}):Object.getOwnPropertyNames(J.headers).forEach(function(W){b.setRequestHeader(W,w(J.headers[W]))}),A.signal&&(A.signal.addEventListener("abort",R),b.onreadystatechange=function(){b.readyState===4&&A.signal.removeEventListener("abort",R)}),b.send(A._bodyInit===void 0?null:A._bodyInit)})}C.polyfill=!0,k.fetch||(k.fetch=C,k.Headers=Y,k.Request=M,k.Response=X)},2895:(Ae,le,d)=>{var k;(function(){var h=function(){this.init()};h.prototype={init:function(){var n=this||P;return n._counter=1e3,n._html5AudioPool=[],n.html5PoolSize=10,n._codecs={},n._howls=[],n._muted=!1,n._volume=1,n._canPlayEvent="canplaythrough",n._navigator=typeof window<"u"&&window.navigator?window.navigator:null,n.masterGain=null,n.noAudio=!1,n.usingWebAudio=!0,n.autoSuspend=!0,n.ctx=null,n.autoUnlock=!0,n._setup(),n},volume:function(n){var a=this||P;if(n=parseFloat(n),a.ctx||v(),n!==void 0&&n>=0&&n<=1){if(a._volume=n,a._muted)return a;a.usingWebAudio&&a.masterGain.gain.setValueAtTime(n,P.ctx.currentTime);for(var u=0;u<a._howls.length;u++)if(!a._howls[u]._webAudio)for(var p=a._howls[u]._getSoundIds(),I=0;I<p.length;I++){var L=a._howls[u]._soundById(p[I]);L&&L._node&&(L._node.volume=L._volume*n)}return a}return a._volume},mute:function(n){var a=this||P;a.ctx||v(),a._muted=n,a.usingWebAudio&&a.masterGain.gain.setValueAtTime(n?0:a._volume,P.ctx.currentTime);for(var u=0;u<a._howls.length;u++)if(!a._howls[u]._webAudio)for(var p=a._howls[u]._getSoundIds(),I=0;I<p.length;I++){var L=a._howls[u]._soundById(p[I]);L&&L._node&&(L._node.muted=!!n||L._muted)}return a},stop:function(){for(var n=this||P,a=0;a<n._howls.length;a++)n._howls[a].stop();return n},unload:function(){for(var n=this||P,a=n._howls.length-1;a>=0;a--)n._howls[a].unload();return n.usingWebAudio&&n.ctx&&n.ctx.close!==void 0&&(n.ctx.close(),n.ctx=null,v()),n},codecs:function(n){return(this||P)._codecs[n.replace(/^x-/,"")]},_setup:function(){var n=this||P;if(n.state=n.ctx&&n.ctx.state||"suspended",n._autoSuspend(),!n.usingWebAudio)if(typeof Audio<"u")try{new Audio().oncanplaythrough===void 0&&(n._canPlayEvent="canplay")}catch{n.noAudio=!0}else n.noAudio=!0;try{new Audio().muted&&(n.noAudio=!0)}catch{}return n.noAudio||n._setupCodecs(),n},_setupCodecs:function(){var n=this||P,a=null;try{a=typeof Audio<"u"?new Audio:null}catch{return n}if(!a||typeof a.canPlayType!="function")return n;var u=a.canPlayType("audio/mpeg;").replace(/^no$/,""),p=n._navigator?n._navigator.userAgent:"",I=p.match(/OPR\/([0-6].)/g),L=I&&parseInt(I[0].split("/")[1],10)<33,F=p.indexOf("Safari")!==-1&&p.indexOf("Chrome")===-1,M=p.match(/Version\/(.*?) /),c=F&&M&&parseInt(M[1],10)<15;return n._codecs={mp3:!(L||!u&&!a.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!u,opus:!!a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(a.canPlayType('audio/wav; codecs="1"')||a.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!a.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!a.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(a.canPlayType("audio/x-m4b;")||a.canPlayType("audio/m4b;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(a.canPlayType("audio/x-mp4;")||a.canPlayType("audio/mp4;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(c||!a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(c||!a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!a.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(a.canPlayType("audio/x-flac;")||a.canPlayType("audio/flac;")).replace(/^no$/,"")},n},_unlockAudio:function(){var n=this||P;if(!n._audioUnlocked&&n.ctx){n._audioUnlocked=!1,n.autoUnlock=!1,n._mobileUnloaded||n.ctx.sampleRate===44100||(n._mobileUnloaded=!0,n.unload()),n._scratchBuffer=n.ctx.createBuffer(1,1,22050);var a=function(u){for(;n._html5AudioPool.length<n.html5PoolSize;)try{var p=new Audio;p._unlocked=!0,n._releaseHtml5Audio(p)}catch{n.noAudio=!0;break}for(var I=0;I<n._howls.length;I++)if(!n._howls[I]._webAudio)for(var L=n._howls[I]._getSoundIds(),F=0;F<L.length;F++){var M=n._howls[I]._soundById(L[F]);M&&M._node&&!M._node._unlocked&&(M._node._unlocked=!0,M._node.load())}n._autoResume();var c=n.ctx.createBufferSource();c.buffer=n._scratchBuffer,c.connect(n.ctx.destination),c.start===void 0?c.noteOn(0):c.start(0),typeof n.ctx.resume=="function"&&n.ctx.resume(),c.onended=function(){c.disconnect(0),n._audioUnlocked=!0,document.removeEventListener("touchstart",a,!0),document.removeEventListener("touchend",a,!0),document.removeEventListener("click",a,!0),document.removeEventListener("keydown",a,!0);for(var x=0;x<n._howls.length;x++)n._howls[x]._emit("unlock")}};return document.addEventListener("touchstart",a,!0),document.addEventListener("touchend",a,!0),document.addEventListener("click",a,!0),document.addEventListener("keydown",a,!0),n}},_obtainHtml5Audio:function(){var n=this||P;if(n._html5AudioPool.length)return n._html5AudioPool.pop();var a=new Audio().play();return a&&typeof Promise<"u"&&(a instanceof Promise||typeof a.then=="function")&&a.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(n){var a=this||P;return n._unlocked&&a._html5AudioPool.push(n),a},_autoSuspend:function(){var n=this;if(n.autoSuspend&&n.ctx&&n.ctx.suspend!==void 0&&P.usingWebAudio){for(var a=0;a<n._howls.length;a++)if(n._howls[a]._webAudio){for(var u=0;u<n._howls[a]._sounds.length;u++)if(!n._howls[a]._sounds[u]._paused)return n}return n._suspendTimer&&clearTimeout(n._suspendTimer),n._suspendTimer=setTimeout(function(){if(n.autoSuspend){n._suspendTimer=null,n.state="suspending";var p=function(){n.state="suspended",n._resumeAfterSuspend&&(delete n._resumeAfterSuspend,n._autoResume())};n.ctx.suspend().then(p,p)}},3e4),n}},_autoResume:function(){var n=this;if(n.ctx&&n.ctx.resume!==void 0&&P.usingWebAudio)return n.state==="running"&&n.ctx.state!=="interrupted"&&n._suspendTimer?(clearTimeout(n._suspendTimer),n._suspendTimer=null):n.state==="suspended"||n.state==="running"&&n.ctx.state==="interrupted"?(n.ctx.resume().then(function(){n.state="running";for(var a=0;a<n._howls.length;a++)n._howls[a]._emit("resume")}),n._suspendTimer&&(clearTimeout(n._suspendTimer),n._suspendTimer=null)):n.state==="suspending"&&(n._resumeAfterSuspend=!0),n}};var P=new h,j=function(n){var a=this;n.src&&n.src.length!==0?a.init(n):console.error("An array of source files must be passed with any new Howl.")};j.prototype={init:function(n){var a=this;return P.ctx||v(),a._autoplay=n.autoplay||!1,a._format=typeof n.format!="string"?n.format:[n.format],a._html5=n.html5||!1,a._muted=n.mute||!1,a._loop=n.loop||!1,a._pool=n.pool||5,a._preload=typeof n.preload!="boolean"&&n.preload!=="metadata"||n.preload,a._rate=n.rate||1,a._sprite=n.sprite||{},a._src=typeof n.src!="string"?n.src:[n.src],a._volume=n.volume!==void 0?n.volume:1,a._xhr={method:n.xhr&&n.xhr.method?n.xhr.method:"GET",headers:n.xhr&&n.xhr.headers?n.xhr.headers:null,withCredentials:!(!n.xhr||!n.xhr.withCredentials)&&n.xhr.withCredentials},a._duration=0,a._state="unloaded",a._sounds=[],a._endTimers={},a._queue=[],a._playLock=!1,a._onend=n.onend?[{fn:n.onend}]:[],a._onfade=n.onfade?[{fn:n.onfade}]:[],a._onload=n.onload?[{fn:n.onload}]:[],a._onloaderror=n.onloaderror?[{fn:n.onloaderror}]:[],a._onplayerror=n.onplayerror?[{fn:n.onplayerror}]:[],a._onpause=n.onpause?[{fn:n.onpause}]:[],a._onplay=n.onplay?[{fn:n.onplay}]:[],a._onstop=n.onstop?[{fn:n.onstop}]:[],a._onmute=n.onmute?[{fn:n.onmute}]:[],a._onvolume=n.onvolume?[{fn:n.onvolume}]:[],a._onrate=n.onrate?[{fn:n.onrate}]:[],a._onseek=n.onseek?[{fn:n.onseek}]:[],a._onunlock=n.onunlock?[{fn:n.onunlock}]:[],a._onresume=[],a._webAudio=P.usingWebAudio&&!a._html5,P.ctx!==void 0&&P.ctx&&P.autoUnlock&&P._unlockAudio(),P._howls.push(a),a._autoplay&&a._queue.push({event:"play",action:function(){a.play()}}),a._preload&&a._preload!=="none"&&a.load(),a},load:function(){var n=this,a=null;if(!P.noAudio){typeof n._src=="string"&&(n._src=[n._src]);for(var u=0;u<n._src.length;u++){var p,I;if(n._format&&n._format[u])p=n._format[u];else{if(typeof(I=n._src[u])!="string"){n._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(p=/^data:audio\/([^;,]+);/i.exec(I))||(p=/\.([^.]+)$/.exec(I.split("?",1)[0])),p&&(p=p[1].toLowerCase())}if(p||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),p&&P.codecs(p)){a=n._src[u];break}}return a?(n._src=a,n._state="loading",window.location.protocol==="https:"&&a.slice(0,5)==="http:"&&(n._html5=!0,n._webAudio=!1),new z(n),n._webAudio&&w(n),n):void n._emit("loaderror",null,"No codec support for selected audio sources.")}n._emit("loaderror",null,"No audio support.")},play:function(n,a){var u=this,p=null;if(typeof n=="number")p=n,n=null;else{if(typeof n=="string"&&u._state==="loaded"&&!u._sprite[n])return null;if(n===void 0&&(n="__default",!u._playLock)){for(var I=0,L=0;L<u._sounds.length;L++)u._sounds[L]._paused&&!u._sounds[L]._ended&&(I++,p=u._sounds[L]._id);I===1?n=null:p=null}}var F=p?u._soundById(p):u._inactiveSound();if(!F)return null;if(p&&!n&&(n=F._sprite||"__default"),u._state!=="loaded"){F._sprite=n,F._ended=!1;var M=F._id;return u._queue.push({event:"play",action:function(){u.play(M)}}),M}if(p&&!F._paused)return a||u._loadQueue("play"),F._id;u._webAudio&&P._autoResume();var c=Math.max(0,F._seek>0?F._seek:u._sprite[n][0]/1e3),x=Math.max(0,(u._sprite[n][0]+u._sprite[n][1])/1e3-c),X=1e3*x/Math.abs(F._rate),D=u._sprite[n][0]/1e3,G=(u._sprite[n][0]+u._sprite[n][1])/1e3;F._sprite=n,F._ended=!1;var C=function(){F._paused=!1,F._seek=c,F._start=D,F._stop=G,F._loop=!(!F._loop&&!u._sprite[n][2])};if(!(c>=G)){var T=F._node;if(u._webAudio){var J=function(){u._playLock=!1,C(),u._refreshBuffer(F);var b=F._muted||u._muted?0:F._volume;T.gain.setValueAtTime(b,P.ctx.currentTime),F._playStart=P.ctx.currentTime,T.bufferSource.start===void 0?F._loop?T.bufferSource.noteGrainOn(0,c,86400):T.bufferSource.noteGrainOn(0,c,x):F._loop?T.bufferSource.start(0,c,86400):T.bufferSource.start(0,c,x),X!==1/0&&(u._endTimers[F._id]=setTimeout(u._ended.bind(u,F),X)),a||setTimeout(function(){u._emit("play",F._id),u._loadQueue()},0)};P.state==="running"&&P.ctx.state!=="interrupted"?J():(u._playLock=!0,u.once("resume",J),u._clearTimer(F._id))}else{var q=function(){T.currentTime=c,T.muted=F._muted||u._muted||P._muted||T.muted,T.volume=F._volume*P.volume(),T.playbackRate=F._rate;try{var b=T.play();if(b&&typeof Promise<"u"&&(b instanceof Promise||typeof b.then=="function")?(u._playLock=!0,C(),b.then(function(){u._playLock=!1,T._unlocked=!0,a?u._loadQueue():u._emit("play",F._id)}).catch(function(){u._playLock=!1,u._emit("playerror",F._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),F._ended=!0,F._paused=!0})):a||(u._playLock=!1,C(),u._emit("play",F._id)),T.playbackRate=F._rate,T.paused)return void u._emit("playerror",F._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");n!=="__default"||F._loop?u._endTimers[F._id]=setTimeout(u._ended.bind(u,F),X):(u._endTimers[F._id]=function(){u._ended(F),T.removeEventListener("ended",u._endTimers[F._id],!1)},T.addEventListener("ended",u._endTimers[F._id],!1))}catch(R){u._emit("playerror",F._id,R)}};T.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(T.src=u._src,T.load());var K=window&&window.ejecta||!T.readyState&&P._navigator.isCocoonJS;if(T.readyState>=3||K)q();else{u._playLock=!0,u._state="loading";var A=function(){u._state="loaded",q(),T.removeEventListener(P._canPlayEvent,A,!1)};T.addEventListener(P._canPlayEvent,A,!1),u._clearTimer(F._id)}}return F._id}u._ended(F)},pause:function(n){var a=this;if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"pause",action:function(){a.pause(n)}}),a;for(var u=a._getSoundIds(n),p=0;p<u.length;p++){a._clearTimer(u[p]);var I=a._soundById(u[p]);if(I&&!I._paused&&(I._seek=a.seek(u[p]),I._rateSeek=0,I._paused=!0,a._stopFade(u[p]),I._node))if(a._webAudio){if(!I._node.bufferSource)continue;I._node.bufferSource.stop===void 0?I._node.bufferSource.noteOff(0):I._node.bufferSource.stop(0),a._cleanBuffer(I._node)}else isNaN(I._node.duration)&&I._node.duration!==1/0||I._node.pause();arguments[1]||a._emit("pause",I?I._id:null)}return a},stop:function(n,a){var u=this;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"stop",action:function(){u.stop(n)}}),u;for(var p=u._getSoundIds(n),I=0;I<p.length;I++){u._clearTimer(p[I]);var L=u._soundById(p[I]);L&&(L._seek=L._start||0,L._rateSeek=0,L._paused=!0,L._ended=!0,u._stopFade(p[I]),L._node&&(u._webAudio?L._node.bufferSource&&(L._node.bufferSource.stop===void 0?L._node.bufferSource.noteOff(0):L._node.bufferSource.stop(0),u._cleanBuffer(L._node)):isNaN(L._node.duration)&&L._node.duration!==1/0||(L._node.currentTime=L._start||0,L._node.pause(),L._node.duration===1/0&&u._clearSound(L._node))),a||u._emit("stop",L._id))}return u},mute:function(n,a){var u=this;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"mute",action:function(){u.mute(n,a)}}),u;if(a===void 0){if(typeof n!="boolean")return u._muted;u._muted=n}for(var p=u._getSoundIds(a),I=0;I<p.length;I++){var L=u._soundById(p[I]);L&&(L._muted=n,L._interval&&u._stopFade(L._id),u._webAudio&&L._node?L._node.gain.setValueAtTime(n?0:L._volume,P.ctx.currentTime):L._node&&(L._node.muted=!!P._muted||n),u._emit("mute",L._id))}return u},volume:function(){var n,a,u,p=this,I=arguments;if(I.length===0)return p._volume;if(I.length===1||I.length===2&&I[1]===void 0?p._getSoundIds().indexOf(I[0])>=0?a=parseInt(I[0],10):n=parseFloat(I[0]):I.length>=2&&(n=parseFloat(I[0]),a=parseInt(I[1],10)),!(n!==void 0&&n>=0&&n<=1))return(u=a?p._soundById(a):p._sounds[0])?u._volume:0;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"volume",action:function(){p.volume.apply(p,I)}}),p;a===void 0&&(p._volume=n),a=p._getSoundIds(a);for(var L=0;L<a.length;L++)(u=p._soundById(a[L]))&&(u._volume=n,I[2]||p._stopFade(a[L]),p._webAudio&&u._node&&!u._muted?u._node.gain.setValueAtTime(n,P.ctx.currentTime):u._node&&!u._muted&&(u._node.volume=n*P.volume()),p._emit("volume",u._id));return p},fade:function(n,a,u,p){var I=this;if(I._state!=="loaded"||I._playLock)return I._queue.push({event:"fade",action:function(){I.fade(n,a,u,p)}}),I;n=Math.min(Math.max(0,parseFloat(n)),1),a=Math.min(Math.max(0,parseFloat(a)),1),u=parseFloat(u),I.volume(n,p);for(var L=I._getSoundIds(p),F=0;F<L.length;F++){var M=I._soundById(L[F]);if(M){if(p||I._stopFade(L[F]),I._webAudio&&!M._muted){var c=P.ctx.currentTime,x=c+u/1e3;M._volume=n,M._node.gain.setValueAtTime(n,c),M._node.gain.linearRampToValueAtTime(a,x)}I._startFadeInterval(M,n,a,u,L[F],p===void 0)}}return I},_startFadeInterval:function(n,a,u,p,I,L){var F=this,M=a,c=u-a,x=Math.abs(c/.01),X=Math.max(4,x>0?p/x:p),D=Date.now();n._fadeTo=u,n._interval=setInterval(function(){var G=(Date.now()-D)/p;D=Date.now(),M+=c*G,M=Math.round(100*M)/100,M=c<0?Math.max(u,M):Math.min(u,M),F._webAudio?n._volume=M:F.volume(M,n._id,!0),L&&(F._volume=M),(u<a&&M<=u||u>a&&M>=u)&&(clearInterval(n._interval),n._interval=null,n._fadeTo=null,F.volume(u,n._id),F._emit("fade",n._id))},X)},_stopFade:function(n){var a=this,u=a._soundById(n);return u&&u._interval&&(a._webAudio&&u._node.gain.cancelScheduledValues(P.ctx.currentTime),clearInterval(u._interval),u._interval=null,a.volume(u._fadeTo,n),u._fadeTo=null,a._emit("fade",n)),a},loop:function(){var n,a,u,p=this,I=arguments;if(I.length===0)return p._loop;if(I.length===1){if(typeof I[0]!="boolean")return!!(u=p._soundById(parseInt(I[0],10)))&&u._loop;n=I[0],p._loop=n}else I.length===2&&(n=I[0],a=parseInt(I[1],10));for(var L=p._getSoundIds(a),F=0;F<L.length;F++)(u=p._soundById(L[F]))&&(u._loop=n,p._webAudio&&u._node&&u._node.bufferSource&&(u._node.bufferSource.loop=n,n&&(u._node.bufferSource.loopStart=u._start||0,u._node.bufferSource.loopEnd=u._stop,p.playing(L[F])&&(p.pause(L[F],!0),p.play(L[F],!0)))));return p},rate:function(){var n,a,u,p=this,I=arguments;if(I.length===0?a=p._sounds[0]._id:I.length===1?p._getSoundIds().indexOf(I[0])>=0?a=parseInt(I[0],10):n=parseFloat(I[0]):I.length===2&&(n=parseFloat(I[0]),a=parseInt(I[1],10)),typeof n!="number")return(u=p._soundById(a))?u._rate:p._rate;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"rate",action:function(){p.rate.apply(p,I)}}),p;a===void 0&&(p._rate=n),a=p._getSoundIds(a);for(var L=0;L<a.length;L++)if(u=p._soundById(a[L])){p.playing(a[L])&&(u._rateSeek=p.seek(a[L]),u._playStart=p._webAudio?P.ctx.currentTime:u._playStart),u._rate=n,p._webAudio&&u._node&&u._node.bufferSource?u._node.bufferSource.playbackRate.setValueAtTime(n,P.ctx.currentTime):u._node&&(u._node.playbackRate=n);var F=p.seek(a[L]),M=1e3*((p._sprite[u._sprite][0]+p._sprite[u._sprite][1])/1e3-F)/Math.abs(u._rate);!p._endTimers[a[L]]&&u._paused||(p._clearTimer(a[L]),p._endTimers[a[L]]=setTimeout(p._ended.bind(p,u),M)),p._emit("rate",u._id)}return p},seek:function(){var n,a,u=this,p=arguments;if(p.length===0?u._sounds.length&&(a=u._sounds[0]._id):p.length===1?u._getSoundIds().indexOf(p[0])>=0?a=parseInt(p[0],10):u._sounds.length&&(a=u._sounds[0]._id,n=parseFloat(p[0])):p.length===2&&(n=parseFloat(p[0]),a=parseInt(p[1],10)),a===void 0)return 0;if(typeof n=="number"&&(u._state!=="loaded"||u._playLock))return u._queue.push({event:"seek",action:function(){u.seek.apply(u,p)}}),u;var I=u._soundById(a);if(I){if(!(typeof n=="number"&&n>=0)){if(u._webAudio){var L=u.playing(a)?P.ctx.currentTime-I._playStart:0,F=I._rateSeek?I._rateSeek-I._seek:0;return I._seek+(F+L*Math.abs(I._rate))}return I._node.currentTime}var M=u.playing(a);M&&u.pause(a,!0),I._seek=n,I._ended=!1,u._clearTimer(a),u._webAudio||!I._node||isNaN(I._node.duration)||(I._node.currentTime=n);var c=function(){M&&u.play(a,!0),u._emit("seek",a)};if(M&&!u._webAudio){var x=function(){u._playLock?setTimeout(x,0):c()};setTimeout(x,0)}else c()}return u},playing:function(n){var a=this;if(typeof n=="number"){var u=a._soundById(n);return!!u&&!u._paused}for(var p=0;p<a._sounds.length;p++)if(!a._sounds[p]._paused)return!0;return!1},duration:function(n){var a=this,u=a._duration,p=a._soundById(n);return p&&(u=a._sprite[p._sprite][1]/1e3),u},state:function(){return this._state},unload:function(){for(var n=this,a=n._sounds,u=0;u<a.length;u++)a[u]._paused||n.stop(a[u]._id),n._webAudio||(n._clearSound(a[u]._node),a[u]._node.removeEventListener("error",a[u]._errorFn,!1),a[u]._node.removeEventListener(P._canPlayEvent,a[u]._loadFn,!1),a[u]._node.removeEventListener("ended",a[u]._endFn,!1),P._releaseHtml5Audio(a[u]._node)),delete a[u]._node,n._clearTimer(a[u]._id);var p=P._howls.indexOf(n);p>=0&&P._howls.splice(p,1);var I=!0;for(u=0;u<P._howls.length;u++)if(P._howls[u]._src===n._src||n._src.indexOf(P._howls[u]._src)>=0){I=!1;break}return N&&I&&delete N[n._src],P.noAudio=!1,n._state="unloaded",n._sounds=[],n=null,null},on:function(n,a,u,p){var I=this,L=I["_on"+n];return typeof a=="function"&&L.push(p?{id:u,fn:a,once:p}:{id:u,fn:a}),I},off:function(n,a,u){var p=this,I=p["_on"+n],L=0;if(typeof a=="number"&&(u=a,a=null),a||u)for(L=0;L<I.length;L++){var F=u===I[L].id;if(a===I[L].fn&&F||!a&&F){I.splice(L,1);break}}else if(n)p["_on"+n]=[];else{var M=Object.keys(p);for(L=0;L<M.length;L++)M[L].indexOf("_on")===0&&Array.isArray(p[M[L]])&&(p[M[L]]=[])}return p},once:function(n,a,u){var p=this;return p.on(n,a,u,1),p},_emit:function(n,a,u){for(var p=this,I=p["_on"+n],L=I.length-1;L>=0;L--)I[L].id&&I[L].id!==a&&n!=="load"||(setTimeout((function(F){F.call(this,a,u)}).bind(p,I[L].fn),0),I[L].once&&p.off(n,I[L].fn,I[L].id));return p._loadQueue(n),p},_loadQueue:function(n){var a=this;if(a._queue.length>0){var u=a._queue[0];u.event===n&&(a._queue.shift(),a._loadQueue()),n||u.action()}return a},_ended:function(n){var a=this,u=n._sprite;if(!a._webAudio&&n._node&&!n._node.paused&&!n._node.ended&&n._node.currentTime<n._stop)return setTimeout(a._ended.bind(a,n),100),a;var p=!(!n._loop&&!a._sprite[u][2]);if(a._emit("end",n._id),!a._webAudio&&p&&a.stop(n._id,!0).play(n._id),a._webAudio&&p){a._emit("play",n._id),n._seek=n._start||0,n._rateSeek=0,n._playStart=P.ctx.currentTime;var I=1e3*(n._stop-n._start)/Math.abs(n._rate);a._endTimers[n._id]=setTimeout(a._ended.bind(a,n),I)}return a._webAudio&&!p&&(n._paused=!0,n._ended=!0,n._seek=n._start||0,n._rateSeek=0,a._clearTimer(n._id),a._cleanBuffer(n._node),P._autoSuspend()),a._webAudio||p||a.stop(n._id,!0),a},_clearTimer:function(n){var a=this;if(a._endTimers[n]){if(typeof a._endTimers[n]!="function")clearTimeout(a._endTimers[n]);else{var u=a._soundById(n);u&&u._node&&u._node.removeEventListener("ended",a._endTimers[n],!1)}delete a._endTimers[n]}return a},_soundById:function(n){for(var a=this,u=0;u<a._sounds.length;u++)if(n===a._sounds[u]._id)return a._sounds[u];return null},_inactiveSound:function(){var n=this;n._drain();for(var a=0;a<n._sounds.length;a++)if(n._sounds[a]._ended)return n._sounds[a].reset();return new z(n)},_drain:function(){var n=this,a=n._pool,u=0,p=0;if(!(n._sounds.length<a)){for(p=0;p<n._sounds.length;p++)n._sounds[p]._ended&&u++;for(p=n._sounds.length-1;p>=0;p--){if(u<=a)return;n._sounds[p]._ended&&(n._webAudio&&n._sounds[p]._node&&n._sounds[p]._node.disconnect(0),n._sounds.splice(p,1),u--)}}},_getSoundIds:function(n){var a=this;if(n===void 0){for(var u=[],p=0;p<a._sounds.length;p++)u.push(a._sounds[p]._id);return u}return[n]},_refreshBuffer:function(n){var a=this;return n._node.bufferSource=P.ctx.createBufferSource(),n._node.bufferSource.buffer=N[a._src],n._panner?n._node.bufferSource.connect(n._panner):n._node.bufferSource.connect(n._node),n._node.bufferSource.loop=n._loop,n._loop&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop||0),n._node.bufferSource.playbackRate.setValueAtTime(n._rate,P.ctx.currentTime),a},_cleanBuffer:function(n){var a=this,u=P._navigator&&P._navigator.vendor.indexOf("Apple")>=0;if(P._scratchBuffer&&n.bufferSource&&(n.bufferSource.onended=null,n.bufferSource.disconnect(0),u))try{n.bufferSource.buffer=P._scratchBuffer}catch{}return n.bufferSource=null,a},_clearSound:function(n){/MSIE |Trident\//.test(P._navigator&&P._navigator.userAgent)||(n.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var z=function(n){this._parent=n,this.init()};z.prototype={init:function(){var n=this,a=n._parent;return n._muted=a._muted,n._loop=a._loop,n._volume=a._volume,n._rate=a._rate,n._seek=0,n._paused=!0,n._ended=!0,n._sprite="__default",n._id=++P._counter,a._sounds.push(n),n.create(),n},create:function(){var n=this,a=n._parent,u=P._muted||n._muted||n._parent._muted?0:n._volume;return a._webAudio?(n._node=P.ctx.createGain===void 0?P.ctx.createGainNode():P.ctx.createGain(),n._node.gain.setValueAtTime(u,P.ctx.currentTime),n._node.paused=!0,n._node.connect(P.masterGain)):P.noAudio||(n._node=P._obtainHtml5Audio(),n._errorFn=n._errorListener.bind(n),n._node.addEventListener("error",n._errorFn,!1),n._loadFn=n._loadListener.bind(n),n._node.addEventListener(P._canPlayEvent,n._loadFn,!1),n._endFn=n._endListener.bind(n),n._node.addEventListener("ended",n._endFn,!1),n._node.src=a._src,n._node.preload=a._preload===!0?"auto":a._preload,n._node.volume=u*P.volume(),n._node.load()),n},reset:function(){var n=this,a=n._parent;return n._muted=a._muted,n._loop=a._loop,n._volume=a._volume,n._rate=a._rate,n._seek=0,n._rateSeek=0,n._paused=!0,n._ended=!0,n._sprite="__default",n._id=++P._counter,n},_errorListener:function(){var n=this;n._parent._emit("loaderror",n._id,n._node.error?n._node.error.code:0),n._node.removeEventListener("error",n._errorFn,!1)},_loadListener:function(){var n=this,a=n._parent;a._duration=Math.ceil(10*n._node.duration)/10,Object.keys(a._sprite).length===0&&(a._sprite={__default:[0,1e3*a._duration]}),a._state!=="loaded"&&(a._state="loaded",a._emit("load"),a._loadQueue()),n._node.removeEventListener(P._canPlayEvent,n._loadFn,!1)},_endListener:function(){var n=this,a=n._parent;a._duration===1/0&&(a._duration=Math.ceil(10*n._node.duration)/10,a._sprite.__default[1]===1/0&&(a._sprite.__default[1]=1e3*a._duration),a._ended(n)),n._node.removeEventListener("ended",n._endFn,!1)}};var N={},w=function(n){var a=n._src;if(N[a])return n._duration=N[a].duration,void E(n);if(/^data:[^;]+;base64,/.test(a)){for(var u=atob(a.split(",")[1]),p=new Uint8Array(u.length),I=0;I<u.length;++I)p[I]=u.charCodeAt(I);Y(p.buffer,n)}else{var L=new XMLHttpRequest;L.open(n._xhr.method,a,!0),L.withCredentials=n._xhr.withCredentials,L.responseType="arraybuffer",n._xhr.headers&&Object.keys(n._xhr.headers).forEach(function(F){L.setRequestHeader(F,n._xhr.headers[F])}),L.onload=function(){var F=(L.status+"")[0];F==="0"||F==="2"||F==="3"?Y(L.response,n):n._emit("loaderror",null,"Failed loading audio file with status: "+L.status+".")},L.onerror=function(){n._webAudio&&(n._html5=!0,n._webAudio=!1,n._sounds=[],delete N[a],n.load())},U(L)}},U=function(n){try{n.send()}catch{n.onerror()}},Y=function(n,a){var u=function(){a._emit("loaderror",null,"Decoding audio data failed.")},p=function(I){I&&a._sounds.length>0?(N[a._src]=I,E(a,I)):u()};typeof Promise<"u"&&P.ctx.decodeAudioData.length===1?P.ctx.decodeAudioData(n).then(p).catch(u):P.ctx.decodeAudioData(n,p,u)},E=function(n,a){a&&!n._duration&&(n._duration=a.duration),Object.keys(n._sprite).length===0&&(n._sprite={__default:[0,1e3*n._duration]}),n._state!=="loaded"&&(n._state="loaded",n._emit("load"),n._loadQueue())},v=function(){if(P.usingWebAudio){try{typeof AudioContext<"u"?P.ctx=new AudioContext:typeof webkitAudioContext<"u"?P.ctx=new webkitAudioContext:P.usingWebAudio=!1}catch{P.usingWebAudio=!1}P.ctx||(P.usingWebAudio=!1);var n=/iP(hone|od|ad)/.test(P._navigator&&P._navigator.platform),a=P._navigator&&P._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),u=a?parseInt(a[1],10):null;if(n&&u&&u<9){var p=/safari/.test(P._navigator&&P._navigator.userAgent.toLowerCase());P._navigator&&!p&&(P.usingWebAudio=!1)}P.usingWebAudio&&(P.masterGain=P.ctx.createGain===void 0?P.ctx.createGainNode():P.ctx.createGain(),P.masterGain.gain.setValueAtTime(P._muted?0:P._volume,P.ctx.currentTime),P.masterGain.connect(P.ctx.destination)),P._setup()}};(k=(function(){return{Howler:P,Howl:j}}).apply(le,[]))!==void 0&&(Ae.exports=k),d.g!==void 0?(d.g.HowlerGlobal=h,d.g.Howler=P,d.g.Howl=j,d.g.Sound=z):typeof window<"u"&&(window.HowlerGlobal=h,window.Howler=P,window.Howl=j,window.Sound=z)})()}},Ot={};function ut(Ae){var le=Ot[Ae];if(le!==void 0)return le.exports;var d=Ot[Ae]={id:Ae,loaded:!1,exports:{}};return Gi[Ae].call(d.exports,d,d.exports,ut),d.loaded=!0,d.exports}ut.m=Gi,ut.n=Ae=>{var le=Ae&&Ae.__esModule?()=>Ae.default:()=>Ae;return ut.d(le,{a:le}),le},$t=Object.getPrototypeOf?Ae=>Object.getPrototypeOf(Ae):Ae=>Ae.__proto__,ut.t=function(Ae,le){if(1&le&&(Ae=this(Ae)),8&le||typeof Ae=="object"&&Ae&&(4&le&&Ae.__esModule||16&le&&typeof Ae.then=="function"))return Ae;var d=Object.create(null);ut.r(d);var k={};Di=Di||[null,$t({}),$t([]),$t($t)];for(var h=2&le&&Ae;typeof h=="object"&&!~Di.indexOf(h);h=$t(h))Object.getOwnPropertyNames(h).forEach(P=>k[P]=()=>Ae[P]);return k.default=()=>Ae,ut.d(d,k),d},ut.d=(Ae,le)=>{for(var d in le)ut.o(le,d)&&!ut.o(Ae,d)&&Object.defineProperty(Ae,d,{enumerable:!0,get:le[d]})},ut.f={},ut.e=Ae=>Promise.all(Object.keys(ut.f).reduce((le,d)=>(ut.f[d](Ae,le),le),[])),ut.u=Ae=>"chunks/"+Ae+".js",ut.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),ut.hmd=Ae=>((Ae=Object.create(Ae)).children||(Ae.children=[]),Object.defineProperty(Ae,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+Ae.id)}}),Ae),ut.o=(Ae,le)=>Object.prototype.hasOwnProperty.call(Ae,le),Gt={},ut.l=(Ae,le,d,k)=>{if(Gt[Ae])Gt[Ae].push(le);else{var h,P;if(d!==void 0)for(var j=document.getElementsByTagName("script"),z=0;z<j.length;z++){var N=j[z];if(N.getAttribute("src")==Ae){h=N;break}}h||(P=!0,(h=document.createElement("script")).charset="utf-8",h.timeout=120,ut.nc&&h.setAttribute("nonce",ut.nc),h.src=Ae),Gt[Ae]=[le];var w=(Y,E)=>{h.onerror=h.onload=null,clearTimeout(U);var v=Gt[Ae];if(delete Gt[Ae],h.parentNode&&h.parentNode.removeChild(h),v&&v.forEach(n=>n(E)),Y)return Y(E)},U=setTimeout(w.bind(null,void 0,{type:"timeout",target:h}),12e4);h.onerror=w.bind(null,h.onerror),h.onload=w.bind(null,h.onload),P&&document.head.appendChild(h)}},ut.r=Ae=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(Ae,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Ae,"__esModule",{value:!0})},ut.nmd=Ae=>(Ae.paths=[],Ae.children||(Ae.children=[]),Ae),(()=>{var Ae;ut.g.importScripts&&(Ae=ut.g.location+"");var le=ut.g.document;if(!Ae&&le&&(le.currentScript&&(Ae=le.currentScript.src),!Ae)){var d=le.getElementsByTagName("script");d.length&&(Ae=d[d.length-1].src)}if(!Ae)throw new Error("Automatic publicPath is not supported in this browser");Ae=Ae.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),ut.p=Ae})(),(()=>{var Ae={296:0};ut.f.j=(k,h)=>{var P=ut.o(Ae,k)?Ae[k]:void 0;if(P!==0)if(P)h.push(P[2]);else{var j=new Promise((U,Y)=>P=Ae[k]=[U,Y]);h.push(P[2]=j);var z=ut.p+ut.u(k),N=new Error,w=U=>{if(ut.o(Ae,k)&&((P=Ae[k])!==0&&(Ae[k]=void 0),P)){var Y=U&&(U.type==="load"?"missing":U.type),E=U&&U.target&&U.target.src;N.message="Loading chunk "+k+` failed.
(`+Y+": "+E+")",N.name="ChunkLoadError",N.type=Y,N.request=E,P[1](N)}};ut.l(z,w,"chunk-"+k,k)}};var le=(k,h)=>{var P,j,[z,N,w]=h,U=0;if(z.some(Y=>Ae[Y]!==0)){for(P in N)ut.o(N,P)&&(ut.m[P]=N[P]);w&&w(ut)}for(k&&k(h);U<z.length;U++)j=z[U],ut.o(Ae,j)&&Ae[j]&&Ae[j][0](),Ae[j]=0},d=self.webpackChunk=self.webpackChunk||[];d.forEach(le.bind(null,0)),d.push=le.bind(null,d.push.bind(d))})(),ut(3410),ut(6426),ut(4852),ut(2895),ut(5410),ut(5067)};Qr();Kr();
