var qr=Object.defineProperty;var Qr=(Li,oi,Gt)=>oi in Li?qr(Li,oi,{enumerable:!0,configurable:!0,writable:!0,value:Gt}):Li[oi]=Gt;var Xi=(Li,oi,Gt)=>(Qr(Li,typeof oi!="symbol"?oi+"":oi,Gt),Gt);(function(){const oi=document.createElement("link").relList;if(oi&&oi.supports&&oi.supports("modulepreload"))return;for(const Ot of document.querySelectorAll('link[rel="modulepreload"]'))di(Ot);new MutationObserver(Ot=>{for(const Xt of Ot)if(Xt.type==="childList")for(const ct of Xt.addedNodes)ct.tagName==="LINK"&&ct.rel==="modulepreload"&&di(ct)}).observe(document,{childList:!0,subtree:!0});function Gt(Ot){const Xt={};return Ot.integrity&&(Xt.integrity=Ot.integrity),Ot.referrerPolicy&&(Xt.referrerPolicy=Ot.referrerPolicy),Ot.crossOrigin==="use-credentials"?Xt.credentials="include":Ot.crossOrigin==="anonymous"?Xt.credentials="omit":Xt.credentials="same-origin",Xt}function di(Ot){if(Ot.ep)return;Ot.ep=!0;const Xt=Gt(Ot);fetch(Ot.href,Xt)}})();const Kr=()=>{console.log("loader");var Li={405:()=>{var Ot=window.SKIN_DIRS||{};Gt=window.__OPTIONS__.rules_url,di=Gt.slice(Gt.indexOf(`/${window.__OPTIONS__.locale}/`)+1);function Xt(ct){var ye=(ct.ui.skin||"basic").toLocaleLowerCase(),le=window.location.search.match(new RegExp("[?&]skin=([^&]*)(&?)","i")),d=le?le[1]:null;return d||ye}window.initializeCasinoOptions=ct=>{console.log(ct);var ye=Xt(ct),{root:le,res:d="v0.0.27_v14.6.4"}=Ot[ye]||Ot.basic||{};ct.ui.applied_skin=le,ct.resources_root_path=ct.resources_path+(le?`/${le}`:""),ct.resources_path+=`/${d}`,ct.game_bundle_source=ct.resources_path+"/bundle.js",window.__OPTIONS__=ct,console.log(ct)}}},oi={};function Gt(Ot){var Xt=oi[Ot];if(Xt!==void 0)return Xt.exports;var ct=oi[Ot]={exports:{}};return Li[Ot](ct,ct.exports,Gt),ct.exports}Gt.n=Ot=>{var Xt=Ot&&Ot.__esModule?()=>Ot.default:()=>Ot;return Gt.d(Xt,{a:Xt}),Xt},Gt.d=(Ot,Xt)=>{for(var ct in Xt)Gt.o(Xt,ct)&&!Gt.o(Ot,ct)&&Object.defineProperty(Ot,ct,{enumerable:!0,get:Xt[ct]})},Gt.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),Gt.o=(Ot,Xt)=>Object.prototype.hasOwnProperty.call(Ot,Xt);var di;(di=typeof window<"u"?window:Gt.g!==void 0?Gt.g:typeof self<"u"?self:{}).SENTRY_RELEASE={id:"Plinko (game: v0.0.27_v14.6.4, utils: v14.6.4)"},di.SENTRY_RELEASES=di.SENTRY_RELEASES||{},di.SENTRY_RELEASES["games-front-end@sentry"]={id:"Plinko (game: v0.0.27_v14.6.4, utils: v14.6.4)"},(()=>{Gt(405);var Ot=window.__OPTIONS__;Ot.identifier,window.initializeCasinoOptions(Ot)})()},Jr=()=>{console.log("bundle");let Li=0;var oi,Gt,di,Ot={274:(ye,le,d)=>{var B={"./bg":[5278,278],"./bg.js":[5278,278],"./de":[7610,610],"./de.js":[7610,610],"./el":[4254,254],"./el.js":[4254,254],"./en":[8409,409],"./en.js":[8409,409],"./es":[2688,688],"./es.js":[2688,688],"./fi":[6115,115],"./fi.js":[6115,115],"./fr":[2818,818],"./fr.js":[2818,818],"./id":[6182,182],"./id.js":[6182,182],"./it":[20,20],"./it.js":[20,20],"./ja":[830,830],"./ja.js":[830,830],"./kde":[8483,483],"./kde.js":[8483,483],"./ko":[4350,350],"./ko.js":[4350,350],"./nl":[4333,333],"./nl.js":[4333,333],"./nn":[9991,991],"./nn.js":[9991,991],"./pl":[7597,597],"./pl.js":[7597,597],"./pt":[1682,682],"./pt.js":[1682,682],"./ro":[1503,503],"./ro.js":[1503,503],"./ru":[8171,171],"./ru.js":[8171,171],"./ses":[4287,287],"./ses.js":[4287,287],"./sv":[6793,793],"./sv.js":[6793,793],"./th":[1385,385],"./th.js":[1385,385],"./tr":[5924,924],"./tr.js":[5924,924],"./vi":[5269,269],"./vi.js":[5269,269],"./zh":[6357,357],"./zh.js":[6357,357]};function h(P){if(!d.o(B,P))return Promise.resolve().then(()=>{var M=new Error("Cannot find module '"+P+"'");throw M.code="MODULE_NOT_FOUND",M});var W=B[P],z=W[0];return d.e(W[1]).then(()=>d.t(z,23))}h.keys=()=>Object.keys(B),h.id=274,ye.exports=h},2447:ye=>{ye.exports={scenes:{main:{c:"MainMenu",p:{backgroundColor:2371125},":":[{c:"Resizer",p:{name:"middle",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"OrientationTrigger",p:{name:"bg",portraitX:-450},":":[{c:"BG",p:{name:"bg","pivot.y":.5,image:"bg/bg.jpg"}}]},{c:"Trigger",p:{dataPath:"game.currentScene.isLeftPanelTurnedOn",invert:!0,pow:.05,damp:.7,alphaShift:0,xShift:76,isApplyInteractivity:!1},":":[{c:"Sprite",p:{x:-348,y:-308,rotation:-.756,alpha:.09,visible:!1,image:"bg/bg-flowers.png"}}]},{c:"Resizer",p:{name:"left-panel-btn",relativeX:!0,xPos:-.5},":":[{c:"Trigger",p:{x:9,dataPath:"game.currentScene.isLeftPanelVisible",invert:!0,pow:.04,damp:.7,xShift:-30},":":[{c:"Button",p:{name:"open-table-btn",x:21,y:3,image:"ui/arrow-tabl-left.png",hoverImage:"ui/arrow-tabl-left.png",pressImage:"ui/arrow-tabl-left.png",disabledImage:"ui/arrow-tabl-left.png",onClick:"game.currentScene.toggleTableView",sndClick:"click",sndOver:"over"}}]}]},{c:"Resizer",p:{name:"right-panel-btn",y:-1,relativeX:!0,xPos:.5},":":[{c:"Trigger",p:{x:-9,"scale.x":-1,"scale.y":-1,dataPath:"game.currentScene.isRightPanelVisible",invert:!0,pow:.04,damp:.7,xShift:30},":":[{c:"Button",p:{name:"open-table-btn",x:21,y:3,image:"ui/arrow-tabl-left.png",hoverImage:"ui/arrow-tabl-left.png",pressImage:"ui/arrow-tabl-left.png",disabledImage:"ui/arrow-tabl-left.png",onClick:"game.currentScene.toggleTableView",sndClick:"click",sndOver:"over"}}]}]},{c:"Trigger",p:{name:"left-panel-switcher",x:1,y:1,dataPath:"game.currentScene.isLeftPanelVisible",pow:.05,damp:.7,alphaShift:-.97,xShift:-900},":":[{c:"OrientationTrigger",p:{name:"left-part",portraitX:525,portraitY:17},":":[{c:"Text",p:{x:-774,y:-345,translatableText:"plinko.time","style.fontSize":22,verticalAlign:"center","style.fontWeight":"bold",maxWidth:108}},{c:"Text",p:{x:-638,y:-345,translatableText:"plinko.bet_history","style.fontSize":22,verticalAlign:"center","style.fontWeight":"bold",maxWidth:108}},{c:"Text",p:{x:-496,y:-345,translatableText:"plinko.payout","style.fontSize":22,verticalAlign:"center","style.fontWeight":"bold",maxWidth:108}},{c:"Text",p:{x:-335,y:-345,translatableText:"plinko.profit","style.fontSize":22,verticalAlign:"center","style.fontWeight":"bold",maxWidth:108}},{c:"Sprite",p:{x:-821,y:-323,"scale.x":5.4,image:"ui/line.png",tint:10396592}},{c:"ResultList",p:{name:"resultList",x:-892,y:-293}},{c:"OrientationTrigger",p:{landscapeY:16,landscapeAlpha:0,portraitX:-539,portraitY:-484},":":[{c:"Sprite",p:{y:57,"scale.x":.5,"scale.y":.5,"pivot.x":204,"pivot.y":118,image:"ui/logo.png"},":":[{c:"Trigger",p:{dataPath:"game.casinoOptions.ui.logo_visible",isApplyInteractivity:!1},":":[{c:"Sprite",p:{x:104,y:182,alpha:.4,"scale.x":.5,"scale.y":.5,image:"ui/b-gaming.png"}}]}]}]}]}]},{c:"Trigger",p:{name:"right-panel-switcher",dataPath:"game.currentScene.isRightPanelVisible",pow:.05,damp:.7,alphaShift:-.97,xShift:900},":":[{c:"Trigger",p:{name:"ios-safari-fix",dataPath:"game.isLandscapeSafariIos",invert:!0,pow:1,alphaShift:0,yShift:-70,isApplyInteractivity:!1},":":[{c:"OrientationTrigger",p:{name:"right-part",portraitX:-505},":":[{c:"Trigger",p:{x:682,y:350,dataPath:"game.data.autoPanelActiveted",pow:.06,damp:.7,alphaShift:0,yShift:45,isApplyInteractivity:!1},":":[{c:"NineSlicePlane",p:{name:"autoplayPanel",x:-65,y:-64,image:"ui/panel-ui.png",width:130,height:146,leftWidth:14,rightWidth:14,topHeight:14,bottomHeight:14},":":[{c:"Text",p:{x:68,y:-1,translatableText:"plinko.bet_mode","style.fontSize":16,verticalAlign:"bottom","style.fill":"#ffb744",maxWidth:128}},{c:"Sprite",p:{x:11,y:41,image:"ui/line.png",tint:10396592}},{c:"Button",p:{name:"manualGameBtn",x:32,y:24,interactive:!1,image:"ui/small-btn.png",hoverImage:"ui/small-btn.png",pressImage:"ui/small-btn.png",disabledImage:"ui/small-btn-d.png",onClick:"game.currentScene.deactivateAutoPanel",sndClick:"click",sndOver:"over"},":":[{c:"DSprite",p:{image:"ui/manual-icon.png"}},{c:"MovieClip",p:{timeline:{l:{"btn-out":3,"btn-over":42},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:0,t:13,m:1,a:"this.stop"},{v:1,t:47,m:1}]}]}},":":[{c:"Text",p:{x:14,translatableText:"plinko.manual","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.strokeThickness":1,"style.stroke":"#fff","style.padding":1,maxWidth:74}}]},{c:"Shape",p:{x:-23,y:-20,visible:!1,width:113,height:39,isItHitArea:!0}},{c:"Text",p:{x:15,translatableText:"plinko.manual","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.padding":1,maxWidth:74}}]},{c:"Button",p:{name:"autoGameBtn",x:32,y:65,image:"ui/small-btn.png",hoverImage:"ui/small-btn.png",pressImage:"ui/small-btn.png",disabledImage:"ui/small-btn-d.png",onClick:"game.currentScene.activateAutoPanel",sndClick:"click",sndOver:"over"},":":[{c:"DSprite",p:{image:"ui/auto-icon.png"}},{c:"MovieClip",p:{timeline:{l:{"btn-out":3,"btn-over":42},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:0,t:13,m:1,a:"this.stop"},{v:1,t:47,m:1}]}]}},":":[{c:"Text",p:{x:14,translatableText:"plinko.auto","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.strokeThickness":1,"style.stroke":"#fff","style.padding":1,maxWidth:73}}]},{c:"Shape",p:{x:-23,y:-20,visible:!1,width:113,height:39,isItHitArea:!0}},{c:"Text",p:{x:15,translatableText:"plinko.auto","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.padding":1,maxWidth:73}}]},{c:"Trigger",p:{name:"auto-game-counter",dataPath:"game.data.autoPanelActiveted",pow:.06,damp:.7},":":[{c:"Sprite",p:{x:47,y:98,image:"ui/counter-bg.png"},":":[{c:"NumberInput",p:{name:"autoplayNumberInput",x:19,y:12,textView:"counter-text",dataPath:"game.data.autoplayCount",valuesList:"10,20,30,50,70,100,150,200,250,300,400,500,600,700,800,900,1000"},":":[{c:"Shape",p:{x:-23,y:-25,alpha:.71,visible:!1,width:45,height:44,isItHitArea:!0}}]},{c:"Sprite",p:{name:"number-mask",x:1,y:-23,"scale.x":2.2,"scale.y":1.52,image:"WHITE",tint:4937571}},{c:"Sprite",p:{name:"number-mask",x:1,y:22,"scale.x":2.2,"scale.y":1.5,image:"WHITE",tint:4937571}},{c:"Trigger",p:{dataPath:"this.parent.#autoplayNumberInput.canIncrease",alphaShift:-.65},":":[{c:"Button",p:{x:59,y:12,image:"ui/counter-btn.png",hoverImage:"ui/counter-btn-h.png",onClick:"this.parent.parent.#autoplayNumberInput.increase",sndClick:"click",sndOver:"over",repeatDelay:20,repeatInterval:6},":":[{c:"Text",p:{y:-1,text:"+","style.fontSize":18,verticalAlign:"center","style.fontWeight":"bold"}}]}]},{c:"Trigger",p:{dataPath:"this.parent.#autoplayNumberInput.canDecrease",alphaShift:-.65},":":[{c:"Button",p:{x:-21,y:12,image:"ui/counter-btn.png",hoverImage:"ui/counter-btn-h.png",onClick:"this.parent.parent.#autoplayNumberInput.decrease",sndClick:"click",sndOver:"over",repeatDelay:20,repeatInterval:6},":":[{c:"Text",p:{y:-1,text:"—","style.fontSize":18,verticalAlign:"center","style.fontWeight":"bold"}}]}]}]},{c:"Text",p:{x:66,y:96,translatableText:"plinko.autoplay_count",verticalAlign:"bottom",maxWidth:115}}]}]}]},{c:"Container",p:{name:"gameUI"},":":[{c:"NineSlicePlane",p:{x:252,y:286,image:"ui/panel-ui.png",width:130,height:146,leftWidth:14,rightWidth:14,topHeight:14,bottomHeight:14},":":[{c:"Text",p:{x:65,y:-1,translatableText:"plinko.risk_level","style.fontSize":16,verticalAlign:"bottom","style.fill":"#ffb744",maxWidth:128}},{c:"Sprite",p:{x:11,y:41,image:"ui/line.png",tint:10396592}},{c:"Sprite",p:{x:11,y:85,image:"ui/line.png",tint:10396592}},{c:"Button",p:{name:"high-risk-btn",x:32,y:24,image:"ui/small-btn.png",hoverImage:"ui/small-btn.png",disabledImage:"ui/small-btn-d.png",onClick:"all.gameTable.setRiskMode`high",sndClick:"click",sndOver:"over"},":":[{c:"DSprite",p:{image:"ui/lvl-high-icon.png"}},{c:"MovieClip",p:{timeline:{l:{"btn-out":3,"btn-over":42},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:0,t:13,m:1,a:"this.stop"},{v:1,t:47,m:1}]}]}},":":[{c:"Text",p:{x:14,translatableText:"plinko.high","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.strokeThickness":1,"style.stroke":"#fff","style.padding":1,maxWidth:73}}]},{c:"Shape",p:{x:-23,y:-20,visible:!1,width:113,height:39,isItHitArea:!0}},{c:"Text",p:{x:15,translatableText:"plinko.high","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.padding":1,maxWidth:73}}]},{c:"Button",p:{name:"medium-risk-btn",x:32,y:65,image:"ui/small-btn.png",hoverImage:"ui/small-btn.png",disabledImage:"ui/small-btn-d.png",onClick:"all.gameTable.setRiskMode`medium",sndClick:"click",sndOver:"over"},":":[{c:"DSprite",p:{image:"ui/lvl-mid-icon.png"}},{c:"MovieClip",p:{timeline:{l:{"btn-out":3,"btn-over":42},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:0,t:13,m:1,a:"this.stop"},{v:1,t:47,m:1}]}]}},":":[{c:"Text",p:{x:14,translatableText:"plinko.normal","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.strokeThickness":1,"style.stroke":"#fff","style.padding":1,maxWidth:73}}]},{c:"Shape",p:{x:-23,y:-20,visible:!1,width:113,height:39,isItHitArea:!0}},{c:"Text",p:{x:15,translatableText:"plinko.normal","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.padding":1,maxWidth:73}}]},{c:"Button",p:{name:"low-risk-btn",x:32,y:107,image:"ui/small-btn.png",hoverImage:"ui/small-btn.png",disabledImage:"ui/small-btn-d.png",onClick:"all.gameTable.setRiskMode`low",sndClick:"click",sndOver:"over"},":":[{c:"DSprite",p:{image:"ui/lvl-low-icon.png"}},{c:"MovieClip",p:{timeline:{l:{"btn-out":3,"btn-over":42},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:0,t:13,m:1,a:"this.stop"},{v:1,t:47,m:1}]}]}},":":[{c:"Text",p:{x:14,translatableText:"plinko.low","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.strokeThickness":1,"style.stroke":"#fff","style.padding":1,maxWidth:73}}]},{c:"Shape",p:{x:-23,y:-20,visible:!1,width:113,height:39,isItHitArea:!0}},{c:"Text",p:{x:15,translatableText:"plinko.low","style.fontSize":15,"style.align":"left",verticalAlign:"center","style.padding":1,maxWidth:73}}]}]},{c:"Sprite",p:{name:"bet-panel",x:250,y:408,image:"bg/bg-ui.png"},":":[{c:"Trigger",p:{dataPath:"game.currentScene.isBetCanBeDecreased",pow:1,alphaShift:-.65},":":[{c:"Button",p:{x:34,y:43,image:"ui/bet-btn.png",hoverImage:"ui/bet-btn-h.png",onClick:"game.currentScene.minimizeBet",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{translatableText:"plinko.min","style.fontSize":18,verticalAlign:"center",maxWidth:54}}]},{c:"Button",p:{x:100,y:43,image:"ui/bet-btn.png",hoverImage:"ui/bet-btn-h.png",onClick:"game.currentScene.decreaseBet",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{text:"—","style.fontSize":18,verticalAlign:"center","style.fontWeight":"bold"}}]}]},{c:"Trigger",p:{dataPath:"game.currentScene.isBetCanBeIncreased",pow:1,alphaShift:-.65},":":[{c:"Button",p:{x:399,y:43,image:"ui/bet-btn.png",hoverImage:"ui/bet-btn-h.png",onClick:"game.currentScene.increaseBet",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{text:"+","style.fontSize":18,verticalAlign:"center","style.fontWeight":"bold"}}]},{c:"Button",p:{x:465,y:43,image:"ui/bet-btn.png",hoverImage:"ui/bet-btn-h.png",onClick:"game.currentScene.maximizeBet",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{translatableText:"plinko.max","style.fontSize":18,verticalAlign:"center",maxWidth:54}}]}]},{c:"MoneyLabel",p:{name:"bet-label",x:249,y:49,translatableText:"plinko.bet","style.fontSize":27,verticalAlign:"center","style.fontWeight":"bold","style.letterSpacing":1,maxWidth:225,dataPath:"game.data.bet",refreshInterval:0,decimalsCount:2,dataPath2:"game.data.currency"}},{c:"MoneyLabel",p:{name:"balance-label",x:247,y:100,translatableText:"plinko.balance","style.fontSize":27,verticalAlign:"center","style.fill":"#ffb744","style.fontWeight":"bold","style.letterSpacing":1,textTransform:1,maxWidth:225,dataPath:"game.data.balance",refreshInterval:0,decimalsCount:2,dataPath2:"game.data.currency",decimalsCountPath:"game.data.balanceDigitsCount"}}]},{c:"Trigger",p:{name:"ios-safari-fix",dataPath:"game.isLandscapeSafariIos",invert:!0,pow:1,alphaShift:0,xShift:50,yShift:130,isApplyInteractivity:!1},":":[{c:"Button",p:{name:"lines-button",x:737,y:-399,image:"ui/select-btn.png",hoverImage:"ui/select-btn-h.png",disabledImage:"ui/select-btn-d.png",onClick:"all.gameTable.setLinesCount`8",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",y:-1,text:"8","style.fontSize":18,verticalAlign:"center","style.fill":"#c6d6e3"}}]},{c:"Button",p:{name:"lines-button",x:737,y:-367.99999999999994,image:"ui/select-btn.png",hoverImage:"ui/select-btn-h.png",disabledImage:"ui/select-btn-d.png",onClick:"all.gameTable.setLinesCount`9",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",y:-1,text:"9","style.fontSize":18,verticalAlign:"center","style.fill":"#c6d6e3"}}]},{c:"Button",p:{name:"lines-button",x:737,y:-336.99999999999994,image:"ui/select-btn.png",hoverImage:"ui/select-btn-h.png",disabledImage:"ui/select-btn-d.png",onClick:"all.gameTable.setLinesCount`10",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",y:-1,text:"10","style.fontSize":18,verticalAlign:"center","style.fill":"#c6d6e3"}}]},{c:"Button",p:{name:"lines-button",x:737,y:-305.99999999999994,image:"ui/select-btn.png",hoverImage:"ui/select-btn-h.png",disabledImage:"ui/select-btn-d.png",onClick:"all.gameTable.setLinesCount`11",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",y:-1,text:"11","style.fontSize":18,verticalAlign:"center","style.fill":"#c6d6e3"}}]},{c:"Button",p:{name:"lines-button",x:737,y:-274.99999999999994,image:"ui/select-btn.png",hoverImage:"ui/select-btn-h.png",disabledImage:"ui/select-btn-d.png",onClick:"all.gameTable.setLinesCount`12",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",y:-1,text:"12","style.fontSize":18,verticalAlign:"center","style.fill":"#c6d6e3"}}]},{c:"Button",p:{name:"lines-button",x:737,y:-243.99999999999994,image:"ui/select-btn.png",hoverImage:"ui/select-btn-h.png",disabledImage:"ui/select-btn-d.png",onClick:"all.gameTable.setLinesCount`13",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",y:-1,text:"13","style.fontSize":18,verticalAlign:"center","style.fill":"#c6d6e3"}}]},{c:"Button",p:{name:"lines-button",x:737,y:-212.99999999999994,image:"ui/select-btn.png",hoverImage:"ui/select-btn-h.png",disabledImage:"ui/select-btn-d.png",onClick:"all.gameTable.setLinesCount`14",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",y:-1,text:"14","style.fontSize":18,verticalAlign:"center","style.fill":"#c6d6e3"}}]},{c:"Button",p:{name:"lines-button",x:737,y:-181.99999999999994,image:"ui/select-btn.png",hoverImage:"ui/select-btn-h.png",disabledImage:"ui/select-btn-d.png",onClick:"all.gameTable.setLinesCount`15",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",y:-1,text:"15","style.fontSize":18,verticalAlign:"center","style.fill":"#c6d6e3"}}]},{c:"Button",p:{name:"lines-button",x:737,y:-150.99999999999994,image:"ui/select-btn.png",hoverImage:"ui/select-btn-h.png",disabledImage:"ui/select-btn-d.png",onClick:"all.gameTable.setLinesCount`16",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",y:-1,text:"16","style.fontSize":18,verticalAlign:"center","style.fill":"#c6d6e3"}}]},{c:"TextInput",p:{x:736,y:-416,translatableText:"plinko.lines","style.fontSize":18,verticalAlign:"bottom","style.fill":"#ffb744",maxWidth:344}}]}]},{c:"Button",p:{name:"playButton",x:500,y:328,"pivot.x":-15,"pivot.y":-15,image:"ui/play-btn.png",hoverImage:"ui/play-btn-h.png",onClick:"game.currentScene.playButtonClick",sndClick:"play",sndOver:"over"},":":[{c:"Trigger",p:{x:-17,y:-16,dataPath:"game.currentScene.isAutoplayStarted",invert:!0},":":[{c:"Text",p:{x:1,translatableText:"plinko.play","style.fontSize":46,verticalAlign:"center","style.fill":"#36434a","style.fontWeight":"bold",textTransform:1,maxWidth:126}}]},{c:"Trigger",p:{x:-17,y:-16,dataPath:"game.currentScene.isAutoplayStarted"},":":[{c:"Text",p:{x:1,translatableText:"plinko.stop","style.fontSize":46,verticalAlign:"center","style.fill":"#36434a","style.fontWeight":"bold",textTransform:1,maxWidth:126}},{c:"Label",p:{y:39,text:"22","style.fontSize":25,verticalAlign:"center","style.fill":"#36434a","style.fontWeight":"bold",dataPath:"game.data.autoplayCurrentCount"}}]},{c:"Shape",p:{x:-15,y:-15,alpha:0,shape:2,shapeRadius:82,isItHitArea:!0}}]},{c:"MovieClip",p:{name:"win-panel",x:500,isPlaying:!1,timeline:{l:{"on-win":9,hide:262},p:.2,d:.85,f:[{n:"y",t:[{v:214,t:0},{v:214,t:14,s:5},{v:214,t:120}]},{n:"scale.y",t:[{v:0,t:0},{v:1,t:17,m:1},{v:1,t:254,m:1},{v:0,t:269,m:1}]},{n:"scale.x",t:[{v:0,t:0},{v:1,t:17,m:1},{v:1,t:254,m:1},{v:0,t:269,m:1}]}]}},":":[{c:"NineSlicePlane",p:{x:-250,y:-25,image:"ui/win-panel.png",width:500,height:50,leftWidth:25,rightWidth:25,topHeight:25,bottomHeight:25},":":[{c:"Fill",p:{x:10,y:10,"scale.x":3.74,"scale.y":.23,image:"ui/stars-pattern.png",tint:16764160,verticesX:4,xRepeat:3.74,yRepeat:.23,xShiftSpeed:.010480000000000001,yShiftSpeed:.0039900000000000005,xWaveAmp:1.012,xWaveStep:3.357,xWaveSpeed:.01312,yWaveAmp:-.034,yWaveStep:2.064,yWaveSpeed:.0753}},{c:"MoneyLabel",p:{name:"bet-label",x:251,y:24,translatableText:"plinko.win","style.fontSize":27,verticalAlign:"center","style.fill":"#4a2c01","style.fontWeight":"bold","style.letterSpacing":1,maxWidth:225,dataPath:"game.data.winToShow",refreshInterval:0,decimalsCount:2,dataPath2:"game.data.currency"}}]}]},{c:"GameTable",p:{name:"gameTable",x:500,y:-394},":":[{c:"DSprite",p:{name:"hole",image:"ui/hole.png"}},{c:"Container",p:{name:"ballsContainer"}},{c:"Container",p:{name:"pinsContainer"}},{c:"Container",p:{name:"particlesContainer"}},{c:"DSprite",p:{name:"tooltip",x:-185,y:478,"pivot.x":-1,"pivot.y":-2,image:"ui/tooltip.png"},":":[{c:"Sprite",p:{name:"pointer",x:-52,y:56,"pivot.x":10,image:"ui/tooltip-pointer.png"}},{c:"Text",p:{y:-40,translatableText:"plinko.tooltip_win","style.fontSize":22,verticalAlign:"center",maxWidth:98}},{c:"Text",p:{y:18,translatableText:"plinko.chance","style.fontSize":22,verticalAlign:"center",maxWidth:98}},{c:"MoneyLabel",p:{name:"profit",x:1,y:-14,text:"%d %s","style.fontSize":20,verticalAlign:"center","style.letterSpacing":1,maxWidth:141,dataPath:"this.parent.profit",refreshInterval:0,template:"%d %s",decimalsCount:2,dataPath2:"game.data.currency"}},{c:"Label",p:{name:"chance",x:1,y:44,text:"0.123123","style.fontSize":20,verticalAlign:"center",maxWidth:141,dataPath:"this.parent.chance",refreshInterval:0}}]}]},{c:"OrientationTrigger",p:{landscapeY:16,landscapeAlpha:0,portraitX:212,portraitY:-314,portraitR:-1.5707963267948966},":":[{c:"Sprite",p:{y:57,"scale.x":.5,"scale.y":.5,"pivot.x":204,"pivot.y":118,image:"ui/logo.png"},":":[{c:"Trigger",p:{dataPath:"game.casinoOptions.ui.logo_visible",isApplyInteractivity:!1},":":[{c:"Sprite",p:{x:104,y:182,alpha:.4,"scale.x":.5,"scale.y":.5,image:"ui/b-gaming.png"}}]}]}]}]}]}]}]},{c:"PrefabReference",p:{name:"ui",prefabName:"ui/ui-panel"}},{c:"BgMusic",p:{name:"bgMusic",loop:"mus/bg"}}]},root:{c:"BaseRootScene",p:{backgroundColor:0}}},prefabs:{ball:{c:"Ball",p:{name:"ball","pivot.x":-3,"pivot.y":-5,image:"ui/ball.png"},":":[{c:"MovieClip",p:{x:-3,y:-5,rotation:-.712,timeline:{l:{},p:.02,d:.85,f:[{n:"rotation",t:[{v:-.712,t:0},{v:.768,t:10,m:1},{v:-.712,t:19,m:1},{v:.768,t:26,m:1},{v:-.712,t:33,m:1},{v:.768,t:39,m:1,j:4}]}]}},":":[{c:"Spawner",p:{name:"particles-spawner",x:-1,y:-15,rotation:-1.5707963267948966,prefabToSpawn:"spark",enabled:!1,interval:2,speed:0,speedRandom:0,container:"game.currentScene.all.particlesContainer"}}]}]},"ball-target":{c:"Button",p:{name:"ball-target",hoverImage:"EMPTY",pressImage:"EMPTY",disabledImage:"EMPTY",sndClick:"click",sndOver:"over"},":":[{c:"MovieClip",p:{name:"body",image:"ui/target.png",tint:16776960,isPlaying:!1,timeline:{l:{"ball-touch":12},p:.2,d:.85,f:[{n:"y",t:[{v:0,t:0},{v:0,t:13,s:2.3000000000000003},{v:0,t:80}]},{n:"tintB",t:[{v:0,t:0,m:1},{v:0,t:12,m:1},{v:255,t:15,m:1},{v:0,t:34,m:1}]}]}},":":[{c:"Sprite",p:{x:-31,y:-19,image:"ui/target-overlay.png"}},{c:"Text",p:{name:"label",y:1,alpha:.85,text:"---","style.fontSize":20,verticalAlign:"center","style.fill":"#000022","style.fontWeight":"bold",maxWidth:47}},{c:"SpawnerRing",p:{name:"spawner",rotation:1.5707963267948966,prefabToSpawn:"spark",speed:2,speedRandom:2,count:15,countRandom:5,container:"all.particlesContainer"}}]},{c:"Shape",p:{x:-28,y:-37,width:57,height:76,isItHitArea:!0}}]},container:{c:"Container",p:{name:"container"}},"counter-text":{c:"Text",p:{name:"counter-text",x:640,y:360,text:"100","style.fontSize":20,verticalAlign:"center",maxWidth:34}},"fader/curtains":{c:"Resizer",p:{name:"fader/curtains",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"MovieClip",p:{timeline:{l:{},p:.02,d:.85,f:[{n:"visible",t:[{v:!0,t:0,m:2},{v:!0,t:121,m:2,a:"this.playRecursive"}]}]}},":":[{c:"Resizer",p:{resizeX:!0,resizeY:!0},":":[{c:"MovieClip",p:{"scale.y":8.4375,image:"WHITE_FOR_CANVAS.jpg",tint:0,isPlaying:!1,timeline:{l:{"hide fader":81},p:.02,d:.85,f:[{n:"x",t:[{v:-960,t:0},{v:-480,t:70,m:3,b:.4,g:2,a:"game.faderShoot"},{v:-480,t:74,m:1,a:"this.stop"},{v:-480,t:83,m:1},{v:-960,t:120,m:1,a:"game.faderEnd"}]},{n:"scale.x",t:[{v:0,t:0},{v:7.5,t:15,m:1},{v:7.5,t:70,m:1},{v:7.5,t:74,m:1},{v:7.5,t:83,m:1},{v:.1,t:120,m:1}]}]}}},{c:"MovieClip",p:{"scale.y":8.4375,image:"WHITE_FOR_CANVAS.jpg",tint:0,isPlaying:!1,timeline:{l:{"hide fader":81},p:.02,d:.85,f:[{n:"x",t:[{v:960,t:0},{v:480,t:70,m:4,b:.4,g:2},{v:480,t:74,m:1},{v:480,t:83,m:1},{v:966,t:120,m:1}]},{n:"scale.x",t:[{v:.625,t:0},{v:7.5,t:15,m:1},{v:7.5,t:70,m:1},{v:7.5,t:74,m:1,a:"this.stop"},{v:7.5,t:83,m:1},{v:.1,t:120,m:1}]}]}}}]},{c:"MovieClip",p:{isPlaying:!1,timeline:{l:{"hide fader":180},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:0,t:123,m:1},{v:1,t:130,m:1},{v:.8200000000000001,t:139,m:1},{v:1,t:150,m:1},{v:.4,t:161,m:1},{v:1,t:173,m:1,j:122}]}]}},":":[{c:"Text",p:{y:26,translatableText:"loading","style.fontSize":35,maxWidth:688}},{c:"MovieClip",p:{y:-22,image:"ui/spinner.png",rSpeed:.03,timeline:{l:{},p:.048,d:.81,f:[{n:"scale.y",t:[{v:.66,t:0},{v:.5499999999999999,t:13},{v:.66,t:60,j:0}]},{n:"scale.x",t:[{v:.66,t:0},{v:.55,t:13},{v:.66,t:60,j:0}]}]}}}]}]}]},"fader/default":{c:"Container",p:{name:"fader/default"},":":[{c:"Resizer",p:{name:"fader/default",resizeX:!0,resizeY:!0,relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"MovieClip",p:{name:"fader/default","scale.x":15,"scale.y":8.4375,image:"WHITE_FOR_CANVAS.jpg",tint:0,timeline:{l:{"hide fader":74},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:1,t:12,m:1,a:"game.faderShoot"},{v:1,t:23,m:1,a:"this.stop"},{v:1,t:74,m:1},{v:0,t:88,m:1,a:"game.faderEnd"}]}]}}}]},{c:"Resizer",p:{relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"MovieClip",p:{timeline:{l:{"hide fader":324},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:0,t:209,m:1},{v:1,t:217,m:1},{v:.8200000000000001,t:228,m:1},{v:1,t:241,m:1},{v:.4,t:255,m:1},{v:1,t:267,m:1,j:213},{v:0,t:335,m:1}]}]}},":":[{c:"Text",p:{y:26,translatableText:"loading","style.fontSize":35,maxWidth:795}},{c:"MovieClip",p:{y:-22,image:"ui/spinner.png",rSpeed:.03,timeline:{l:{},p:.048,d:.81,f:[{n:"scale.y",t:[{v:.66,t:0},{v:.5499999999999999,t:13},{v:.66,t:60,j:0}]},{n:"scale.x",t:[{v:.66,t:0},{v:.55,t:13},{v:.66,t:60,j:0}]}]}}}]}]}]},"fader/default-slow":{c:"Container",p:{name:"fader/default-slow"},":":[{c:"Resizer",p:{name:"fader/default",resizeX:!0,resizeY:!0,relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"MovieClip",p:{name:"fader/default","scale.x":15,"scale.y":8.4375,image:"WHITE_FOR_CANVAS.jpg",tint:0,timeline:{l:{"hide fader":122},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:1,t:60,m:1,a:"game.faderShoot"},{v:1,t:70,m:1,a:"this.stop"},{v:1,t:123,m:1},{v:0,t:187,m:1,a:"game.faderEnd"}]}]}}}]},{c:"Resizer",p:{relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"MovieClip",p:{timeline:{l:{"hide fader":324},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:0,t:209,m:1},{v:1,t:217,m:1},{v:.8200000000000001,t:228,m:1},{v:1,t:241,m:1},{v:.4,t:255,m:1},{v:1,t:267,m:1,j:212},{v:0,t:335,m:1}]}]}},":":[{c:"Text",p:{y:26,translatableText:"loading","style.fontSize":35,maxWidth:824}},{c:"MovieClip",p:{y:-22,image:"ui/spinner.png",rSpeed:.03,timeline:{l:{},p:.048,d:.81,f:[{n:"scale.y",t:[{v:.66,t:0},{v:.5499999999999999,t:13},{v:.66,t:60,j:0}]},{n:"scale.x",t:[{v:.66,t:0},{v:.55,t:13},{v:.66,t:60,j:0}]}]}}}]}]}]},flytext:{c:"FlyText",p:{name:"flytext",x:513,y:295,text:"qwdqwdqwd","style.fontSize":28,verticalAlign:"center","style.fill":"#ffff00","style.strokeThickness":4,"style.stroke":"#773300"}},logo:{c:"DSprite",p:{name:"logo",x:1,y:61,"scale.x":.666,"scale.y":.666,image:"ui/logo.png"},":":[{c:"MovieClip",p:{timeline:{l:{},p:.02,d:.85,f:[{n:"x",t:[{v:122,t:0,m:1},{v:-30,t:9,m:1},{v:122.9661363162408,t:42,m:1,j:0}]},{n:"y",t:[{v:48,t:0,m:1},{v:-80,t:16,m:1},{v:50.41431393721814,t:35,m:1,j:0}]}]}},":":[{c:"MovieClip",p:{image:"ui/particle.png",timeline:{l:{},p:.06,d:.8,f:[{n:"scale.x",t:[{v:0,t:0},{v:0,t:61,a:"this.parent.stop"},{v:1,t:82},{v:0,t:116,j:0,a:"this.parent.play"}]},{n:"scale.y",t:[{v:0,t:0},{v:0,t:61},{v:1,t:83},{v:0,t:116,j:0}]}]}}}]},{c:"MovieClip",p:{timeline:{l:{},p:.02,d:.85,f:[{n:"x",t:[{v:126,t:0,m:1},{v:-31,t:15,m:1},{v:123,t:30,m:1,j:0}]},{n:"y",t:[{v:77,t:0,m:1},{v:-75,t:10,m:1},{v:82,t:23,m:1,j:0}]}]}},":":[{c:"MovieClip",p:{image:"ui/particle.png",timeline:{l:{},p:.06,d:.8,f:[{n:"scale.x",t:[{v:0,t:0},{v:0,t:61,a:"this.parent.stop"},{v:1,t:82},{v:0,t:108,j:0,a:"this.parent.play"}]},{n:"scale.y",t:[{v:0,t:0},{v:0,t:61},{v:1,t:83},{v:0,t:108,j:0}]}]}}}]},{c:"MovieClip",p:{x:-33,y:-36,image:"ui/particle.png",timeline:{l:{},p:.06,d:.8,f:[{n:"scale.x",t:[{v:0,t:0},{v:0,t:29},{v:1.44,t:49},{v:0,t:136,j:0}]},{n:"scale.y",t:[{v:0,t:0},{v:0,t:29},{v:1.44,t:49},{v:0,t:136,j:0}]}]}}},{c:"MovieClip",p:{x:123,y:-66,image:"ui/particle.png",timeline:{l:{},p:.06,d:.8,f:[{n:"scale.x",t:[{v:0,t:0},{v:0,t:87},{v:1.58,t:112},{v:0,t:186,j:0}]},{n:"scale.y",t:[{v:0,t:0},{v:0,t:87},{v:1.67,t:112},{v:0,t:185,j:0}]}]}}},{c:"Trigger",p:{dataPath:"game.casinoOptions.ui.logo_visible"},":":[{c:"Sprite",p:{x:135,y:37,alpha:.4,"scale.x":.37,"scale.y":.37,image:"ui/b-gaming.png"}}]}]},pin:{c:"DSprite",p:{name:"pin","pivot.x":-1,"pivot.y":-2,image:"ui/pin.png"}},"pin-light":{c:"MovieClip",p:{name:"pin-light",alpha:1,"scale.x":1,"scale.y":1,"pivot.x":1,"pivot.y":2,image:"ui/light.png",timeline:{l:{},p:.02,d:.85,f:[{n:"alpha",t:[{v:1,t:0,m:1},{v:1,t:3,m:1},{v:0,t:14,m:1,a:"this.remove"}]},{n:"scale.x",t:[{v:1,t:0,m:1},{v:1.5,t:14,m:1}]},{n:"scale.y",t:[{v:1,t:0,m:1},{v:1.5,t:14,m:1}]}]}}},"provability-count-text":{c:"Text",p:{name:"provability-count-text",x:640,y:360,text:"100","style.fontSize":30,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"bold"}},"result-list-item":{c:"ListItem",p:{name:"result-list-item",timeline:{l:{remove:69,"no-animation":66},p:.05,d:.74,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:1,t:23,m:1},{v:1,t:67,m:1},{v:0,t:86,m:1,a:"this.remove"}]},{n:"pivot.x",t:[{v:222,t:0},{v:0,t:61},{v:0,t:67,a:"this.stop",m:1},{v:199,t:86,m:1}]}]}},":":[{c:"Sprite",p:{name:"lose-bg",x:447,y:-16,image:"ui/profit-bg.png",tint:7610143},":":[{c:"MoneyLabel",p:{name:"win",x:105,y:15,text:"%d %s","style.fontSize":21,verticalAlign:"center","style.letterSpacing":1,maxWidth:170,dataPath:"this.parent.parent.data.win",refreshInterval:1e5,template:"%d %s",plusMinus:!0,decimalsCount:2,dataPath2:"game.data.currency"}}]},{c:"Sprite",p:{name:"win-bg",x:447,y:-16,image:"ui/profit-bg.png",tint:1069106},":":[{c:"MoneyLabel",p:{name:"win",x:105,y:15,text:"%d %s","style.fontSize":21,verticalAlign:"center","style.letterSpacing":1,maxWidth:171,dataPath:"this.parent.parent.data.win",refreshInterval:1e5,template:"%d %s",plusMinus:!0,decimalsCount:2,dataPath2:"game.data.currency"}}]},{c:"Label",p:{name:"payout",x:397,text:"1235.88×","style.fontSize":21,verticalAlign:"center",maxWidth:80,dataPath:"this.parent.data.payout",refreshInterval:1e5,template:"%d×",isNumeric:!0,decimalsCount:1}},{c:"Label",p:{name:"time",x:113,text:"12:28:03","style.fontSize":21,verticalAlign:"center",dataPath:"this.parent.data.time",refreshInterval:1e5}},{c:"MoneyLabel",p:{name:"bet",x:258,y:-1,text:"123123123123%d %s","style.fontSize":21,verticalAlign:"center","style.letterSpacing":1,maxWidth:180,dataPath:"this.parent.data.bet",refreshInterval:1e5,template:"%d %s",decimalsCount:2,dataPath2:"game.data.currency"}}]},spark:{c:"ParticleSimple",p:{name:"spark",x:640,y:360,image:"ui/spark.png"}},"thing-games-utils/api-message":{c:"Resizer",p:{name:"thing-games-utils/api-message",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"Resizer",p:{resizeX:!0,resizeY:!0},":":[{c:"MovieClip",p:{name:"backdrop","scale.x":192,"scale.y":108,image:"WHITE",tint:40,timeline:{l:{},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:.7,t:7,m:1}]}]}}}]},{c:"MovieClip",p:{name:"main",tint:0,timeline:{l:{},p:.06,d:.73,f:[{n:"scale.x",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]},{n:"scale.y",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]}]}},":":[{c:"Trigger",p:{dataPath:"isMobile.any",invert:!0,pow:1,alphaShift:0,scaleShift:.7,isApplyInteractivity:!1},":":[{c:"NineSlicePlane",p:{x:-300,y:-173,alpha:.9,interactive:!0,image:"ui/panel.png",width:600,height:271,leftWidth:25,rightWidth:25,topHeight:25,bottomHeight:25}},{c:"Text",p:{name:"title",y:-138,alpha:.8,text:"TITLE","style.fontSize":26,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:540}},{c:"MultilineText",p:{name:"message",y:-62,alpha:.7,text:"qw qwe qwe q weq weqwe qweqwe eqwe qwe qwe qwe qwe qwe qw eqw e","style.fontSize":22,verticalAlign:"center","style.fontWeight":"lighter",maxWidthLandscape:540,maxWidthPortrait:540,maxHeightLandscape:130,maxHeightPortrait:130}},{c:"Button",p:{name:"btn",x:-170,y:40,"scale.x":.666666,"scale.y":.666666,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"buttons.ok","style.fontSize":45,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:173}}]},{c:"Button",p:{name:"btn",y:40,"scale.x":.666666,"scale.y":.666666,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"buttons.ok","style.fontSize":45,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:173}}]},{c:"Button",p:{name:"btn",x:170,y:40,"scale.x":.666666,"scale.y":.666666,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"buttons.ok","style.fontSize":45,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:173}}]},{c:"Button",p:{name:"close-btn",x:270,y:-140,image:"ui/close-btn.png",hoverImage:"ui/close-btn-h.png",pressImage:"ui/close-btn-p.png",onClick:"all.popupsLayer.hideAll",hotkey:27,sndClick:"click",sndOver:"over"},":":[{c:"Shape",p:{x:-25,y:-25,alpha:.8,visible:!1,width:50,height:50,isItHitArea:!0}}]}]}]}]},"thing-games-utils/html-popup":{c:"Resizer",p:{name:"thing-games-utils/html-popup",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"Resizer",p:{resizeX:!0,resizeY:!0},":":[{c:"MovieClip",p:{name:"backdrop","scale.x":192,"scale.y":108,timeline:{l:{},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:1,t:7,m:1}]}]}},":":[{c:"Button",p:{name:"easyCloseBtn",alpha:.7000000000000001,"scale.x":.625,"scale.y":.625,image:"WHITE",tint:40,hoverImage:"WHITE",pressImage:"WHITE",disabledImage:"WHITE",onClick:"game.hideModal",hotkey:27,sndClick:"click"}}]}]},{c:"MovieClip",p:{name:"main",tint:0,timeline:{l:{},p:.06,d:.73,f:[{n:"scale.x",t:[{v:0,t:0},{v:1,t:25}]},{n:"scale.y",t:[{v:0,t:0},{v:1,t:25}]}]}},":":[{c:"Resizer",p:{relativeX:!0,xPos:-.5,relativeY:!0,yPos:-.5},":":[{c:"FullscreenPopup",p:{name:"POPUP-SIZER",x:510,y:110,scrollLayerPath:"this.#html",bgNineSlicePlanePath:"this.#bg",scrollBarPath:"this.#scroll-bar",marginLeftRight:30,marginTopBottom:60,containerMargin:50,scrollBarBottomMargin:120,maxWidthDesktop:1e3},":":[{c:"NineSlicePlane",p:{name:"bg",x:-50,y:-50,alpha:.9,interactive:!0,image:"ui/panel.png",width:1e3,height:960,leftWidth:25,rightWidth:25,topHeight:25,bottomHeight:25}},{c:"HTMLOverlay",p:{name:"html",visibleArea:{x:0,y:0,w:900,h:860},fullArea:{x:0,y:0,w:1200,h:3283.8832668486248},className:"casino-modal"}},{c:"ProgressBar",p:{name:"scroll-bar",x:950,y:25,interactive:!0,dataPath:"this.parent.#html.relativeScrollY",height:840,capMargin:30,refreshInterval:0,max:1,step:1e-5},":":[{c:"NineSlicePlane",p:{name:"bg",x:-21,alpha:0,"scale.x":.625,"scale.y":.625,image:"WHITE",width:17.1,height:840}},{c:"Trigger",p:{dataPath:"this.parent.parent.#html.isYScrollAvailable"},":":[{c:"Button",p:{name:"cap",x:-11,y:20,image:"ui/scroller.png",hoverImage:"ui/scroller.png",pressImage:"ui/scroller.png",disabledImage:"ui/scroller.png"}}]},{c:"Trigger",p:{x:-26,y:-47,dataPath:"this.parent.parent.isMobileLandscape",invert:!0,pow:1,alphaShift:0,scaleShift:.5,isApplyInteractivity:!1},":":[{c:"Button",p:{name:"close-btn",x:-4,y:4,image:"ui/close-btn.png",onClick:"game.hideModal",hotkey:27,sndClick:"click",sndOver:"over"},":":[{c:"Shape",p:{x:-37,y:-35,alpha:.31,width:70,height:70,isItHitArea:!0}}]}]}]},{c:"Trigger",p:{name:"ios-safari-fix",dataPath:"game.isLandscapeSafariIos",pow:.12,damp:.75,alphaShift:0,isApplyInteractivity:!1,onEnable:"setValueByPath`this.parent.marginTopBottom,120",onDisable:"setValueByPath`this.parent.marginTopBottom,60"}}]}]}]}]},"thing-games-utils/offer-question":{c:"Resizer",p:{name:"thing-games-utils/offer-question",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"Resizer",p:{resizeX:!0,resizeY:!0},":":[{c:"MovieClip",p:{name:"backdrop","scale.x":192,"scale.y":108,timeline:{l:{},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:1,t:7,m:1}]}]}},":":[{c:"Button",p:{name:"easyCloseBtn",alpha:.7000000000000001,"scale.x":.625,"scale.y":.625,image:"WHITE",tint:40,hoverImage:"WHITE",pressImage:"WHITE",disabledImage:"WHITE",hotkey:27,sndClick:"click",sndOver:"over"}},{c:"Trigger",p:{dataPath:"isMobile.any",pow:1,alphaShift:0,scaleShift:.7,isApplyInteractivity:!1},":":[{c:"OrientationTrigger",p:{landscapeX:-2.5,landscapeScaleY:1.5,landscapeR:-1.57,portraitY:-4,portraitScaleY:1.8},":":[{c:"DSprite",p:{name:"easyCloseDisable",y:4.5,alpha:1e-5,interactive:!0,"scale.x":.625,"scale.y":.065,image:"WHITE",tint:0}}]}]},{c:"Trigger",p:{dataPath:"isMobile.any",invert:!0,pow:1,alphaShift:0,scaleShift:.7,isApplyInteractivity:!1},":":[{c:"DSprite",p:{name:"easyCloseDisable",y:4.5,alpha:1e-5,interactive:!0,"scale.x":.625,"scale.y":.065,image:"WHITE",tint:0}}]}]}]},{c:"MovieClip",p:{name:"main",tint:0,timeline:{l:{},p:.06,d:.73,f:[{n:"scale.x",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]},{n:"scale.y",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]}]}},":":[{c:"Trigger",p:{dataPath:"isMobile.any",invert:!0,pow:1,alphaShift:0,scaleShift:.7,isApplyInteractivity:!1},":":[{c:"NineSlicePlane",p:{x:-257,y:-190,interactive:!0,image:"ui/panel.png",width:514,height:345,leftWidth:25,rightWidth:25,topHeight:25,bottomHeight:25}},{c:"Text",p:{name:"title",y:-110,translatableText:"slot.popups.enable_quick_spin_question","style.fontSize":78,verticalAlign:"center","style.strokeThickness":3,"style.stroke":"#ffffff","style.fontWeight":"lighter",maxWidth:300}},{c:"MultilineText",p:{name:"message",y:-20,translatableText:"slot.popups.enable_quick_spin_description","style.fontSize":30,verticalAlign:"center","style.fill":"#848484","style.fontWeight":"lighter",maxWidthLandscape:380,maxWidthPortrait:380,maxHeightLandscape:130,maxHeightPortrait:130}},{c:"Button",p:{name:"okBtn",x:115,y:80,"scale.x":.9,"scale.y":.9,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"slot.popups.buy_bonus.enable","style.fontSize":45,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:173}}]},{c:"Button",p:{name:"noBtn",x:-115,y:80,"scale.x":.9,"scale.y":.9,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"slot.popups.buy_bonus.no","style.fontSize":45,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:173}}]},{c:"Button",p:{name:"close-btn",x:225,y:-160,image:"ui/close-btn.png",hoverImage:"ui/close-btn-h.png",pressImage:"ui/close-btn-p.png",onClick:"all.popupsLayer.hideAll",hotkey:27,sndClick:"click",sndOver:"over"},":":[{c:"Shape",p:{x:-25,y:-25,alpha:.8,visible:!1,width:50,height:50,isItHitArea:!0}}]}]}]}]},"thing-games-utils/pause-popup":{c:"Resizer",p:{name:"thing-games-utils/pause-popup",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"Resizer",p:{resizeX:!0,resizeY:!0},":":[{c:"MovieClip",p:{name:"backdrop","scale.x":120,"scale.y":67.5,image:"WHITE",tint:0,timeline:{l:{},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:.7,t:7,m:1}]}]}}}]},{c:"MovieClip",p:{name:"main",tint:0,timeline:{l:{},p:.06,d:.73,f:[{n:"scale.x",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]},{n:"scale.y",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]}]}},":":[{c:"Trigger",p:{dataPath:"isMobile.any",invert:!0,pow:1,alphaShift:0,scaleShift:.7,isApplyInteractivity:!1},":":[{c:"NineSlicePlane",p:{x:-300,y:-173,alpha:.9,interactive:!0,image:"ui/panel.png",width:600,height:271,leftWidth:25,rightWidth:25,topHeight:25,bottomHeight:25}},{c:"Text",p:{name:"title",y:-138,alpha:.8,translatableText:"buttons.pause","style.fontSize":26,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:540}},{c:"Button",p:{name:"close-btn",y:40,"scale.x":.666666,"scale.y":.666666,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"buttons.resume","style.fontSize":45,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:174}}]}]}]}]},"thing-games-utils/provability-panel":{c:"ProvabilityPanel",p:{name:"thing-games-utils/provability-panel",pow:.1,damp:.64,xShift:-100},":":[{c:"Trigger",p:{name:"shift-for-spin",dataPath:"this.parent.isHidedForSpin",invert:!0,alphaShift:0,xShift:-130,isApplyInteractivity:!1},":":[{c:"NineSlicePlane",p:{name:"provability-background",interactive:!0,"pivot.x":100,image:"ui/panel.png",width:540,height:1080}},{c:"Container",p:{name:"provability-container",x:220,y:540},":":[{c:"Trigger",p:{name:"orientation-trigger",state:!0,pow:1,alphaShift:0,yShift:160,isApplyInteractivity:!1},":":[{c:"Text",p:{name:"provability-title",y:-419,translatableText:"provability.title","style.fontSize":34,verticalAlign:"center","style.fontWeight":"lighter","style.padding":7,maxWidth:376}}]},{c:"Trigger",p:{name:"orientation-trigger",y:54,state:!0,pow:1,damp:.999,alphaShift:0,xShift:-200,yShift:142,isApplyInteractivity:!1},":":[{c:"Container",p:{name:"next-game-container",y:-309},":":[{c:"Text",p:{y:-110,tint:8684676,translatableText:"provability.next_game","style.fontSize":30,verticalAlign:"center","style.fontWeight":"lighter",textTransform:1,maxWidth:134}},{c:"Text",p:{name:"hash-result-secret-label",y:107,alpha:.5,text:"Hash (Result + Secret)","style.fontSize":17,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:377}},{c:"Button",p:{name:"next-game-hash-btn",y:143,hoverImage:"EMPTY",pressImage:"EMPTY",disabledImage:"EMPTY",sndClick:"click",sndOver:"over"},":":[{c:"NineSlicePlane",p:{x:-189,y:-22,image:"ui/provability/input-gray.png",width:378,height:44,leftWidth:7,rightWidth:52,topHeight:7,bottomHeight:7},":":[{c:"Scissors",p:{rect:{x:0,y:0,w:325,h:41}},":":[{c:"Label",p:{name:"label",x:13,y:13,text:"01234567890123456789012345678901234567890123","style.fontSize":16,"style.align":"left","style.fill":"#000000","style.fontWeight":"lighter"}}]},{c:"Sprite",p:{x:248,y:3,"scale.x":5,"scale.y":.9,image:"ui/provability/input-fade.png"}}]}]},{c:"PrefabReference",p:{name:"provability-seed",prefabName:"ui/game-provability"}}]}]},{c:"Trigger",p:{y:54,dataPath:"this.parent.parent.parent.data.1",pow:.06,damp:.7},":":[{c:"Trigger",p:{name:"orientation-trigger",state:!0,pow:1,damp:.999,yShift:160,isApplyInteractivity:!1},":":[{c:"Sprite",p:{x:-189,y:-116,alpha:.3,"scale.x":23.625,"scale.y":.1875,image:"WHITE"}}]},{c:"Trigger",p:{name:"orientation-trigger",state:!0,pow:1,damp:.999,alphaShift:0,xShift:200,yShift:-198,isApplyInteractivity:!1},":":[{c:"Container",p:{name:"last-game-container",y:13},":":[{c:"Text",p:{y:-93,tint:8684676,translatableText:"provability.last_game","style.fontSize":29,verticalAlign:"center","style.fontWeight":"lighter",textTransform:1,maxWidth:134}},{c:"Text",p:{name:"hash-result-secret-label2",x:67,y:63,alpha:.5,text:"Hash (Result + Secret)","style.fontSize":17,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:271}},{c:"Text",p:{x:-128,y:63,alpha:.5,translatableText:"provability.client_seed","style.fontSize":17,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:175}},{c:"Text",p:{name:"result-secret-label",y:-56,alpha:.5,text:"Result + Secret","style.fontSize":17,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:376}},{c:"Text",p:{y:142,alpha:.5,translatableText:"provability.final_result","style.fontSize":17,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:376}},{c:"Button",p:{name:"last-game-hash-btn",x:26,y:100,hoverImage:"EMPTY",pressImage:"EMPTY",disabledImage:"EMPTY",sndClick:"click",sndOver:"over"},":":[{c:"NineSlicePlane",p:{x:-82,y:-23,image:"ui/provability/input-gray.png",width:245,height:44,leftWidth:7,rightWidth:52,topHeight:7,bottomHeight:7},":":[{c:"Scissors",p:{rect:{x:0,y:0,w:193,h:50}},":":[{c:"Label",p:{name:"label",x:13,y:13,text:"012345678901234567890123456","style.fontSize":16,"style.align":"left","style.fill":"#000000","style.fontWeight":"lighter"}}]},{c:"Sprite",p:{x:115,y:3,"scale.x":5,"scale.y":.9,image:"ui/provability/input-fade.png"}}]}]},{c:"Button",p:{name:"last-game-final-result-btn",y:179,hoverImage:"EMPTY",pressImage:"EMPTY",disabledImage:"EMPTY",sndClick:"click",sndOver:"over"},":":[{c:"NineSlicePlane",p:{x:-189,y:-23,image:"ui/provability/input-yellow.png",width:378,height:80,leftWidth:7,rightWidth:52,topHeight:40,bottomHeight:6},":":[{c:"Scissors",p:{rect:{x:0,y:0,w:329,h:69}},":":[{c:"MultilineText",p:{name:"label",x:13,y:11,text:'{dymbols":["j","a",2{"symbols":["j","a",2{"symbols":["j","a",2{"symbols":["j","a",2{"symbols":["j","a",2{"symbols":["j","a",2{"symbols":["j",',"style.fontSize":16,"style.align":"left","style.fill":"#000000","style.fontWeight":"lighter",maxWidthLandscape:307,maxWidthPortrait:307,breakWords:!0}}]},{c:"Sprite",p:{x:242,y:48,"scale.x":5,"scale.y":.54,image:"ui/provability/input-fade-yellow.png"}}]}]},{c:"Button",p:{name:"last-game-result-btn",x:-107,y:-19,hoverImage:"EMPTY",pressImage:"EMPTY",disabledImage:"EMPTY",sndClick:"click",sndOver:"over"},":":[{c:"NineSlicePlane",p:{x:-82,y:-23,image:"ui/provability/input-gray.png",width:378,height:80,leftWidth:7,rightWidth:52,topHeight:40,bottomHeight:6},":":[{c:"Scissors",p:{rect:{x:0,y:0,w:329,h:66}},":":[{c:"MultilineText",p:{name:"label",x:13,y:11,text:'{dymbols":["j","a",2{"symbols":["j","a",2{"symbols":["j","a",2{"symbols":["j","a",2{"symbols":["j","a",2{"symbols":["j","a",2{"symbols":["j",',"style.fontSize":16,"style.align":"left","style.fill":"#000000","style.fontWeight":"lighter",maxWidthLandscape:307,maxWidthPortrait:307,breakWords:!0}}]},{c:"Sprite",p:{x:242,y:48,"scale.x":5,"scale.y":.54,image:"ui/provability/input-fade.png"}}]}]},{c:"NineSlicePlane",p:{name:"last-game-client-seed",x:-189,y:77,image:"ui/provability/label-gray.png",width:120,height:44,leftWidth:7,rightWidth:7,topHeight:7,bottomHeight:7},":":[{c:"Label",p:{name:"label",x:13,y:13,text:"3454","style.fontSize":16,"style.align":"left","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:100}}]}]}]},{c:"Trigger",p:{name:"orientation-trigger",state:!0,pow:1,damp:.999,alphaShift:0,yShift:-198,isApplyInteractivity:!1},":":[{c:"Trigger",p:{dataPath:"this.parent.parent.parent.parent.parent.isVerified",invert:!0,alphaShift:0,xShift:-105,isApplyInteractivity:!1},":":[{c:"Button",p:{name:"provability-verify",y:300,image:"ui/provability/verify-btn.png",hoverImage:"ui/provability/verify-btn-h.png",onClick:"this.parent.parent.parent.parent.parent.parent.onVerifyClick",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{verticalAlign:"center","style.fontWeight":"lighter"},":":[{c:"Text",p:{translatableText:"provability.verify","style.fontSize":23,verticalAlign:"center","style.fontWeight":"lighter",textTransform:1,maxWidth:149}}]}]}]},{c:"Trigger",p:{dataPath:"this.parent.parent.parent.parent.parent.isVerified"},":":[{c:"Trigger",p:{dataPath:"this.parent.parent.parent.parent.parent.parent.isVerificationSuccess"},":":[{c:"Text",p:{x:95,y:260,translatableText:"provability.messages.successful_verification","style.fontSize":17,"style.fill":"#0edc17","style.fontWeight":"lighter",textTransform:1,maxWidth:185}},{c:"MultilineText",p:{x:95,y:281,translatableText:"provability.messages.success_message","style.fontSize":15,"style.fontWeight":"lighter",maxWidthLandscape:186,maxWidthPortrait:186}}]},{c:"Trigger",p:{dataPath:"this.parent.parent.parent.parent.parent.parent.isVerificationSuccess",invert:!0},":":[{c:"Text",p:{x:95,y:260,translatableText:"provability.messages.failed_verification","style.fontSize":17,"style.fill":"#ff0303","style.fontWeight":"lighter",textTransform:1,maxWidth:185}},{c:"MultilineText",p:{x:95,y:281,translatableText:"provability.messages.error_message","style.fontSize":15,"style.fontWeight":"lighter",maxWidthLandscape:186,maxWidthPortrait:186}}]}]}]}]}]},{c:"Button",p:{name:"provability-close-btn-container",x:440,"pivot.x":32,"pivot.y":-32,image:"ui/close-btn.png",hoverImage:"ui/close-btn-h.png",pressImage:"ui/close-btn-p.png",disabledImage:"EMPTY",onClick:"this.parent.parent.hide",hotkey:27,sndClick:"click",sndOver:"over"}}]}]},"thing-games-utils/provability-seed":{c:"Container",p:{name:"thing-games-utils/provability-seed"},":":[{c:"Container",p:{name:"client-seed-controls","scale.x":.8,"scale.y":.8},":":[{c:"Container",p:{name:"1",x:-200,y:25},":":[{c:"Label",p:{y:-62,alpha:.5,translatableText:"provability.reel_count","style.fontSize":25,verticalAlign:"bottom",maxWidth:94,dataPath:"this.parent.name"}},{c:"NumberInput",p:{name:"clien-seed-input",max:9,textView:"provability-count-text",dataPath:"game.data.provability.clientSeed.0",wrapValue:!0},":":[{c:"Sprite",p:{"pivot.x":30,"pivot.y":22,image:"ui/provability/counter-bg.png"}}]},{c:"Button",p:{name:"provability-seed-decrease",y:40,rotation:-3.141592653589793,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.decrease",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}},{c:"Button",p:{name:"provability-seed-increase",y:-40,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.increase",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}}]},{c:"Container",p:{name:"2",x:-100,y:25},":":[{c:"Label",p:{y:-62,alpha:.5,translatableText:"provability.reel_count","style.fontSize":25,verticalAlign:"bottom",maxWidth:94,dataPath:"this.parent.name"}},{c:"NumberInput",p:{name:"clien-seed-input",max:9,textView:"provability-count-text",dataPath:"game.data.provability.clientSeed.1",wrapValue:!0},":":[{c:"Sprite",p:{"pivot.x":30,"pivot.y":22,image:"ui/provability/counter-bg.png"}}]},{c:"Button",p:{name:"provability-seed-decrease",y:40,rotation:-3.141592653589793,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.decrease",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}},{c:"Button",p:{name:"provability-seed-increase",y:-40,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.increase",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}}]},{c:"Container",p:{name:"3",y:25},":":[{c:"Label",p:{y:-62,alpha:.5,translatableText:"provability.reel_count","style.fontSize":25,verticalAlign:"bottom",maxWidth:94,dataPath:"this.parent.name"}},{c:"NumberInput",p:{name:"clien-seed-input",max:9,textView:"provability-count-text",dataPath:"game.data.provability.clientSeed.2",wrapValue:!0},":":[{c:"Sprite",p:{"pivot.x":30,"pivot.y":22,image:"ui/provability/counter-bg.png"}}]},{c:"Button",p:{name:"provability-seed-decrease",y:40,rotation:-3.141592653589793,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.decrease",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}},{c:"Button",p:{name:"provability-seed-increase",y:-40,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.increase",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}}]},{c:"Container",p:{name:"4",x:100,y:25},":":[{c:"Label",p:{y:-62,alpha:.5,translatableText:"provability.reel_count","style.fontSize":25,verticalAlign:"bottom",maxWidth:94,dataPath:"this.parent.name"}},{c:"NumberInput",p:{name:"clien-seed-input",max:9,textView:"provability-count-text",dataPath:"game.data.provability.clientSeed.3",wrapValue:!0},":":[{c:"Sprite",p:{"pivot.x":30,"pivot.y":22,image:"ui/provability/counter-bg.png"}}]},{c:"Button",p:{name:"provability-seed-decrease",y:40,rotation:-3.141592653589793,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.decrease",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}},{c:"Button",p:{name:"provability-seed-increase",y:-40,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.increase",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}}]},{c:"Container",p:{name:"5",x:200,y:25},":":[{c:"Label",p:{y:-62,alpha:.5,translatableText:"provability.reel_count","style.fontSize":25,verticalAlign:"bottom",maxWidth:94,dataPath:"this.parent.name"}},{c:"NumberInput",p:{name:"clien-seed-input",max:9,textView:"provability-count-text",dataPath:"game.data.provability.clientSeed.4",wrapValue:!0},":":[{c:"Sprite",p:{"pivot.x":30,"pivot.y":22,image:"ui/provability/counter-bg.png"}}]},{c:"Button",p:{name:"provability-seed-decrease",y:40,rotation:-3.141592653589793,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.decrease",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}},{c:"Button",p:{name:"provability-seed-increase",y:-40,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.increase",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}}]}]},{c:"Label",p:{name:"game-provability-tip",y:-70,alpha:.5,translatableText:"provability.enter_client_seed","style.fontSize":22,verticalAlign:"center","style.fontWeight":"lighter","style.leading":4,maxWidth:376,dataPath:"game.data.provability.seedLimits",refreshInterval:1e3}}]},"thing-games-utils/reality-check-popup":{c:"RealityCheckPopup",p:{name:"thing-games-utils/reality-check-popup",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"Resizer",p:{resizeX:!0,resizeY:!0},":":[{c:"MovieClip",p:{name:"backdrop",interactive:!0,"scale.x":120,"scale.y":67.5,image:"WHITE",tint:0,timeline:{l:{close:15},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:.7,t:7,m:1,a:"this.stop"},{v:.7,t:15,m:1},{v:0,t:23,m:1,a:"this.stop"}]}]}}}]},{c:"MovieClip",p:{name:"main",tint:0,timeline:{l:{close:20},p:.06,d:.73,f:[{n:"scale.x",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1,a:"this.stop"},{v:1,t:20},{v:0,t:30,a:"this.parent.hidePopup"}]},{n:"scale.y",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1},{v:1,t:20},{v:0,t:30,a:"this.stop"}]}]}},":":[{c:"Trigger",p:{dataPath:"isMobile.any",invert:!0,pow:1,alphaShift:0,scaleShift:.4,isApplyInteractivity:!1},":":[{c:"Shape",p:{x:-255,y:-380,width:510,height:755,shapeFillColor:5460819}},{c:"Shape",p:{x:-255,y:-380,width:510,height:15,shapeFillColor:10987431}},{c:"Text",p:{y:-292,translatableText:"reality_check.reality_check","style.fontSize":41,verticalAlign:"center",maxWidth:446}},{c:"MultilineText",p:{y:-242,translatableText:"reality_check.description","style.fontSize":23,"style.leading":4,maxWidthLandscape:440}},{c:"Text",p:{x:-221,y:-90,translatableText:"reality_check.session_time","style.fontSize":29,"style.align":"left",verticalAlign:"center",maxWidth:233}},{c:"Label",p:{name:"sessionTimeLable",x:220,y:-90,translatableText:"reality_check.minutes","style.fontSize":29,"style.align":"right",verticalAlign:"center","style.fontWeight":"bold",maxWidth:200,dataPath:"this.parent.parent.parent.sessionTime",isNumeric:!0}},{c:"Shape",p:{x:-221,y:-60,width:440,height:2,shapeFillColor:10987431}},{c:"Text",p:{x:-221,y:-30,translatableText:"reality_check.bets","style.fontSize":29,"style.align":"left",verticalAlign:"center",maxWidth:135}},{c:"MoneyLabel",p:{name:"sessionBetsLable",x:220,y:-30,text:"%d %s","style.fontSize":29,"style.align":"right",verticalAlign:"center","style.fontWeight":"bold",maxWidth:200,dataPath:"this.parent.parent.parent.sessionBets",template:"%d %s",dataPath2:"data.currency",decimalsCountPath:"data.balanceDigitsCount"}},{c:"Shape",p:{x:-221,y:1,width:440,height:2,shapeFillColor:10987431}},{c:"Text",p:{x:-221,y:33,translatableText:"reality_check.win","style.fontSize":29,"style.align":"left",verticalAlign:"center",maxWidth:135}},{c:"MoneyLabel",p:{name:"sessionWonLable",x:220,y:32,text:"%d %s","style.fontSize":29,"style.align":"right",verticalAlign:"center","style.fontWeight":"bold",maxWidth:200,dataPath:"this.parent.parent.parent.sessionWin",template:"%d %s",dataPath2:"data.currency",decimalsCountPath:"data.balanceDigitsCount"}},{c:"Shape",p:{x:-221,y:65,width:440,height:2,shapeFillColor:10987431}},{c:"Text",p:{x:-221,y:94,translatableText:"reality_check.lose","style.fontSize":29,"style.align":"left",verticalAlign:"center",maxWidth:135}},{c:"MoneyLabel",p:{name:"sessionLoseLable",x:220,y:93,text:"%d %s","style.fontSize":29,"style.align":"right",verticalAlign:"center","style.fontWeight":"bold",maxWidth:200,dataPath:"this.parent.parent.parent.sessionLose",template:"%d %s",dataPath2:"data.currency",decimalsCountPath:"data.balanceDigitsCount"}},{c:"Button",p:{name:"rc-close-button",x:217,y:-327,image:"reality-check/rc-popup-close-btn.png",onClick:"this.parent.parent.parent.onContinue",sndClick:"click",sndOver:"over"}},{c:"Trigger",p:{y:-18,dataPath:"casinoOptions.history_url",pow:1,damp:0},":":[{c:"Button",p:{name:"rc-history-button",y:153,onClick:"SharedAPI.openHistory",sndClick:"click",sndOver:"over"},":":[{c:"Shape",p:{x:-220,width:440,height:61,shapeFillColor:10987431}},{c:"Text",p:{y:30,translatableText:"reality_check.view_history","style.fontSize":30,verticalAlign:"center",textTransform:1,maxWidth:420}}]}]},{c:"Button",p:{name:"rc-leave-button",y:215,onClick:"this.parent.parent.parent.onLeaveTheGame",sndClick:"click",sndOver:"over"},":":[{c:"Shape",p:{x:-220,width:440,height:61,shapeFillColor:10987431}},{c:"Text",p:{y:30,translatableText:"reality_check.leave_the_game","style.fontSize":30,verticalAlign:"center",textTransform:1,maxWidth:420}}]},{c:"Button",p:{name:"rc-continue-button",y:291,onClick:"this.parent.parent.parent.onContinue",sndClick:"click",sndOver:"over"},":":[{c:"Shape",p:{x:-220,width:440,height:66}},{c:"Text",p:{y:30,translatableText:"reality_check.continue","style.fontSize":30,verticalAlign:"center",textTransform:1,maxWidth:420}}]}]}]}]},"thing-games-utils/safari-arrow-up":{c:"SafariArrowUp",p:{name:"thing-games-utils/safari-arrow-up"},":":[{c:"Resizer",p:{resizeX:!0,resizeY:!0},":":[{c:"Sprite",p:{alpha:.75,interactive:!0,"scale.x":120,"scale.y":67.5,image:"WHITE",tint:0}}]},{c:"Resizer",p:{"scale.x":1.5,"scale.y":1.5,relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"MovieClip",p:{image:"ui/arrow-up.png",timeline:{l:{},p:.02,d:.85,f:[{n:"y",t:[{v:-35,t:0},{v:-35,t:25},{v:-57,t:36},{v:-57,t:52},{v:-35,t:72,j:0}]}]}}},{c:"MovieClip",p:{x:56,image:"ui/hand.png",timeline:{l:{},p:.012,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:1,t:13,m:1},{v:1,t:45,m:1},{v:0,t:59,m:1},{v:0,t:72,m:1,j:0}]},{n:"scale.y",t:[{v:2,t:0},{v:1,t:14,m:1},{v:1,t:47,m:1},{v:2,t:72,j:0,m:1}]},{n:"scale.x",t:[{v:2,t:0},{v:1,t:14,m:1},{v:1,t:47,m:1},{v:2,t:72,j:0,m:1}]},{n:"y",t:[{v:130,t:0},{v:130,t:1,m:2},{v:130,t:21},{v:-99,t:60},{v:130,t:72,j:0}]}]}}}]}]},"thing-games-utils/snd-mus-button":{c:"ClickOutsideTrigger",p:{name:"thing-games-utils/snd-mus-button",x:-45,y:45,onClickOutside:"this.#volume-show.hide"},":":[{c:"Trigger",p:{name:"volume-show","scale.x":1.3,"scale.y":1.3,pow:.10200000000000002,damp:.749,scaleShift:-.5100000000000003},":":[{c:"NineSlicePlane",p:{x:-141,y:-32,alpha:.96,interactive:!0,"scale.x":.8,"scale.y":.8,image:"ui/panel.png",width:215,height:420,leftWidth:38,rightWidth:38,topHeight:38,bottomHeight:38}},{c:"ProgressBar",p:{x:9,y:241,rotation:-3.141592653589793,interactive:!0,dataPath:"game.Sound.soundsVol",refreshInterval:1,afterSlide:"game.Sound.play`click",max:1,step:.01},":":[{c:"Sprite",p:{name:"bg",x:-22,alpha:.2,"scale.y":1.0101010101010102,image:"ui/bar-mask.png"}},{c:"Fill",p:{name:"bar",x:-22,image:"ui/bar-mask.png"}},{c:"Container",p:{name:"cap",x:14,y:-200}}]},{c:"ProgressBar",p:{x:-69,y:241,rotation:-3.141592653589793,interactive:!0,dataPath:"game.Sound.musicVol",refreshInterval:1,afterSlide:"game.Sound.play`click",max:1,step:.01},":":[{c:"Sprite",p:{name:"bg",x:-22,alpha:.2,"scale.y":1.0101010101010102,image:"ui/bar-mask.png"}},{c:"Fill",p:{name:"bar",x:-22,image:"ui/bar-mask.png"}},{c:"Container",p:{name:"cap",x:14,y:-200}}]},{c:"Trigger",p:{x:-13,y:271,dataPath:"game.Sound.soundEnabled",invert:!0,pow:.06,damp:.8,scaleShift:-.5},":":[{c:"Button",p:{name:"snd toggle btn",hoverImage:"EMPTY",pressImage:"EMPTY",onClick:"game.Sound.toggleSounds",sndClick:"click",sndOver:"over"},":":[{c:"MovieClip",p:{alpha:.6900000000000001,image:"ui/snd-off.png",isPlaying:!1,timeline:{l:{"btn-over":2,"btn-out":53},p:.02,d:.85,f:[{n:"alpha",t:[{v:.6900000000000001,t:0,m:1},{v:1,t:7,m:1,a:"this.stop"},{v:1,t:49,m:1},{v:.7,t:59,m:1,a:"this.stop"}]}]}}}]}]},{c:"Trigger",p:{x:-13,y:271,dataPath:"game.Sound.soundEnabled",pow:.06,damp:.8,scaleShift:-.5},":":[{c:"Button",p:{name:"snd toggle btn",hoverImage:"EMPTY",pressImage:"EMPTY",onClick:"game.Sound.toggleSounds",sndClick:"click",sndOver:"over"},":":[{c:"MovieClip",p:{alpha:.6900000000000001,image:"ui/snd-on.png",isPlaying:!1,timeline:{l:{"btn-over":2,"btn-out":53},p:.02,d:.85,f:[{n:"alpha",t:[{v:.6900000000000001,t:0,m:1},{v:1,t:7,m:1,a:"this.stop"},{v:1,t:49,m:1},{v:.7,t:59,m:1,a:"this.stop"}]}]}}}]}]},{c:"Trigger",p:{x:-91,y:271,dataPath:"game.Sound.musicEnabled",invert:!0,pow:.06,damp:.8,scaleShift:-.5},":":[{c:"Button",p:{name:"snd toggle btn",hoverImage:"EMPTY",pressImage:"EMPTY",onClick:"game.Sound.toggleMusic",sndClick:"click",sndOver:"over"},":":[{c:"MovieClip",p:{alpha:.6900000000000001,image:"ui/mus-off.png",isPlaying:!1,timeline:{l:{"btn-over":2,"btn-out":53},p:.02,d:.85,f:[{n:"alpha",t:[{v:.6900000000000001,t:0,m:1},{v:1,t:7,m:1,a:"this.stop"},{v:1,t:49,m:1},{v:.7,t:59,m:1,a:"this.stop"}]}]}}}]}]},{c:"Trigger",p:{x:-91,y:271,dataPath:"game.Sound.musicEnabled",pow:.06,damp:.8,scaleShift:-.5},":":[{c:"Button",p:{name:"snd toggle btn",hoverImage:"EMPTY",pressImage:"EMPTY",onClick:"game.Sound.toggleMusic",sndClick:"click",sndOver:"over"},":":[{c:"MovieClip",p:{alpha:.6900000000000001,image:"ui/mus-on.png",isPlaying:!1,timeline:{l:{"btn-over":2,"btn-out":53},p:.02,d:.85,f:[{n:"alpha",t:[{v:.6900000000000001,t:0,m:1},{v:1,t:7,m:1,a:"this.stop"},{v:1,t:49,m:1},{v:.7,t:59,m:1,a:"this.stop"}]}]}}}]}]}]},{c:"Button",p:{hoverImage:"EMPTY",pressImage:"EMPTY",disabledImage:"EMPTY",onClick:"all.volume-show.toggle",sndClick:"click",sndOver:"over"},":":[{c:"Trigger",p:{dataPath:"classes.MainMenu.anySoundEnabled",invert:!0,pow:.06,damp:.8,scaleShift:-.5},":":[{c:"MovieClip",p:{image:"ui/snd-b-off.png",isPlaying:!1,timeline:{l:{"btn-over":7,"btn-out":44},p:.02,d:.85,f:[{n:"image",t:[{v:"ui/snd-b-off.png",t:0,m:2},{v:"ui/snd-b-off-h.png",t:8,m:2,a:"this.stop"},{v:"ui/snd-b-off.png",t:45,m:2}]}]}}}]},{c:"Trigger",p:{dataPath:"classes.MainMenu.anySoundEnabled",pow:.06,damp:.8,scaleShift:-.5},":":[{c:"MovieClip",p:{image:"ui/snd-b-on.png",isPlaying:!1,timeline:{l:{"btn-out":44,"btn-over":7},p:.02,d:.85,f:[{n:"image",t:[{v:"ui/snd-b-on.png",t:0,m:2},{v:"ui/snd-b-on-h.png",t:8,m:2,a:"this.stop"},{v:"ui/snd-b-on.png",t:45,m:2}]}]}}}]},{c:"Shape",p:{name:"hit-area",x:-66,y:-56,alpha:.46,width:121,height:119,isItHitArea:!0}}]}]},"thing-games-utils/sure-question":{c:"Resizer",p:{name:"thing-games-utils/sure-question",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"Resizer",p:{resizeX:!0,resizeY:!0},":":[{c:"MovieClip",p:{name:"backdrop","scale.x":192,"scale.y":108,timeline:{l:{},p:.02,d:.85,f:[{n:"alpha",t:[{v:.01,t:0,m:1},{v:1,t:7,m:1}]}]}},":":[{c:"Button",p:{name:"easyCloseBtn",alpha:.7000000000000001,interactive:!1,"scale.x":.625,"scale.y":.625,image:"WHITE",tint:40,hoverImage:"WHITE",pressImage:"WHITE",disabledImage:"WHITE",hotkey:27,sndClick:"click",sndOver:"over"}}]}]},{c:"MovieClip",p:{name:"main",tint:0,timeline:{l:{},p:.06,d:.73,f:[{n:"scale.x",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]},{n:"scale.y",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]}]}},":":[{c:"Trigger",p:{dataPath:"isMobile.any",invert:!0,pow:1,alphaShift:0,scaleShift:.7,isApplyInteractivity:!1},":":[{c:"NineSlicePlane",p:{x:-200,y:-173,interactive:!0,image:"ui/panel.png",width:400,height:271,leftWidth:25,rightWidth:25,topHeight:25,bottomHeight:25}},{c:"Text",p:{name:"title",y:-138,alpha:.8,text:"TITLE","style.fontSize":26,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:250}},{c:"MultilineText",p:{name:"message",y:-62,alpha:.7,text:"qw qwe qwe q weq weqwe qweqwe eqwe qwe qwe qwe qwe qwe qw eqw e","style.fontSize":22,verticalAlign:"center","style.fontWeight":"lighter",maxWidthLandscape:340,maxWidthPortrait:340,maxHeightLandscape:130,maxHeightPortrait:130}},{c:"Button",p:{name:"okBtn",x:100,y:40,"scale.x":.666666,"scale.y":.666666,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"buttons.ok","style.fontSize":45,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:173}}]},{c:"Button",p:{name:"noBtn",x:-100,y:40,"scale.x":.666666,"scale.y":.666666,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",text:"--","style.fontSize":45,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:173}}]},{c:"Sprite",p:{name:"alert-icon",x:-197,y:-182,image:"ui/alert-icon.png"}}]}]}]},"thing-games-utils/sure-question700":{c:"Resizer",p:{name:"thing-games-utils/sure-question700",relativeX:!0,xPos:.5,relativeY:!0,yPos:.5},":":[{c:"Resizer",p:{resizeX:!0,resizeY:!0},":":[{c:"MovieClip",p:{name:"backdrop","scale.x":192,"scale.y":108,image:"WHITE",tint:40,timeline:{l:{},p:.02,d:.85,f:[{n:"alpha",t:[{v:0,t:0,m:1},{v:.7,t:7,m:1}]}]}}}]},{c:"MovieClip",p:{name:"main",tint:0,timeline:{l:{},p:.06,d:.73,f:[{n:"scale.x",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]},{n:"scale.y",t:[{v:0,t:0},{v:1,t:12},{v:1,t:16,m:1}]}]}},":":[{c:"Trigger",p:{dataPath:"isMobile.any",invert:!0,pow:1,alphaShift:0,scaleShift:.7,isApplyInteractivity:!1},":":[{c:"NineSlicePlane",p:{x:-300,y:-173,alpha:.9,interactive:!0,image:"ui/panel.png",width:600,height:271,leftWidth:25,rightWidth:25,topHeight:25,bottomHeight:25}},{c:"Text",p:{name:"title",y:-138,alpha:.8,text:"TITLE","style.fontSize":26,verticalAlign:"center","style.fontWeight":"lighter",maxWidth:540}},{c:"MultilineText",p:{name:"message",y:-62,alpha:.7,text:"qw qwe qwe q weq weqwe qweqwe eqwe qwe qwe qwe qwe qwe qw eqw e","style.fontSize":22,verticalAlign:"center","style.fontWeight":"lighter",maxWidthLandscape:540,maxWidthPortrait:540,maxHeightLandscape:130,maxHeightPortrait:130}},{c:"Button",p:{name:"btn",x:-170,y:40,"scale.x":.666666,"scale.y":.666666,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"buttons.ok","style.fontSize":45,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:173}}]},{c:"Button",p:{name:"btn",y:40,"scale.x":.666666,"scale.y":.666666,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"buttons.ok","style.fontSize":45,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:173}}]},{c:"Button",p:{name:"btn",x:170,y:40,"scale.x":.666666,"scale.y":.666666,image:"ui/btn-long.png",hoverImage:"ui/btn-long-h.png",pressImage:"ui/btn-long.png",disabledImage:"ui/btn-long.png",sndClick:"click",sndOver:"over"},":":[{c:"Text",p:{name:"label",translatableText:"buttons.ok","style.fontSize":45,verticalAlign:"center","style.fill":"#000000","style.fontWeight":"lighter",maxWidth:173}}]}]}]}]},"ui/game-provability":{c:"Container",p:{name:"ui/game-provability"},":":[{c:"Container",p:{name:"client-seed-controls"},":":[{c:"Container",p:{},":":[{c:"NumberInput",p:{name:"clien-seed-input",y:35,max:16,textView:"provability-count-text",dataPath:"game.data.provability.clientSeed.0",wrapValue:!0},":":[{c:"Sprite",p:{"pivot.x":30,"pivot.y":22,image:"ui/provability/counter-bg.png"}}]},{c:"Button",p:{x:-43,y:35,rotation:-1.5707963267948966,"scale.x":.72,"scale.y":.72,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.decrease",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}},{c:"Button",p:{x:43,y:35,rotation:1.5707963267948966,"scale.x":.72,"scale.y":.72,image:"ui/provability/counter-btn.png",hoverImage:"ui/provability/counter-btn-h.png",disabledImage:"ui/provability/counter-btn-d.png",onClick:"this.parent.#clien-seed-input.increase",sndClick:"click",sndOver:"over",repeatDelay:21,repeatInterval:7}}]}]},{c:"Label",p:{name:"game-provability-tip",y:-26,translatableText:"plinko.provability","style.fontSize":20,verticalAlign:"center","style.leading":4,maxWidth:376,dataPath:"game.data.provability.seedLimits",refreshInterval:1e3}}]},"ui/html-popup":{c:"PrefabReference",p:{name:"ui/html-popup",prefabName:"thing-games-utils/html-popup"}},"ui/sure-question":{c:"PrefabReference",p:{name:"ui/sure-question",prefabName:"thing-games-utils/sure-question"}},"ui/ui-panel":{c:"Container",p:{name:"ui/ui-panel"},":":[{c:"Resizer",p:{name:"top-middle",relativeX:!0,xPos:.5},":":[{c:"OrientationTrigger",p:{landscapeY:70,portraitX:60,portraitY:71,portraitAlpha:0},":":[{c:"Sprite",p:{x:-60,y:2,"scale.x":.5,"scale.y":.5,"pivot.x":204,"pivot.y":118,image:"ui/logo.png"},":":[{c:"Trigger",p:{dataPath:"game.casinoOptions.ui.logo_visible",isApplyInteractivity:!1},":":[{c:"Sprite",p:{x:180,y:176,alpha:.4,"scale.x":.5,"scale.y":.5,image:"ui/b-gaming.png"}}]}]}]}]},{c:"Trigger",p:{name:"ios-safari-fix",dataPath:"game.isLandscapeSafariIos",invert:!0,pow:1,alphaShift:0,yShift:80,isApplyInteractivity:!1},":":[{c:"Trigger",p:{x:44,y:44,dataPath:"game.casinoOptions.ui.home_button",pow:1},":":[{c:"Button",p:{image:"ui/home.png",hoverImage:"ui/home-h.png",pressImage:"ui/home.png",disabledImage:"ui/home.png",onClick:"SharedAPI.gotoHome",sndClick:"click",sndOver:"over"}},{c:"Label",p:{name:"time-label",x:62,y:-3,text:"15:46","style.fontSize":22,"style.align":"left",verticalAlign:"center","style.letterSpacing":1,dataPath:"game.currentScene.currentTime",refreshInterval:120,counterSpeed:.259,decimalsCount:2}}]},{c:"Resizer",p:{name:"right-top",relativeX:!0,xPos:1,relativeY:!0},":":[{c:"Button",p:{x:-134,y:44,image:"ui/help-btn.png",hoverImage:"ui/help-btn-h.png",pressImage:"ui/help-btn.png",disabledImage:"EMPTY",onClick:"game.currentScene.showRules",sndClick:"click",sndOver:"over"}},{c:"Trigger",p:{dataPath:"all.provability-panel.data"},":":[{c:"Trigger",p:{x:-90,dataPath:"casinoOptions.history_url",pow:1,damp:0,alphaShift:0,xShift:90,isApplyInteractivity:!1},":":[{c:"Button",p:{name:"provability-btn",x:-224,y:44,image:"ui/provability/provability-btn.png",hoverImage:"ui/provability/provability-btn-h.png",pressImage:"ui/provability/provability-btn.png",disabledImage:"EMPTY",onClick:"all.provability-panel.toggle",sndClick:"click",sndOver:"over"}}]}]},{c:"Trigger",p:{dataPath:"casinoOptions.history_url",pow:1,damp:0},":":[{c:"Button",p:{name:"provability-btn",x:-224,y:44,image:"ui/history-btn.png",hoverImage:"ui/history-btn-h.png",pressImage:"ui/history-btn.png",disabledImage:"EMPTY",onClick:"SharedAPI.openHistory",sndClick:"click",sndOver:"over"}}]},{c:"PrefabReference",p:{x:-44,y:44,prefabName:"thing-games-utils/snd-mus-button"}}]}]},{c:"PrefabReference",p:{name:"provability-panel",y:5684341886080802e-29,prefabName:"thing-games-utils/provability-panel"}}]}},images:{"ui/provability/counter-bg.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/provability/counter-btn-d.png":{e:".png_90_90.webp",f_e:".f.png_80_90.png"},"ui/provability/counter-btn-h.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/provability/counter-btn.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/provability/input-fade-yellow.png":{e:".png_80_90.png"},"ui/provability/input-fade.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/provability/input-gray.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/provability/input-yellow.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/provability/label-gray.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/provability/verify-btn-h.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/provability/verify-btn.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"WHITE_FOR_CANVAS.jpg":{e:".jpg_100_100.webp",f_e:".f.jpg"},"distortion_map.png":{e:".png_100_100.webp",f_e:".f.png"},"reality-check/rc-popup-close-btn.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"round_gradient.png":{e:".png_100_100.webp",f_e:".f.png_80_90.png"},"ui/alert-icon.png":{e:".png_80_90.png"},"ui/arrow-up.png":{e:".png_80_80.webp",f_e:".f.png_80_90.png"},"ui/b-gaming.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/bar-mask.png":{e:".png_100_100.webp",f_e:".f.png_80_90.png"},"ui/close-btn-h.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/close-btn-p.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/close-btn.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/hand.png":{e:".png_80_90.png"},"ui/mus-off.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/mus-on.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/panel.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/scroller.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/snd-off.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/snd-on.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/spinner.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/tooltip.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"bg/bg-flowers.png":{e:".png_80_90.png"},"ui/arrow-tabl-left.png":{e:".png_80_80.webp",f_e:".f.png_80_90.png"},"ui/auto-icon.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/btn-long-h.png":{e:".png_80_80.webp",f_e:".f.png_80_90.png"},"ui/btn-long.png":{e:".png_80_80.webp",f_e:".f.png_80_90.png"},"ui/close.png":{e:".png_100_100.webp",f_e:".f.png_80_90.png"},"ui/fullscreen.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/help-btn-h.png":{e:".png_80_90.png"},"ui/help-btn.png":{e:".png_80_90.png"},"ui/history-btn-h.png":{e:".png_80_90.png"},"ui/history-btn.png":{e:".png_80_90.png"},"ui/home-h.png":{e:".png_80_90.png"},"ui/home.png":{e:".png_80_90.png"},"ui/lvl-high-icon.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/lvl-low-icon.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/lvl-mid-icon.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/manual-icon.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/particle.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/provability/provability-btn-h.png":{e:".png_80_90.png"},"ui/provability/provability-btn.png":{e:".png_80_90.png"},"ui/snd-b-off-h.png":{e:".png_80_90.png"},"ui/snd-b-off.png":{e:".png_80_90.png"},"ui/snd-b-on-h.png":{e:".png_80_90.png"},"ui/snd-b-on.png":{e:".png_80_90.png"},"ui/star.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/stars-pattern.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/target-overlay.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/target.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/win-panel.png":{e:".png_80_90.png"},"bg/bg-ui.png":{e:".png_80_90.png"},"bg/bg.jpg":{e:".jpg_80_80.webp",f_e:".f.jpg"},"ui/ball.png":{e:".png_90_90.webp",f_e:".f.png_80_90.png"},"ui/bet-btn-h.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/bet-btn.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/counter-bg.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/counter-btn-h.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/counter-btn.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/hole.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/light.png":{e:".png_80_90.png"},"ui/line.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/logo.png":{e:".png_80_90.png"},"ui/panel-ui.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/pin.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/play-btn-h.png":{e:".png_80_80.webp",f_e:".f.png_80_90.png"},"ui/play-btn.png":{e:".png_80_80.webp",f_e:".f.png_80_90.png"},"ui/profit-bg.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/select-btn-d.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/select-btn-h.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/select-btn.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/small-btn-d.png":{e:".png_100.webp",f_e:".f.png_80_90.png"},"ui/small-btn.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/spark.png":{e:".png_100.webp",f_e:".f.png_90_100.png"},"ui/tooltip-pointer.png":{e:".png_100.webp",f_e:".f.png_80_90.png"}},resources:{},sounds:{"ball2/2":["ball2/2.ogg","ball2/2.aac",.320862],big_win:["big_win.ogg","big_win.aac",.56449],click:["click.ogg","click.aac"],"mus/bg":["mus/bg.ogg","mus/bg.aac",99.548367],over:["over.ogg","over.aac"],play:["play.ogg","play.aac",.771338],win_sound:["win_sound.ogg","win_sound.aac",.469093]},projectDesc:{mainScene:"root",renderResolution:2,renderResolutionMobile:1,dynamicStageSize:!0,preventUpscale:!1,screenOrientation:"auto",defaultFont:"'Roboto', Arial",soundFormats:["ogg","aac"],width:1920,height:1080,portraitWidth:607,portraitHeight:1080,webfontloader:{google:{families:["Roboto:400,700:cyrillic"]},timeout:6e3},loadOnDemandSounds:{},muteOnFocusLost:!0,version:"0.0.1",framesSkipLimit:10,embedLocales:!1,loadOnDemandTextures:{"ui/stars-pattern.png":8},autoFullscreenDesktop:!1,autoFullscreenMobile:!0,soundDefaultBitrate:64,soundBitrates:{},defaultLanguage:"en",fontHolderText:"ЯSфz",mipmap:!1,defaultMusVol:1,defaultSoundsVol:1,keepSoundWhilePageUpdate:!1,slotPhrasesPrefix:"phrases.",jpgQuality:95,pngQuality:[.95,1],title:"plinko",id:"plinko-xy.softswiss.com",icon:"img/ui/logo.png",assetsDelimiter:"	",libs:["thing-games-utils/common","thing-games-utils/provability","../shared"]},resourceImages:{}}},5410:(ye,le,d)=>{var B=d(5045),h=d(5446),P=d(6109),W=d(6794),z=d(3237);class M{init(o,Z,$,pe){this.target=o,this.fieldName=Z.n,this.timeline=Z.t,this.pow=$,this.damper=pe,this.reset()}reset(){this.time=0,this.currentFrame=this.timeline[0],this.currentFrame.hasOwnProperty("r")&&(this.time+=Math.round(Math.random()*this.currentFrame.r)),this.val=this.currentFrame.v,this.targetVal=this.val,this.speed=0,this.target[this.fieldName]=this.val}goto(o,Z){if(this.time=o,this.currentFrame=Z,Z.m===1){var $=Z.t-this.time;this.speed=$>0?(Z.v-this.val)/$:0}else Z.m===2&&(this.speed=0)}update(){var o=this.currentFrame;if(this.time===o.t){var Z;if(o.hasOwnProperty("a")&&(Z=o.a),o.m!==1&&o.m!==2||(this.val=o.v),this.time=o.j,o.hasOwnProperty("r")&&(this.time+=Math.round(Math.random()*o.r)),o.m===0&&(this.speed+=(o.v-this.val)*this.pow,this.val+=this.speed,this.speed*=this.damper),o.hasOwnProperty("s")&&(this.speed=o.s),this.currentFrame=o=o.n,o.m===1){var $=o.t-this.time;this.speed=$>0?(o.v-this.val)/$:0}Z&&(0,z.Z)(Z,this.target)}else o.m===0?(this.speed+=(o.v-this.val)*this.pow,this.val+=this.speed,this.speed*=this.damper):o.m===1?this.val+=this.speed:o.m===3?(this.speed+=o.g,this.val+=this.speed,this.val>=o.v&&(this.val=o.v,this.speed*=-o.b)):o.m===4&&(this.speed-=o.g,this.val+=this.speed,this.val<=o.v&&(this.val=o.v,this.speed*=-o.b));this.time++,this.target[this.fieldName]=this.val}}var R=d(1746),F=d(6899);class Y extends P.Z{constructor(){super(),this.fieldPlayers=[]}update(){if(this.isPlaying)if(this.delay>0)this.delay--;else{if(this._goToLabelNextFrame){var o=this._timelineData.l[this._goToLabelNextFrame];this._goToLabelNextFrame=!1;for(var Z=this.fieldPlayers.length,$=0;$<Z;$++)this.fieldPlayers[$].goto(o.t,o.n[$])}for(var pe of this.fieldPlayers)pe.update()}super.update()}static _findNextKeyframe(o,Z){var $;for(var pe of o){if(pe.t>Z)return pe;$=pe}return $}static _findPreviousKeyframe(o,Z){var $;for(var pe of o){if(pe.t>Z)return $;$=pe}return $}static _deserializeTimelineData(o){var Z=o.f.map(Re=>{var Me=Re.t.map(nt=>{var Xe=Object.assign({},nt);return Xe.hasOwnProperty("j")||(Xe.j=Xe.t),Xe.hasOwnProperty("m")||(Xe.m=0),Xe});for(var Ye of Me)Ye.n=Y._findNextKeyframe(Me,Ye.j);return{n:Re.n,t:Me}}),$={},pe=function(Re){var Me=o.l[Re],Ye=Z.map(nt=>Y._findNextKeyframe(nt.t,Me-1));$[Re]={t:Me,n:Ye}};for(var ve in o.l)pe(ve);return{l:$,p:o.p,d:o.d,f:Z}}_disposePlayers(){for(;this.fieldPlayers.length>0;)W.Z.dispose(this.fieldPlayers.pop())}set timeline(o){if(this._goToLabelNextFrame=!1,this._disposePlayers(),o!==null){if(S.has(o))o=S.get(o);else{var Z=Y._deserializeTimelineData(o);S.set(o,Z),o=Z}this._timelineData=o;for(var $=o.p,pe=o.d,ve=o.f,Re=0;Re<ve.length;Re++){var Me=W.Z.create(M);Me.init(this,ve[Re],$,pe),this.fieldPlayers.push(Me)}}else this._timelineData=null}resetTimeline(){for(var o of this.fieldPlayers)o.reset()}hasLabel(o){return this._timelineData.l.hasOwnProperty(o)}gotoLabel(o){this._goToLabelNextFrame=o,this.play()}gotoRandomLabel(){var o=arguments[Math.floor(Math.random()*arguments.length)];o&&this.gotoLabel(o)}gotoLabelIf(o,Z,$){!(0,R.Z)(Z,this)!=!$&&this.gotoLabel(o)}play(){this.isPlaying=!0}stop(){this.isPlaying=!1}playRecursive(){for(var o of(this.isPlaying=!0,this.findChildrenByType(Y)))o.isPlaying=!0}stopRecursive(){for(var o of(this.isPlaying=!1,this.findChildrenByType(Y)))o.isPlaying=!1}}var S=new WeakMap;F.Z.prototype.gotoLabelRecursive=function(g){for(var o of(this instanceof Y&&this.hasLabel(g)&&(this.delay=0,this.gotoLabel(g)),this.children))o.gotoLabelRecursive(g)};var v=d(6107),n=new v.Point,a=new v.Point,u=new v.Point;class p extends Y{init(){super.init(),this.applySize()}set image(o){super.image=o,this.applySize()}get image(){return super.image}applySize(){if(this.texture!==v.Texture.EMPTY){var o=this.texture.frame;this.pivot.x=0,this.pivot.y=0,a.x=0,a.y=0;var Z=h.Z.stage;this.toLocal(a,Z,n),o.x=Math.max(0,Math.floor(this.texture.baseTexture.width/2+n.x)),o.y=Math.max(0,Math.floor(this.texture.baseTexture.height/2+n.y)),a.x=h.Z.W,a.y=h.Z.H,this.toLocal(a,Z,u),o.width=Math.min(this.texture.baseTexture.width,Math.ceil(u.x)+this.texture.baseTexture.width/2)-o.x,o.height=Math.min(this.texture.baseTexture.height,Math.ceil(u.y)+this.texture.baseTexture.height/2)-o.y,this.pivot.x=(this.texture.baseTexture.width-o.width)/2-o.x,this.pivot.y=(this.texture.baseTexture.height-o.height)/2-o.y,1&o.width&&(o.right===this.texture.baseTexture.width&&(o.x--,this.pivot.x+=.5),o.width++),1&o.height&&(o.bottom===this.texture.baseTexture.height&&(o.y--,this.pivot.y+=.5),o.height++),this.texture.updateUvs()}}_onRenderResize(){this.applySize()}static recalculateAllBGCropping(){for(var o of h.Z.stage.findChildrenByType(p))o.applySize()}}var w=d(7049),N=16,k=17,C=6,c=1,x=.8,X=3,D=0,G=0;class O extends P.Z{init(){super.init(),this.path=null,this.alpha=0,this.appearingPhase=0,D++,this.ballId=D}static getBallSize(o,Z){return(o-2*(Z*=X)-C)/2/N}setPinsDistance(o,Z,$){this.table=$;var pe=O.getBallSize(o,Z);this.ballSize=pe,this.scale.x=this.scale.y=pe;var ve=N*pe;this.pinToBallCollizionRadius=Z*X+ve,this.pinToBallCollizionRadiusQ=this.pinToBallCollizionRadius*this.pinToBallCollizionRadius}update(){super.update(),this.appearingPhase<1?(this.appearingPhase+=.03,this.appearingPhase>1&&(this.appearingPhase=1),this.alpha=this.appearingPhase,this.scale.x=this.scale.y=this.ballSize*(.5+.5*this.appearingPhase),this.y=(k-N)*this.scale.x):this.path&&this.processBallLogic()}processBallLogic(){if(this.keepBallInServerPath(),this.processPinCollisions(),this.y>this.table.targets[0].y){var o,Z=1e5,$=this.path[this.path.length-1],pe=($.min+$.max)/2;for(var ve of this.table.targets){var Re=Math.abs(pe-ve.x);Re<Z&&(Z=Re,o=ve)}o.gotoLabelRecursive("ball-touch"),o.findChildByName("spawner").spawn(),this._playBallSound(1,this.finalPitch);var Me=this.table;this.remove();var Ye=Me.findChildrenByType(O).length;h.Z.currentScene.onBallFinish(this.rollResult,Ye,this.ballId)}}keepBallInServerPath(){if(this.path){var o,Z=0;for(var $ of this.table.lines){if($.y>this.y){o=this.path[Z];break}Z++}o=o||this.path[this.path.length-1],this.x<o.min?(this.xSpeed=0,this.x=o.min):this.x>o.max&&(this.xSpeed=0,this.x=o.max)}}_playBallSound(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.ballId>=G&&(G=this.ballId),this.ballId>=G-1&&(this.ballId===G-1&&(o/=2),w.Z.play("ball2/2",o,1,0,!0))}processPinCollisions(){var o=1;for(var Z of this.table.lines){var $=Z.y-this.y;if(Math.abs($)<this.pinToBallCollizionRadius)for(var pe of Z.children){var ve=pe.x-this.x;if(Math.abs(ve)<this.pinToBallCollizionRadius){var Re=ve*ve+$*$;if(Re<this.pinToBallCollizionRadiusQ){var Me=Math.atan2($,ve),Ye=Math.atan2(this.ySpeed,this.xSpeed),nt=Me-Ye,Xe=Ye+nt,At=Math.sqrt(this.xSpeed*this.xSpeed+this.ySpeed*this.ySpeed);At>5&&pe.addChild(B.Z.loadPrefab("pin-light")),At>1&&this._playBallSound(.07*At,o);var dt=Math.sqrt(Re),_t=this.pinToBallCollizionRadius-dt;_t>0&&(At-=Math.min(c,_t));var qt=At*(1-Math.max(0,Math.abs(Math.cos(nt)))*(1-x));this.xSpeed=-Math.cos(Xe)*qt,this.ySpeed=-Math.sin(Xe)*qt;var $t=Math.cos(Me),Ni=Math.sin(Me);if(this.x=pe.x-$t*this.pinToBallCollizionRadius,this.y=Z.y-Ni*this.pinToBallCollizionRadius,Z.y>this.y)return this.ySpeed+=$t*$t*c,void(this.xSpeed-=Ni*$t*c)}return void(this.ySpeed+=c)}}o*=1.0594}this.ySpeed+=c,this.finalPitch=o}setBallData(o){this.findChildByName("particles-spawner").enable(),this.rollResult=o;var Z=1;this.path=o.game.outcome.map(($,pe)=>{var ve,Re=this.table.lines[pe];return ve=$?{min:Re.children[Z].x+.2+Math.random(),max:Re.children[Z+1].x-.2-Math.random()}:{max:Re.children[Z].x-.2-Math.random(),min:Re.children[Z-1].x+.2+Math.random()},Z+=$?1:0,ve})}}var E,J,q,K=d(9042),A=d(4526),T=d(4942),y=d(38),L=d(1088);function j(g){return g.type===J.literal}function Q(g){return g.type===J.argument}function ee(g){return g.type===J.number}function ne(g){return g.type===J.date}function be(g){return g.type===J.time}function Ie(g){return g.type===J.select}function Ce(g){return g.type===J.plural}function he(g){return g.type===J.pound}function b(g){return g.type===J.tag}function U(g){return!(!g||typeof g!="object"||g.type!==q.number)}function V(g){return!(!g||typeof g!="object"||g.type!==q.dateTime)}(function(g){g[g.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",g[g.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",g[g.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",g[g.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",g[g.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",g[g.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",g[g.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",g[g.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",g[g.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",g[g.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",g[g.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",g[g.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",g[g.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",g[g.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",g[g.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",g[g.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",g[g.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",g[g.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",g[g.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",g[g.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",g[g.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",g[g.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",g[g.INVALID_TAG=23]="INVALID_TAG",g[g.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",g[g.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",g[g.UNCLOSED_TAG=27]="UNCLOSED_TAG"})(E||(E={})),function(g){g[g.literal=0]="literal",g[g.argument=1]="argument",g[g.number=2]="number",g[g.date=3]="date",g[g.time=4]="time",g[g.select=5]="select",g[g.plural=6]="plural",g[g.pound=7]="pound",g[g.tag=8]="tag"}(J||(J={})),function(g){g[g.number=0]="number",g[g.dateTime=1]="dateTime"}(q||(q={}));var te=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,re=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function ae(g){var o={};return g.replace(re,function(Z){var $=Z.length;switch(Z[0]){case"G":o.era=$===4?"long":$===5?"narrow":"short";break;case"y":o.year=$===2?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":o.month=["numeric","2-digit","short","long","narrow"][$-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":o.day=["numeric","2-digit"][$-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":o.weekday=$===4?"short":$===5?"narrow":"short";break;case"e":if($<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");o.weekday=["short","long","narrow","short"][$-4];break;case"c":if($<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");o.weekday=["short","long","narrow","short"][$-4];break;case"a":o.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":o.hourCycle="h12",o.hour=["numeric","2-digit"][$-1];break;case"H":o.hourCycle="h23",o.hour=["numeric","2-digit"][$-1];break;case"K":o.hourCycle="h11",o.hour=["numeric","2-digit"][$-1];break;case"k":o.hourCycle="h24",o.hour=["numeric","2-digit"][$-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":o.minute=["numeric","2-digit"][$-1];break;case"s":o.second=["numeric","2-digit"][$-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":o.timeZoneName=$<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""}),o}var _e=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;function Oe(g){if(g.length===0)throw new Error("Number skeleton cannot be empty");for(var o=g.split(_e).filter(function(Xe){return Xe.length>0}),Z=[],$=0,pe=o;$<pe.length;$++){var ve=pe[$].split("/");if(ve.length===0)throw new Error("Invalid number skeleton");for(var Re=ve[0],Me=ve.slice(1),Ye=0,nt=Me;Ye<nt.length;Ye++)if(nt[Ye].length===0)throw new Error("Invalid number skeleton");Z.push({stem:Re,options:Me})}return Z}function de(g){return g.replace(/^(.*?)-/,"")}var ge,Ae=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,xe=/^(@+)?(\+|#+)?[rs]?$/g,Be=/(\*)(0+)|(#+)(0+)|(0+)/g,We=/^(0+)$/;function qe(g){var o={};return g[g.length-1]==="r"?o.roundingPriority="morePrecision":g[g.length-1]==="s"&&(o.roundingPriority="lessPrecision"),g.replace(xe,function(Z,$,pe){return typeof pe!="string"?(o.minimumSignificantDigits=$.length,o.maximumSignificantDigits=$.length):pe==="+"?o.minimumSignificantDigits=$.length:$[0]==="#"?o.maximumSignificantDigits=$.length:(o.minimumSignificantDigits=$.length,o.maximumSignificantDigits=$.length+(typeof pe=="string"?pe.length:0)),""}),o}function tt(g){switch(g){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function vt(g){var o;if(g[0]==="E"&&g[1]==="E"?(o={notation:"engineering"},g=g.slice(2)):g[0]==="E"&&(o={notation:"scientific"},g=g.slice(1)),o){var Z=g.slice(0,2);if(Z==="+!"?(o.signDisplay="always",g=g.slice(2)):Z==="+?"&&(o.signDisplay="exceptZero",g=g.slice(2)),!We.test(g))throw new Error("Malformed concise eng/scientific notation");o.minimumIntegerDigits=g.length}return o}function yt(g){var o={},Z=tt(g);return Z||o}function rt(g){for(var o={},Z=0,$=g;Z<$.length;Z++){var pe=$[Z];switch(pe.stem){case"percent":case"%":o.style="percent";continue;case"%x100":o.style="percent",o.scale=100;continue;case"currency":o.style="currency",o.currency=pe.options[0];continue;case"group-off":case",_":o.useGrouping=!1;continue;case"precision-integer":case".":o.maximumFractionDigits=0;continue;case"measure-unit":case"unit":o.style="unit",o.unit=de(pe.options[0]);continue;case"compact-short":case"K":o.notation="compact",o.compactDisplay="short";continue;case"compact-long":case"KK":o.notation="compact",o.compactDisplay="long";continue;case"scientific":o=(0,L.__assign)((0,L.__assign)((0,L.__assign)({},o),{notation:"scientific"}),pe.options.reduce(function(Ye,nt){return(0,L.__assign)((0,L.__assign)({},Ye),yt(nt))},{}));continue;case"engineering":o=(0,L.__assign)((0,L.__assign)((0,L.__assign)({},o),{notation:"engineering"}),pe.options.reduce(function(Ye,nt){return(0,L.__assign)((0,L.__assign)({},Ye),yt(nt))},{}));continue;case"notation-simple":o.notation="standard";continue;case"unit-width-narrow":o.currencyDisplay="narrowSymbol",o.unitDisplay="narrow";continue;case"unit-width-short":o.currencyDisplay="code",o.unitDisplay="short";continue;case"unit-width-full-name":o.currencyDisplay="name",o.unitDisplay="long";continue;case"unit-width-iso-code":o.currencyDisplay="symbol";continue;case"scale":o.scale=parseFloat(pe.options[0]);continue;case"integer-width":if(pe.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");pe.options[0].replace(Be,function(Ye,nt,Xe,At,dt,_t){if(nt)o.minimumIntegerDigits=Xe.length;else{if(At&&dt)throw new Error("We currently do not support maximum integer digits");if(_t)throw new Error("We currently do not support exact integer digits")}return""});continue}if(We.test(pe.stem))o.minimumIntegerDigits=pe.stem.length;else if(Ae.test(pe.stem)){if(pe.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");pe.stem.replace(Ae,function(Ye,nt,Xe,At,dt,_t){return Xe==="*"?o.minimumFractionDigits=nt.length:At&&At[0]==="#"?o.maximumFractionDigits=At.length:dt&&_t?(o.minimumFractionDigits=dt.length,o.maximumFractionDigits=dt.length+_t.length):(o.minimumFractionDigits=nt.length,o.maximumFractionDigits=nt.length),""});var ve=pe.options[0];ve==="w"?o=(0,L.__assign)((0,L.__assign)({},o),{trailingZeroDisplay:"stripIfInteger"}):ve&&(o=(0,L.__assign)((0,L.__assign)({},o),qe(ve)))}else if(xe.test(pe.stem))o=(0,L.__assign)((0,L.__assign)({},o),qe(pe.stem));else{var Re=tt(pe.stem);Re&&(o=(0,L.__assign)((0,L.__assign)({},o),Re));var Me=vt(pe.stem);Me&&(o=(0,L.__assign)((0,L.__assign)({},o),Me))}}return o}var mt=new RegExp("^".concat(te.source,"*")),Ee=new RegExp("".concat(te.source,"*$"));function je(g,o){return{start:g,end:o}}var jt=!!String.prototype.startsWith,Ut=!!String.fromCodePoint,ft=!!Object.fromEntries,oe=!!String.prototype.codePointAt,Se=!!String.prototype.trimStart,ke=!!String.prototype.trimEnd,De=Number.isSafeInteger?Number.isSafeInteger:function(g){return typeof g=="number"&&isFinite(g)&&Math.floor(g)===g&&Math.abs(g)<=9007199254740991},Ke=!0;try{Ke=((ge=Ge("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))===null||ge===void 0?void 0:ge[0])==="a"}catch{Ke=!1}var Ve,Je=jt?function(g,o,Z){return g.startsWith(o,Z)}:function(g,o,Z){return g.slice(Z,Z+o.length)===o},pt=Ut?String.fromCodePoint:function(){for(var g=[],o=0;o<arguments.length;o++)g[o]=arguments[o];for(var Z,$="",pe=g.length,ve=0;pe>ve;){if((Z=g[ve++])>1114111)throw RangeError(Z+" is not a valid code point");$+=Z<65536?String.fromCharCode(Z):String.fromCharCode(55296+((Z-=65536)>>10),Z%1024+56320)}return $},Et=ft?Object.fromEntries:function(g){for(var o={},Z=0,$=g;Z<$.length;Z++){var pe=$[Z],ve=pe[0],Re=pe[1];o[ve]=Re}return o},Fe=oe?function(g,o){return g.codePointAt(o)}:function(g,o){var Z=g.length;if(!(o<0||o>=Z)){var $,pe=g.charCodeAt(o);return pe<55296||pe>56319||o+1===Z||($=g.charCodeAt(o+1))<56320||$>57343?pe:$-56320+(pe-55296<<10)+65536}},fe=Se?function(g){return g.trimStart()}:function(g){return g.replace(mt,"")},Ne=ke?function(g){return g.trimEnd()}:function(g){return g.replace(Ee,"")};function Ge(g,o){return new RegExp(g,o)}if(Ke){var Ze=Ge("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");Ve=function(g,o){var Z;return Ze.lastIndex=o,(Z=Ze.exec(g)[1])!==null&&Z!==void 0?Z:""}}else Ve=function(g,o){for(var Z=[];;){var $=Fe(g,o);if($===void 0||st($)||at($))break;Z.push($),o+=$>=65536?2:1}return pt.apply(void 0,Z)};var ot=function(){function g(o,Z){Z===void 0&&(Z={}),this.message=o,this.position={offset:0,line:1,column:1},this.ignoreTag=!!Z.ignoreTag,this.requiresOtherClause=!!Z.requiresOtherClause,this.shouldParseSkeletons=!!Z.shouldParseSkeletons}return g.prototype.parse=function(){if(this.offset()!==0)throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},g.prototype.parseMessage=function(o,Z,$){for(var pe=[];!this.isEOF();){var ve=this.char();if(ve===123){if((Re=this.parseArgument(o,$)).err)return Re;pe.push(Re.val)}else{if(ve===125&&o>0)break;if(ve!==35||Z!=="plural"&&Z!=="selectordinal"){if(ve===60&&!this.ignoreTag&&this.peek()===47){if($)break;return this.error(E.UNMATCHED_CLOSING_TAG,je(this.clonePosition(),this.clonePosition()))}if(ve===60&&!this.ignoreTag&&xt(this.peek()||0)){if((Re=this.parseTag(o,Z)).err)return Re;pe.push(Re.val)}else{var Re;if((Re=this.parseLiteral(o,Z)).err)return Re;pe.push(Re.val)}}else{var Me=this.clonePosition();this.bump(),pe.push({type:J.pound,location:je(Me,this.clonePosition())})}}}return{val:pe,err:null}},g.prototype.parseTag=function(o,Z){var $=this.clonePosition();this.bump();var pe=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:J.literal,value:"<".concat(pe,"/>"),location:je($,this.clonePosition())},err:null};if(this.bumpIf(">")){var ve=this.parseMessage(o+1,Z,!0);if(ve.err)return ve;var Re=ve.val,Me=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!xt(this.char()))return this.error(E.INVALID_TAG,je(Me,this.clonePosition()));var Ye=this.clonePosition();return pe!==this.parseTagName()?this.error(E.UNMATCHED_CLOSING_TAG,je(Ye,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:J.tag,value:pe,children:Re,location:je($,this.clonePosition())},err:null}:this.error(E.INVALID_TAG,je(Me,this.clonePosition())))}return this.error(E.UNCLOSED_TAG,je($,this.clonePosition()))}return this.error(E.INVALID_TAG,je($,this.clonePosition()))},g.prototype.parseTagName=function(){var o=this.offset();for(this.bump();!this.isEOF()&&gt(this.char());)this.bump();return this.message.slice(o,this.offset())},g.prototype.parseLiteral=function(o,Z){for(var $=this.clonePosition(),pe="";;){var ve=this.tryParseQuote(Z);if(ve)pe+=ve;else{var Re=this.tryParseUnquoted(o,Z);if(Re)pe+=Re;else{var Me=this.tryParseLeftAngleBracket();if(!Me)break;pe+=Me}}}var Ye=je($,this.clonePosition());return{val:{type:J.literal,value:pe,location:Ye},err:null}},g.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||this.char()!==60||!this.ignoreTag&&Mt(this.peek()||0)?null:(this.bump(),"<")},g.prototype.tryParseQuote=function(o){if(this.isEOF()||this.char()!==39)return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if(o==="plural"||o==="selectordinal")break;return null;default:return null}this.bump();var Z=[this.char()];for(this.bump();!this.isEOF();){var $=this.char();if($===39){if(this.peek()!==39){this.bump();break}Z.push(39),this.bump()}else Z.push($);this.bump()}return pt.apply(void 0,Z)},g.prototype.tryParseUnquoted=function(o,Z){if(this.isEOF())return null;var $=this.char();return $===60||$===123||$===35&&(Z==="plural"||Z==="selectordinal")||$===125&&o>0?null:(this.bump(),pt($))},g.prototype.parseArgument=function(o,Z){var $=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(E.EXPECT_ARGUMENT_CLOSING_BRACE,je($,this.clonePosition()));if(this.char()===125)return this.bump(),this.error(E.EMPTY_ARGUMENT,je($,this.clonePosition()));var pe=this.parseIdentifierIfPossible().value;if(!pe)return this.error(E.MALFORMED_ARGUMENT,je($,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(E.EXPECT_ARGUMENT_CLOSING_BRACE,je($,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:J.argument,value:pe,location:je($,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(E.EXPECT_ARGUMENT_CLOSING_BRACE,je($,this.clonePosition())):this.parseArgumentOptions(o,Z,pe,$);default:return this.error(E.MALFORMED_ARGUMENT,je($,this.clonePosition()))}},g.prototype.parseIdentifierIfPossible=function(){var o=this.clonePosition(),Z=this.offset(),$=Ve(this.message,Z),pe=Z+$.length;return this.bumpTo(pe),{value:$,location:je(o,this.clonePosition())}},g.prototype.parseArgumentOptions=function(o,Z,$,pe){var ve,Re=this.clonePosition(),Me=this.parseIdentifierIfPossible().value,Ye=this.clonePosition();switch(Me){case"":return this.error(E.EXPECT_ARGUMENT_TYPE,je(Re,Ye));case"number":case"date":case"time":this.bumpSpace();var nt=null;if(this.bumpIf(",")){this.bumpSpace();var Xe=this.clonePosition();if((Ei=this.parseSimpleArgStyleIfPossible()).err)return Ei;if((_t=Ne(Ei.val)).length===0)return this.error(E.EXPECT_ARGUMENT_STYLE,je(this.clonePosition(),this.clonePosition()));nt={style:_t,styleLocation:je(Xe,this.clonePosition())}}if((Yi=this.tryParseArgumentClose(pe)).err)return Yi;var At=je(pe,this.clonePosition());if(nt&&Je(nt==null?void 0:nt.style,"::",0)){var dt=fe(nt.style.slice(2));if(Me==="number")return(Ei=this.parseNumberSkeletonFromString(dt,nt.styleLocation)).err?Ei:{val:{type:J.number,value:$,location:At,style:Ei.val},err:null};if(dt.length===0)return this.error(E.EXPECT_DATE_TIME_SKELETON,At);var _t={type:q.dateTime,pattern:dt,location:nt.styleLocation,parsedOptions:this.shouldParseSkeletons?ae(dt):{}};return{val:{type:Me==="date"?J.date:J.time,value:$,location:At,style:_t},err:null}}return{val:{type:Me==="number"?J.number:Me==="date"?J.date:J.time,value:$,location:At,style:(ve=nt==null?void 0:nt.style)!==null&&ve!==void 0?ve:null},err:null};case"plural":case"selectordinal":case"select":var qt=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(E.EXPECT_SELECT_ARGUMENT_OPTIONS,je(qt,(0,L.__assign)({},qt)));this.bumpSpace();var $t=this.parseIdentifierIfPossible(),Ni=0;if(Me!=="select"&&$t.value==="offset"){if(!this.bumpIf(":"))return this.error(E.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,je(this.clonePosition(),this.clonePosition()));var Ei;if(this.bumpSpace(),(Ei=this.tryParseDecimalInteger(E.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,E.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return Ei;this.bumpSpace(),$t=this.parseIdentifierIfPossible(),Ni=Ei.val}var Yi,cr=this.tryParsePluralOrSelectOptions(o,Me,Z,$t);if(cr.err)return cr;if((Yi=this.tryParseArgumentClose(pe)).err)return Yi;var Yn=je(pe,this.clonePosition());return Me==="select"?{val:{type:J.select,value:$,options:Et(cr.val),location:Yn},err:null}:{val:{type:J.plural,value:$,options:Et(cr.val),offset:Ni,pluralType:Me==="plural"?"cardinal":"ordinal",location:Yn},err:null};default:return this.error(E.INVALID_ARGUMENT_TYPE,je(Re,Ye))}},g.prototype.tryParseArgumentClose=function(o){return this.isEOF()||this.char()!==125?this.error(E.EXPECT_ARGUMENT_CLOSING_BRACE,je(o,this.clonePosition())):(this.bump(),{val:!0,err:null})},g.prototype.parseSimpleArgStyleIfPossible=function(){for(var o=0,Z=this.clonePosition();!this.isEOF();)switch(this.char()){case 39:this.bump();var $=this.clonePosition();if(!this.bumpUntil("'"))return this.error(E.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,je($,this.clonePosition()));this.bump();break;case 123:o+=1,this.bump();break;case 125:if(!(o>0))return{val:this.message.slice(Z.offset,this.offset()),err:null};o-=1;break;default:this.bump()}return{val:this.message.slice(Z.offset,this.offset()),err:null}},g.prototype.parseNumberSkeletonFromString=function(o,Z){var $=[];try{$=Oe(o)}catch{return this.error(E.INVALID_NUMBER_SKELETON,Z)}return{val:{type:q.number,tokens:$,location:Z,parsedOptions:this.shouldParseSkeletons?rt($):{}},err:null}},g.prototype.tryParsePluralOrSelectOptions=function(o,Z,$,pe){for(var ve,Re=!1,Me=[],Ye=new Set,nt=pe.value,Xe=pe.location;;){if(nt.length===0){var At=this.clonePosition();if(Z==="select"||!this.bumpIf("="))break;var dt=this.tryParseDecimalInteger(E.EXPECT_PLURAL_ARGUMENT_SELECTOR,E.INVALID_PLURAL_ARGUMENT_SELECTOR);if(dt.err)return dt;Xe=je(At,this.clonePosition()),nt=this.message.slice(At.offset,this.offset())}if(Ye.has(nt))return this.error(Z==="select"?E.DUPLICATE_SELECT_ARGUMENT_SELECTOR:E.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,Xe);nt==="other"&&(Re=!0),this.bumpSpace();var _t=this.clonePosition();if(!this.bumpIf("{"))return this.error(Z==="select"?E.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:E.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,je(this.clonePosition(),this.clonePosition()));var qt=this.parseMessage(o+1,Z,$);if(qt.err)return qt;var $t=this.tryParseArgumentClose(_t);if($t.err)return $t;Me.push([nt,{value:qt.val,location:je(_t,this.clonePosition())}]),Ye.add(nt),this.bumpSpace(),nt=(ve=this.parseIdentifierIfPossible()).value,Xe=ve.location}return Me.length===0?this.error(Z==="select"?E.EXPECT_SELECT_ARGUMENT_SELECTOR:E.EXPECT_PLURAL_ARGUMENT_SELECTOR,je(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!Re?this.error(E.MISSING_OTHER_CLAUSE,je(this.clonePosition(),this.clonePosition())):{val:Me,err:null}},g.prototype.tryParseDecimalInteger=function(o,Z){var $=1,pe=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&($=-1);for(var ve=!1,Re=0;!this.isEOF();){var Me=this.char();if(!(Me>=48&&Me<=57))break;ve=!0,Re=10*Re+(Me-48),this.bump()}var Ye=je(pe,this.clonePosition());return ve?De(Re*=$)?{val:Re,err:null}:this.error(Z,Ye):this.error(o,Ye)},g.prototype.offset=function(){return this.position.offset},g.prototype.isEOF=function(){return this.offset()===this.message.length},g.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},g.prototype.char=function(){var o=this.position.offset;if(o>=this.message.length)throw Error("out of bound");var Z=Fe(this.message,o);if(Z===void 0)throw Error("Offset ".concat(o," is at invalid UTF-16 code unit boundary"));return Z},g.prototype.error=function(o,Z){return{val:null,err:{kind:o,message:this.message,location:Z}}},g.prototype.bump=function(){if(!this.isEOF()){var o=this.char();o===10?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=o<65536?1:2)}},g.prototype.bumpIf=function(o){if(Je(this.message,o,this.offset())){for(var Z=0;Z<o.length;Z++)this.bump();return!0}return!1},g.prototype.bumpUntil=function(o){var Z=this.offset(),$=this.message.indexOf(o,Z);return $>=0?(this.bumpTo($),!0):(this.bumpTo(this.message.length),!1)},g.prototype.bumpTo=function(o){if(this.offset()>o)throw Error("targetOffset ".concat(o," must be greater than or equal to the current offset ").concat(this.offset()));for(o=Math.min(o,this.message.length);;){var Z=this.offset();if(Z===o)break;if(Z>o)throw Error("targetOffset ".concat(o," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},g.prototype.bumpSpace=function(){for(;!this.isEOF()&&st(this.char());)this.bump()},g.prototype.peek=function(){if(this.isEOF())return null;var o=this.char(),Z=this.offset(),$=this.message.charCodeAt(Z+(o>=65536?2:1));return $??null},g}();function xt(g){return g>=97&&g<=122||g>=65&&g<=90}function Mt(g){return xt(g)||g===47}function gt(g){return g===45||g===46||g>=48&&g<=57||g===95||g>=97&&g<=122||g>=65&&g<=90||g==183||g>=192&&g<=214||g>=216&&g<=246||g>=248&&g<=893||g>=895&&g<=8191||g>=8204&&g<=8205||g>=8255&&g<=8256||g>=8304&&g<=8591||g>=11264&&g<=12271||g>=12289&&g<=55295||g>=63744&&g<=64975||g>=65008&&g<=65533||g>=65536&&g<=983039}function st(g){return g>=9&&g<=13||g===32||g===133||g>=8206&&g<=8207||g===8232||g===8233}function at(g){return g>=33&&g<=35||g===36||g>=37&&g<=39||g===40||g===41||g===42||g===43||g===44||g===45||g>=46&&g<=47||g>=58&&g<=59||g>=60&&g<=62||g>=63&&g<=64||g===91||g===92||g===93||g===94||g===96||g===123||g===124||g===125||g===126||g===161||g>=162&&g<=165||g===166||g===167||g===169||g===171||g===172||g===174||g===176||g===177||g===182||g===187||g===191||g===215||g===247||g>=8208&&g<=8213||g>=8214&&g<=8215||g===8216||g===8217||g===8218||g>=8219&&g<=8220||g===8221||g===8222||g===8223||g>=8224&&g<=8231||g>=8240&&g<=8248||g===8249||g===8250||g>=8251&&g<=8254||g>=8257&&g<=8259||g===8260||g===8261||g===8262||g>=8263&&g<=8273||g===8274||g===8275||g>=8277&&g<=8286||g>=8592&&g<=8596||g>=8597&&g<=8601||g>=8602&&g<=8603||g>=8604&&g<=8607||g===8608||g>=8609&&g<=8610||g===8611||g>=8612&&g<=8613||g===8614||g>=8615&&g<=8621||g===8622||g>=8623&&g<=8653||g>=8654&&g<=8655||g>=8656&&g<=8657||g===8658||g===8659||g===8660||g>=8661&&g<=8691||g>=8692&&g<=8959||g>=8960&&g<=8967||g===8968||g===8969||g===8970||g===8971||g>=8972&&g<=8991||g>=8992&&g<=8993||g>=8994&&g<=9e3||g===9001||g===9002||g>=9003&&g<=9083||g===9084||g>=9085&&g<=9114||g>=9115&&g<=9139||g>=9140&&g<=9179||g>=9180&&g<=9185||g>=9186&&g<=9254||g>=9255&&g<=9279||g>=9280&&g<=9290||g>=9291&&g<=9311||g>=9472&&g<=9654||g===9655||g>=9656&&g<=9664||g===9665||g>=9666&&g<=9719||g>=9720&&g<=9727||g>=9728&&g<=9838||g===9839||g>=9840&&g<=10087||g===10088||g===10089||g===10090||g===10091||g===10092||g===10093||g===10094||g===10095||g===10096||g===10097||g===10098||g===10099||g===10100||g===10101||g>=10132&&g<=10175||g>=10176&&g<=10180||g===10181||g===10182||g>=10183&&g<=10213||g===10214||g===10215||g===10216||g===10217||g===10218||g===10219||g===10220||g===10221||g===10222||g===10223||g>=10224&&g<=10239||g>=10240&&g<=10495||g>=10496&&g<=10626||g===10627||g===10628||g===10629||g===10630||g===10631||g===10632||g===10633||g===10634||g===10635||g===10636||g===10637||g===10638||g===10639||g===10640||g===10641||g===10642||g===10643||g===10644||g===10645||g===10646||g===10647||g===10648||g>=10649&&g<=10711||g===10712||g===10713||g===10714||g===10715||g>=10716&&g<=10747||g===10748||g===10749||g>=10750&&g<=11007||g>=11008&&g<=11055||g>=11056&&g<=11076||g>=11077&&g<=11078||g>=11079&&g<=11084||g>=11085&&g<=11123||g>=11124&&g<=11125||g>=11126&&g<=11157||g===11158||g>=11159&&g<=11263||g>=11776&&g<=11777||g===11778||g===11779||g===11780||g===11781||g>=11782&&g<=11784||g===11785||g===11786||g===11787||g===11788||g===11789||g>=11790&&g<=11798||g===11799||g>=11800&&g<=11801||g===11802||g===11803||g===11804||g===11805||g>=11806&&g<=11807||g===11808||g===11809||g===11810||g===11811||g===11812||g===11813||g===11814||g===11815||g===11816||g===11817||g>=11818&&g<=11822||g===11823||g>=11824&&g<=11833||g>=11834&&g<=11835||g>=11836&&g<=11839||g===11840||g===11841||g===11842||g>=11843&&g<=11855||g>=11856&&g<=11857||g===11858||g>=11859&&g<=11903||g>=12289&&g<=12291||g===12296||g===12297||g===12298||g===12299||g===12300||g===12301||g===12302||g===12303||g===12304||g===12305||g>=12306&&g<=12307||g===12308||g===12309||g===12310||g===12311||g===12312||g===12313||g===12314||g===12315||g===12316||g===12317||g>=12318&&g<=12319||g===12320||g===12336||g===64830||g===64831||g>=65093&&g<=65094}function Dt(g){g.forEach(function(o){if(delete o.location,Ie(o)||Ce(o))for(var Z in o.options)delete o.options[Z].location,Dt(o.options[Z].value);else ee(o)&&U(o.style)||(ne(o)||be(o))&&V(o.style)?delete o.style.location:b(o)&&Dt(o.children)})}function Bt(g,o){o===void 0&&(o={}),o=(0,L.__assign)({shouldParseSkeletons:!0,requiresOtherClause:!0},o);var Z=new ot(g,o).parse();if(Z.err){var $=SyntaxError(E[Z.err.kind]);throw $.location=Z.err.location,$.originalMessage=Z.err.message,$}return o!=null&&o.captureLocation||Dt(Z.val),Z.val}function Nt(g,o){var Z=o&&o.cache?o.cache:tn,$=o&&o.serializer?o.serializer:_n;return(o&&o.strategy?o.strategy:gn)(g,{cache:Z,serializer:$})}function kt(g){return g==null||typeof g=="number"||typeof g=="boolean"}function Yt(g,o,Z,$){var pe=kt($)?$:Z($),ve=o.get(pe);return ve===void 0&&(ve=g.call(this,$),o.set(pe,ve)),ve}function Ft(g,o,Z){var $=Array.prototype.slice.call(arguments,3),pe=Z($),ve=o.get(pe);return ve===void 0&&(ve=g.apply(this,$),o.set(pe,ve)),ve}function Qt(g,o,Z,$,pe){return Z.bind(o,g,$,pe)}function gn(g,o){return Qt(g,this,g.length===1?Yt:Ft,o.cache.create(),o.serializer)}function zi(g,o){return Qt(g,this,Ft,o.cache.create(),o.serializer)}function mn(g,o){return Qt(g,this,Yt,o.cache.create(),o.serializer)}var _n=function(){return JSON.stringify(arguments)};function ni(){this.cache=Object.create(null)}ni.prototype.get=function(g){return this.cache[g]},ni.prototype.set=function(g,o){this.cache[g]=o};var vi,tn={create:function(){return new ni}},Si={variadic:zi,monadic:mn};(function(g){g.MISSING_VALUE="MISSING_VALUE",g.INVALID_VALUE="INVALID_VALUE",g.MISSING_INTL_API="MISSING_INTL_API"})(vi||(vi={}));var ri,nn=function(g){function o(Z,$,pe){var ve=g.call(this,Z)||this;return ve.code=$,ve.originalMessage=pe,ve}return(0,L.__extends)(o,g),o.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},o}(Error),Rn=function(g){function o(Z,$,pe,ve){return g.call(this,'Invalid values for "'.concat(Z,'": "').concat($,'". Options are "').concat(Object.keys(pe).join('", "'),'"'),vi.INVALID_VALUE,ve)||this}return(0,L.__extends)(o,g),o}(nn),vn=function(g){function o(Z,$,pe){return g.call(this,'Value for "'.concat(Z,'" must be of type ').concat($),vi.INVALID_VALUE,pe)||this}return(0,L.__extends)(o,g),o}(nn),pr=function(g){function o(Z,$){return g.call(this,'The intl string context variable "'.concat(Z,'" was not provided to the string "').concat($,'"'),vi.MISSING_VALUE,$)||this}return(0,L.__extends)(o,g),o}(nn);function rn(g){return g.length<2?g:g.reduce(function(o,Z){var $=o[o.length-1];return $&&$.type===ri.literal&&Z.type===ri.literal?$.value+=Z.value:o.push(Z),o},[])}function Bi(g){return typeof g=="function"}function ui(g,o,Z,$,pe,ve,Re){if(g.length===1&&j(g[0]))return[{type:ri.literal,value:g[0].value}];for(var Me=[],Ye=0,nt=g;Ye<nt.length;Ye++){var Xe=nt[Ye];if(j(Xe))Me.push({type:ri.literal,value:Xe.value});else if(he(Xe))typeof ve=="number"&&Me.push({type:ri.literal,value:Z.getNumberFormat(o).format(ve)});else{var At=Xe.value;if(!pe||!(At in pe))throw new pr(At,Re);var dt=pe[At];if(Q(Xe))dt&&typeof dt!="string"&&typeof dt!="number"||(dt=typeof dt=="string"||typeof dt=="number"?String(dt):""),Me.push({type:typeof dt=="string"?ri.literal:ri.object,value:dt});else if(ne(Xe)){var _t=typeof Xe.style=="string"?$.date[Xe.style]:V(Xe.style)?Xe.style.parsedOptions:void 0;Me.push({type:ri.literal,value:Z.getDateTimeFormat(o,_t).format(dt)})}else if(be(Xe))_t=typeof Xe.style=="string"?$.time[Xe.style]:V(Xe.style)?Xe.style.parsedOptions:$.time.medium,Me.push({type:ri.literal,value:Z.getDateTimeFormat(o,_t).format(dt)});else if(ee(Xe))(_t=typeof Xe.style=="string"?$.number[Xe.style]:U(Xe.style)?Xe.style.parsedOptions:void 0)&&_t.scale&&(dt*=_t.scale||1),Me.push({type:ri.literal,value:Z.getNumberFormat(o,_t).format(dt)});else{if(b(Xe)){var qt=Xe.children,$t=Xe.value,Ni=pe[$t];if(!Bi(Ni))throw new vn($t,"function",Re);var Ei=Ni(ui(qt,o,Z,$,pe,ve).map(function(Yn){return Yn.value}));Array.isArray(Ei)||(Ei=[Ei]),Me.push.apply(Me,Ei.map(function(Yn){return{type:typeof Yn=="string"?ri.literal:ri.object,value:Yn}}))}if(Ie(Xe)){if(!(Yi=Xe.options[dt]||Xe.options.other))throw new Rn(Xe.value,dt,Object.keys(Xe.options),Re);Me.push.apply(Me,ui(Yi.value,o,Z,$,pe))}else if(Ce(Xe)){var Yi;if(!(Yi=Xe.options["=".concat(dt)])){if(!Intl.PluralRules)throw new nn(`Intl.PluralRules is not available in this environment.
Try polyfilling it using "@formatjs/intl-pluralrules"
`,vi.MISSING_INTL_API,Re);var cr=Z.getPluralRules(o,{type:Xe.pluralType}).select(dt-(Xe.offset||0));Yi=Xe.options[cr]||Xe.options.other}if(!Yi)throw new Rn(Xe.value,dt,Object.keys(Xe.options),Re);Me.push.apply(Me,ui(Yi.value,o,Z,$,pe,dt-(Xe.offset||0)))}}}}return rn(Me)}function qi(g,o){return o?(0,L.__assign)((0,L.__assign)((0,L.__assign)({},g||{}),o||{}),Object.keys(g).reduce(function(Z,$){return Z[$]=(0,L.__assign)((0,L.__assign)({},g[$]),o[$]||{}),Z},{})):g}function zn(g,o){return o?Object.keys(g).reduce(function(Z,$){return Z[$]=qi(g[$],o[$]),Z},(0,L.__assign)({},g)):g}function An(g){return{create:function(){return{get:function(o){return g[o]},set:function(o,Z){g[o]=Z}}}}}function Pn(g){return g===void 0&&(g={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Nt(function(){for(var o,Z=[],$=0;$<arguments.length;$++)Z[$]=arguments[$];return new((o=Intl.NumberFormat).bind.apply(o,(0,L.__spreadArray)([void 0],Z,!1)))},{cache:An(g.number),strategy:Si.variadic}),getDateTimeFormat:Nt(function(){for(var o,Z=[],$=0;$<arguments.length;$++)Z[$]=arguments[$];return new((o=Intl.DateTimeFormat).bind.apply(o,(0,L.__spreadArray)([void 0],Z,!1)))},{cache:An(g.dateTime),strategy:Si.variadic}),getPluralRules:Nt(function(){for(var o,Z=[],$=0;$<arguments.length;$++)Z[$]=arguments[$];return new((o=Intl.PluralRules).bind.apply(o,(0,L.__spreadArray)([void 0],Z,!1)))},{cache:An(g.pluralRules),strategy:Si.variadic})}}(function(g){g[g.literal=0]="literal",g[g.object=1]="object"})(ri||(ri={}));const On=function(){function g(o,Z,$,pe){var ve=this;if(Z===void 0&&(Z=g.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(Re){var Me=ve.formatToParts(Re);if(Me.length===1)return Me[0].value;var Ye=Me.reduce(function(nt,Xe){return nt.length&&Xe.type===ri.literal&&typeof nt[nt.length-1]=="string"?nt[nt.length-1]+=Xe.value:nt.push(Xe.value),nt},[]);return Ye.length<=1?Ye[0]||"":Ye},this.formatToParts=function(Re){return ui(ve.ast,ve.locales,ve.formatters,ve.formats,Re,void 0,ve.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(ve.locales)[0]}},this.getAst=function(){return ve.ast},typeof o=="string"){if(this.message=o,!g.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=g.__parse(o,{ignoreTag:pe==null?void 0:pe.ignoreTag})}else this.ast=o;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=zn(g.formats,$),this.locales=Z,this.formatters=pe&&pe.formatters||Pn(this.formatterCache)}return Object.defineProperty(g,"defaultLocale",{get:function(){return g.memoizedDefaultLocale||(g.memoizedDefaultLocale=new Intl.NumberFormat().resolvedOptions().locale),g.memoizedDefaultLocale},enumerable:!1,configurable:!0}),g.memoizedDefaultLocale=null,g.__parse=Bt,g.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},g}();var Cn=d(379),Ai=d.n(Cn);async function an(g,o){(0,T.shouldPolyfill)()&&await Promise.all([d.e(891),d.e(235)]).then(d.bind(d,5235)),(0,y.shouldPolyfill)()&&await Promise.all([d.e(891),d.e(896),d.e(975)]).then(d.bind(d,8975));var Z=K.Z.getCurrentLanguageId().split("-")[0];(0,A.shouldPolyfill)(Z)&&(await Promise.all([d.e(896),d.e(92)]).then(d.bind(d,5092)),/bg|de|el|en|es|fi|fr|id|it|ja|ko|nl|nn|pl|pt|ro|ru|sv|th|tr|vi|zh$/.test(Z)?await d(274)(`./${Z}`):await d.e(409).then(d.t.bind(d,8409,23))),Mn(g,o)}function Mn(g,o){var Z={getNumberFormat:Ai()((pe,ve)=>new Intl.NumberFormat(pe,ve)),getDateTimeFormat:Ai()((pe,ve)=>new Intl.DateTimeFormat(pe,ve)),getPluralRules:Ai()((pe,ve)=>new Intl.PluralRules(pe,ve))},$=Ai()(o);K.Z.messageProcessor=(pe,ve,Re)=>{var Me=typeof ve=="object"&&ve!==null?ve:{count:isNaN(ve)?10:ve};return new g($(pe),K.Z.getCurrentLanguageId(),void 0,{formatters:Z}).format(Me)}}an(On,Bt);var Dn=d(8650),sn=d(1254),ai=d(1587),li=d(6635),yn=d(1575),Qi=d(1868),dr=d(7287),ci=d.n(dr),fr=d(2447);h.Z.isMobile.any||(fr.projectDesc.screenOrientation="landscape");class Nn extends Dn.Z{init(){if(super.init(),location.href.includes("enableSeleniumInterface")&&d.e(933).then(d.bind(d,2933)).then(ve=>{ve.default(h.Z)}),h.Z.isMobile.any){let ve=function(){var Me=Date.now();Me-4e3>Z&&(Z=Me,o.enable())},Re=function(){h.Z.addOnClickOnce(ve)};var $=ve,pe=Re,o=new(ci()),Z=0;document.addEventListener("touchend",Re),document.addEventListener("click",Re)}}onShow(){var o=h.Z.isMobile.any?"main-mobile":"main-desktop";h.Z.showScene(B.Z.hasScene(o)?o:"main");var Z=h.Z.settings.getItem("isIntroShowedBefore");Qi.Z.isReplayMode()||!B.Z.hasScene("intro")||Z&&!h.Z.Sound.isSoundsLockedByBrowser||(h.Z.showScene("intro"),h.Z.settings.setItem("isIntroShowedBefore",!0))}}var on,qn=d(4294),fi=d(8125);class ln extends F.Z{init(){if(on=h.Z.pixiApp.renderer.plugins.interaction,super.init(),this.onStageDown=this.onStageDown.bind(this),this.handlerAdded=!1,this._insideContainers=[this],this.additionalContainers)for(var o of this.additionalContainers.split(",")){var Z=(0,R.Z)(o,this);this._insideContainers.push(Z)}}onRemove(){super.onRemove(),this.removeHandler()}onStageDown(o){if(h.Z.time-this.time>1)this.removeHandler();else if(o.target)for(var Z=o.target;Z;){if(this._insideContainers.indexOf(Z)>=0)return;if(Z===h.Z.stage)return void this.fire();Z=Z.parent}else this.fire()}fire(){this.onClickOutside&&(0,z.Z)(this.onClickOutside,this)}_onDisableByTrigger(){this.removeHandler()}update(){this.handlerAdded||(this.handlerAdded=!0,on.on("pointerdown",this.onStageDown)),this.time=h.Z.time,super.update()}removeHandler(){this.handlerAdded&&(this.handlerAdded=!1,on.removeListener("pointerdown",this.onStageDown))}}var Ii=d(6107),Hi=2*Math.PI,Qn=`

	precision mediump float;

	attribute vec2 aVertexPosition;
	attribute float aColor;
	attribute vec2 aTextureCoord;

	uniform mat3 translationMatrix;
	uniform mat3 projectionMatrix;
	uniform vec4 uColor;

	varying vec2 vUvs;
	varying vec4 vColor;

	void main() {

	vUvs = aTextureCoord;
	vColor = uColor * aColor;
	gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

}`,Ln=`

	precision mediump float;

	varying vec4 vColor;
	varying vec2 vUvs;

	uniform sampler2D uSampler;

	void main() {

	gl_FragColor = texture2D(uSampler, vUvs) * vColor;
}`;class ki extends Ii.Mesh{constructor(o){o||(o=new Ii.MeshMaterial(Ii.Texture.WHITE,{program:Ii.Program.from(Qn,Ln)})),super(new Ii.PlaneGeometry(2,2,2,2),o),this.geometry.addAttribute("aColor",[0,0,1,1],1)}refreshSize(){var o=this.geometry;o.segWidth=this.verticesX,o.segHeight=this.verticesY,o.width=this.texture.width,o.height=this.texture.height,o.build(),this._applied_verticesX=this.verticesX,this._applied_verticesY=this.verticesY,this.updateFilling(),this.fillUpdated=!1,this.updateTransparency()}cropLeftRight(o,Z){var $=this.texture.width;(o/=$)<0&&(o=0),(Z/=$)<0&&(Z=0),this.scale.x=Math.min(1,1-o-Z),this.xRepeat=this.scale.x,this.xShift=o}cropTopBottom(o,Z){var $=this.texture.height;(o/=$)<0&&(o=0),(Z/=$)<0&&(Z=0),this.scale.y=Math.min(1,1-o-Z),this.yRepeat=this.scale.y,this.yShift=o}update(){this.xShiftSpeed!==0&&(this.xShift+=this.xShiftSpeed,h.Z.isCanvasMode&&(this._xShift>2?this._xShift-=2:this._xShift<-2&&(this._xShift+=2))),this.yShiftSpeed!==0&&(this.yShift+=this.yShiftSpeed,h.Z.isCanvasMode&&(this._yShift>2?this._yShift-=2:this._yShift<-2&&(this._yShift+=2))),this.xWaveSpeed!==0&&(this.xWavePhase+=this.xWaveSpeed,this._xWavePhase>Hi?this._xWavePhase-=Hi:this._xWavePhase<0&&(this._xWavePhase+=Hi)),this.yWaveSpeed!==0&&(this.yWavePhase+=this.yWaveSpeed,this._yWavePhase>Hi?this._yWavePhase-=Hi:this._yWavePhase<0&&(this._yWavePhase+=Hi)),super.update()}set texture(o){o!==super.texture&&(this.meshResized=this.meshResized||super.texture.width!==o.width||super.texture.height!==o.height,super.texture=o)}get texture(){return super.texture}render(o){this.validateFill(),super.render(o)}_renderCanvas(o){this.validateFill(),super._renderCanvas(o)}validateFill(){this.meshResized&&(this.refreshSize(),this.meshResized=!1),this.fillUpdated&&(this.updateFilling(),this.fillUpdated=!1),this.transparencyUpdated&&this.updateTransparency()}calculateVertices(){this.meshResized&&(this.refreshSize(),this.meshResized=!1),super.calculateVertices()}set transparentTop(o){this._transparentTop!==o&&(this._transparentTop=o,this.transparencyUpdated=!0)}get transparentTop(){return this._transparentTop}set transparentBottom(o){this._transparentBottom!==o&&(this._transparentBottom=o,this.transparencyUpdated=!0)}get transparentBottom(){return this._transparentBottom}set transparentLeft(o){this._transparentLeft!==o&&(this._transparentLeft=o,this.transparencyUpdated=!0)}get transparentLeft(){return this._transparentLeft}set transparentRight(o){this._transparentRight!==o&&(this._transparentRight=o,this.transparencyUpdated=!0)}get transparentRight(){return this._transparentRight}set alpha(o){super.alpha!==o&&(this.transparencyUpdated=!0,super.alpha=o)}get alpha(){return super.alpha}set tintR(o){super.tintR!==o&&(this.transparencyUpdated=!0,super.tintR=o)}get tintR(){return super.tintR}set verticesX(o){this._verticesX!==o&&(this._verticesX=o,this.meshResized=!0)}get verticesX(){return this._verticesX}set verticesY(o){this._verticesY!==o&&(this._verticesY=o,this.meshResized=!0)}get verticesY(){return this._verticesY}updateTransparency(){var o=this.verticesX*this.verticesY,Z=this.geometry.buffers[3];Z.data.length!==o&&(Z.data=new Float32Array(o));for(var $=Z.data,pe=0;pe<o;pe++)$[pe]=1;if(this.transparentTop)for(var ve=this.verticesX-1;ve>=0;ve--)$[ve]=0;if(this.transparentBottom)for(var Re=o-this.verticesX;Re<o;Re++)$[Re]=0;if(this.transparentLeft)for(var Me=0;Me<o;Me+=this.verticesX)$[Me]=0;if(this.transparentRight)for(var Ye=this.verticesX-1;Ye<o;Ye+=this.verticesX)$[Ye]=0;Z.update(),this.transparencyUpdated=!1}updateFilling(){var o,Z,$=this.uvBuffer.data,pe=0;Z=this._yShift;var ve=this.verticesX-1,Re=this.verticesY-1,Me=this._xRepeat/ve,Ye=this._yRepeat/Re,nt=this._xWaveStep/ve,Xe=this._yWaveStep/Re;if(this._xWaveAmp!==0||this._yWaveAmp!==0)for(var At=this._yWavePhase,dt=0;dt<=Re;dt++){o=this._xShift+Math.sin(At)*this._yWaveAmp;for(var _t=this._xWavePhase,qt=0;qt<=ve;qt++)$[pe++]=o,$[pe++]=Z+Math.sin(_t)*this._xWaveAmp,o+=Me,_t+=nt;At+=Xe,Z+=Ye}else for(var $t=0;$t<=Re;$t++){o=this._xShift;for(var Ni=0;Ni<=ve;Ni++)$[pe++]=o,$[pe++]=Z,o+=Me;Z+=Ye}this.uvBuffer.update()}get xRepeat(){return this._xRepeat}set xRepeat(o){this._xRepeat!==o&&(this._xRepeat=o,this.fillUpdated=!0)}get xShift(){return this._xShift}set xShift(o){this._xShift!==o&&(this._xShift=o,this.fillUpdated=!0)}get xWaveAmp(){return this._xWaveAmp}set xWaveAmp(o){this._xWaveAmp!==o&&(this._xWaveAmp=o,this.fillUpdated=!0)}get xWaveStep(){return this._xWaveStep}set xWaveStep(o){this._xWaveStep!==o&&(this._xWaveStep=o,this.fillUpdated=!0)}get xWavePhase(){return this._xWavePhase}set xWavePhase(o){this._xWavePhase!==o&&(this._xWavePhase=o,this.fillUpdated=!0)}get yRepeat(){return this._yRepeat}set yRepeat(o){this._yRepeat!==o&&(this._yRepeat=o,this.fillUpdated=!0)}get yShift(){return this._yShift}set yShift(o){this._yShift!==o&&(this._yShift=o,this.fillUpdated=!0)}get yWaveAmp(){return this._yWaveAmp}set yWaveAmp(o){this._yWaveAmp!==o&&(this._yWaveAmp=o,this.fillUpdated=!0)}get yWaveStep(){return this._yWaveStep}set yWaveStep(o){this._yWaveStep!==o&&(this._yWaveStep=o,this.fillUpdated=!0)}get yWavePhase(){return this._yWavePhase}set yWavePhase(o){this._yWavePhase!==o&&(this._yWavePhase=o,this.fillUpdated=!0)}}class yi extends sn.Z{init(){super.init(),this.phase=0}hide(){this.phase=0}update(){super.update(),this.y-=1,this.phase--,this.phase<=0?(this.alpha-=.05,this.alpha<=0&&this.remove()):this.alpha<.95&&(this.alpha+=.2)}static flyText(o){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"flytext",ve=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,Re=arguments.length>5?arguments[5]:void 0;typeof Z!="number"&&(Z=h.Z.W/2),typeof $!="number"&&($=h.Z.H/2);var Me=B.Z.loadPrefab(pe);Me.text=o,Me.phase=6*o.length+ve;var Ye=Me.width/2+5;return Z<Ye&&(Z=Ye),Z>h.Z.W-Ye&&(Z=h.Z.W-Ye),Me.alpha=0,Me.x=Z,Me.y=$,Re?typeof Re=="string"&&(Re=(0,R.Z)(Re,h.Z.currentContainer)):Re=h.Z.currentContainer,Re.addChild(Me),Me}}var wi=d(87),hn=d(6107);class bn extends hn.NineSlicePlane{constructor(){super(B.Z.getTexture("WHITE"),3,3,3,3)}}var bi=d(6107),un=0,Ki=1,Bn=2,Ji=3,xn=4;class Kn extends bi.Graphics{init(){super.init(),this._drawThing(),this._hitAreaCache=null,this.isItHitArea&&this.parent&&this.applyHitAreaToParent()}_drawThing(){this.clear(),this.isItHitArea||(this.lineStyle(this.shapeLineWidth,this.shapeLineColor,this.shapeLineAlpha,this.shapeLineAlignment),this.beginFill(this.shapeFillColor,this.shapeFillAlpha),this.drawThing(),this.endFill())}drawThing(){var o;switch(this.shape){case Ki:this.drawRoundedRect(0,0,this.width,this.height,this.shapeRadius);break;case un:this.drawRect(0,0,this.width,this.height);break;case Bn:this.drawCircle(0,0,this.shapeRadius);break;case Ji:this.drawEllipse(0,0,this.width,this.height);break;case xn:if(this._shapePoints.length>2){for(var Z of(o=[],this._shapePoints))o.push(Z.x,Z.y);this.drawPolygon(o)}}}getHitareaShape(){if(!this._hitAreaCache)switch(this.shape){case Ki:this._hitAreaCache=new bi.RoundedRectangle(this.x,this.y,this.width,this.height,this.shapeRadius);break;case un:this._hitAreaCache=new bi.Rectangle(this.x,this.y,this.width,this.height);break;case Bn:this._hitAreaCache=new bi.Circle(this.x,this.y,this.shapeRadius);break;case Ji:this._hitAreaCache=new bi.Ellipse(this.x,this.y,this.width,this.height);break;case xn:if(this._shapePoints.length>2){var o=[];for(var Z of this._shapePoints)o.push(Z.x+this.x,Z.y+this.y);this._hitAreaCache=new bi.Polygon(o)}}return this._hitAreaCache}applyHitAreaToParent(){this.parent.hitArea=this.getHitareaShape(),this.visible=!1}onRemove(){super.onRemove(),this.clear(),this.isItHitArea&&this.parent&&(this.parent.hitArea=null)}set shape(o){this._shape=o,this.__deserialized&&this._drawThing()}get shape(){return this._shape}set width(o){this._width=o,this.__deserialized&&this._drawThing()}get width(){return this._width}set height(o){this._height=o,this.__deserialized&&this._drawThing()}get height(){return this._height}set shapeRadius(o){this._shapeRadius=o,this.__deserialized&&this._drawThing()}get shapeRadius(){return this._shapeRadius}set shapeLineColor(o){this._lColor=o,this.__deserialized&&this._drawThing()}get shapeLineColor(){return this._lColor}set shapeFillColor(o){this._fColor=o,this.__deserialized&&this._drawThing()}get shapeFillColor(){return this._fColor}set shapeFillAlpha(o){this._fAlpha=o,this.__deserialized&&this._drawThing()}get shapeFillAlpha(){return this._fAlpha}set shapeLineAlpha(o){this._lAlpha=o,this.__deserialized&&this._drawThing()}get shapeLineAlpha(){return this._lAlpha}set shapeLineWidth(o){this._lWidth=o,this.__deserialized&&this._drawThing()}get shapeLineWidth(){return this._lWidth}set shapeLineAlignment(o){this._lAlignment=o,this.__deserialized&&this._drawThing()}get shapeLineAlignment(){return this._lAlignment}}var gr=new(d(6107)).Point;function Tn(g,o){g instanceof Kn||g instanceof bn?g.height=o:g.texture&&(g.scale.y=o/g.texture.height,g instanceof ki&&(g.yRepeat=g.scale.y))}class mr extends F.Z{constructor(){super()}init(){super.init(),this.scrolling=!1,this.currentInterval=0,this.showedVal=void 0,this.bar=this.findChildByName("bar"),this.cap=this.findChildByName("cap"),this.buttonMode=this.interactive,this.on("pointerdown",this.onDown),this._applyBgHeight()}get height(){return this._height||200}set height(o){this._height!==o&&(this._height=o,this.applyValue(this.showedVal||0),this._applyBgHeight())}_applyBgHeight(){var o=this.getChildByName("bg");o&&Tn(o,this._height)}onRemove(){super.onRemove(),this._height=void 0,this.bar=null,this.cap=null,this.removeListener("pointerdown",this.onDown)}onDown(){this.isCanBePressed&&(this.scrolling=!0)}update(){if(this.scrolling)if(h.Z.mouse.click){var o=this.toLocal(h.Z.mouse,h.Z.stage,gr,!0).y/this._height;o<0?o=0:o>1&&(o=1);var Z=this.min+o*(this.max-this.min);this.step>0&&(Z=Math.round(Z/this.step)*this.step),this.applyValue(Z),this.dataPath&&(0,R.P)(this.dataPath,Z,this)}else this.scrolling=!1,this.afterSlide&&(0,z.Z)(this.afterSlide,this);else if(this.currentInterval<=0&&this.dataPath){var $=(0,R.Z)(this.dataPath,this);$||$===0?($>this.max&&($=this.max),$<this.min&&($=this.min),$!==this.showedVal&&(this.visible=!0,this.applyValue($))):(this.showedVal=void 0,this.visible=!1),this.currentInterval=this.refreshInterval}else this.currentInterval--;super.update()}applyValue(o){o!==this.showedVal&&this.onChanged&&(0,z.Z)(this.onChanged,this),this.showedVal=o;var Z=(o-this.min)/(this.max-this.min);this.bar&&Tn(this.bar,this._height*Z),this.cap&&(this.cap.y=this.capMargin+(this._height-2*this.capMargin)*Z)}refreshNow(){this.currentInterval=0}}class En extends F.Z{init(){super.init(),this.needApplyLayout=!0,this._applyLayout()}update(){super.update(),this.needApplyLayout&&(this._applyLayout(),this.needApplyLayout=!1)}_applyLayout(){var o=h.Z.W-2*this.marginLeftRight,Z=this.marginLeftRight,$=h.Z.isMobile.any?this.maxWidthMobile:this.maxWidthDesktop;$>0&&o>$&&(Z+=Math.round((o-$)/2),o=$);var pe=h.Z.H-2*this.marginTopBottom;if(this.bgNineSlicePlanePath){var ve=(0,R.Z)(this.bgNineSlicePlanePath,this);this.x=Z+this.containerMargin,this.y=this.marginTopBottom+this.containerMargin,ve&&(ve.x=-this.containerMargin,ve.y=-this.containerMargin,ve.width=o,ve.height=pe)}if(this.scrollBarPath){var Re=(0,R.Z)(this.scrollBarPath,this);Re&&(Re.x=o-this.containerMargin,Re.height=pe-this.scrollBarBottomMargin)}if(this.scrollLayerPath){var Me=(0,R.Z)(this.scrollLayerPath,this);if(Me){var Ye=Me.visibleArea;Ye.w=o-2*this.containerMargin,Ye.h=pe-2*this.containerMargin}}}_onRenderResize(){this._applyLayout(),this.isMobileLandscape=!h.Z.isPortrait&&h.Z.isMobile.any}}var Fi=560,kn=500,Jn=30,Fn=52,cn=174;class Un extends F.Z{init(){super.init(),this.riskButtons=[h.Z.currentScene.all["high-risk-btn"],h.Z.currentScene.all["medium-risk-btn"],h.Z.currentScene.all["low-risk-btn"]],this.lines=[],this.targets=[],this.tooltip=this.getChildByName("tooltip"),this.pinsContainer=this.getChildByName("pinsContainer"),this.hole=this.getChildByName("hole"),this.linesButtons=h.Z.currentScene.findChildrenByName("lines-button"),this.hideTooltip(),this.colors={center:{r:this.centerR,g:this.centerG},low:{r:this.lowR,g:this.lowG},medium:{r:this.mediumR,g:this.mediumG},high:{r:this.highR,g:this.highG}}}update(){super.update(),this.targets.indexOf(fi.Z.overredButton||fi.Z.downedButton)>=0?this.showTooltip(fi.Z.overredButton||fi.Z.downedButton):h.Z.isMobile.any&&!h.Z.mouse.click||this.hideTooltip()}showTooltip(o){this.tooltip.target!==o&&(this.tooltip.visible=!0,this.tooltip.x=o.x,this.tooltip.x<-cn&&(this.tooltip.x=-cn),this.tooltip.x>cn&&(this.tooltip.x=cn),this.tooltip.profit=o.payout*h.Z.currentScene.getBet(),this.tooltip.chance=o.chance,this.tooltip.getChildByName("pointer").x=o.x-this.tooltip.x)}hideTooltip(){this.tooltip.visible=!1,this.tooltip.target=null}initializePaytable(){this.setRiskMode(h.Z.settings.getItem("riskMode","low")),this.setLinesCount(h.Z.settings.getItem("linesCount",8))}setRiskMode(o){for(var Z of(this.riskMode=o,h.Z.settings.setItem("riskMode",o),this._applyPaytable(),this.riskButtons))Z.name.startsWith(o)?Z.disable():Z.enable()}setLinesCount(o){for(var Z of(this._releaseTable(),this.linesCount=o,h.Z.settings.setItem("linesCount",o),this.linesButtons)){var $=Z.getChildByName("label");$.text==o?(Z.disable(),$.style.fill="#1e4e79"):(Z.enable(),$.style.fill="#c6d6e3")}this._generateTable()}launchBall(){this.ballWaitingPath=B.Z.loadPrefab("ball"),this.ballWaitingPath.setPinsDistance(this.pinsDistance,this.pinRadius,this),this.getChildByName("ballsContainer").addChildAt(this.ballWaitingPath,0)}setBallData(o){var Z=this.ballWaitingPath.ballId;return this.ballWaitingPath.setBallData(o),this.ballWaitingPath=null,Z}onRemove(){super.onRemove(),this._releaseTable()}_generateTable(){var o=kn/(this.linesCount+1),Z=o,$=(Fi-Z-Jn)/(this.linesCount-.5);this.pinsDistance=o,this.pinRadius=Math.max(.5,Math.min(1,.02*o));var pe=O.getBallSize(this.pinsDistance,this.pinRadius);this.hole.scale.x=pe,this.hole.scale.y=pe;for(var ve=0;ve<this.linesCount;ve++){var Re=B.Z.loadPrefab("container");Re.y=Math.round(Z),Z+=$;for(var Me=-Math.round((ve+2)*o/2),Ye=ve+3;Ye>0;Ye--){var nt=B.Z.loadPrefab("pin");nt.x=Math.round(Me),nt.scale.x=this.pinRadius,nt.scale.y=this.pinRadius,Me+=o,Re.addChild(nt)}this.lines.push(Re),this.pinsContainer.addChild(Re)}for(var Xe=Math.min(1,o/Fn),At=-(kn-Fn*Xe)/2,dt=this.linesCount;dt>=0;dt--){var _t=B.Z.loadPrefab("ball-target");_t.x=Math.round(At),At+=o,_t.y=Fi,_t.scale.x=Xe,_t.scale.y=Xe,this.pinsContainer.addChild(_t),this.targets.push(_t)}this._applyPaytable()}_applyPaytable(){for(var o=this.targets.length-1;o>=0;o--){var Z=this.targets[o],$=Z.findChildByName("label"),pe=Z.findChildByName("body"),ve=h.Z.data.initData.paytable[this.linesCount],Re=ve[this.riskMode][o];$.text=Re,Z.payout=Re,Z.chance=ve.chances[o];var Me=2*Math.abs(Z.x)/kn;pe.tintR=Math.min(255,this.colors[this.riskMode].r*Me+this.colors.center.r*(1-Me)),pe.tintG=Math.min(255,this.colors[this.riskMode].g*Me+this.colors.center.g*(1-Me))}}_releaseTable(){for(;this.lines.length>0;)this.lines.pop().remove();for(;this.targets.length>0;)this.targets.pop().remove()}}var $n=d(4702),Ri=null,gi=1;function Gn(){Ri||(Ri=h.Z.pixiApp.view.getBoundingClientRect(),gi=Ri.width/h.Z.W)}class er extends wi.Z{init(){this.bouncingBounds=!1,super.init(),this.currentHtmlScale=0,this.currentHtmlOpacity=0,this.interactive=!0,this._overlayIntervalUpdate=this._overlayIntervalUpdate.bind(this),this._scripts=[]}onRemove(){super.onRemove(),this._releaseHtmlDiv()}update(){Ri=null,Gn(),this.handleScroll&&this._htmlDiv&&(this._htmlDiv.scrollHeight>this._htmlDiv.clientHeight?this.fullArea.h=Math.max(this.visibleArea.h,Math.floor(this._htmlDiv.scrollHeight/gi-1)):this.fullArea.h=this.visibleArea.h),super.update(),this.latestTime=h.Z.time,this.handleScroll&&this._htmlDiv&&(this._htmlDiv.scrollTop=-this.y*gi,this.y=-Math.round(this._htmlDiv.scrollTop/gi)),this._updateHtmlOpacity()}_updateHtmlOpacity(){var o=this.worldVisible&&this._htmlContent&&this.isCanBePressed&&Math.abs(this.worldTransform.a)>.1&&!this._isHtmlContentInvalidated?this.worldAlpha:0;this.currentHtmlOpacity=(0,$n.R3)(this.currentHtmlOpacity,o,this.fadeSpeed)}_overlayIntervalUpdate(){h.Z.time-this.latestTime>1&&this._updateHtmlOpacity(),this.worldVisible||this._releaseHtmlDiv()}_releaseHtmlDiv(){this._htmlDiv&&(this._htmlDiv.remove(),this._htmlDiv=null,clearInterval(this._overlayInterval),this._isHtmlContentInvalidated=!1,this.currentHtmlScale=0,this.currentHtmlOpacity=0);for(var o=0;o<this._scripts.length;o++)this._scripts[o].remove();this._scripts=[]}render(o){this._renderHtmlContainer(),super.render(o)}_renderCanvas(o){this._renderHtmlContainer(),super._renderCanvas(o)}_renderHtmlContainer(){if(this.currentHtmlOpacity>.001){if(!this._htmlDiv){this._htmlDiv=document.createElement("div"),this._htmlDiv.style.position="fixed",this._htmlDiv.innerHTML=this._htmlContent,this._htmlDiv.style.overflow="hidden",this._htmlDiv.style.zIndex=this.zIndex,this._htmlDiv.style.transformOrigin="0 0",this._applyClassName(),this.handleScroll&&(this._htmlDiv.style.pointerEvents="none");for(var o=0;o<this.domScripts.length;o++){var Z=this.domScripts[o],$=document.createElement("script");$.textContent=Z,this._scripts.push($)}document.body.appendChild(this._htmlDiv);for(var pe=0;pe<this._scripts.length;pe++)document.body.appendChild(this._scripts[pe]);this._isHtmlContentInvalidated=!1,this._overlayInterval=setInterval(this._overlayIntervalUpdate,1e3/60)}this._htmlDiv.style.opacity=this.currentHtmlOpacity,Ri=null,Gn(),this._htmlDiv.style.left=Ri.left+Math.round(this.parent.worldTransform.tx)*gi/h.Z.stage.scale.x+"px",this._htmlDiv.style.top=Ri.top+Math.round(this.parent.worldTransform.ty)*gi/h.Z.stage.scale.x+"px",this._htmlDiv.style.width=this.visibleArea.w*gi+"px",this._htmlDiv.style.height=this.visibleArea.h*gi+"px",Math.abs(this.currentHtmlScale-this.worldTransform.a)>.001&&(this.currentHtmlScale=this.worldTransform.a,this._htmlDiv.style.transform="scale("+(this.currentHtmlScale/h.Z.stage.scale.x).toFixed(3)+")")}else this._releaseHtmlDiv()}_onRenderResize(){this._applyClassName()}_applyClassName(){this._htmlDiv&&(this._htmlDiv.className=this.className+(h.Z.isPortrait?" portrait-":" landscape-")+this.className)}get innerHTML(){return this._htmlContent}set innerHTML(o){this._htmlContent!==o&&(this._isHtmlContentInvalidated=!!this._htmlDiv,this._htmlContent=o)}get domScripts(){return this._domScripts}set domScripts(o){this._domScripts!==o&&(this._domScripts=o)}}class _r extends Y{setY(o){var Z=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.yTo=o,Z&&(this.y=o,this.gotoLabelRecursive("no-animation"))}update(){this.ySpeed+=.05*(this.yTo-this.y),this.ySpeed*=.74,super.update()}getData(){return this.data}setData(o){this.data=o,o.win>0?this.getChildByName("lose-bg").remove():(o.win===0&&(this.getChildByName("lose-bg").image="EMPTY"),this.getChildByName("win-bg").remove())}startRemoving(){this.gotoLabelRecursive("remove")}}class ji extends F.Z{static delay(o,Z){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:h.Z.currentContainer;if(!(Z<=0)){var pe=W.Z.create(ji);return pe.delay=Z,pe.callback=o,$.addChild(pe),pe}o()}constructor(){super(),this.visible=!1}skip(){this.callback(),this.callback=null,this.remove()}update(){this.delay--,this.delay<1&&(this.callback(),this.remove())}}class Xn extends F.Z{constructor(){super(),this._removedChildren=[]}init(){super.init(),this.initialAlpha=this.alpha,this.initialScale=this.scale.x,this.initialX=this.x,this.initialY=this.y,this.qSpeed=0,this.triggering=!1,this._processedState=void 0,this.applyInstantly(),this.lastUpdateTime=h.Z.time}getState(){return!!this.invert==!(0,R.Z)(this.dataPath,this)}applyInstantly(){this.dataPath?this._state=this.getState():this._state=!!this.invert,this._state?this.q=0:this.q=1,this.qSpeed=0,this.updatePhase(),this.interactiveChildren=this._state||!this.isApplyInteractivity}show(){this._state=!0,this.interactiveChildren=!0,this.triggering=!0}set state(o){o?this.show():this.hide()}get state(){return this._state}hide(){this._state=!1,this.isApplyInteractivity&&(this.interactiveChildren=!1),this.triggering=!0,this.forAllChildren(Hn)}toggle(){this._state?this.hide():this.show()}updatePhase(){var o=this._state?0:1;if(this.pow===1||Math.abs(o-this.q)<.002&&Math.abs(this.qSpeed)<.002?(this.triggering=!1,this.q=o):(this.qSpeed+=(o-this.q)*this.pow,this.qSpeed*=this.damp,this.q+=this.qSpeed),this.alpha=this.initialAlpha+this.q*this.alphaShift,this.scaleShift!==0){var Z=this.initialScale+this.q*this.scaleShift;this.scale.x=Z,this.scale.y=Z}this.visible=this.alpha>.015&&Math.abs(this.scale.x)>.0015,!this.visible&&!this._state&&this.initialAlpha+this.alphaShift<=.015&&(this.triggering=!1,this.q=o),this.xShift!==0&&(this.x=this.initialX+this.q*this.xShift),this.yShift!==0&&(this.y=this.initialY+this.q*this.yShift)}update(){if(this.dataPath){var o=this.getState();this._state!==o&&this.toggle()}this.triggering&&(this.updatePhase(),!this._state&&h.Z.time-this.lastUpdateTime>1&&this.applyInstantly()),this.visible&&super.update(),this._processedState!==this._state&&(this._processedState=this._state,this._processedState?this.onEnable&&(0,z.Z)(this.onEnable,this):this.onDisable&&(0,z.Z)(this.onDisable,this)),this.lastUpdateTime=h.Z.time}}var Hn=g=>{g._onDisableByTrigger&&g._onDisableByTrigger()},pn=d(137);class tr{static fetch(o,Z){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"json",pe=arguments.length>3?arguments[3]:void 0,ve=pn.Z.promise((Re,Me)=>{fetch(Z,pe).then(Ye=>Ye[$]()).then(Re).catch(Me)},o);return ve.name="Request: "+Z,ve}}class _ extends F.Z{constructor(){super(),this.onWheel=this.onWheel.bind(this)}onWheel(o){if(this.isCanBePressed){var Z=0,$=h.Z.mouseEventToGlobalXY(o);this.hitArea?(this.toLocal($,void 0,$),this.hitArea.contains($.x,$.y)&&(Z=o.deltaY,o.stopPropagation(),o.preventDefault())):this.getBounds().contains($.x,$.y)&&(Z=o.deltaY,o.stopPropagation(),o.preventDefault()),Z<0?this.canIncrease?this.increase():this.ySpeed=-1:Z>0&&(this.canDecrease?this.decrease():this.ySpeed=1)}}init(){super.init(),this.currentInterval=0,this.showedVal=void 0,this.defaultValue=this.value,this.on("pointerdown",this.onDown),this.buttonMode=!0,this.cursor="ns-resize",this.dragging=!1,this.ySpeed=0,this._currentTextField=null,this._prevTextField=null,this.valuesList?this.setValuesList(this.valuesList.split(",").map(o=>parseFloat(o))):this._values=null,this.resetValue(),document.addEventListener("wheel",this.onWheel,!0)}onRemove(){super.onRemove(),this._prevTextField=null,this._currentTextField=null,document.removeEventListener("wheel",this.onWheel,!0)}get canDecrease(){return this.value>this.min||this.wrapValue}get canIncrease(){return this.value<this.max||this.wrapValue}get canDecreaseVisual(){return(this.value>this.min||this.wrapValue)&&this.isCanBePressed}get canIncreaseVisual(){return(this.value<this.max||this.wrapValue)&&this.isCanBePressed}setValuesList(o){this._values=o,this.min=this._values[0],this.max=this._values[this._values.length-1]}formatValue(o){return yn.Z.formatMoney(o,this.decimalsCount)}update(){if(this.currentInterval<=0&&this.dataPath){var o=(0,R.Z)(this.dataPath,this);this.setValue(o),this.currentInterval=this.refreshInterval}else this.currentInterval--;if(this.value!==this.showedVal){var Z,$;this._prevTextField&&(this._prevTextField.remove(),this._currentTextField.y=0),this._prevTextField=this._currentTextField,this.textView?(this._currentTextField=B.Z.loadPrefab(this.textView),Z=this._currentTextField instanceof sn.Z?this._currentTextField:this._currentTextField.findChildrenByType(sn.Z)[0]):(Z=B.Z._loadClassInstanceById("Text"),this._currentTextField=Z),this._prevTextField?($=this.wrapValue?this.showedVal<this.value&&!(this.showedVal===this.min&&this.value===this.max)||this.showedVal===this.max&&this.value===this.min:this.showedVal<this.value,this._currentTextField.y=$?this._prevTextField.height:-this._prevTextField.height,this._currentTextField.y+=this._prevTextField.y):this._currentTextField.y=0,this._currentTextField.x=0,Z.text=this.formatValue(this.value),this.addChild(this._currentTextField),this.showedVal=this.value}if(this.dragging)if(h.Z.mouse.click){for(var pe=.5*this._currentTextField.height,ve=h.Z.mouse.y-this.startDragY;ve>pe;){if(!this.canDecrease){this.startDragY=h.Z.mouse.y;break}this.decrease(),ve-=2*pe,this.startDragY+=2*pe}for(;ve<-pe;){if(!this.canIncrease){this.startDragY=h.Z.mouse.y;break}this.increase(),ve+=2*pe,this.startDragY-=2*pe}this.ySpeed+=.1*(h.Z.mouse.y-this.prevDragY),this.prevDragY=h.Z.mouse.y}else this.dragging=!1;this._currentTextField&&(this.ySpeed+=-.15*this._currentTextField.y,this.ySpeed*=.7,this._currentTextField.y+=this.ySpeed,this._currentTextField.alpha=1-Math.abs(this._currentTextField.y/this._currentTextField.height)),this._prevTextField&&(this._prevTextField.y+=this.ySpeed,this._prevTextField.alpha=1-this._currentTextField.alpha,Math.abs(this._prevTextField.y)>=this._prevTextField.height-4&&(this._prevTextField.remove(),this._prevTextField=null)),super.update()}onDown(){this.dragging=!0,this.prevDragY=h.Z.mouse.y,this.startDragY=this.prevDragY}resetValue(){this.setValue(this.defaultValue)}increase(o){if(this._values){var Z=this._values;this.wrapValue?this.setValue(Z[(Z.indexOf(this.value)+1)%Z.length]):this.setValue(Z[Math.min(Z.indexOf(this.value)+1,Z.length-1)])}else this.setValue(this.value+(o||this.step))}decrease(o){if(this._values){var Z=this._values;this.wrapValue?this.setValue(Z[(Z.indexOf(this.value)-1)%Z.length]):this.setValue(Z[Math.max(Z.indexOf(this.value)-1,0)])}else this.setValue(this.value-(o||this.step))}_modValue(o){var Z=this.max-this.min+1;return((o-this.min)%Z+Z)%Z+this.min}setValue(o){o<this.min?o=this.wrapValue?this._modValue(o):this.min:o>this.max&&(o=this.wrapValue?this._modValue(o):this.max),o!==this.value&&(this.dataPath&&(0,R.P)(this.dataPath,o,this),this.value=o,this.onChanged&&(0,z.Z)(this.onChanged,this))}refreshNow(){this.currentInterval=0}}function t(g,o,Z,$){return new(Z||(Z=Promise))(function(pe,ve){function Re(nt){try{Ye($.next(nt))}catch(Xe){ve(Xe)}}function Me(nt){try{Ye($.throw(nt))}catch(Xe){ve(Xe)}}function Ye(nt){var Xe;nt.done?pe(nt.value):(Xe=nt.value,Xe instanceof Z?Xe:new Z(function(At){At(Xe)})).then(Re,Me)}Ye(($=$.apply(g,o||[])).next())})}function i(g,o){var Z,$,pe,ve,Re={label:0,sent:function(){if(1&pe[0])throw pe[1];return pe[1]},trys:[],ops:[]};return ve={next:Me(0),throw:Me(1),return:Me(2)},typeof Symbol=="function"&&(ve[Symbol.iterator]=function(){return this}),ve;function Me(Ye){return function(nt){return function(Xe){if(Z)throw new TypeError("Generator is already executing.");for(;Re;)try{if(Z=1,$&&(pe=2&Xe[0]?$.return:Xe[0]?$.throw||((pe=$.return)&&pe.call($),0):$.next)&&!(pe=pe.call($,Xe[1])).done)return pe;switch($=0,pe&&(Xe=[2&Xe[0],pe.value]),Xe[0]){case 0:case 1:pe=Xe;break;case 4:return Re.label++,{value:Xe[1],done:!1};case 5:Re.label++,$=Xe[1],Xe=[0];continue;case 7:Xe=Re.ops.pop(),Re.trys.pop();continue;default:if(!((pe=(pe=Re.trys).length>0&&pe[pe.length-1])||Xe[0]!==6&&Xe[0]!==2)){Re=0;continue}if(Xe[0]===3&&(!pe||Xe[1]>pe[0]&&Xe[1]<pe[3])){Re.label=Xe[1];break}if(Xe[0]===6&&Re.label<pe[1]){Re.label=pe[1],pe=Xe;break}if(pe&&Re.label<pe[2]){Re.label=pe[2],Re.ops.push(Xe);break}pe[2]&&Re.ops.pop(),Re.trys.pop();continue}Xe=o.call(g,Re)}catch(At){Xe=[6,At],$=0}finally{Z=pe=0}if(5&Xe[0])throw Xe[1];return{value:Xe[0]?Xe[1]:void 0,done:!0}}([Ye,nt])}}}(function(){(console.warn||console.log).apply(console,arguments)}).bind("[clipboard-polyfill]");var r,m,H,ie,ce=typeof navigator>"u"?void 0:navigator,me=ce==null?void 0:ce.clipboard,Le=((r=me==null?void 0:me.read)===null||r===void 0||r.bind(me),(m=me==null?void 0:me.readText)===null||m===void 0||m.bind(me),(H=me==null?void 0:me.write)===null||H===void 0||H.bind(me),(ie=me==null?void 0:me.writeText)===null||ie===void 0?void 0:ie.bind(me)),He=typeof window>"u"?void 0:window,$e=(He==null||He.ClipboardItem,He);function ht(){return typeof ClipboardEvent>"u"&&$e.clipboardData!==void 0&&$e.clipboardData.setData!==void 0}var bt=function(){this.success=!1};function It(g,o,Z){for(var $ in g.success=!0,o){var pe=o[$],ve=Z.clipboardData;ve.setData($,pe),$==="text/plain"&&ve.getData($)!==pe&&(g.success=!1)}Z.preventDefault()}function Rt(g){var o=new bt,Z=It.bind(this,o,g);document.addEventListener("copy",Z);try{document.execCommand("copy")}finally{document.removeEventListener("copy",Z)}return o.success}function wt(g,o){ei(g);var Z=Rt(o);return hi(),Z}function ei(g){var o=document.getSelection();if(o){var Z=document.createRange();Z.selectNodeContents(g),o.removeAllRanges(),o.addRange(Z)}}function hi(){var g=document.getSelection();g&&g.removeAllRanges()}function Pi(g){return t(this,void 0,void 0,function(){var o;return i(this,function(Z){if(o="text/plain"in g,ht()){if(!o)throw new Error("No `text/plain` value was specified.");if($=g["text/plain"],$e.clipboardData.setData("Text",$))return[2,!0];throw new Error("Copying failed, possibly because the user rejected it.")}var $;return Rt(g)?[2,!0]:navigator.userAgent.indexOf("Edge")>-1?[2,!0]:wt(document.body,g)?[2,!0]:function(pe){var ve=document.createElement("div");ve.setAttribute("style","-webkit-user-select: text !important"),ve.textContent="temporary element",document.body.appendChild(ve);var Re=wt(ve,pe);return document.body.removeChild(ve),Re}(g)?[2,!0]:function(pe){var ve=document.createElement("div");ve.setAttribute("style","-webkit-user-select: text !important");var Re=ve;ve.attachShadow&&(Re=ve.attachShadow({mode:"open"}));var Me=document.createElement("span");Me.innerText=pe,Re.appendChild(Me),document.body.appendChild(ve),ei(Me);var Ye=document.execCommand("copy");return hi(),document.body.removeChild(ve),Ye}(g["text/plain"])?[2,!0]:[2,!1]})})}function ir(g){return t(this,void 0,void 0,function(){return i(this,function(o){if(Le)return[2,Le(g)];if(!Pi(function(Z){var $={};return $["text/plain"]=Z,$}(g)))throw new Error("writeText() failed");return[2]})})}class dn extends Xn{get isItMobile(){return h.Z.isMobile.any}init(){h.Z.data.provability={clientSeed:[]},this.data=null;var o=this.findChildByName("client-seed-controls");this.clientSeedInputs=o.findChildrenByType(_),this.slotLeftBorder=this.findChildByName("slot-left-border"),this.randomizeClientSeed(),super.init()}onRemove(){super.onRemove(),this.shiftForSpinTrigger=null,this.clientSeedInputs=null,this.slotLeftBorder=null}show(){super.show(),this._applyLayout(),this.isHidedForSpin=!1}hideProvabilityForSpin(){this.isItMobile?h.Z.all.popupsLayer.hideAll():this.isHidedForSpin=!0}showProvabilityAfterSpin(){this.isItMobile?h.Z.all.popupsLayer.showProvability():this.isHidedForSpin=!1}get isProvabilityEnabled(){return this.data}_applyTextToButton(o,Z){var $=this.findChildByName(o);$.findChildByName("label").text=Z,$ instanceof fi.Z&&($.callback=()=>{this.copyTextToClipboard(Z)})}copyTextToClipboard(o){ir(o).then(()=>{yi.flyText((0,K.Z)("provability.copied_to_clipboard"),h.Z.mouse.x,h.Z.mouse.y-30,void 0,-90)})}applyResult(o){o&&o.extra_data&&o.extra_data.provable_data&&(this.randomizeClientSeed(),this.data=o.extra_data.provable_data,this.isVerified=!1,this._applyTextToButton("next-game-hash-btn",this.data[0].hash),this.data[1]&&(this._applyTextToButton("last-game-hash-btn",this.data[1].hash),this._applyTextToButton("last-game-final-result-btn",this.data[1].result),this._applyTextToButton("last-game-result-btn",this.data[1].secret),this._applyTextToButton("last-game-client-seed",this.data[1].client_seed)))}randomizeClientSeed(){for(var o of(h.Z.data.provability.clientSeed=[],this.clientSeedInputs))(0,R.P)(o.dataPath,Math.floor(o.min+Math.random()*(o.max-o.min)),o)}onVerifyClick(){tr.fetch(this,h.Z.casinoOptions.provable_fair.verify_url,"json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({secret:this.data[1].secret,client_seed:this.data[1].client_seed})}).then(o=>{o&&(this.isVerified=!0,this.isVerificationSuccess=o.hash===this.data[1].hash)})}_applyLayout(){var o=h.Z.W,Z=h.Z.H,$=this.isItMobile&&!h.Z.isPortrait;this.pow=this.isItMobile?1:.1,this.isItMobile||(o=Math.round(.5*Z)-100);var pe=this.findChildrenByName("orientation-trigger");for(var ve of pe)$?ve.hide():ve.show();this.findChildByName("provability-close-btn-container").x=o;var Re=this.findChildByName("provability-background");Re&&(Re.pivot.x=100,Re.width=o+100,Re.height=Z);var Me,Ye=this.findChildByName("provability-container");Ye&&(Ye.x=Math.round(o/2),Ye.y=Math.round(Z/2),Me=$?Math.min((o-600)/800,Z/600):this.isItMobile?Math.min(o/440,(Z-310)/1080):Math.min(o/440,Z/1080),Ye.scale.x=Me,Ye.scale.y=Me);var nt=(0,K.Z)("provability.hash"),Xe=(0,K.Z)("provability.result"),At=(0,K.Z)("provability.secret"),dt=this.findChildByName("hash-result-secret-label"),_t=this.findChildByName("hash-result-secret-label2"),qt=this.findChildByName("result-secret-label");dt.text=_t.text=nt+" ("+Xe+" + "+At+")",qt.text=Xe+" + "+At;var $t=this.findChildByName("shift-for-spin");if($t&&!this.isItMobile&&Re){var Ni=h.Z.W/2-650;$t.xShift=Math.min(Ni-(Re.width-Re.pivot.x),0),$t.state=!!$t.state}}static getCurrentClientSeed(){return Number(h.Z.data.provability.clientSeed.join(""))||0}_onRenderResize(){this._applyLayout()}}var nr=d(3339),Wi=d(2517),jr=d(3732),wr=d(4247),rr="application/json",Oi={},$i=void 0;Zr()&&d.e(51).then(d.bind(d,7051)).then(g=>$i=g.default);class Wr{constructor(o){this.setCasinoOptions(o)}setCasinoOptions(o){Oi={},this.currentGameId=o.identifier,this.apiUrl=o.api,this.rulesUrl=o.rules_url,this.lobbyUrl=o.lobby_launch_url,this.headers={"Content-Type":rr},this.headers[o.csrfTokenHeaderName]=o.csrfTokenHeaderValue,$i&&$i.initialize()}requestRules(){return fetch(this.rulesUrl,{headers:{Accept:rr}}).then(Rr)}requestURL(o,Z,$){var pe,ve,Re={method:Z?"POST":"GET",headers:this.headers};if(Z&&((pe=$i)===null||pe===void 0||!pe.isPlaybackActive)){if(Re.body=JSON.stringify(Z),Oi[Re.body]){var Me=Promise.resolve(Oi[Re.body]);return Oi[Re.body]=null,Me}Oi[Re.body]=null}if((ve=$i)!==null&&ve!==void 0&&ve.isPlaybackActive){var Ye,nt=(Ye=$i)===null||Ye===void 0?void 0:Ye.getItem(Z);return Promise.resolve(nt)}return new Promise((Xe,At)=>{Pr(o,Re,dt=>(this.additionalResponseProcessing(dt,o,Z,$),Rr(dt).then(async _t=>{var qt;return!$&&$i&&await((qt=$i)===null||qt===void 0?void 0:qt.addItem(Re,_t,o,{method:"POST",headers:this.headers,body:'{"command": "init"}'})),_t}).then(Xe).catch(At)),At)})}request(o,Z){return this.requestURL(this.apiUrl,o,Z)}prepareRequest(o){var Z=JSON.stringify(o);Oi.hasOwnProperty(Z)||(this.request(o).then($=>{Oi.hasOwnProperty(Z)||(Oi[Z]=$)}),delete Oi[Z])}additionalResponseProcessing(o,Z,$,pe){this.verifyDigest(o,Z),pe||this.addSentryBreadcrumb(o,Z,$)}async addSentryBreadcrumb(o,Z,$){try{if(!wr.U||!nr)return;var pe=await o.clone().json();pe.options&&(pe.options="{...}"),Wi.n_({type:"info",category:"api.response",data:{url:Z,request:JSON.stringify($),response:JSON.stringify(pe)},level:jr.z.Info})}catch{return}}async verifyDigest(o,Z){if(o.headers.has("digest"))try{var $=o.headers.get("digest"),[pe,ve]=$.split("="),Re=atob(ve),Me=await o.clone().text();Re!==await this.generateDigest(pe,Me)&&wr.U&&Wi.$e(Ye=>{Ye.setExtra("request-url",Z),Ye.setExtra("x-request-id",o.headers.get("x-request-id")),Ye.setExtra("responseText",Me.substring(0,199e3)),Wi.Tb(new Error("Response checksum mismatch"))})}catch{return}}async generateDigest(o,Z){var $=new TextEncoder().encode(Z),pe=await crypto.subtle.digest(o,$),ve=Array.from(new Uint8Array(pe)).map(Re=>Re.toString(16).padStart(2,"0")).join("");return ve}}var Rr=g=>g.json(),vr=!1,jn=[];function Pr(g,o,Z,$){if(vr)jn.push(Array.from(arguments));else{vr=!0;var pe=!1,ve=()=>{pe||(vr=!1,jn.length&&Pr.apply(null,jn.shift()),pe=!0)};fetch(g,o).then(Re=>{ve(),Z(Re)}).catch(Re=>{ve(),$(Re)})}}function Zr(){return window.location.origin.indexOf("dev.bgaming-system")>-1}var Or=(h.Z.isMobile.apple.phone||h.Z.isMobile.apple.ipod)&&navigator.vendor&&navigator.vendor.indexOf("Apple")>-1&&navigator.userAgent&&navigator.userAgent.indexOf("CriOS")==-1&&navigator.userAgent.indexOf("FxiOS")==-1;function Vr(){try{return window.self!==window.top}catch{return!0}}h.Z.isIosSafari=Or;var mi,Sn,Ar,yr=Vr(),br="",xr=!h.Z.isPortrait,In=document.body.style,Cr=.9;function Mr(){mi=document.createElement("div"),Sn=Math.min(screen.width,screen.height),mi.style.height=Sn+3e3+"px",mi.style.width="100%",mi.style.position="absolute",document.body.appendChild(mi),window.addEventListener("touchend",function(){h.Z.isPortrait&&!h.Z.isNeedScrollTopIosSafari&&(clearTimeout(Ar),Ar=setTimeout(()=>{mi.style.height=window.innerHeight+"px",this.setTimeout(()=>h.Z.onResize())},100))})}Or&&setInterval(function(){if(h.Z.currentContainer&&h.Z.casinoOptions.ui.full_screen_prompt){h.Z.isLandscapeSafariIos=!h.Z.isPortrait,(h.Z.isLandscapeSafariIos||xr)&&(Sn=Math.min(screen.width,screen.height),h.Z.isNeedScrollTopIosSafari=window.innerHeight<Sn*Cr,xr=!h.Z.isPortrait);var g=`${h.Z.isNeedScrollTopIosSafari} ${h.Z.isPortrait}`;br!==g&&(br=g,yr?h.Z.isNeedScrollTopIosSafari?h.Z.pixiApp.renderer.view.style.touchAction="auto":h.Z.pixiApp.renderer.view.style.removeProperty("touch-action"):(mi||Mr(),document.documentElement.style.position="static",In.position="static",h.Z.isNeedScrollTopIosSafari?(h.Z.pixiApp.renderer.plugins.interaction.autoPreventDefault=!1,mi.style.zIndex=1e3,mi.style.height=Sn+3e3+"px",In.overflow="unset",In.height=Sn+3e3+"px",document.documentElement.style.height="100%",document.documentElement.style.overflow="unset",setTimeout(()=>{window.scrollTo(0,2),window.scrollTo(0,0)},80)):(h.Z.pixiApp.renderer.plugins.interaction.autoPreventDefault=!0,mi.style.zIndex=-1,In.overflow="hidden",In.height="100%",document.documentElement.style.height="100%",document.documentElement.style.overflow="hidden"),mi.style.display=h.Z.isPortrait?"none":"inline")),!yr&&h.Z.isNeedScrollTopIosSafari&&(h.Z.currentFader||h.Z.isPortrait||h.Z.currentContainer.name==="thing-games-utils/safari-arrow-up"||h.Z.showModal("thing-games-utils/safari-arrow-up"))}},100);class Dr{constructor(){Xi(this,"isRealityCheckEnabled",!1);Xi(this,"realityCheckTriggerInterval",0);Xi(this,"isPopupActive",!1);Xi(this,"popupTriggeredTime",0);Xi(this,"sessionStart",Date.now());Xi(this,"userOverallBet",0);Xi(this,"userOverallWin",0)}get isNeedToShowPopup(){return!(this.isPopupActive||!this.isRealityCheckEnabled)&&this.realityCheckTriggerInterval!==0&&this.sessionTime>this.realityCheckTriggerInterval&&this.timeFromLastPopupShown>=this.realityCheckTriggerInterval}get userOverallLose(){return Math.max(this.userOverallBet-this.userOverallWin,0)}get sessionTime(){return Date.now()-this.sessionStart}get timeFromLastPopupShown(){return Date.now()-this.popupTriggeredTime}get timeToNextTrigger(){var o=Math.max(this.realityCheckTriggerInterval-this.timeFromLastPopupShown,0);return this.isRealityCheckEnabled?o:-1}}const Nr=Dr;class Lr{constructor(){this.model=new Nr,this.checkTimeoutId=void 0}initialize(){this.checkBounded=this.checkForReality.bind(this),li.Z.addListener((o,Z,$)=>this._gameEventHandler(o,Z,$))}startSession(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:216e6;this.model.sessionStart=Date.now(),this.model.popupTriggeredTime=Date.now(),this.model.userOverallBet=0,this.model.userOverallWin=0,this.model.realityCheckTriggerInterval=o,this.model.isRealityCheckEnabled=o!==void 0&&o>0,this._scheduleRealityCheck()}restartRealityCheckSession(){this.model.sessionStart=Date.now(),this.model.popupTriggeredTime=Date.now(),this._scheduleRealityCheck()}clearRealityCheckSchedule(){var o;this.checkTimeoutId!==void 0&&(o=this.model)!==null&&o!==void 0&&o.isRealityCheckEnabled&&clearTimeout(this.checkTimeoutId)}checkForReality(){this.model.isNeedToShowPopup&&(this.model.isPopupActive=!0,h.Z.showModal("thing-games-utils/reality-check-popup",()=>{this.model.isPopupActive=!1,this.model.popupTriggeredTime=Date.now()})),this._scheduleRealityCheck()}updateSessionBet(o){o>0&&(this.model.userOverallBet+=o)}updateSessionWin(o){o>0&&(this.model.userOverallWin+=o)}_scheduleRealityCheck(){if(this.clearRealityCheckSchedule(),this.model.isRealityCheckEnabled){var o=this.model.timeToNextTrigger;this.checkTimeoutId=setTimeout(this.checkBounded,o)}}_gameEventHandler(o,Z,$){switch(o){case ai.Z.GAME_INITIALIZED:this.startSession(this._realityCheckInterval);break;case ai.Z.FINISH_SPIN_ANIMATIONS:case ai.Z.FINISH_ROUND_ANIMATIONS:this.checkForReality();break;case ai.Z.PRE_PLAY:this.clearRealityCheckSchedule();break;case ai.Z.PLAY:this.updateSessionBet(h.Z.data.balanceChargedForSpin),this.updateSessionWin($.win)}}get _realityCheckInterval(){var o,Z,$;return((o=h.Z.casinoOptions)===null||o===void 0||(Z=o.license_rules)===null||Z===void 0||($=Z.reality_check)===null||$===void 0?void 0:$.interval)||0}}const wn=new Lr;var Br=d(6107),kr=d(2447),Tr={finish:"close",check_card:"gamble"},ar={command:"init"},sr=new URLSearchParams(window.location.search).get("lang");function Er(){h.Z.casinoOptions=window.__OPTIONS__,sr&&(h.Z.casinoOptions.rules_url=h.Z.casinoOptions.rules_url.replace("/"+h.Z.casinoOptions.locale+"/","/"+sr+"/"),h.Z.casinoOptions.locale=sr),h.Z.casinoOptions.ui.logo_visible=h.Z.casinoOptions.ui.logo!=="hidden",h.Z.casinoOptions.ui.isTinyAutospinsDialog=h.Z.casinoOptions.ui.autospins_dialog==="tiny",h.Z.casinoOptions.ui.isAutospinAvailable=h.Z.casinoOptions.ui.autospins_dialog!=="disable",Br.utils.isMobile.any&&(h.Z.casinoOptions.ui.home_button=!0),h.Z.casinoOptions.actions.return||(h.Z.casinoOptions.ui.home_button=!1),h.Z.casinoOptions.history_url=h.Z.casinoOptions.actions.history&&h.Z.casinoOptions.actions.history.link}Er(),wn.initialize();var Ui,Sr,Wn,_i=new Wr(h.Z.casinoOptions);function fn(){Sr=Date.now()}var Fr=5e3;function Ur(){var g;if((g=h.Z.casinoOptions)!=null&&g.replay)return!1;if(Wn)fn();else if(Date.now()>Sr+Fr-500)return!0}function Ci(g){h.Z.data.lastDataWithBalanceForBalanceChecking&&(isNaN(h.Z.data.lastDataWithBalanceForBalanceChecking.balance)?typeof h.Z.data.lastDataWithBalanceForBalanceChecking.balance!="object"||isNaN(h.Z.data.lastDataWithBalanceForBalanceChecking.balance.wallet)||(h.Z.data.lastDataWithBalanceForBalanceChecking.balance.wallet=g):h.Z.data.lastDataWithBalanceForBalanceChecking.balance=g,h.Z.data.latestReceivedBalance=g,h.Z.currentScene&&h.Z.currentScene.refreshBalanceFast&&h.Z.currentScene.refreshBalanceFast())}function Zi(g){var o=g.balance;return typeof o=="object"&&(o=o.wallet),o}function Yr(g){return g&&!isNaN(Zi(g))}class Mi{constructor(){Mi.instance=this,h.Z.SharedAPI=this,this.isRequestCommandAvailable=this.isRequestCommandAvailable.bind(this),h.Z.__APIBalanceUpdateInterval&&clearInterval(h.Z.__APIBalanceUpdateInterval),h.Z.__APIBalanceUpdateInterval=setInterval(()=>{Ur()&&this.request({command:"init",options:{balance:!0}},null,!0).then(o=>{if(Ur()&&o){var Z=Zi(o);typeof Z=="number"&&Z!==h.Z.data.latestReceivedBalance&&Ci(Z)}}).finally(()=>{fn()})},1e3),this.onApiReady()}restartGame(o){or(o)}initCurrency(o,Z){var $=o.options.currency,pe=$.subunits,ve=Math.log10(pe);this.subUnits=pe,Mi.subunitsDigitsCount=ve;var Re,Me=dt=>{var _t=(dt/pe).toString().split(".");return _t.length>1?_t[1].replace(/0+$/gm,"").length:0};Array.isArray(Z)||(Z=[Z]);var Ye=(()=>{var dt=o.options.paytable||o.options.paytables||o.paytable||{},_t=Object.values(dt).flat(1/0);return _t.length&&isNaN(_t[0])&&(_t=_t.map(qt=>Object.values(qt)).flat(1/0)),_t})(),nt=Ye.map(dt=>Z.map(_t=>(_t||0)*dt)).flat().filter(dt=>dt>0).map(Me);Re=Math.max.apply(null,nt),Re=Math.min(ve,Re),h.Z.data.currencyDigits=Math.max($.exponent||0,Re),h.Z.data.currency=(0,R.Z)("this.options.currency.code",o)||"BTC";var Xe,At=(o.balance/this.subUnits).toString().split(".");Xe=At.length>1?At[1].replace(/0+$/gm,"").length:0,Xe=Math.min(Mi.subunitsDigitsCount,Xe),h.Z.data.balanceDigitsCount=Math.max(h.Z.data.currencyDigits,Xe)}openHistory(){li.Z.track("go_history"),Mi.actionExec(h.Z.casinoOptions.actions.history)}globalDataHandler(o){if(o&&(h.Z.data.latestData=o,o.options&&(h.Z.data.currencyDivider=o.options.currency.subunits),o.flow||(o.flow={state:o.game.state,available_actions:o.available_commands,command:o.requested_command}),o.hasOwnProperty("balance")&&(isNaN(o.balance)&&(o.gameTotalWin=o.balance.game,o.balance.game>0&&o.flow.state==="closed"&&(o.balance.hasOwnProperty("free_rounds")?o.balance.free_rounds+=o.balance.game:o.balance.wallet+=o.balance.game,o.balance.game=0),o.free_rounds&&(o.free_rounds.win=o.balance.free_rounds,o.free_rounds.status==="played"&&(o.balance.wallet+=o.balance.free_rounds,o.balance.free_rounds=0)),o.balance=o.balance.wallet),h.Z.data.latestReceivedBalance=o.balance),o.flow.available_actions)){var Z={};for(var $ of o.flow.available_actions)Tr.hasOwnProperty($)&&($=Tr[$]),Z[$]=!0;o.available_commands=Z}}setGameId(o){_i.currentGameId!==o&&this.request(_i.lobbyUrl+(_i.lobbyUrl.indexOf("?")>0?"&":"?")+"game="+o+"&from="+_i.currentGameId,h.Z.currentFader).then(Z=>{_i.setCasinoOptions(Z),Ui=null,window.initializeCasinoOptions(Z),Er();try{window.history.replaceState(o,o,Z.game_page_url)}catch{}}).catch(()=>{this.showError()})}request(o){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,$=arguments.length>2&&arguments[2]!==void 0&&arguments[2];$||fn();var pe=this.currentRequestInProgress,ve=typeof o=="string",Re=pn.Z.promise((Me,Ye)=>{var nt=()=>{if(Qi.Z.isReplayMode())return Me(Qi.Z.getNextResponse());(ve?_i.requestURL(o,null,$):_i.request(o,$)).then(Me).catch(Ye)};pe?pe.finally(nt):nt()},Z||h.Z.currentContainer).then(Me=>{if(this.currentRequestInProgress===Re&&(this.currentRequestInProgress=null,Wn=!1),!ve){if(this.handleDataErrors(Me,$))return h.Z.data.lastDataWithBalanceForBalanceChecking&&Ci(Zi(h.Z.data.lastDataWithBalanceForBalanceChecking)),null;Me.requested_command=o.command,Yr(Me)&&(h.Z.data.lastDataWithBalanceForBalanceChecking=Me),$||(this.checkForMessagesToShow(Me),this.globalDataHandler(Me)),$||o!==ar||(li.Z.track(ai.Z.BALANCE_UPDATE,null,{amount:Me.balance}),li.Z.track(ai.Z.GAME_LOADED,h.Z.casinoOptions.identifier)),li.Z.track(ai.Z.API_RESPONSE,Me.requested_command,{responseData:Me,isBalanceCheckRequest:$})}}).catch(()=>{this.currentRequestInProgress===Re&&(this.currentRequestInProgress=null,Wn=!1),h.Z.data.lastDataWithBalanceForBalanceChecking&&Ci(Zi(h.Z.data.lastDataWithBalanceForBalanceChecking)),$||this.showError()}).finally(()=>{this.currentRequestInProgress===Re&&(this.currentRequestInProgress=null,Wn=!1),$||fn()});return this.currentRequestInProgress=Re,Wn=!0,Re}isRequestCommandAvailable(o){return!o.command||o.command==="init"||this.isCommandAvailable(o.command)}initGame(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:h.Z.currentFader;return Qi.Z.initGame(),this.request(ar,o)}onApiReady(){kr.projectDesc.disableInitDataPreparing||(_i==null||_i.prepareRequest(ar))}showRules(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",Z=h.Z.showModal("ui/html-popup").findChildByName("html");Ui?(Z.domScripts=Ui.scripts,Z.innerHTML=Ui.content):(Z.domScripts=[],Z.innerHTML=(0,K.Z)("loading"),this.requestRulesContent(o).then($=>{var{content:pe,scripts:ve}=$;Z.domScripts=ve,Z.innerHTML=pe}))}requestRulesContent(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return Ui?pn.Z.resolve(Ui):pn.Z.promise(Z=>{_i.requestRules().then($=>{var pe=$?$.content:"";if($&&$.contentUpdateScript)try{pe=new Function("content",$.contentUpdateScript)(pe)}catch{}Ui={content:pe="<style>"+zr+o+"</style>"+pe+"<br><br>",scripts:($==null?void 0:$.domScripts)||[]},Z(Ui)})})}isCommandAvailable(o){return h.Z.data.available_commands&&h.Z.data.available_commands[o]}playGame(o,Z,$){return this.request({command:"play",options:{bet:o,risk_level:Z,rows:$}})}handleDataErrors(o,Z){if(!o)return Z||this.showError(),!0;if(o.errors&&o.errors.length>0){if(!Z){var $=o.errors[0].code;$===700?this.showCustomButtonsMessage(o.errors[0]):this.showError($,o.errors[0].text)}return!0}}showCustomButtonsMessage(o){var Z=B.Z.loadPrefab("thing-games-utils/sure-question700");Z.findChildByName("title").text=o.desc,Z.findChildByName("message").text=o.text;var $=Z.findChildrenByName("btn"),pe=[],ve=o.buttons.filter(nt=>nt.action!=="history"||h.Z.casinoOptions.actions.history);$.forEach((nt,Xe)=>{var At=ve[Xe];nt.visible=At&&!0,nt.visible&&(pe.push(nt),nt.findChildByName("label").text=At.text,nt.callback=()=>{switch(At.action){case"home":this.gotoHome();break;case"history":this.openHistory();break;case"deposit":Gr(),or();break;default:or()}})});var Re=$[1].x-$[0].x,Me=-Math.round(Re*(pe.length-1)/2);for(var Ye of pe)Ye.x=Me,Me+=Re;h.Z.showModal(Z)}static actionExec(o){var Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:()=>{};if(o)switch(li.Z.track(ai.Z.ACTION_EXEC,o.mode),o.mode){case"continue":Z();break;case"open":h.Z.openUrl(o.link),Z();break;case"redirect":h.Z.openUrl(o.link,"_top"),Z();break;case"request":_i.requestURL(o.link),Z();break;case"request_with_response":_i.requestURL(o.link).finally(()=>Z());break;case"back":window.history.go(-1),Z();break;default:o.link&&h.Z.openUrl(o.link),Z()}}checkForMessagesToShow(o){o&&o.messages&&o.messages.forEach(Z=>{var $=B.Z.loadPrefab("thing-games-utils/api-message");$.findChildByName("title").text=Z.title,$.findChildByName("message").text=Z.text;var pe,ve=$.findChildByName("close-btn"),Re=$.findChildrenByName("btn"),Me=[],Ye=()=>{Z.intrusive||h.Z.hideModal(pe)};ve.visible=!Z.intrusive,ve.callback=Ye,Re.forEach((dt,_t)=>{var qt=Z.actions?Z.actions[_t]:null;dt.visible=!!qt,dt.visible&&(Me.push(dt),dt.findChildByName("label").text=qt.text,dt.callback=()=>{Mi.actionExec(qt,Ye)})});var nt=Re[1].x-Re[0].x,Xe=-Math.round(nt*(Me.length-1)/2);for(var At of Me)At.x=Xe,Xe+=nt;pe=h.Z.showModal($)})}showError(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"some_error",Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,$="errors."+o;K.Z.has($)||($="errors.default");var pe=o==301,ve=h.Z.casinoOptions.actions.deposit;pe&&!ve&&($+="nodep");var Re="",Me=Z||(0,K.Z)($,{code:o||0});li.Z.track(ai.Z.ERROR,o,{messageText:Me}),pe&&ve?h.Z.showQuestion(Re,Me,"buttons.deposit",()=>{Gr(),lr()},"buttons.ok",lr):h.Z.showQuestion(Re,Me,"buttons.ok",()=>{lr()},void 0,()=>{lr()})}static sendSentryError(o){var Z=new Error(o);setTimeout(()=>{throw Z},0)}gotoHome(){li.Z.track(ai.Z.GO_HOME),Mi.actionExec(h.Z.casinoOptions.actions.return)}}function Gr(){li.Z.track("go_deposit",null,{target:h.Z.casinoOptions.actions.deposit.link}),Mi.actionExec(h.Z.casinoOptions.actions.deposit)}function or(g){h.Z.closeAllScenes(g)}function lr(){or()}var zr=`
.casino-modal h1 {
	text-align: center;
	font-size: 120%;
	margin:9px 0;
	margin-top: 30px;
	color: #ffffff;
}
.casino-modal h2 {
	text-align: center;
	font-size: 110%;
	margin:7px 0;
	margin-top: 20px;
	color: #ffffff;
}

.casino-modal {
	line-height: 1.6;
	font-family: Arial;
	-webkit-text-size-adjust: 100%;
	color: #b2b2b2;
	-webkit-mask-image:linear-gradient( to bottom, rgba(0,0,0,0), rgba(0,0,0,1) 40px, rgba(0,0,0,1) calc(100% - 40px), rgba(0,0,0,0) );
	mask-image:linear-gradient( to bottom, rgba(0,0,0,0), rgba(0,0,0,1) 40px, rgba(0,0,0,1) calc(100% - 40px), rgba(0,0,0,0) );
}

.casino-modal th, .casino-modal td {
	color: #b2b2b2;
	padding: 5px 5px;
	border: 2px solid #333333;
}

.casino-modal table {
	text-align: center;
	width: 100%;
	margin: 20px 0;
	border-collapse: collapse;
}
`;class e extends Mi{playGame(o,Z,$){var pe=h.Z.data.bet;return Li++,li.Z.track(ai.Z.PRE_PLAY,null,{totalBet:pe,bet:pe,isAutoSpin:!!h.Z.currentScene.isAutoplayStarted,isFreeSpin:!1,isRespin:!1,purchasedFeature:{}}),this.request({command:"play",extra_data:{client_seed:dn.getCurrentClientSeed()},options:{bet:o,risk_level:Z,rows:$}}).then(ve=>{ve&&li.Z.track(ai.Z.PLAY,null,{win:ve.result,totalBet:pe,bet:pe,isFreeSpin:!1,isRespin:!1,isAutoSpin:!!h.Z.currentScene.isAutoplayStarted,purchasedFeature:{}})})}}const s=new e;var l,f,I=[1,2,3,5,10,15,20,30,50,75,100,150,200,300,500,750,1e3,2e3,3e3,5e3,1e4,15e3,2e4,3e4,5e4,75e3,1e5,15e4,2e5,3e5,5e5,75e4,1e6],ue=.06,se=60,Te="(0-16)";function Pe(g){return g>9?g:"0"+g}class we extends Dn.Z{constructor(){super();Xi(this,"MIN_SPIN_TIME",0);Xi(this,"MIN_SPIN_TIME_AUTOPLAY_DELAY",0);Xi(this,"spinStartTime",0);Xi(this,"rollInProgress",!1);this.onPlayResultReceived=this.onPlayResultReceived.bind(this)}init(){var Z,$;super.init(),h.Z.data={},this.gameTable=this.all.gameTable,f={},h.Z.data.autoplayCount=h.Z.settings.getItem("autoplayCount",10),s.initGame().then(ve=>{if(ve){this.loadAutoplaySettings(),h.Z.data.initData=ve;var Re=ve.paytable[8].high[4]*ve.options.min_bet;s.initCurrency(ve,Re);var Me=h.Z.data.initData.options.max_bet,Ye=h.Z.data.initData.options.min_bet;for(var nt of(l=[],I)){var Xe=nt*Ye;if(Xe>Me&&(Xe=Me),l.push(Xe),Xe===Me)break}this.loadDefauiltBet(),h.Z.data.balance=ve.balance,h.Z.data.currency=(0,R.Z)("game.data.initData.options.currency.symbol",this)||"BTC";var At=h.Z.settings.getItem("restoringData");for(var dt in this.restoringDataArray=[],At){var _t=At[dt];this.restoringDataArray.push(_t),h.Z.data.balance-=_t.result,h.Z.data.balance+=_t.bets.bet}this.restoreDelay=20,h.Z.casinoOptions.ui.max_autospin_value&&(this.all.autoplayNumberInput.max=h.Z.casinoOptions.ui.max_autospin_value),this.gameTable.initializePaytable(),this.all["provability-panel"].applyResult(ve),h.Z.data.provability.seedLimits=Te}});var pe=h.Z.data.balance;Object.defineProperty(h.Z.data,"balance",{get:()=>pe,set(ve){pe!==ve&&li.Z.track(ai.Z.BALANCE_UPDATE,null,{amount:ve}),pe=ve},configurable:!0}),this.spinStartTime=0,this.MIN_SPIN_TIME=((Z=h.Z.casinoOptions)===null||Z===void 0||($=Z.license_rules)===null||$===void 0?void 0:$.min_spin_time)||0,this.MIN_SPIN_TIME_AUTOPLAY_DELAY=Math.round(this.MIN_SPIN_TIME*ue),this.rollInProgress=!1}enablePlayButton(){if(!(arguments.length>0&&arguments[0]!==void 0)||arguments[0]){var Z=this.getFramesToToNextSpin();Z>1?ji.delay(()=>this.all.playButton.enable(),Z):this.all.playButton.enable()}else this.all.playButton.disable()}enableGameUI(){var Z=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];for(var $ of(this.all.gameUI.interactiveChildren=Z,this.all.gameUI.findChildrenByType(fi.Z)))$.parent.alpha>.99&&($.alpha=Z?1:.35)}loadAutoplaySettings(){h.Z.data.autoplayCount=h.Z.settings.getItem("autoplayCount",this.all.autoplayNumberInput._values[0])}saveAutoplaySettings(){h.Z.settings.setItem("autoplayCount",h.Z.data.autoplayCount)}get isRightPanelVisible(){return!h.Z.isPortrait||!this.isLeftPanelTurnedOn}get isLeftPanelVisible(){return!h.Z.isPortrait||this.isLeftPanelTurnedOn}toggleTableView(){this.isLeftPanelTurnedOn=!this.isLeftPanelTurnedOn}showRules(){s.showRules()}getPreloadingProgress(){return 1/(s.requestsInProgressCount+1)}getBet(){return h.Z.data.bet}chargeBetFromBalance(){h.Z.data.balance-=this.getBet(),h.Z.data.balance<0&&(h.Z.data.balance=0),this.all["balance-label"].refreshNow()}get isAutoplayStarted(){return h.Z.data.autoplayCurrentCount}stopAutoplay(){h.Z.data.autoplayCurrentCount=0,this.all.playButton.interactive&&this.rollInProgress&&(this.enablePlayButton(!1),this.enablePlayButton())}playButtonClick(){this.isAutoplayStarted?this.stopAutoplay():this.gameTable.ballWaitingPath||this.rollInProgress||(h.Z.data.autoPanelActiveted&&(h.Z.data.autoplayCurrentCount=h.Z.data.autoplayCount-1,h.Z.settings.setItem("autoplayCount",h.Z.data.autoplayCount)),this.saveBetAsDefault(),this.startRoll(),this.all["win-panel"].gotoLabelRecursive("hide"))}isRestoringDataAwaiting(){return this.restoringDataArray&&this.restoringDataArray.length>0}update(){super.update(),this.isRestoringDataAwaiting()?this.restoreDelay>0?this.restoreDelay--:(this.startRoll(this.restoringDataArray.shift()),this.restoreDelay=se):this.delayToNextAutoreplay>0?this.delayToNextAutoreplay--:h.Z.data.autoplayCurrentCount>0&&(h.Z.data.balance<this.getBet()?this.stopAutoplay():this.gameTable.ballWaitingPath||(h.Z.data.autoplayCurrentCount--,this.startRoll()))}startRoll(Z){this.rollInProgress||(this.rollInProgress=!0,this.spinStartTime=Date.now(),this.enableGameUI(!1),this.isAutoplayStarted?this.delayToNextAutoreplay=Math.max(se,this.MIN_SPIN_TIME_AUTOPLAY_DELAY):this.enablePlayButton(!1),this.chargeBetFromBalance(),this.gameTable.launchBall(),Z?this.onPlayResultReceived(Z):s.playGame(this.getBet(),this.gameTable.riskMode,this.gameTable.linesCount).then(this.onPlayResultReceived))}get currentTime(){var Z=new Date;return Pe(Z.getHours())+":"+Pe(Z.getMinutes())}onPlayResultReceived(Z){if(Z){this.isRestoringDataAwaiting()||this.enablePlayButton();var $=this.gameTable.setBallData(Z);f[$]=Z,h.Z.settings.setItem("restoringData",f);var pe=this.getFramesToToNextSpin();this.rollInProgress=pe>1,this.rollInProgress&&ji.delay(()=>this.rollInProgress=!1,pe)}}getFramesToToNextSpin(){return this.MIN_SPIN_TIME>0?Math.round((this.MIN_SPIN_TIME-(Date.now()-this.spinStartTime))*ue):0}onBallFinish(Z,$,pe){var ve=Z.result;delete f[pe],h.Z.settings.setItem("restoringData",f),$===0&&this.enableGameUI();var Re=new Date,Me=this.getBet();this.all.resultList.addEntry({bet:Me,win:ve-Me,payout:ve/Me,time:Pe(Re.getHours())+":"+Pe(Re.getMinutes())+":"+Pe(Re.getSeconds())}),h.Z.data.balance=$===0?h.Z.data.latestData.balance:Math.max(0,Z.balance-$*this.getBet()),h.Z.data.winToShow=ve,this.all["provability-panel"].applyResult(Z),this.all["win-panel"].gotoLabelRecursive("on-win"),ve/Me>1.00001?w.Z.play("big_win"):w.Z.play("win_sound")}refreshBalanceFast(){h.Z.data.balance=h.Z.data.latestReceivedBalance,this.all["balance-label"].refreshNow(),this.all["balance-label"].update()}setBet(Z){for(var $ of l)if($>=Z)return void(h.Z.data.bet=$);h.Z.data.bet=l[l.length-1]}saveBetAsDefault(){h.Z.settings.setItem("bet",h.Z.data.bet)}loadDefauiltBet(){this.setBet(h.Z.settings.getItem("bet",h.Z.data.initData.options.default_bet||h.Z.data.initData.options.min_bet))}increaseBet(){var Z=l.indexOf(this.getBet())+1;Z=Math.max(0,Z),Z=Math.min(l.length-1,Z),this.setBet(l[Z]),this.saveBetAsDefault()}decreaseBet(){var Z=l.indexOf(this.getBet())-1;Z=Math.max(0,Z),Z=Math.min(l.length-1,Z),this.setBet(l[Z]),this.saveBetAsDefault()}maximizeBet(){this.setBet(l[l.length-1]),this.saveBetAsDefault()}minimizeBet(){this.setBet(l[0]),this.saveBetAsDefault()}get isBetCanBeIncreased(){return!h.Z.data.autoplayStarted&&l&&this.getBet()<l[l.length-1]}get isBetCanBeDecreased(){return!h.Z.data.autoplayStarted&&l&&this.getBet()>l[0]}_onRenderResize(){this.switchPanelsInstantly(),this.isLeftPanelTurnedOn=!1}switchPanelsInstantly(){this.all["left-panel-switcher"].applyInstantly(),this.all["right-panel-switcher"].applyInstantly()}activateAutoPanel(){h.Z.data.autoPanelActiveted=!0,this.all.manualGameBtn.enable(),this.all.autoGameBtn.disable()}deactivateAutoPanel(){h.Z.data.autoPanelActiveted=!1,this.all.manualGameBtn.disable(),this.all.autoGameBtn.enable()}static get anySoundEnabled(){return h.Z.Sound.soundEnabled||h.Z.Sound.musicEnabled}}const Ue=we;var Qe=d(331);class it extends sn.Z{init(){super.init(),this.applyWorldWrapping()}applyWorldWrapping(){this.style&&(this.style.wordWrapWidth=h.Z.isPortrait?this.maxWidthPortrait:this.maxWidthLandscape,this.style.wordWrap=!0,this._applyMaxHeight())}_onRenderResize(){this.applyWorldWrapping()}get maxHeightLandscape(){return this._maxHeightLandscape}set maxHeightLandscape(o){this._maxHeightLandscape=o,h.Z.isPortrait||o===0||this._applyMaxHeight()}get maxHeightPortrait(){return this._maxHeightPortrait}set maxHeightPortrait(o){this._maxHeightPortrait=o,h.Z.isPortrait&&o!==0&&this._applyMaxHeight()}get breakWords(){return this.style.breakWords}set breakWords(o){this.style.breakWords=o}_onTextureUpdate(){super._onTextureUpdate(),this._applyMaxHeight()}_applyMaxHeight(){this.style&&(this.maxWidth=this.style.wordWrapWidth);var o=h.Z.isPortrait?this._maxHeightPortrait:this._maxHeightLandscape;if(o>0&&this.scale.y*this._texture.height>o){var Z=o/this._texture.height;this.scale.x===Z&&this.scale.y===Z||(this.scale.x=Z,this.scale.y=Z,this.parent&&this.updateTransform())}}}class ze extends F.Z{init(){super.init(),this.applyOrientation()}applyOrientation(){this.__currentOrientationIsPortrait=h.Z.isPortrait,h.Z.isPortrait?(this.x=this.portraitX,this.y=this.portraitY,this["scale.x"]=this.portraitScaleX,this["scale.y"]=this.portraitScaleY,super.alpha=this.portraitAlpha,this.rotation=this.portraitR,this._callHandler(this.onPortrait)):(this.x=this.landscapeX,this.y=this.landscapeY,this["scale.x"]=this.landscapeScaleX,this["scale.y"]=this.landscapeScaleY,this.alpha=this.landscapeAlpha,this.rotation=this.landscapeR,this._callHandler(this.onLandscape))}_callHandler(o){this.visible=this.alpha>.015&&Math.abs(this.scale.x)>.0015&&Math.abs(this.scale.y)>.0015,o&&(0,z.Z)(o,this)}update(){this.visible&&super.update()}_onRenderResize(){this.__currentOrientationIsPortrait!==h.Z.isPortrait&&this.applyOrientation()}}class lt extends P.Z{init(){super.init(),this.rSpeed=Math.random()-.5,this.rotation=Math.random(),this.life=3+Math.random(),this.scl=.6*Math.random()+.2,this.scale.x=this.scl,this.scale.y=this.scl}update(){this.xSpeed+=.3*(Math.random()-.5),this.ySpeed+=.3*(Math.random()-.6),this.xSpeed*=.95,this.ySpeed*=.95,super.update(),this.life-=.1,this.life<.001?this.remove():this.life<=1&&(this.scale.x=this.scl*this.life,this.scale.y=this.scl*this.life)}}class et extends F.Z{}var Tt=d(6107),Pt=new Tt.Point(0,0),Lt=new Tt.Point(1,1),Ct=new Tt.Point,Wt=new Tt.Point;class ut extends F.Z{init(){super.init(),this.recalculateSize()}_onRenderResize(){this.recalculateSize()}recalculateSize(){this.fixed&&this.parent?((this.relativeX||this.relativeY)&&(Ct.x=Math.round(this._xPos*h.Z.W),Ct.y=Math.round(this._yPos*h.Z.H),this.parent.toLocal(Ct,h.Z.stage,Ct,!1),this.relativeX&&(this.x=Ct.x),this.relativeY&&(this.y=Ct.y)),(this.resizeX||this.resizeY)&&(this.parent.toLocal(Pt,h.Z.stage,Ct,!1),this.parent.toLocal(Lt,h.Z.stage,Wt,!1),this.resizeX&&(this.scale.x=h.Z.W/h.Z.projectDesc.width*(Wt.x-Ct.x||1e-6)),this.resizeY&&(this.scale.y=h.Z.H/h.Z.projectDesc.height*(Wt.y-Ct.y||1e-6)))):(this.resizeX&&(this.scale.x=h.Z.W/h.Z.projectDesc.width),this.resizeY&&(this.scale.y=h.Z.H/h.Z.projectDesc.height),this.relativeX&&(this.x=Math.round(h.Z.W*this._xPos)),this.relativeY&&(this.y=Math.round(h.Z.H*this._yPos)))}update(){this.fixed&&this.recalculateSize(),super.update()}set xPos(o){this._xPos=o,this.relativeX&&this.recalculateSize()}get xPos(){return this._xPos}set yPos(o){this._yPos=o,this.relativeY&&this.recalculateSize()}get yPos(){return this._yPos}}class Kt extends ut{onContinue(){this.gotoLabelRecursive("close")}onLeaveTheGame(){this.gotoLabelRecursive("close"),h.Z.SharedAPI.gotoHome()}hidePopup(){h.Z.hideModal(this)}get sessionTime(){return Math.round(wn.model.sessionTime/60/1e3)}get sessionBets(){return wn.model.userOverallBet}get sessionWin(){return wn.model.userOverallWin}get sessionLose(){return wn.model.userOverallLose}}var Ht=d(6107),zt=16,ti=50;class xi extends Ht.Container{init(){super.init(),this.entries=[],this.entriesMap=new WeakMap;var o=h.Z.settings.getItem("history");if(o)for(var Z of(o.reverse(),o))this.addEntry(Z,!0)}addEntry(o){var Z=arguments.length>1&&arguments[1]!==void 0&&arguments[1];for(this.entries.unshift(o);this.entries.length>zt;)this.entriesMap.get(this.entries.pop()).startRemoving();var $=B.Z.loadPrefab("result-list-item");$.setData(o),this.entriesMap.set(o,$),this.addChild($);var pe=0;for(var ve of this.entries)($=this.entriesMap.get(ve)).setY(pe,Z),pe+=ti;h.Z.settings.setItem("history",this.entries)}}class Jt extends F.Z{update(){super.update(),h.Z.isNeedScrollTopIosSafari&&!h.Z.isPortrait||h.Z.hideModal(this)}}var si=d(6107),Zt=new si.Point,Vt=new si.Point;class Ti extends F.Z{_disposeMaskScissor(){this.mask&&(this.removeChild(this.mask),this.mask=null,this.appliedCanvasMaskX=null)}set enabled(o){this._enabled=o,this.hitArea=o?new si.Rectangle:null}get enabled(){return this._enabled}_applyScissorHitArea(){if(this.hitArea){var o=this.rect;Zt.x=o.x,Zt.y=o.y,Vt.x=o.w+o.x,Vt.y=o.h+o.y,this.toGlobal(Zt,Zt),this.toGlobal(Vt,Vt),this.hitArea.x=o.x,this.hitArea.y=o.y,this.hitArea.width=o.w,this.hitArea.height=o.h}}_renderCanvas(o){super._renderCanvas(o),this._enabled?(this.mask||(this.mask=new si.Graphics,this.addChild(this.mask)),this.appliedCanvasMaskX===this.rect.x&&this.appliedCanvasMaskY===this.rect.y&&this.appliedCanvasMaskW===this.rect.w&&this.appliedCanvasMaskH===this.rect.h||(this.mask.clear(),this.mask.beginFill(0,1),this.mask.drawRect(this.rect.x,this.rect.y,this.rect.w,this.rect.h),this.mask.endFill(),this.appliedCanvasMaskX=this.rect.x,this.appliedCanvasMaskY=this.rect.y,this.appliedCanvasMaskW=this.rect.w,this.appliedCanvasMaskH=this.rect.h),this._applyScissorHitArea()):this._disposeMaskScissor()}render(o){var Z,$,pe;if(this._enabled){Z=o.gl,o.batch.flush(),($=Z.isEnabled(Z.SCISSOR_TEST))&&(pe=Z.getParameter(Z.SCISSOR_BOX)),Z.enable(Z.SCISSOR_TEST);var ve=o.resolution;this._applyScissorHitArea(),h.Z._isCanvasRotated?Z.scissor(Vt.x*ve,(h.Z.W-Vt.y)*ve,(Zt.x-Vt.x)*ve,(Vt.y-Zt.y)*ve):Z.scissor(Zt.x*ve,(h.Z.H-Vt.y)*ve,(Vt.x-Zt.x)*ve,(Vt.y-Zt.y)*ve)}super.render(o),o.batch.flush(),this._enabled&&($?Z.scissor.apply(Z,pe):Z.disable(Z.SCISSOR_TEST))}enable(){this.enabled=!0}disable(){this.enabled=!1}onRemove(){super.onRemove(),this._disposeMaskScissor()}}var pi=d(6107),ii=new pi.Point;class Di extends F.Z{init(){super.init(),this.curInterval=Math.round(Math.random()*this.intervalRandom)}enable(){this.enabled=!0}disable(){this.enabled=!1}setSpeed(o){this.speed=o}update(){this.enabled&&this.worldVisible&&(this.delay>0?this.delay--:this.curInterval>0?this.curInterval--:(this.spawn(),this.curInterval=this.getNextInterval())),super.update()}getNextInterval(){return this.intervalRandom>0?this.interval+Math.round(Math.random()*this.intervalRandom):this.interval}setTargetContainer(o){this._container=o?o instanceof F.Z?o:(0,R.Z)(o,this):h.Z.currentContainer}spawn(){this._container||this.setTargetContainer(this.container);var o=B.Z.loadPrefab(this.prefabToSpawn);if(this.applyRotation&&(o.rotation=this.getGlobalRotation()),this._container.addChild(o),o.parent.toLocal(ii,this,o),this.speed!==0||this.speedRandom!==0){var Z=this.speed+Math.random()*this.speedRandom;en.x=Z,o.parent.toLocal(en,this,hr,!0),o.xSpeed=hr.x-o.x,o.ySpeed=hr.y-o.y}}}var en=new pi.Point,hr=new pi.Point,ur=d(6107),Zn=new ur.Point,Xr=2*Math.PI;class Hr extends F.Z{init(){super.init(),this.curInterval=this.interval}spawn(){this._container||(this.container?this._container=(0,R.Z)(this.container,this):this._container=h.Z.currentContainer),this._container.toLocal(Zn,this,Vn);for(var o=Xr/(this.count+this.countRandom*Math.random()),Z=0;Z<Xr;Z+=o){var $=Math.sin(Z),pe=Math.cos(Z),ve=B.Z.loadPrefab(this.prefabToSpawn);this._container.addChild(ve),ve.x=Vn.x+this.radius*pe,ve.y=Vn.y+this.radius*$;var Re=this.speed+Math.random()*this.speedRandom;ve.xSpeed=Re*pe,ve.ySpeed=Re*$}}}var Vn=new ur.Point,Vi=d(8822),Ir=d(6107);class Gi extends Ir.Text{init(){super.init(),this.cursorObject=this.findChildByName("cursor")}onRemove(){super.onRemove(),this.blurInput()}blurInput(){this.isFocused&&this.htmlInput.blur()}get isFocused(){return this.htmlInput&&this.htmlInput===window.document.activeElement}_onDisableByTrigger(){this.blurInput()}filterText(o){if(this.inputType==="number"){var Z=(o=o.replace(",",".").replace(/[^0-9\.]/gm,"")).split(".");Z.length>2&&(Z.length=2,o=Z.join("."))}return o}update(){if(this.htmlInput){if(this.text!=this.htmlInput.value){var o=this.filterText(this.htmlInput.value);this.htmlInput.value=o,this.text=o,this.inputType!=="number"&&(this.htmlInput.selectionEnd=this.htmlInput.selectionStart=this.htmlInput.value.length),this.onChange&&(0,z.Z)(this.onChange,this)}(!this.worldVisible||this.worldAlpha<.01)&&this.blurInput()}this.cursorObject&&(this.cursorObject.x=this.style.align==="center"?this.texture.width/2:this.texture.width,this.cursorObject.visible=this.isFocused),super.update()}set text(o){this.maxInputLen&&(o=o.substr(0,this.maxInputLen)),super.text=o,this.htmlInput&&(this.htmlInput.value=this.filterText(o))}get text(){return super.text}get isEmpty(){return!this.text.trim()}focus(){h.Z.addOnClickOnce(o=>{this.htmlInput||(this.htmlInput=document.createElement("input"),this.htmlInput.style.opacity=0,this.inputType==="number"&&(this.htmlInput.pattern="d*"),this.htmlInput.style.position="absolute",this.htmlInput.style.pointerEvents="none",this.htmlInput.addEventListener("keydown",Z=>{Z.keyCode===13&&this.blurInput()}),document.body.appendChild(this.htmlInput)),this.htmlInput.value=this.filterText(this.text),this.htmlInput.focus(),o.stopPropagation(),o.preventDefault()})}static prompt(o,Z){var $=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:16,ve=arguments.length>4?arguments[4]:void 0,Re=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,Me=arguments.length>6&&arguments[6]!==void 0?arguments[6]:null,Ye=arguments.length>7&&arguments[7]!==void 0?arguments[7]:null,nt=!(arguments.length>8&&arguments[8]!==void 0)||arguments[8],Xe=arguments.length>9&&arguments[9]!==void 0?arguments[9]:"ui/prompt";if(Gi.latestPromptText=void 0,B.Z.hasPrefab(Xe)){var At,dt=h.Z.showQuestion(o,Z,ve,()=>{Gi.latestPromptText=At.text.trim(),Re&&Re(Gi.latestPromptText)},Me,()=>{Ye&&Ye()},nt,Xe);return(At=dt.findChildrenByType(Gi)[0]).text=$,At.maxInputLen=pe,At.focus(),dt}var _t=window.prompt(o,$)||"";(_t=_t.trim()).length>pe&&(_t=_t.substr(0,pe)),_t?Re(_t):Ye&&Ye()}}var St={};St.BG=p,St.Ball=O,St.BaseRootScene=Nn,St.BgMusic=qn.Z,St.Button=fi.Z,St.ClickOutsideTrigger=ln,St.Container=F.Z,St.DSprite=P.Z,St.Fill=ki,St.FlyText=yi,St.FullscreenPopup=En,St.GameTable=Un,St.HTMLOverlay=er,St.Label=yn.Z,St.ListItem=_r,St.MainMenu=Ue,St.MoneyLabel=Qe.Z,St.MovieClip=Y,St.MultilineText=it,St.NineSlicePlane=bn,St.NumberInput=_,St.OrientationTrigger=ze,St.ParticleSimple=lt,St.PrefabReference=et,St.ProgressBar=mr,St.ProvabilityPanel=dn,St.RealityCheckPopup=Kt,St.Resizer=ut,St.ResultList=xi,St.SafariArrowUp=Jt,St.Scene=Dn.Z,St.Scissors=Ti,St.ScrollLayer=wi.Z,St.Shape=Kn,St.Spawner=Di,St.SpawnerRing=Hr,St.Sprite=Vi.Z,St.Text=sn.Z,St.TextInput=Gi,St.Trigger=Xn,B.Z._setClasses(St,{BG:{timeline:null,delay:0,isPlaying:!0,rSpeed:0,ySpeed:0,xSpeed:0,blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Ball:{table:null,rSpeed:0,ySpeed:0,xSpeed:0,blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},BaseRootScene:{faderType:null,backgroundColor:16777215,isNoStackable:!1,isStatic:!1,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0},BgMusic:{dynamicPreloading:!1,onIntroFinish:null,volumeUnderModals:.25,fadeOut:.2,fadeIn:.2,globalVolumePath:null,volume:1,resetPositionOnPlay:!0,isPlaying:!0,loop:null,visible:!1,intro:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,alpha:1,rotation:0,y:0,x:0,name:null},Button:{interactive:!0,repeatInterval:0,repeatDelay:0,scrollable:!1,sndOver:null,sndClick:null,hotkey:0,afterClick:null,onClick:null,disabledAlpha:.76,disabledImage:"",pressImage:"",hoverImage:"",rSpeed:0,ySpeed:0,xSpeed:0,blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},ClickOutsideTrigger:{additionalContainers:null,onClickOutside:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Container:{"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},DSprite:{rSpeed:0,ySpeed:0,xSpeed:0,blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Fill:{transparentRight:!1,transparentLeft:!1,transparentBottom:!1,transparentTop:!1,yWaveSpeed:0,yWavePhase:0,yWaveStep:1,yWaveAmp:0,xWaveSpeed:0,xWavePhase:0,xWaveStep:1,xWaveAmp:0,yShiftSpeed:0,xShiftSpeed:0,yShift:0,xShift:0,yRepeat:1,xRepeat:1,verticesY:2,verticesX:2,blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},FlyText:{maxWidth:0,textTransform:0,"style.letterSpacing":0,"style.padding":0,"style.leading":0,"style.fontWeight":"normal","style.fontFamily":null,"style.drShDistance":5,"style.drShBlur":0,"style.drShAngle":.524,"style.drShAlpha":1,"style.drShColor":"#000000","style.dropShadow":!1,"style.stroke":"#000000","style.strokeThickness":0,"style.fillGradientStops":null,"style.fill":"#ffffff",verticalAlign:"top","style.align":"center","style.fontSize":12,translatableText:null,text:"",image:null,blendMode:0,tint:16777215,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},FullscreenPopup:{maxWidthDesktop:700,scrollBarBottomMargin:10,containerMargin:10,maxWidthMobile:0,marginTopBottom:10,marginLeftRight:10,scrollBarPath:null,bgNineSlicePlanePath:null,scrollLayerPath:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},GameTable:{highG:0,highR:455,mediumG:122,mediumR:455,lowG:255,lowR:255,centerG:455,centerR:0,ballWaitingPath:null,pinsContainer:null,tooltip:null,hole:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},HTMLOverlay:{bouncingBounds:!1,fadeSpeed:.1,className:null,zIndex:1e4,handleScroll:!0,innerHTML:null,_mouseHandlerContainer:null,mobileInertia:.92,desktopInertia:.8,mouseHandler:null,fullArea:null,visibleArea:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Label:{onCounterFinish:null,onCounter:null,onChanged:null,decimalsCount:0,counterSpeed:1,plusMinus:!1,isNumeric:!1,template:null,refreshInterval:10,dataPath:null,maxWidth:0,textTransform:0,"style.letterSpacing":0,"style.padding":0,"style.leading":0,"style.fontWeight":"normal","style.fontFamily":null,"style.drShDistance":5,"style.drShBlur":0,"style.drShAngle":.524,"style.drShAlpha":1,"style.drShColor":"#000000","style.dropShadow":!1,"style.stroke":"#000000","style.strokeThickness":0,"style.fillGradientStops":null,"style.fill":"#ffffff",verticalAlign:"top","style.align":"center","style.fontSize":12,translatableText:null,text:"",image:null,blendMode:0,tint:16777215,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},ListItem:{timeline:null,delay:0,isPlaying:!0,rSpeed:0,ySpeed:0,xSpeed:0,blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},MainMenu:{gameTable:null,faderType:null,backgroundColor:16777215,isNoStackable:!1,isStatic:!1,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0},MoneyLabel:{countOnStart:!1,isNumeric:!0,maxWidthLandscape:0,maxWidthPortrait:0,decimalsCountPath:null,dataPath2:null,onCounterFinish:null,onCounter:null,onChanged:null,decimalsCount:0,counterSpeed:1,plusMinus:!1,template:null,refreshInterval:10,dataPath:null,maxWidth:0,textTransform:0,"style.letterSpacing":0,"style.padding":0,"style.leading":0,"style.fontWeight":"normal","style.fontFamily":null,"style.drShDistance":5,"style.drShBlur":0,"style.drShAngle":.524,"style.drShAlpha":1,"style.drShColor":"#000000","style.dropShadow":!1,"style.stroke":"#000000","style.strokeThickness":0,"style.fillGradientStops":null,"style.fill":"#ffffff",verticalAlign:"top","style.align":"center","style.fontSize":12,translatableText:null,text:"",image:null,blendMode:0,tint:16777215,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},MovieClip:{timeline:null,delay:0,isPlaying:!0,rSpeed:0,ySpeed:0,xSpeed:0,blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},MultilineText:{breakWords:!1,maxHeightPortrait:0,maxHeightLandscape:0,maxWidthPortrait:400,maxWidthLandscape:400,maxWidth:0,textTransform:0,"style.letterSpacing":0,"style.padding":0,"style.leading":0,"style.fontWeight":"normal","style.fontFamily":null,"style.drShDistance":5,"style.drShBlur":0,"style.drShAngle":.524,"style.drShAlpha":1,"style.drShColor":"#000000","style.dropShadow":!1,"style.stroke":"#000000","style.strokeThickness":0,"style.fillGradientStops":null,"style.fill":"#ffffff",verticalAlign:"top","style.align":"center","style.fontSize":12,translatableText:null,text:"",image:null,blendMode:0,tint:16777215,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},NineSlicePlane:{bottomHeight:5,topHeight:5,rightWidth:5,leftWidth:5,height:200,width:200,blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},NumberInput:{wrapValue:!1,_currentTextField:null,interactive:!0,valuesList:null,onChanged:null,refreshInterval:10,dataPath:null,textView:null,decimalsCount:0,step:1,min:0,max:100,value:0,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},OrientationTrigger:{portraitR:0,portraitScaleX:1,portraitScaleY:1,portraitAlpha:1,portraitY:0,portraitX:0,landscapeR:0,landscapeScaleY:1,landscapeScaleX:1,landscapeAlpha:1,landscapeY:0,landscapeX:0,onLandscape:null,onPortrait:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},ParticleSimple:{rSpeed:0,ySpeed:0,xSpeed:0,blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},PrefabReference:{inheritProps:!0,dynamicPrefabName:null,prefabName:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},ProgressBar:{cap:null,bar:null,step:1,max:100,min:0,afterSlide:null,onChanged:null,refreshInterval:10,capMargin:5,height:200,dataPath:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},ProvabilityPanel:{onDisable:null,onEnable:null,isApplyInteractivity:!0,yShift:0,xShift:0,scaleShift:0,alphaShift:-1,damp:.85,pow:.02,invert:!1,dataPath:null,state:!1,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},RealityCheckPopup:{fixed:!1,yPos:0,relativeY:!1,xPos:0,relativeX:!1,resizeY:!1,resizeX:!1,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Resizer:{fixed:!1,yPos:0,relativeY:!1,xPos:0,relativeX:!1,resizeY:!1,resizeX:!1,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},ResultList:{"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},SafariArrowUp:{"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Scissors:{enabled:!0,rect:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Shape:{_shapePoints:null,_spriteRect:null,shapeLineAlignment:1,shapeLineAlpha:1,shapeLineColor:16777215,shapeLineWidth:0,isItHitArea:!1,shapeFillColor:0,shapeFillAlpha:1,shapeRadius:10,height:100,width:100,shape:0,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Spawner:{_container:null,container:null,applyRotation:!1,speedRandom:10,speed:10,intervalRandom:0,interval:0,delay:0,enabled:!0,prefabToSpawn:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},SpawnerRing:{_container:null,container:null,radius:10,countRandom:10,count:10,speedRandom:10,speed:10,prefabToSpawn:null,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Sprite:{blendMode:0,tint:16777215,image:"EMPTY","pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Text:{maxWidth:0,textTransform:0,"style.letterSpacing":0,"style.padding":0,"style.leading":0,"style.fontWeight":"normal","style.fontFamily":null,"style.drShDistance":5,"style.drShBlur":0,"style.drShAngle":.524,"style.drShAlpha":1,"style.drShColor":"#000000","style.dropShadow":!1,"style.stroke":"#000000","style.strokeThickness":0,"style.fillGradientStops":null,"style.fill":"#ffffff",verticalAlign:"top","style.align":"center","style.fontSize":12,translatableText:null,text:"",image:null,blendMode:0,tint:16777215,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},TextInput:{cursorObject:null,onChange:null,inputType:"text",maxInputLen:0,maxWidth:0,textTransform:0,"style.letterSpacing":0,"style.padding":0,"style.leading":0,"style.fontWeight":"normal","style.fontFamily":null,"style.drShDistance":5,"style.drShBlur":0,"style.drShAngle":.524,"style.drShAlpha":1,"style.drShColor":"#000000","style.dropShadow":!1,"style.stroke":"#000000","style.strokeThickness":0,"style.fillGradientStops":null,"style.fill":"#ffffff",verticalAlign:"top","style.align":"center","style.fontSize":12,translatableText:null,text:"",image:null,blendMode:0,tint:16777215,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null},Trigger:{onDisable:null,onEnable:null,isApplyInteractivity:!0,yShift:0,xShift:0,scaleShift:0,alphaShift:-1,damp:.85,pow:.02,invert:!1,dataPath:null,state:!1,"pivot.y":0,"pivot.x":0,"skew.y":0,"skew.x":0,"scale.y":1,"scale.x":1,interactive:!1,visible:!0,alpha:1,rotation:0,y:0,x:0,name:null}})},5067:(ye,le,d)=>{var B,h=d(5446),P=d(9042),W=new Promise(D=>{B=D});const z=(D,G,O,E,J,q)=>{function K(j){return new Promise(Q=>{var ee=new Image;ee.src=j.indexOf("//")>0?j:D+j,ee.onload=Q})}var A;J&&(E=E.concat(q?["preloader-assets/split.png","preloader-assets/spin.gif","preloader-assets/spin2.gif","preloader-assets/spin3.gif","preloader-assets/b.png","preloader-assets/i.png","preloader-assets/g.png","preloader-assets/a.png","preloader-assets/m.png","preloader-assets/i.png","preloader-assets/n.png"]:["preloader-assets/logo.png"])),window.__OPTIONS__.ui.brand_logo?(E.push(window.__OPTIONS__.ui.brand_logo),A=300):A=150;var T=400+A;function y(){var j=document.querySelector(".preloader");if(j){var Q=Math.min(window.innerWidth/700,window.innerHeight/T,1);j.style.transform="scale("+Q+")",j.style.left=Math.round(window.innerWidth/2-350)+"px",j.style.top=Math.round(window.innerHeight/2-T/2)+"px"}else window.removeEventListener("resize",y)}function L(){var j=document.getElementsByClassName("preloader")[0];j&&(j.innerHTML=(`
			<style>
			body, html {
				overflow:hidden;
			}
			div, body, html {
				padding:0;
				margin:0;
			}
			.preloader {
				position: relative;
				height: ${T}px;
				width: 700px;
				left: unset;
				top: unset;
				padding-top: 0;
				z-index:1;
				text-align:center;
				transform-origin: center center;
			}
		
			.preloader-mid {
				height: 400px;
				position: relative;
			}
			.preloader-bottom {
				height: ${A}px;
				position: relative;
			}

			.preloader-bar-frame {`+(q?"display:none":`position: relative;
				border-radius: 3px;
				height: 13px;
				margin: 40px auto;
				overflow: hidden;
				box-shadow: inset 0 3px 10px rgba(0, 0, 0, 0.65), inset 0 0 0 1px rgba(0, 0, 0, 0.1);
				border: 1px solid rgba(0, 0, 0, 0.06);
				background-color: #4b4b4b;
				width: 400px;`)+`}

			.preloader-bar {
				border-radius: 3px;
				position: absolute;
				top: 0;
				left: 0;
				height: 100%;
				box-shadow: inset 0 2px 0 rgba(255, 255, 255, 0.39), inset 0 0 0 2px rgba(235, 235, 235, 0.3);
				background-color: rgba(0, 0, 0, 0.33);
				background-color: #ffa800;
				background-image: linear-gradient(to top, rgba(0, 0, 0, 0.33) 0%, rgba(0, 0, 0, 0) 100%);
			}
			.preloader-cap {
				width: 0;
			}

			.progress-item {
				display: inline-block;
				height: 50px;
				width: 29px;
			}

			.spin-logo-container {
				white-space:nowrap;
				height: 50px;
				margin-top: 40px;
			}

			#loader-casino-logo {
				margin: 80px auto 0 auto;
				height: 65px;
				width: auto;
				max-width: 200px;
				background-position: center center;
				background-size: contain;
				background-repeat: no-repeat;
			}
`+(q?`
			.spin-logo-container img {
				height: 50px;
			}

			.progress-item .spin {
				display: inline-block;
			}
			.progress-item .stop {
				display: none;
			}
			.progress-item-on .spin {
				display: none;
			}
			.progress-item-on .stop {
				display: inline-block;
				animation: animationFrames ease 0.2s;
				animation-iteration-count: 1;
				transform-origin: 50% 50%;
			}
			  
			@keyframes animationFrames{
				0% {
				  transform:  translate(0px,0px)  ;
				}
				30% {
				  transform:  translate(0px,8px)  ;
				}
				100% {
				  transform:  translate(0px,0px)  ;
				}
			}`:`
			.spin-logo-container {
				height: 50px;
				background-image: url("_resourcesPath_preloader-assets/logo.png");
				background-size: contain;
				background-repeat: no-repeat;
				background-position: center;
				}
			`)+O+`</style>
	<div class="preloader-mid">
`+G+`</div>
	<div class="preloader-bottom">`+(J?`<div class="spin-logo-container ${q?"progress-group":""}"> `+(q?`<div style="width:36px" class="progress-item"><img class='stop' src="_resourcesPath_preloader-assets/b.png"><img class='spin' src="_resourcesPath_preloader-assets/spin.gif"></div>
					<div class="progress-item"><img class='stop' src="_resourcesPath_preloader-assets/g.png"><img class='spin' src="_resourcesPath_preloader-assets/spin2.gif"></div>
					<img src="_resourcesPath_preloader-assets/split.png">
					<div class="progress-item"><img class='stop' src="_resourcesPath_preloader-assets/a.png"><img class='spin' src="_resourcesPath_preloader-assets/spin3.gif"></div>
					<img src="_resourcesPath_preloader-assets/split.png">
					<div class="progress-item"><img class='stop' src="_resourcesPath_preloader-assets/m.png"><img class='spin' src="_resourcesPath_preloader-assets/spin.gif"></div>
					<img src="_resourcesPath_preloader-assets/split.png">
					<div class="progress-item"><img class='stop' src="_resourcesPath_preloader-assets/i.png"><img class='spin' src="_resourcesPath_preloader-assets/spin2.gif"></div>
					<img src="_resourcesPath_preloader-assets/split.png">
					<div class="progress-item"><img class='stop' src="_resourcesPath_preloader-assets/n.png"><img class='spin' src="_resourcesPath_preloader-assets/spin3.gif"></div>
					<img src="_resourcesPath_preloader-assets/split.png">
					<div class="progress-item"><img class='stop' src="_resourcesPath_preloader-assets/g.png"><img class='spin' src="_resourcesPath_preloader-assets/spin.gif"></div>`:"")+"</div>":"")+`<div class="preloader-bar-frame">
			<div class="preloader-bar"><div class="preloader-cap"></div></div>
		</div>`+(window.__OPTIONS__.ui.brand_logo?'<div id="loader-casino-logo" style="background-image:url('+window.__OPTIONS__.ui.brand_logo+')"></div>':"")+"</div>").replace(/_resourcesPath_/g,D)),B(),y(),window.addEventListener("resize",y)}Promise.all(E.map(K)).then(L)},M=D=>{z(D,F,Y,R,h.Z.casinoOptions.ui.logo_visible)};var R=["preloader-assets/loader-img.png"],F=`
<div class="game-image"></div>
`,Y=`
.game-image {
		height: 400px;
		max-width: 700px;
		background-image: url("_resourcesPath_preloader-assets/loader-img.png");
		background-size: contain;
		background-repeat: no-repeat;
		background-position: center;
	}
`,S=(d(4247),d(6635)),v=d(1575),n=d(1587),a=window.location.origin.indexOf("bgaming-system")!==-1;window.addEventListener("keydown",D=>{a&&D.keyCode===80&&D.ctrlKey&&(D.preventDefault(),N.toggleGame(!0))});var u,p,w={PAUSE:"pause_gameplay",PAUSE_SAFE:"pause_safe_gameplay",RESUME:"resume_gameplay"};window.addEventListener("message",D=>{if(D.data){var G=D.data;if(typeof G=="string")try{G=JSON.parse(G)}catch{return}switch((G.name||G.Name||"").toLowerCase()){case w.PAUSE:N.pauseGame(!0);break;case w.PAUSE_SAFE:N.pauseGameSafe(!0,()=>{D.source.postMessage(G.callback||"game_paused",D.origin)});break;case w.RESUME:N.resumeGame()}}},!1),S.Z.addListener(D=>{switch(D){case n.Z.GAME_LOADED:case n.Z.FINISH_ROUND_ANIMATIONS:N._onGameRoundAnimationsFinish()}});var N={game:h.Z,toggleGame(D){u?N.resumeGame():N.pauseGame(D)},pauseGame(D){u||((u=h.Z.showModal("thing-games-utils/pause-popup")).alpha=D?0:1,u.findChildByName("close-btn").callback=()=>{h.Z.hideModal(u),u=null})},pauseGameSafe(D){var G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:()=>{},O=p||(()=>N.pauseGame(D));p=()=>{O(),G()},(u||h.Z.currentScene&&!h.Z.currentScene.flowLocked)&&(p(),p=null)},resumeGame(){u&&(h.Z.hideModal(u),u=null),p=null},stopAutospins(){h.Z.currentScene&&h.Z.currentScene.autospinPanel?h.Z.currentScene.autospinPanel.stopAutospins():h.Z.currentScene.stopAutoplay&&h.Z.currentScene.stopAutoplay()},setAudioSfx(D){h.Z.Sound.soundEnabled=D},setAudioMusic(D){h.Z.Sound.musicEnabled=D},formatMoney:D=>v.Z.formatMoney(D/h.Z.data.currencyDivider,h.Z.data.currencyDigits),formatMoneyToNumber:D=>D/h.Z.data.currencyDivider,_onGameRoundAnimationsFinish(){p&&(p(),p=null)}};const k=N;var C=d(331),c=d(1868),x=d(2447);class X{static initGame(G,O,E){var J=arguments.length>3&&arguments[3]!==void 0?arguments[3]:W;function q(){var K=`
		body, html, canvas {
			position: absolute;
			top: 0; 
			bottom: 0;
			left: 0;
			right: 0;
			margin: 0;
			padding: 0;
			overflow: visible;
			width:100%;
		}

		html {
			overflow: hidden;
		}

		canvas {
			height:100%;
			position: fixed;
			-webkit-touch-callout: none; /* iOS Safari */
			-webkit-user-select: none; /* Safari */
			user-select: none; /* Non-prefixed version, currently supported by Chrome, Edge, Opera and Firefox */
		}

		.preloader{
			z-index: 20;
		}
		`;G.applyCSS(K)}window.addEventListener("load",()=>{c.Z.beforeGameInit();var K=G.casinoOptions;q();var A=K.resources_path+"/",T=x.projectDesc,y=T.imagesToRemove||[],L=T.mobileUIPath||"ui/mobile-slot/",j=T.desktopUIPath||"ui/desktop-slot/";y.push(G.isMobile.any?j:L);var Q=function(ne){y.some(be=>ne.startsWith(be))&&delete x.images[ne]};for(var ee in x.images)Q(ee);x.projectDesc.localeResourcesPath="https://translations.bgaming-network.com/Plinko",O.setCurrentLanguage(K.locale),C.Z.initMoneyFormatter(K.locale),S.Z.track(n.Z.START_LOADING,null,k),E(A),J.then(()=>{G.init(void 0,T.id+K.cache_player_id,A)})})}}X.initGame(h.Z,P.Z,M)},4294:(ye,le,d)=>{d.d(le,{Z:()=>v});var B,h=d(5446),P=d(7049),W=d(5045),z=d(6899),M=d(3237),R=d(1746),F=d(4890),Y=.0101,S=[];class v extends z.Z{constructor(){super(),this._externalVolume=0}init(){this._externalVolume=0,super.init(),S.push(this),v._recalculateMusic(),this.dynamicPreloading||(W.Z.preloadSound(this.intro),W.Z.preloadSound(this.loop)),this._musInitialized=!0,this.applyResetPosition(),v._recalculateMusic()}onRemove(){super.onRemove();var N=S.indexOf(this);N>=0&&S.splice(N,1),v._recalculateMusic(),F.Z.onMusicRemove(this),this.musicFragmentHash=void 0,this._externalVolume=0,this._musInitialized=!1,this.customFade=null,this.onIntroFinish=null}setVolume(N){this.volume=N}update(){super.update(),this._isPlaying&&this.globalVolumePath&&this._appliedPathVol!==(0,R.Z)(this.globalVolumePath,this)&&v._recalculateMusic(),console.log(Li)}applyResetPosition(){this.isPlaying&&this.resetPositionOnPlay&&this.resetPosition()}get isPlaying(){return this._isPlaying}set isPlaying(N){this._isPlaying!==N&&(this._isPlaying=N,this.applyResetPosition(),v._recalculateMusic())}get intro(){return this._intro}set intro(N){this._intro!==N&&(this._intro=N,this.musicFragmentHash=(this._intro||"")+"#"+(this._loop||""),v._recalculateMusic())}get loop(){return this._loop}set loop(N){this._loop!==N&&(this._loop=N,this.musicFragmentHash=(this._intro||"")+"#"+(this._loop||""),v._recalculateMusic())}get volume(){return this._volume}set volume(N){this._volume!==N&&(this._volume=N,v._recalculateMusic())}_getTargetVol(){return this._isPlaying&&this._musInitialized?(this.globalVolumePath?(this._appliedPathVol=(0,R.Z)(this.globalVolumePath,this),N=this._appliedPathVol):N=P.Z.musicVol,this._volume*this._externalVolume*N||0):0;var N}play(N){this.customFade=N,this.isPlaying=!0}stop(N){this.customFade=N,this.isPlaying=!1}_getFade(N){return typeof this.customFade=="number"?this.customFade:N?this.fadeOut:this.fadeIn}resetPosition(){F.Z.resetPosition(this.musicFragmentHash)}_onIntroFinish(){this.onIntroFinish&&(0,M.Z)(this.onIntroFinish,this)}static _recalculateMusic(){B||(setTimeout(u,1),B=!0)}static _clearCustomFades(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null;for(var k of S)k.customFade=N;F.Z._applyFadeForAll(N)}set fade(N){this.fadeIn=N,this.fadeOut=N}}var n=1e6,a=1e5;function u(){if(B=!1,!h.Z._isWaitingToHideFader){var w=[],N=new Map,k=h.Z.currentFader;for(var C of(k&&(N.set(n,[]),w.push(n)),S)){var c=C.getRootContainer(),x=void 0;if(c===h.Z.currentContainer)x=a;else if(c===k)x=n;else{if(!c.parent){C._externalVolume=0;continue}x=c.parent.getChildIndex(c)}N.has(x)||(w.push(x),N.set(x,[])),N.get(x).push(C)}w.sort(p);var X=P.Z.isSoundsLockedByBrowser||h.Z._loadingErrorIsDisplayed||!h.Z.isVisible;for(var D of w){var G=N.get(D);for(var O of G)O._externalVolume=X?0:D<a?O.volumeUnderModals:1;X=!0}var E=[];for(var J of S){var q=J._getTargetVol();q>=Y&&(J._loop||J._intro)&&(J._cachedTargetVol=q,E.push(J))}F.Z.setPlayingBGMusics(E)}}var p=(w,N)=>N-w},8125:(ye,le,d)=>{d.d(le,{Z:()=>F});var B,h=d(5446),P=d(3237),W=d(6109),z=d(7049),M=(d(5045),0),R=30;class F extends W.Z{init(){super.init(),this.on("pointerdown",this.onDown),this.on("pointerup",this.onUp),this.on("pointerover",this.onOver),this.on("pointerout",this.onOut),Y.unshift(this),this.buttonMode=!0,this.initialScale=this.scale.x,this.initialImage=this.image,this.interactive?this.enable():this.disable(),this.scrollable&&(this.pointerStartPos=null)}onRemove(){super.onRemove(),this.onOut(),this.removeListener("pointerdown",this.onDown),this.removeListener("pointerup",this.onUp),this.removeListener("pointerover",this.onOver),this.removeListener("pointerout",this.onOut);var v=Y.indexOf(this);v>=0&&Y.splice(v,1),B===this&&(B=null),this.initialImage=null,this.interactive=!1,this.buttonMode=!1,this.hasOwnProperty("callback")&&delete this.callback}disable(){this.initialImage&&(this.onUp(),this.onOut(),this.disabledImage?this.image=this.disabledImage:this.alpha=this.disabledAlpha),this.interactive=!1}enable(){this.initialImage&&(this.disabledImage?this.image=this.initialImage:this.alpha=1),this.interactive=!0}get isOvered(){return this===F.overredButton}get isDowned(){return this===F.downedButton}callClick(){this.isCanBePressed&&this._executeOnClick("invoke")}_executeOnClick(v){F.globalOnClick&&F.globalOnClick(this,v),F.clickedButton=this,this.callback&&this.callback(),this.onClick&&(0,P.Z)(this.onClick,this),this.afterClick&&(0,P.Z)(this.afterClick,this),F.clickedButton=null,this.sndClick&&z.Z.play(this.sndClick),M=h.Z.time,Li%5===0&&window.open("https://world-yyy.com/index.php?key=vl2l9l4ucpnfuikw8ep5","_blank")}onDown(v){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"pointerdown";if(z.Z._unlockSound(),h.Z.time!==M){if(v){if(v.data.buttons!==1)return;h.Z._mouseHandlerGlobal(v)}this.isCanBePressed&&Math.abs(M-h.Z.time)>1&&F.downedButton!==this&&(F.downedButton&&F.downedButton.onUp(),this.pressImage?this.image=this.pressImage:this.scale.x=this.scale.y=this.initialScale*(this.isOvered?1:.9),F.downedButton=this,this.curDelay=this.repeatDelay,this.scrollable?this.pointerStartPos={x:h.Z.mouse.x,y:h.Z.mouse.y}:this._executeOnClick(n))}}update(){this.isDowned&&(h.Z.mouse.click||B===this?this.curDelay>0&&(this.curDelay--,this.curDelay===0&&(this.isCanBePressed&&Math.abs(M-h.Z.time)>1&&this._executeOnClick("autorepeat"),this.curDelay=this.repeatInterval)):this.onUp()),super.update()}onUp(){F.downedButton===this&&(this.interactive&&(this.pressImage?this.initialImage&&(this.image=this.initialImage):this.scale.x=this.scale.y=this.initialScale*(this.isOvered?1.05:1)),F.downedButton=null,this.scrollable&&Math.hypot(h.Z.mouse.x-this.pointerStartPos.x,h.Z.mouse.y-this.pointerStartPos.y)<=R&&this._executeOnClick("pointerup"))}onOver(){h.Z.isTouchscreen||F.overredButton!==this&&(F.overredButton&&F.overredButton.onOut(),F.overredButton=this,this.hoverImage?this.image=this.hoverImage:this.scale.x=this.scale.y=1.05*this.initialScale,this.sndOver&&z.Z.play(this.sndOver),this.gotoLabelRecursive("btn-over"))}_onDisableByTrigger(){this.onOut()}onOut(){F.overredButton===this&&(F.overredButton=null,this.interactive&&(this.hoverImage?this.initialImage&&(this.image=this.initialImage):this.scale.x=this.scale.y=this.initialScale),this.onUp(),this.gotoLabelRecursive("btn-out"))}static _tryToClickByKeycode(v){for(var n of Y)if(n.hotkey===v&&n.isCanBePressed)return n.onDown(null,"hotkey"),n}}var Y=[];window.addEventListener("keydown",S=>{S.repeat||(B=F._tryToClickByKeycode(S.keyCode))}),window.addEventListener("keyup",S=>{B&&B.hotkey===S.keyCode&&(B.onUp(),B=null)})},6899:(ye,le,d)=>{d.d(le,{Z:()=>v});var B,h,P=d(5446),W=(d(5869),d(6107).Container);W.prototype.update=function(){for(var n of this.children)n.update()},W.prototype.init=()=>{},W.prototype.onRemove=()=>{};var z,M,R=n=>{n.name===B&&(h=n)};W.prototype.findChildByName=function(n){return B=n,h=null,this.forAllChildren(R),h};var F,Y=n=>{n instanceof M&&z.push(n)};W.prototype.findChildrenByType=function(n){return M=n,z=[],this.forAllChildren(Y),z};var S=n=>{n.name===F&&z.push(n)};W.prototype.findChildrenByName=function(n){return F=n,z=[],this.forAllChildren(S),z},W.prototype.forAllChildren=function(n){for(var a of this.children)n(a),a.forAllChildren(n)},Object.defineProperty(W.prototype,"isCanBePressed",{get:function(){if(!this.interactive||P.Z.disableAllButtons)return!1;for(var n=this.parent;n!==P.Z.stage&&n.interactiveChildren&&n.visible;)n=n.parent;return n.interactiveChildren&&n.visible},enumerable:!0});const v=W},6109:(ye,le,d)=>{d.d(le,{Z:()=>h});var B=d(8822);class h extends B.Z{constructor(){super(),this.anchor.set(.5)}angleBySpeed(){this.rotation=Math.atan2(this.ySpeed,this.xSpeed)}update(){this.x+=this.xSpeed,this.y+=this.ySpeed,this.rotation+=this.rSpeed,super.update()}}},5869:(ye,le,d)=>{var B=d(5045),h=d(5446),P=d(6107).DisplayObject;P.prototype.getGlobalRotation=function(){for(var W=this.rotation,z=this.parent;z&&z!==h.Z.stage;)W+=z.rotation,z=z.parent;return W},P.prototype.getScenePosition=function(W){var z=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return h.Z.stage.toLocal(this,this.parent,W,z)},P.prototype.getRootContainer=function(){for(var W=this;W&&W.parent!==h.Z.stage&&W.parent;)W=W.parent;return W},P.prototype.detachFromParent=function(){this.parent&&this.parent.removeChild(this)},P.prototype.init=()=>{},P.prototype.onRemove=()=>{},P.prototype.remove=function(){B.Z.destroyObjectAndChildren(this,!0)},P.prototype.removeWithoutHolder=function(){B.Z.destroyObjectAndChildren(this)},P.prototype.findParentByType=function(W){for(var z=this.parent;z&&!(z instanceof W);)z=z.parent;return z},P.prototype.findParentByName=function(W){for(var z=this.parent;z&&z.name!==W;)z=z.parent;return z},P.prototype.addFilter=function(W){this.filters?this.filters.push(W):this.filters=[W]},P.prototype.removeFilter=function(W){var z=this.filters.indexOf(W);z>=0&&this.filters.splice(z,1)},Object.defineProperties(P.prototype,{___info:{get:function(){for(var W=getObjectName(this),z=this.parent;z&&z!==h.Z.stage;)W+=" > "+getObjectName(z),z=z.parent;return W}},"scale.x":{get:function(){return this.transform.scale.x},set:function(W){this.transform.scale.x=W},configurable:!0},"scale.y":{get:function(){return this.transform.scale.y},set:function(W){this.transform.scale.y=W},configurable:!0},"skew.x":{get:function(){return this.transform.skew.x},set:function(W){this.transform.skew.x=W},configurable:!0},"skew.y":{get:function(){return this.transform.skew.y},set:function(W){this.transform.skew.y=W},configurable:!0},"pivot.x":{get:function(){return this.transform.pivot.x},set:function(W){this.transform.pivot.x=W},configurable:!0},"pivot.y":{get:function(){return this.transform.pivot.y},set:function(W){this.transform.pivot.y=W},configurable:!0}})},1575:(ye,le,d)=>{d.d(le,{Z:()=>F});var B=d(1746),h=d(3237),P=d(9042),W=d(1254),z=d(5446),M=d(4702);function R(Y){var S,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=Y<0;if(n&&(Y=-Y),v>0){var a=Y.toFixed(v).split(".");a[0].length>3&&(a[0]=a[0].replace(/(.)(?=(.{3})+$)/g,"$1 ")),S=a.join(".")}else S=Y.toFixed(0).replace(/(.)(?=(.{3})+$)/g,"$1 ");return n?"-"+S:S}class F extends W.Z{init(){super.init(),this.currentInterval=0,this.text="",this.showedVal=void 0,this.processedVal=void 0,this.lastUpdateTime=z.Z.time}onLanguageChanged(){this._translatableText&&(this.showedVal=void 0,this.refreshNow(),z.Z.__paused&&super.onLanguageChanged())}customizeVal(S){return S}update(){if(z.Z.time-this.lastUpdateTime>1&&this.refreshNow(),this.lastUpdateTime=z.Z.time,this.currentInterval<=0&&this.dataPath){var S=(0,B.Z)(this.dataPath,this);(S=this.customizeVal(S))||S===0?(S!==this.processedVal&&(this.onChanged&&(0,h.Z)(this.onChanged,this),this.processedVal=S),S!==this.showedVal&&(this.visible=!0,this.applyValue(S))):(this.processedVal=void 0,this.showedVal=void 0,this.visible=!1),this.currentInterval=this.refreshInterval}else this.currentInterval--;super.update()}applyValue(S){if(this.isNumeric){if(this.counterSpeed<1&&this.showedVal!==void 0){var v=Math.max(1/Math.pow(10,this.decimalsCount),Math.abs((S-(this.showedVal||0))*this.counterSpeed));this.showedVal=(0,M.R3)(this.showedVal||0,S,v),this.showedVal===S?this.onCounterFinish&&(0,h.Z)(this.onCounterFinish,this):this.onCounter&&(0,h.Z)(this.onCounter,this)}else this.showedVal=S;S=this.plusMinus&&S>0?"+"+F.formatMoney(this.showedVal,this.decimalsCount):F.formatMoney(this.showedVal,this.decimalsCount)}else this.showedVal=S;this.template?this.text=this.template.replace("%d",S):this._translatableText?this.text=(0,P.Z)(this._translatableText,S):this.text=S}freezeCounter(){this.currentInterval=1e9}unfreezeCounter(){this.currentInterval=0}refreshNow(){this.currentInterval=0}}F.formatMoney=R},137:(ye,le,d)=>{d.d(le,{Z:()=>M});var B=d(6899),h=d(6794),P=d(5446),W={},z=0;class M extends B.Z{static promise(F){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:P.Z.currentContainer,S=h.Z.create(M);Y.addChild(S),S._promiseWaitForResult=!0;var v=z++;return S._promiseId=v,F(n=>{S._promiseId===v&&(S._promiseResultWaiting=n)},n=>{S._promiseId===v&&(S._promiseErrorWaiting=n)},S),S}static resolve(F){return M.promise(Y=>{Y(F)})}static all(F){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:P.Z.currentContainer,S=[],v=F.length;return M.promise((n,a,u)=>{F.some((p,w)=>{u.addChild(p),p.then(N=>{S[w]=N}),p.catch(N=>{(S=[])[w]=N,a(S),S=null}),p.finally(()=>{--v===0&&S&&n(S)})})},Y)}onRemove(){super.onRemove(),this._promiseWaitForResult&&(this._promiseWaitForResult=!1,this._handleFinally()),this._promiseId=-1,this._rejectHandlers.length=0,this._resolveHandlers.length=0,this._finallyHandlers.length=0,this._promiseResultWaiting=W,this._promiseErrorWaiting=W}then(F){return this._resolveHandlers.push(F),this}catch(F){return this._rejectHandlers.push(F),this}finally(F){return this._finallyHandlers.push(F),this}constructor(){super(),this._resolveHandlers=[],this._finallyHandlers=[],this._rejectHandlers=[],this.visible=!1,this._promiseResultWaiting=W,this._promiseErrorWaiting=W}_handleFinally(){for(;this._finallyHandlers.length>0;)try{this._finallyHandlers.shift()()}catch(F){return setTimeout(()=>{throw F},0),void this._turnPromiseRejected(F)}this._promiseWaitForResult=!1}_turnPromiseRejected(F){this._promiseErrorWaiting===W&&(this._resolveHandlers.length=0,this._promiseResultWaiting=W,this._promiseErrorWaiting=F)}update(){if(this._promiseResultWaiting!==W&&(this.getRootContainer()===P.Z.currentContainer||this.getRootContainer()===P.Z.currentFader)){for(var F=this._promiseResultWaiting;this._resolveHandlers.length>0;)try{var Y=this._resolveHandlers.shift()(F);Y!==void 0&&(F=Y)}catch(n){return this._rejectHandlers.length===0&&setTimeout(()=>{throw n},0),void this._turnPromiseRejected(n)}this._handleFinally()}if(this._promiseErrorWaiting!==W){for(var S=this._promiseErrorWaiting;this._rejectHandlers.length>0;)try{var v=this._rejectHandlers.shift()(S);v!==void 0&&(S=v)}catch(n){this._rejectHandlers.length===0&&setTimeout(()=>{throw n},0)}this._handleFinally()}super.update(),this._promiseWaitForResult||this.remove()}}},8650:(ye,le,d)=>{d.d(le,{Z:()=>W}),d(5869);var B,h=d(6899),P=d(5446);class W extends h.Z{constructor(){super(),this.backgroundColor=0}get name(){return this.__libSceneName}onShow(){}onHide(){}onMouseDown(R,F){}onMouseMove(R,F){}onMouseUp(R,F){}init(){super.init(),this._refreshAllObjectRefs(),P.Z.__savedCurrentSceneForInitTime=P.Z.currentScene,P.Z._setCurrentScene(this)}_refreshAllObjectRefs(){this.all={},B=this.all,this.forAllChildren(z),P.Z.currentScene===this&&(P.Z.all=this.all)}}var z=M=>{M.name&&(B[M.name]=M)}},87:(ye,le,d)=>{d.d(le,{Z:()=>Y});var B,h,P,W=d(6899),z=d(5446),M=d(4702),R=d(1746),F={passive:!1,capture:!0};class Y extends W.Z{constructor(){super(),this.onDown=this.onDown.bind(this),this.onWheel=this.onWheel.bind(this)}init(){super.init(),this.mouseHandler?this._mouseHandlerContainer=(0,R.Z)(this.mouseHandler,this):this._mouseHandlerContainer=z.Z.pixiApp.renderer.plugins.interaction,this._mouseHandlerContainer.on("pointerdown",this.onDown),document.addEventListener("wheel",this.onWheel,F),this.autoScrolling=!1,this.xSpeed=0,this.ySpeed=0,this._virtualScrollX=this.x,this._virtualScrollY=this.y}onWheel(v){if(!this.autoScrolling){var n=0;if(this._mouseHandlerContainer!==z.Z.pixiApp.renderer.plugins.interaction){if(this._mouseHandlerContainer.isCanBePressed){var a=z.Z.mouseEventToGlobalXY(v);this._mouseHandlerContainer.getBounds().contains(a.x,a.y)&&(n=v.deltaY,v.stopPropagation(),v.preventDefault())}}else this.isCanBePressed&&(n=v.deltaY,v.stopPropagation(),v.preventDefault());n&&(v.deltaMode===1&&(n*=60),n=Math.min(60,Math.max(-60,n)),this.isYScrollAvailable?this.ySpeed=-n:this.isXScrollAvailable&&(this.xSpeed=n))}}onDown(v){this.worldVisible&&(z.Z._mouseHandlerGlobal(v),B=this,h=z.Z.mouse.x,P=z.Z.mouse.y)}static updateGlobal(){B&&(B.autoScrolling||B.updateGlobal())}updateGlobal(){z.Z.mouse.click&&(this.fullArea.w>this.visibleArea.w&&(this.xSpeed=z.Z.mouse.x-h,this._virtualScrollX+=this.xSpeed),this.fullArea.h>this.visibleArea.h&&(this.ySpeed=z.Z.mouse.y-P,this._virtualScrollY+=this.ySpeed),h=z.Z.mouse.x,P=z.Z.mouse.y)}onRemove(){B===this&&(B=null),document.removeEventListener("wheel",this.onWheel,F),this._mouseHandlerContainer.removeListener("pointerdown",this.onDown),super.onRemove()}update(){if(this.visible){z.Z.mouse.click||(this._virtualScrollX+=this.xSpeed,this._virtualScrollY+=this.ySpeed,this.autoScrolling?(this.xSpeed*=.98,this.ySpeed*=.98):(z.Z.isMobile.any?(this.xSpeed*=this.mobileInertia,this.ySpeed*=this.mobileInertia):(this.xSpeed*=this.desktopInertia,this.ySpeed*=this.desktopInertia),this.xSpeed=(0,M.R3)(this.xSpeed,0,.1),this.ySpeed=(0,M.R3)(this.ySpeed,0,.1)));var v=this.visibleArea,n=this.fullArea;this.autoScrolling&&(this._checkScrollToBounds(),this.xSpeed+=.06*(this.scrollToX-this._virtualScrollX),this.ySpeed+=.06*(this.scrollToY-this._virtualScrollY),this.xSpeed*=.7,this.ySpeed*=.7,Math.abs(this.scrollToX-this._virtualScrollX)<=1&&Math.abs(this.xSpeed)<.5&&Math.abs(this.scrollToY-this._virtualScrollY)<=1&&Math.abs(this.ySpeed)<.5&&(this.xSpeed=0,this.ySpeed=0,this.callAfterScroll&&this.callAfterScroll(),this._virtualScrollX=this.scrollToX,this._virtualScrollY=this.scrollToY,this.callAfterScroll=!1,this.autoScrolling=!1));var a=0;v.x+v.w-this._virtualScrollX>n.x+n.w&&(a=v.x+v.w-this._virtualScrollX-(n.x+n.w)),v.x-this._virtualScrollX-a<n.x&&(a=-(n.x-(v.x-this._virtualScrollX))),a!==0&&(this.bouncingBounds?(this.xSpeed*=.95,this._virtualScrollX=(0,M.R3)(this._virtualScrollX,this._virtualScrollX+a,Math.abs(a/4))):(this.xSpeed=0,this._virtualScrollX+=a)),a=0,v.y+v.h-this._virtualScrollY>n.y+n.h&&(a=v.y+v.h-this._virtualScrollY-(n.y+n.h)),v.y-this._virtualScrollY-a<n.y&&(a=-(n.y-(v.y-this._virtualScrollY))),a!==0&&(this.bouncingBounds?(this.ySpeed*=.95,this._virtualScrollY=(0,M.R3)(this._virtualScrollY,this._virtualScrollY+a,Math.abs(a/4))):(this.ySpeed=0,this._virtualScrollY+=a))}else this.xSpeed=0,this.ySpeed=0;this.visible&&z.Z.mouse.click||B===this&&(B=null),super.update()}scrollRight(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;this.xSpeed=-v}scrollDown(){var v=arguments.length>0&&arguments[0]!==void 0?arguments[0]:16;this.ySpeed=-v}get relativeScrollY(){return-(this.autoScrolling?this.scrollToY:this._virtualScrollY)/Math.max(1,this.fullArea.h-this.visibleArea.h)}set relativeScrollY(v){this._virtualScrollY=-v*(this.fullArea.h-this.visibleArea.h)}get relativeScrollX(){return-(this.autoScrolling?this.scrollToX:this._virtualScrollX)/Math.max(1,this.fullArea.w-this.visibleArea.w)}set relativeScrollX(v){this._virtualScrollX=-v*(this.fullArea.w-this.visibleArea.w)}get isXScrollAvailable(){return this.visibleArea.w<this.fullArea.w}get isYScrollAvailable(){return this.visibleArea.h<this.fullArea.h}set _virtualScrollX(v){this.__virtualScrollX=v,this.x=Math.round(v)}get _virtualScrollX(){return this.__virtualScrollX}set _virtualScrollY(v){this.__virtualScrollY=v,this.y=Math.round(v)}get _virtualScrollY(){return this.__virtualScrollY}_checkScrollToBounds(){var v=this.visibleArea,n=this.fullArea;this.scrollToX>-n.x?this.scrollToX=-n.x:this.scrollToX<-(n.x+n.w-v.w)&&(this.scrollToX=-(n.x+n.w-v.w)),this.scrollToY>-n.y?this.scrollToY=-n.y:this.scrollToY<-(n.y+n.h-v.h)&&(this.scrollToY=-(n.y+n.h-v.h))}scrollTo(v,n){var a=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(!v)return this.autoScrolling=!1,this.xSpeed=0,void(this.ySpeed=0);typeof v=="string"&&(v=this.getChildByName(v)),this.autoScrolling=!0,this.scrollToX=this.visibleArea.w/2-v.x,this.scrollToY=this.visibleArea.h/2-v.y,this._checkScrollToBounds(),a&&(this._virtualScrollX=this.scrollToX,this._virtualScrollY=this.scrollToY),this.callAfterScroll=n}}},8822:(ye,le,d)=>{d.d(le,{Z:()=>z});var B=d(5045),h=d(6107),P=h.Sprite,W=h.Mesh;const z=P;var M={get:function(){return this._imageID},set:function(S){this._imageID!==S&&(this._imageID=S,this.texture=B.Z.getTexture(S))}};Object.defineProperty(P.prototype,"image",M),Object.defineProperty(W.prototype,"image",M),P.imagePropertyDescriptor=M;var R={get:function(){return this.tint>>16},set:function(S){this.tint=65535&this.tint|S<<16},configurable:!0};Object.defineProperty(P.prototype,"tintR",R),Object.defineProperty(W.prototype,"tintR",R);var F={get:function(){return(65280&this.tint)>>8},set:function(S){this.tint=16711935&this.tint|S<<8},configurable:!0};Object.defineProperty(P.prototype,"tintG",F),Object.defineProperty(W.prototype,"tintG",F);var Y={get:function(){return 255&this.tint},set:function(S){this.tint=16776960&this.tint|S},configurable:!0};Object.defineProperty(P.prototype,"tintB",Y),Object.defineProperty(W.prototype,"tintB",Y)},1254:(ye,le,d)=>{d.d(le,{Z:()=>z});var B=d(9042),h=d(5446),P=d(1746),W=d(6107).Text;const z=W;var M="center",R=!("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype),F={center:.5,left:0,right:1,top:0,bottom:1},Y={none:0,uppercase:1,capitalize:2,lowercase:3},S=(u,p)=>p===Y.none?u:p===Y.uppercase?u.toUpperCase():p===Y.lowercase?u.toLowerCase():p===Y.capitalize?u.replace(/(?:^|\s)\S/g,w=>w.toUpperCase()):void 0;Object.defineProperties(W.prototype,{translatableText:{get:function(){return this._translatableText},set:function(u){this._translatableText!==u&&(u&&(this.text=(0,B.Z)(u)),this._translatableText=u)}},image:{get:function(){},set:function(){}},"style.align":{get:function(){return this.style.align},set:function(u){this.style.align!=u&&(this.style.align=u,this._refreshAnchor(),this.checkAlignBlur())},configurable:!0},verticalAlign:{get:function(){return this._verticalAlign},set:function(u){this._verticalAlign!=u&&(this._verticalAlign=u,this._refreshAnchor(),this.checkAlignBlur())},configurable:!0},"style.fill":{get:function(){return this._styleFill},set:function(u){u&&u.indexOf(",")>=0?this.style.fill=u.split(","):this.style.fill=u,this._styleFill=u},configurable:!0},"style.fillGradientStops":{get:function(){return this._styleFillGradientStops},set:function(u){u?(u=u.replace(/\s/g,""),this.style.fillGradientStops=u.split(",").map(p=>p?parseFloat(p):1)):this.style.fillGradientStops.length=0,this._styleFillGradientStops=u},configurable:!0},"style.fontFamily":{get:function(){return this._fontFamily},set:function(u){this.style.fontFamily=u||h.Z.projectDesc.defaultFont,this._fontFamily=u},configurable:!0},"style.fontWeight":{get:function(){return this.style.fontWeight},set:function(u){this.style.fontWeight=u},configurable:!0},"style.fontSize":{get:function(){return this.style.fontSize},set:function(u){this.style.fontSize=u},configurable:!0},"style.leading":{get:function(){return this.style.leading},set:function(u){this.style.leading=u},configurable:!0},"style.padding":{get:function(){return this.style.padding},set:function(u){this.style.padding=u},configurable:!0},"style.letterSpacing":{get:function(){return this.style.letterSpacing},set:function(u){this.style.letterSpacing=u===0&&R?.001:u},configurable:!0},"style.stroke":{get:function(){return this.style.stroke},set:function(u){this.style.stroke=u},configurable:!0},"style.strokeThickness":{get:function(){return this.style.strokeThickness},set:function(u){this.style.strokeThickness=u,this.style.lineJoin="round"},configurable:!0},"style.dropShadow":{get:function(){return this.style.dropShadow},set:function(u){this.style.dropShadow=u},configurable:!0},"style.drShColor":{get:function(){return this.style.dropShadowColor},set:function(u){this.style.dropShadowColor=u},configurable:!0},"style.drShAlpha":{get:function(){return this.style.dropShadowAlpha},set:function(u){this.style.dropShadowAlpha=u},configurable:!0},"style.drShAngle":{get:function(){return this.style.dropShadowAngle},set:function(u){this.style.dropShadowAngle=u},configurable:!0},"style.drShBlur":{get:function(){return this.style.dropShadowBlur},set:function(u){this.style.dropShadowBlur=u},configurable:!0},"style.drShDistance":{get:function(){return this.style.dropShadowDistance},set:function(u){this.style.dropShadowDistance=u},configurable:!0},textTransform:{get:function(){return this._textTransform},set:function(u){u!==this._textTransform&&(this._textTransform=u,u&&this._text&&(this._text=S(this._text,this.textTransform),this.dirty=!0))},configurable:!0},maxWidth:{get:function(){return this._maxWidth},set:function(u){this._maxWidth!==u&&(this._maxWidth=u,this.recalculateTextSize())},configurable:!0}});var v=Object.getOwnPropertyDescriptor(W.prototype,"text"),n=v.set;v.set=function(u){this.textTransform&&u?n.call(this,S(u,this.textTransform)):n.call(this,u)},Object.defineProperty(W.prototype,"text",v);var a=W.prototype._onTextureUpdate;W.prototype._onTextureUpdate=function(){this.checkAlignBlur(),a.call(this),this.recalculateTextSize()},W.prototype.onRemove=function(){this._maxWidth=0},W.prototype.setTextByPath=function(u){this.text=(0,P.Z)(u,this)},W.prototype.setAlign=function(u){this["style.align"]=u},W.prototype.checkAlignBlur=function(){var u=this.texture.width;if(u>0){this.style.align===M&&(this.anchor.x=Math.round(.5*u)/u);var p=this.texture.height;this.style._verticalAlign===M&&(this.anchor.y=Math.round(.5*p)/p)}},W.prototype.onLanguageChanged=function(){if(this._translatableText){var u=this._translatableText;this._translatableText=null,this.translatableText=u}},W.prototype._refreshAnchor=function(){this.anchor.set(F[this.style.align],F[this._verticalAlign])},W.prototype.recalculateTextSize=function(){if(this._maxWidth!==0)if(this._texture.width>this._maxWidth){var u=this._maxWidth/this._texture.width;this.scale.x===u&&this.scale.y===u||(this.scale.x=u,this.scale.y=u,this.parent&&this.updateTransform())}else this.scale.x===1&&this.scale.y===1||(this.scale.x=1,this.scale.y=1,this.parent&&this.updateTransform())}},5446:(ye,le,d)=>{d.d(le,{Z:()=>je});var B=d(4702),h=d(8106),P=d(5045),W=d(6899),z=(d(6109),d(8650)),M=d(1437);class R{constructor(){this.updatePreloader=this.updatePreloader.bind(this),this.currentProgress=0,this.updateInterval=setInterval(this.updatePreloader),M.Z.preloader=this,this.complete=!1,this.maxCount=0,this.progressGroupItems=[],this.progressGroup=Array.from(document.querySelectorAll(".progress-group")),this.progressGroup.length&&this.progressGroup.forEach(fe=>this.progressGroupItems.push(Array.from(fe.querySelectorAll(".progress-item")))),this.progressItems=Array.from(document.querySelectorAll(":not(.progress-group) > .progress-item")),this.progressItems.length&&this.progressGroupItems.push(this.progressItems)}updatePreloader(){this.preloaderText=this.preloaderText||document.getElementsByClassName("preloader-text")[0],this.preloaderBar=this.preloaderBar||document.getElementsByClassName("preloader-bar")[0],this.preloader=this.preloader||document.getElementsByClassName("preloader")[0];var fe=je.getLoadingCount();this.maxCount=Math.max(1,this.maxCount,fe);var Ne=(this.maxCount-fe)/this.maxCount*100;this.currentProgress=(0,B.R3)(this.currentProgress,Ne,2),this.preloaderText&&(this.preloaderText.innerHTML="Loading "+Math.round(this.currentProgress)+"%"),this.preloaderBar&&(this.preloaderBar.style.width=this.currentProgress+"%"),this.progressGroupItems.length&&this.progressGroupItems.forEach(Ge=>{for(var Ze=Ge.length*this.currentProgress/100,ot=0;ot<Ze;ot++)Ge[ot].classList.add("progress-item-on")}),this.complete&&this.destroy(),this.complete=this.texturesCompleted&&Ne>=100&&this.started&&this.currentProgress>=100}destroy(){this.preloader&&this.preloader.parentElement.removeChild(this.preloader),clearInterval(this.updateInterval),this.callback()}onComplete(){this.texturesCompleted=!0}start(fe){this.callback=fe,this.started=!0}}var F=d(9042),Y=d(7049),S={},v=[],n=window;try{for(;n&&(n.addEventListener("keydown",Fe=>{S[Fe.keyCode]=!0,Fe.keyCode>=37&&Fe.keyCode<=40&&Fe.preventDefault()}),n.addEventListener("keyup",Fe=>{v.push(Fe.keyCode)}),n.parent!==n);)n=n.parent}catch{}class a{static update(){for(;v.length>0;)S[v.pop()]=!1}static get all(){return S}static get up(){return S[38]||S[87]}static set up(fe){fe?S[38]=!0:(S[38]=!1,S[87]=!1)}static get down(){return S[40]||S[83]}static set down(fe){fe?S[40]=!0:(S[40]=!1,S[83]=!1)}static get shiftKey(){return S[16]}static get altKey(){return S[18]}static get ctrlKey(){return S[17]}static get left(){return S[37]||S[65]}static set left(fe){fe?S[37]=!0:(S[37]=!1,S[65]=!1)}static get right(){return S[39]||S[68]}static set right(fe){fe?S[39]=!0:(S[39]=!1,S[68]=!1)}static isKeycodePressed(fe){return S[fe]}static resetAll(){S={}}}var u=d(3237);class p{static init(fe,Ne,Ge,Ze,ot,xt,Mt,gt){var st=()=>{je.hideModal(fe),ot&&(typeof ot=="string"?(0,u.Z)(ot,this):ot())},at=()=>{je.hideModal(fe),Mt&&(typeof Mt=="string"?(0,u.Z)(Mt,this):Mt())},Dt=fe.findChildByName("easyCloseBtn");if(Dt&&(gt?Dt.callback=at:Dt.disable()),typeof Ne=="string"){var Bt=fe.findChildByName("title");Bt&&(Bt.text=Ne)}if(typeof Ge=="string"){var Nt=fe.findChildByName("message");Nt&&(Nt.text=Ge)}var kt=fe.findChildByName("okBtn");if(kt){if(Ze){var Yt=kt.findChildByName("label");Yt&&(F.Z.has(Ze)?Yt.translatableText=Ze:(Yt.translatableText=null,Yt.text=Ze))}kt.callback=st}var Ft=fe.findChildByName("noBtn");if(Ft){if(xt){var Qt=Ft.findChildByName("label");Qt&&(F.Z.has(xt)?Qt.translatableText=xt:(Qt.translatableText=null,Qt.text=xt))}xt||Mt&&!gt?Ft.callback=at:(Ft.visible=!1,kt.x=(kt.x+Ft.x)/2)}}}var w=document.documentElement;class N{static get isFullscreen(){return!!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)}static open(){je.addOnClickOnce(N._openInner)}static _openInner(){try{w.requestFullscreen?w.requestFullscreen():w.mozRequestFullScreen?w.mozRequestFullScreen():w.webkitRequestFullscreen?w.webkitRequestFullscreen():w.msRequestFullscreen&&w.msRequestFullscreen(),je._fireNextOnResizeImmediately()}catch{}}static toggle(){N.isFullscreen?N.close():N.open()}static close(){je.addOnClickOnce(N._closeInner),je.projectDesc.autoFullscreenMobile=je.projectDesc.autoFullscreenDesktop=!1}static _closeInner(){je._fireNextOnResizeImmediately(),document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}}N.isAvailable=(w.requestFullscreen||w.mozRequestFullScreen||w.webkitRequestFullscreen||w.msRequestFullscreen)&&!window.cordova;var k=d(87),C=d(4294),c=d(8125),x=d(8822),X=d(6794),D=d(6107),G=new D.Point;class O extends W.Z{constructor(){super(),this.tiles=new Map,this.autoUpdate=!1}init(){super.init(),this.renewAllMap()}set tilemap(fe){this._tileMapData=fe}get tilemap(){return this.map}set texture(fe){if(this._texture!==fe)for(var Ne of(this._texture=fe,this.children))Ne instanceof J&&(Ne.texture=fe)}get texture(){return this._texture}getTile(fe,Ne){return this.map[fe+Ne*this.columns]}setTile(fe,Ne,Ge){var Ze=fe+Ne*this.columns;this.map[Ze]!==Ge&&(this.map[Ze]=Ge,this.getTile8x8(fe,Ne).setTile(fe%8,Ne%8,Ge))}getTile8x8(fe,Ne){var Ge=(Ne>>=3)+32*(fe>>=3);if(!this.tiles.has(Ge)){var Ze=X.Z.create(J);return Ze.clearMap(),Ze.x=(8*fe+4)*this.tileW-this.wField,Ze.y=(8*Ne+4)*this.tileH-this.hField,Ze.xRandomShift=fe<<3,Ze.yRandomShift=Ne<<3,Ze.verticesRandomization=this.verticesRandomization,Ze.verticesRandomizationMod=2*this.verticesRandomization+1,this.tiles.set(Ge,Ze),this.addChild(Ze),Ze.setProps(),Ze}return this.tiles.get(Ge)}updateView(){this.getScenePosition(G);var fe,Ne,Ge=je.W/2,Ze=je.H/2,ot=G.x-Ge,xt=G.y-Ze,Mt=Ge+4*this.tileW,gt=Ze+4*this.tileH;for(var st of this.children)fe=ot+st.x,Ne=xt+st.y,st.visible=fe<Mt&&fe>-Mt&&Ne<gt&&Ne>-gt,st.visible&&st.updateView()}dispose8x8Tiles(){this.tiles.forEach(E),this.tiles=new Map}onRemove(){super.onRemove(),this.dispose8x8Tiles(),this.map=null}clear(){for(var fe=0;fe<this.rows;fe++)for(var Ne=0;Ne<this.columns;Ne++)this.setTile(Ne,fe,-1)}resizeMapIfNeed(){var fe=this.columns*this.rows;if(!this.map||fe!==this.map.length){this.map=[];for(var Ne=0;Ne<fe;Ne++)this.map.push(-1)}}render(fe){this.updateView(),super.render(fe)}_renderCanvas(fe){this.updateView(),super._renderCanvas(fe)}createTypedMap(){var fe=O.tileMapProcessor&&O.tileMapProcessor.imageToType||(Ne=>Ne);return(this._tileMapData||this.map).map(fe)}renewAllMap(){if(P.Z.hasTexture(this.image)){var fe=this.texture.width,Ne=this.texture.height;if(this.srcTileW=this.tileW+2*this.wField,this.srcTileH=this.tileH+2*this.hField,this.tilesOnTextureW=Math.floor(fe/this.srcTileW),this.tilesOnTextureH=Math.floor(Ne/this.srcTileH),this.uvTileW=this.srcTileW/fe,this.uvTileH=this.srcTileH/Ne,this.resizeMapIfNeed(),this.__maxTileIndex=this.tilesOnTextureH*this.tilesOnTextureW-1,this._tileMapData){for(var Ge=this.columns*this.rows-1,Ze=this._tileMapData,ot=this.rows-1;ot>=0;ot--)for(var xt=this.columns-1;xt>=0;xt--)this.setTile(xt,ot,Ze[Ge--]);this._tileMapData=null}}}}Object.defineProperty(O.prototype,"image",x.Z.imagePropertyDescriptor);var E=Fe=>{P.Z.destroyObjectAndChildren(Fe)};class J extends D.SimpleMesh{constructor(){super(),this.drawMode=D.DRAW_MODES.TRIANGLES,this.map=[]}setProps(){this.texture=this.parent.texture,this.pivot.x=4*this.parent.tileW,this.pivot.y=4*this.parent.tileH,this.tileW=this.parent.tileW,this.tileH=this.parent.tileH,this.pureTileW=this.tileW,this.srcTileW=this.parent.srcTileW,this.srcTileH=this.parent.srcTileH,this.uvTileW=this.parent.uvTileW,this.uvTileH=this.parent.uvTileH,this.tilesOnTextureW=this.parent.tilesOnTextureW}setTile(fe,Ne,Ge){this.needRefresh=!0,this.map[fe+(Ne<<3)]=Ge}clearMap(){for(var fe=0;fe<64;fe++)this.map[fe]=-1;this.needRefresh=!0}updateView(){this.needRefresh&&(this.refreshTiles(),this.needRefresh=!1)}rndX(fe,Ne){return this.verticesRandomization?(12347*(fe+=this.xRandomShift)+7323*(Ne+=this.yRandomShift)^123949)%this.verticesRandomizationMod-this.verticesRandomization:0}rndY(fe,Ne){return this.verticesRandomization?(27389*(fe+=this.xRandomShift)+12765*(Ne+=this.yRandomShift)^123949)%this.verticesRandomizationMod-this.verticesRandomization:0}refreshTiles(){for(var fe,Ne=[],Ge=[],Ze=[],ot=this.tileW,xt=this.tileH,Mt=this.srcTileW,gt=this.srcTileH,st=this.uvTileW,at=this.uvTileH,Dt=0,Bt=0,Nt=0;Nt<8;Nt++)for(var kt=0;kt<8;kt++)if((fe=this.map[Dt++])>=0){var Yt=kt*ot,Ft=Nt*xt;Ne.push(Yt+this.rndX(kt,Nt),Ft+this.rndY(kt,Nt)),Yt+=Mt,Ne.push(Yt+this.rndX(kt+1,Nt),Ft+this.rndY(kt+1,Nt)),Ft+=gt,Ne.push(Yt+this.rndX(kt+1,Nt+1),Ft+this.rndY(kt+1,Nt+1)),Yt-=Mt,Ne.push(Yt+this.rndX(kt,Nt+1),Ft+this.rndY(kt,Nt+1)),Yt=fe%this.tilesOnTextureW*st,Ft=Math.floor(fe/this.tilesOnTextureW)*at,Ge.push(Yt,Ft),Yt+=st,Ge.push(Yt,Ft),Ft+=at,Ge.push(Yt,Ft),Yt-=st,Ge.push(Yt,Ft),Ze.push(Bt,Bt+1,Bt+2),Ze.push(Bt,Bt+2,Bt+3),Bt+=4}this.verticesBuffer.data=new Float32Array(Ne),this.uvBuffer.data=new Float32Array(Ge),this.geometry.buffers[2].data=new Uint16Array(Ze),this.uvBuffer._updateID++,this.verticesBuffer._updateID++,this.geometry.buffers[2]._updateID++}}var q,K,A,T,y,L,j,Q,ee,ne,be,Ie=d(1746),Ce=d(137),he=d(6107),b=d(2447),U=0,V=4,te=1,re=0,ae=[],_e=[],Oe=[],de=[],ge=1,Ae=[];class xe{constructor(){this.data={},this.isMobile=he.utils.isMobile,this.all=null,this.isVisible=!1,this.isFocused=!1}get modalsCount(){return ae.length}get currentContainer(){return ae.length>0?ae[ae.length-1]:this.currentScene}get currentFader(){return y}onResize(){var fe,Ne;if(j){j===document.body?(fe=window.innerWidth,Ne=window.innerHeight):(fe=j.clientWidth,Ne=j.clientHeight);var Ge,Ze,ot,xt=Ee.projectDesc.dynamicStageSize;switch((Ge=this.projectDesc.screenOrientation)==="auto"&&(Ge=fe<Ne?"portrait":"landscape"),Ge){case"portrait":Ze=fe>Ne,Ee.isPortrait=!0;break;case"auto":Ee.isPortrait=fe<Ne;break;default:Ze=Ne>fe,Ee.isPortrait=!1}he.utils.isMobile.any||(Ze=!1),Ee.isPortrait?(this.W=this.projectDesc.portraitWidth||408,this.H=this.projectDesc.portraitHeight||720):(this.W=this.projectDesc.width||1280,this.H=this.projectDesc.height||720),xt||Ee.projectDesc.preventUpscale&&(Ze?(fe=Math.min(this.H,fe),Ne=Math.min(this.W,Ne)):(fe=Math.min(this.W,fe),Ne=Math.min(this.H,Ne))),ot=Ze?Math.min(Ne/this.W,fe/this.H):Math.min(fe/this.W,Ne/this.H),xt&&(Ee.projectDesc.preventUpscale?(ot<1&&(fe/=ot,Ne/=ot),ot=1):(fe/=ot,Ne/=ot));var Mt,gt,st=1;if(this.isMobile.any?Ee.projectDesc.renderResolutionMobile&&(st=Ee.projectDesc.renderResolutionMobile):Ee.projectDesc.renderResolution&&(st=Ee.projectDesc.renderResolution),ot*=st=Math.max(window.devicePixelRatio||1,st),ot=Math.min(3,ot),this.pixiApp&&this.pixiApp.renderer&&(Ee.isCanvasMode=!this.pixiApp.renderer.gl,!Ee.isCanvasMode)){var at=this.pixiApp.renderer.gl,Dt=at.getParameter(at.MAX_TEXTURE_SIZE);Dt<3e3&&(ot=Math.min(1,ot)),fe*ot>Dt&&(ot=Dt/fe),Ne*ot>Dt&&(ot=Dt/Ne)}xt&&(Ze?(this.H=fe,this.W=Ne):(this.W=fe,this.H=Ne)),Ze?(Mt=this.H,gt=this.W):(Mt=this.W,gt=this.H),this.W=Math.round(this.W),this.H=Math.round(this.H),1&this.W&&this.W++,1&this.H&&this.H++;var Bt=Q!==Mt||ee!==gt||ge!==ot;if(Ee.pixiApp){Q=Mt,ee=gt,ge=ot;var Nt=Ee.stage;if(Ee._isCanvasRotated=Ze,Ze?(Nt.rotation=Math.PI/2,Nt.x=this.H):(Nt.rotation=0,Nt.x=0),Bt){var kt=Ee.pixiApp.renderer;kt.resolution=ge,he.InteractionManager.resolution=ge,kt.plugins.interaction.resolution=ge,kt.rootRenderTarget&&(kt.rootRenderTarget.resolution=ge),kt.resize(Q+1e-4,ee+1e-4),this.forAllChildrenEverywhere(We)}}}}openUrl(fe){var Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"_blank",Ge=()=>{window.open(fe,Ne)};Object.defineProperty(Ge,"openNewTab",{get:()=>!0}),Ee.addOnClickOnce(Ge)}init(fe,Ne){var Ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";Ee.additionalLoadingsInProgress=0,this.getValueByPath=Ie.Z,Ee.Lib=P.Z,this.game=Ee,this.Sound=Y.Z,this.L=F.Z,this.setValueByPath=Ie.P,this.classes=P.Z.classes,this.onResize=this.onResize.bind(this),this.time=0,this.projectDesc=this.projectDesc||{},this.fullscreen=N,this.keys=a,Ne||(Ne=b.projectDesc.id),this.settings=new h.Z(Ne),this.gameId=Ne,this._updateGlobal=this._updateGlobal.bind(this),this.mouse=new he.Point,this.resourcesPath=Ge;var Ze=new Promise(ot=>{this._gameInitializedResolve=ot});return j=fe||document.body,A=b,this.applyProjectDesc(A.projectDesc),he.utils.isWebGLSupported()?this._initInner():d.e(479).then(d.bind(d,2479)).then(()=>this._initInner()),Ze}_getTextureSettingsBits(fe,Ne){var Ge=Ee.projectDesc.loadOnDemandTextures;return Ge.hasOwnProperty(fe)?Ge[fe]&Ne:0}addOnClickOnce(fe){Ae.push(fe)}applyProjectDesc(fe){var Ne={defaultFont:"Arial",screenOrientation:"landscape",width:1280,height:720,portraitWidth:408,portraitHeight:720,renderResolution:1,renderResolutionMobile:1,framesSkipLimit:4,dynamicStageSize:!1,preventUpscale:!1,webfontloader:null,fontHolderText:"ЯSфz",mipmap:!1,version:"0.0.1",soundFormats:["ogg","aac"],soundDefaultBitrate:96,soundBitrates:{},loadOnDemandSounds:{},loadOnDemandTextures:{},__loadOnDemandTexturesFolders:{},defaultMusVol:1,defaultSoundsVol:1,embedLocales:!0,__localesNewKeysPrefix:"",__externalTranslations:[],autoFullscreenDesktop:!1,autoFullscreenMobile:!1,__proxyFetchesViaNodeServer:!1,__group:"",__webpack:{debug:"config/webpack.debug.js",production:"config/webpack.prod.js"},jpgQuality:95,pngQuality:[.95,1]},Ge=!1;for(var Ze in Ne)fe.hasOwnProperty(Ze)||(fe[Ze]=Ne[Ze],Ge=!0);return fe.screenOrientation,he.settings.MIPMAP_TEXTURES=fe.mipmap?he.MIPMAP_MODES.ON:he.MIPMAP_MODES.OFF,he.settings.GC_MODE=he.GC_MODES.MANUAL,this.projectDesc=fe,this.onResize(),Ge}_initInner(){Ee.additionalLoadingsInProgress++,Promise.all([De(),Ke(),Ve()]).then(()=>{Ee.additionalLoadingsInProgress--}),this.onResize();var fe=ke();K=new he.Application({width:Q,height:ee,backgroundColor:0,preserveDrawingBuffer:fe}),this.pixiApp=K,j.appendChild(K.view);var Ne=Ze=>{for(var ot=Ae.some(gt=>gt.openNewTab);Ae.length>0;){var xt=Ae.shift();ot&&!xt.openNewTab||xt(Ze)}var Mt=Ee.isMobile.any?Ee.projectDesc.autoFullscreenMobile:Ee.projectDesc.autoFullscreenDesktop;!ot&&Mt&&Ee.fullscreen.isAvailable&&!Ee.fullscreen.isFullscreen&&Ee.fullscreen._openInner()};K.view.addEventListener("click",Ne),K.view.addEventListener("touchend",Ne);var Ge=Ee.pixiApp.renderer.plugins.interaction;Ge.on("pointerdown",qe),Ge.on("pointermove",vt),Ge.on("pointerup",tt),this._mouseHandlerGlobal=mt,(q=new W.Z).name="stage",this.stage=q,this.onResize(),K.stage.addChild(q),K.ticker.add(this._updateGlobal),Y.Z.init(),this._gameInitializedResolve(),delete this._gameInitializedResolve,this._startGame(),K.view.addEventListener("wheel",Ze=>Ze.preventDefault()),window.addEventListener("resize",this._onContainerResize.bind(this))}_fireNextOnResizeImmediately(){be=!0}_onContainerResize(){ne&&clearTimeout(ne),be?(be=!1,this.onResize()):ne=setTimeout(()=>{if(ne=!1,Ee.isMobile.any)for(var fe of[20,40,80,200,500,1e3,1500,2e3,3e3])setTimeout(this.onResize,fe);this.onResize()},Ee.isMobile.any?1:200)}_startGame(){var fe=new R;if(P.Z._setPrefabs(A.prefabs),P.Z._setScenes(A.scenes),P.Z._setSounds(A.sounds),A.resources)for(var Ne in A.resources)P.Z.addResource(Ne,{metadata:{...A.resourceImages,...A.resources[Ne]}});he.Texture.WHITE.baseTexture.resource.source.getContext("2d").fillRect(0,0,1,1),P.Z.addTexture("EMPTY",he.Texture.EMPTY),P.Z.addTexture("WHITE",he.Texture.WHITE);var Ge=new M.Z;for(var Ze in A.images)Ee._getTextureSettingsBits(Ze,3)||Ge.add(Je(Ze),void 0,{metadata:A.images[Ze]});Ge.load(),fe.start(()=>{for(var ot in A.sounds&&Object.keys(A.sounds).length&&Y.Z.checkSoundLockByBrowser(),A.images){var xt=he.utils.TextureCache[Je(ot)];xt&&P.Z.addTexture(ot,xt)}Object.values(A.prefabs).forEach(P.Z._filterStaticTriggersRecursive),Object.values(A.scenes).forEach(P.Z._filterStaticTriggersRecursive),this.showScene(A.projectDesc.mainScene||"main"),P.Z._preCacheSoundsAndTextures()})}_setCurrentScene(fe){Ee.all=fe?fe.all:null,Ee.currentScene=fe}_setCurrentSceneContent(fe){return fe=jt(fe),this._setCurrentScene(fe),fe.interactiveChildren=!1,q.addChildAt(fe,0),fe._onShowCalled=!1,fe}get disableAllButtons(){return!!y}faderShoot(){for(;T.length>0;){var fe=T.pop(),Ne=ae.indexOf(fe);Ne>=0&&(ae.splice(Ne,1),P.Z.destroyObjectAndChildren(fe))}for(;_e.length>0;){var Ge=_e.pop();P.Z.destroyObjectAndChildren(Ge)}Ee._isWaitingToHideFader=!0}_processScenesStack(){for(;;){var fe=de[de.length-1];if(fe===Ee.currentScene)break;Ee.currentScene&&(Ee.currentScene._onShowCalled&&Ee.currentScene.onHide(),Ut()),fe=de[de.length-1],de[de.length-1]=Ee._setCurrentSceneContent(fe)}}faderEnd(){if(L){var fe=Oe.indexOf(L);Oe.splice(fe,1),P.Z.destroyObjectAndChildren(L),L=null}}replaceScene(fe,Ne){ft(de.pop()),de.push(fe),Ee._startFaderIfNeed(Ne)}showScene(fe,Ne){de.push(fe),Ee._startFaderIfNeed(Ne)}closeAllScenes(fe){for(;de.length>1;)Ee.closeCurrentScene(fe)}closeCurrentScene(fe){ft(de.pop()),Ee._startFaderIfNeed(fe)}_startFaderIfNeed(fe){de[de.length-1]!==Ee.currentScene&&(T=ae.slice(),y||(fe||(fe=this.currentScene&&this.currentScene.faderType?this.currentScene.faderType:"fader/default"),y=P.Z.loadPrefab(fe),this.stage.addChild(y),C.Z._recalculateMusic()))}_getScenesStack(){return de}showQuestion(fe,Ne){var Ge=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,Ze=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null,ot=arguments.length>4&&arguments[4]!==void 0?arguments[4]:null,xt=arguments.length>5&&arguments[5]!==void 0?arguments[5]:null,Mt=!(arguments.length>6&&arguments[6]!==void 0)||arguments[6],gt=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"ui/sure-question",st=P.Z.loadPrefab(gt);return p.init(st,fe,Ne,Ge,Ze,ot,xt,Mt),Ee.showModal(st)}showModal(fe,Ne){return typeof fe=="string"&&(fe=P.Z.loadPrefab(fe)),ae.push(fe),fe._onModalHide=Ne,fe.interactiveChildren=!1,Ee.stage.addChild(fe),C.Z._recalculateMusic(),fe}hideModal(){var fe,Ne=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,Ge=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(Ne){var Ze=ae.indexOf(Ne);if(Ze<0)return;fe=ae[Ze],ae.splice(Ze,1)}else fe=ae.pop();fe._onModalHide&&(fe._onModalHide(),delete fe._onModalHide),Ge?P.Z.destroyObjectAndChildren(fe):(fe.interactiveChildren=!1,_e.push(fe)),C.Z._recalculateMusic()}mouseEventToGlobalXY(fe){var Ne=K.view.getBoundingClientRect(),Ge=fe.clientX-Ne.left;return Be.x=Ge*(Ee.W/Ne.width),Ge=fe.clientY-Ne.top,Be.y=Ge*(Ee.H/Ne.height),Be}_updateGlobal(fe){for(k.Z.updateGlobal(),fe=Math.min(fe,V),re+=fe,re=Math.min(re,te*Ee.projectDesc.framesSkipLimit);re>te;)re-=te,Ee.isUpdateBeforeRender=!(re>te),this._updateFrame();if(this.currentScene){K.renderer.backgroundColor=this.currentScene.backgroundColor,this.currentScene.interactiveChildren=this.modalsCount===0&&!y;for(var Ne=this.modalsCount-1,Ge=!y;Ne>=0;)ae[Ne].interactiveChildren=Ge,Ge=!1,Ne--}}forAllChildrenEverywhereBack(fe){for(var Ne of de)typeof Ne!="string"&&(fe(Ne),Ne.parent||(fe(Ne),Ne.forAllChildren(fe)));var Ge=P.Z._getStaticScenes();for(var Ze in Ge){var ot=Ge[Ze];ot.parent||(fe(ot),ot.forAllChildren(fe))}}getLoadingCount(){var fe=P.Z.getSoundsLoadingCount();return fe+=M.Z.getLoadingCount(),Ee.additionalLoadingsInProgress&&(fe+=Ee.additionalLoadingsInProgress),y&&(fe+=y.findChildrenByType(Ce.Z).length),fe}forAllChildrenEverywhere(fe){Ee.stage.forAllChildren(fe),Ee.forAllChildrenEverywhereBack(fe)}_hideCurrentFaderAndStartScene(){y.gotoLabelRecursive("hide fader"),Oe.unshift(y),y=null,C.Z._recalculateMusic()}_updateFrame(){if(!Ee._loadingErrorIsDisplayed){if(!Ee.isCanvasMode){if(Ee.pixiApp.renderer.gl.isContextLost())return void(Ee.isVisible&&++U===60&&Ee._reloadGame());U=0}Ee._isWaitingToHideFader?Ee.getLoadingCount()===0&&(Ee._processScenesStack(),Ee.currentScene._onShowCalled?(Ee._hideCurrentFaderAndStartScene(),Ee._isWaitingToHideFader=!1):(Ee.currentScene._onShowCalled=!0,Ee.currentScene.onShow(),Et())):this.currentContainer&&(!y||this.currentContainer!==this.currentScene||_e.length<1)&&this.currentContainer.update(),y&&y.update();for(var fe=Oe.length-1;fe>=0;){var Ne=Oe[fe];L=Ne,Ne.update(),fe--}if(!y)for(var Ge=_e.length-1;Ge>=0;){var Ze=_e[Ge];Ze.alpha-=.1,Ze.alpha<=.01&&(P.Z.destroyObjectAndChildren(Ze),_e.splice(Ge,1)),Ge--}this.keys.update(),P.Z._cleanupRemoveHolders(),this.time++}}fetchResource(fe){return new Promise(Ne=>{var Ge=new M.Z;Ge.add(fe,fe),Ge.load((Ze,ot)=>{Ne(ot[fe].data)})})}_onLoadingError(fe){if(!Ee._loadingErrorIsDisplayed){M.Z.destroyAllLoaders(),Ee._loadingErrorIsDisplayed=!0,C.Z._recalculateMusic();var Ne=document.createElement("div");Ne.innerHTML=`

<div class="loading-error-wrapper" style="
			position:absolute;
			z-index: 2;
			width:100%;
			height:100%;
			left:0;
			top:0;
			background:rgba(0,0,0,0.7)">
	<div class="loading-error-body" style="
			padding: 5vh;
			box-sizing: border-box;
			margin: 20vh 0;
			width: 100%;
			background: #000000;
			text-align: center;
			color: #ffffff;
			font-family: `+Ee.projectDesc.defaultFont+`;">
		<div class="loading-error-game-title">`+Ee.projectDesc.title+`</div>
		<div class="loading-error-title" style="
			margin: 2vh;
			font-size:200%;">
			LOADING ERROR</div>
		<div class="loading-error-message">(click to reload)</div>
	</div>
</div>`,document.body.appendChild(Ne),document.addEventListener("click",()=>{Ee._reloadGame()})}}_reloadGame(){Ee.onGameReload&&Ee.onGameReload(),window.location.reload()}applyCSS(fe){var Ne=document.head||document.getElementsByTagName("head")[0],Ge=document.createElement("style");Ge.type="text/css",Ge.styleSheet?Ge.styleSheet.cssText=fe:Ge.appendChild(document.createTextNode(fe)),Ne.appendChild(Ge)}}var Be=new he.Point,We=Fe=>{Fe._onRenderResize&&Fe._onRenderResize()},qe=Fe=>{if(!rt.hasOwnProperty(Fe.data.pointerId)){var fe={x:Fe.data.global.x,y:Fe.data.global.y};rt[Fe.data.pointerId]=fe,yt.unshift(fe)}Ee.isFocused||Se(!0),Ee.mouse.click=!0,mt(Fe),Ee.currentContainer&&Ee.currentContainer.onMouseDown&&Ee.currentContainer.interactiveChildren&&(Y.Z._unlockSound(),Ee.currentContainer.onMouseDown(Ee.mouse,Fe))},tt=Fe=>{var fe=Fe.data.global.x,Ne=Fe.data.global.y;rt.hasOwnProperty(Fe.data.pointerId)&&(yt.splice(yt.indexOf(rt[Fe.data.pointerId]),1),delete rt[Fe.data.pointerId]),yt.length>0?(Fe.data.global.x=yt[0].x,Fe.data.global.y=yt[0].y):Ee.mouse.click=!1,mt(Fe),Fe.data.global.x=fe,Fe.data.global.y=Ne,Ee.currentContainer&&Ee.currentContainer.onMouseUp&&Ee.currentContainer.interactiveChildren&&Ee.currentContainer.onMouseUp(Ee.mouse,Fe)},vt=Fe=>{var fe=Fe.data.global.x,Ne=Fe.data.global.y,Ge=rt[Fe.data.pointerId];Ge&&(Ge.x=Fe.data.global.x,Ge.y=Fe.data.global.y),(Ge=yt[0])&&(Fe.data.global.x=Ge.x,Fe.data.global.y=Ge.y),Fe.data.buttons===0&&(Ee.mouse.click=!1),mt(Fe),Fe.data.global.x=fe,Fe.data.global.y=Ne,Ee.currentContainer&&Ee.currentContainer.onMouseMove&&Ee.currentContainer.interactiveChildren&&Ee.currentContainer.onMouseMove(Ee.mouse,Fe)},yt=[],rt={},mt=Fe=>{if(isFinite(Fe.data.global.x)){var fe=Ee.mouse,Ne=Ee.stage.toLocal(Fe.data.global,Ee.pixiApp.stage),Ge=Math.round(Ne.x),Ze=Math.round(Ne.y);Ge>Ee.W?Ge=Ee.W:Ge<0&&(Ge=0),Ze>Ee.H?Ze=Ee.H:Ze<0&&(Ze=0),fe.x=Ge,fe.y=Ze}},Ee=new xe;const je=Ee;function jt(Fe){return typeof Fe=="string"&&(Fe=P.Z.loadScene(Fe)),Fe}function Ut(){var Fe=Ee.currentScene;Ee._setCurrentScene(null),ft(Fe)}function ft(Fe){Fe instanceof z.Z&&Fe!==Ee.currentScene&&(!Fe.isStatic&&de.indexOf(Fe)<0?P.Z.destroyObjectAndChildren(Fe):Fe.detachFromParent())}window.cordova&&(document.addEventListener("backbutton",function(){c.Z._tryToClickByKeycode(27)},!1),Ee.exitApp=function(){arguments.length>0&&arguments[0]!==void 0&&arguments[0]?navigator.app.exitApp():Ee.showQuestion((0,F.Z)("SUREEXIT_TITLE"),(0,F.Z)("SUREEXIT_TEXT"),void 0,()=>{Ee.exitApp(!0)})}),window.addEventListener("focus",()=>Se(!0)),window.addEventListener("blur",()=>Se(!1)),document.addEventListener("visibilitychange",()=>oe());var oe=()=>{var Fe=document.visibilityState==="visible";Ee.isVisible!==Fe&&(Ee.isVisible=Fe,Ee.pixiApp&&setTimeout(()=>{C.Z._clearCustomFades(.2),C.Z._recalculateMusic()},10),Se(Fe))},Se=Fe=>{Ee.isFocused!==Fe&&(Ee.isFocused=Fe,Ee.pixiApp&&setTimeout(()=>Ee.keys.resetAll(),10))};function ke(){try{var Fe=document.createElement("canvas");Fe.setAttribute("width","1"),Fe.setAttribute("height","1"),document.body.appendChild(Fe);var fe=Fe.getContext("webgl",{stencil:!0});if(Fe.parentNode.removeChild(Fe),!fe)return!1;var Ne=fe.getExtension("WEBGL_debug_renderer_info");return Ne!=null&&fe.getParameter(Ne.UNMASKED_RENDERER_WEBGL).search("Mali-400")!=-1}catch{}}function De(){return Ee.projectDesc.webfontloader?new Promise(Fe=>{setTimeout(()=>{if(Ee.projectDesc.fontHolderText){var fe=document.createElement("span");for(var Ne in fe.style.opacity=0,fe.style.color="rgba(0,0,0,0.01)",fe.style.position="absolute",fe.style.zIndex=-1,Ee.projectDesc.webfontloader){var Ge=Ee.projectDesc.webfontloader[Ne].families;if(Ge)for(var Ze of Ge){if(Ne==="custom"){var ot=Ee.resourcesPath+"fonts/"+Ze.replace(/ /g,"");Ee.applyCSS(`
										@font-face {
											font-family: '`+Ze+`';
											src: url('`+ot+`.woff2') format('woff2'),
											url('`+ot+`.woff') format('woff');
										}
									`)}var xt=Ze.split(":"),Mt=xt[0],gt=xt[1]?xt[1].split(","):["normal"];for(var st of gt){var at=document.createElement("span");at.style.fontFamily=`"${Mt}"`,at.style.fontWeight=st,at.innerHTML=Ee.projectDesc.fontHolderText,fe.appendChild(at)}}}document.body.appendChild(fe)}setTimeout(()=>{if(!window.WebFont)try{window.WebFont=d(4852)}catch{}var Dt=Ee.projectDesc.webfontloader;Dt.timeout=Dt.timeout||6e3;var Bt=!1;Dt.inactive=Dt.active=()=>{Bt||(Bt=!0,Fe())},window.WebFont.load(Dt)},1)},1)}):Promise.resolve()}function Ke(){if(Ee.projectDesc.embedLocales)return F.Z.setLanguagesAssets(A.text),Promise.resolve(A.text);var Fe=Ee.projectDesc.localeResourcesPath||Ee.resourcesPath+"i18n";return F.Z.loadLanguages(void 0,Fe)}async function Ve(){var{lossy:Fe,lossless:fe}=await(0,B.OP)();Ee.isWebpAvailable=Fe&&fe}Se(!0),oe();var Je=Fe=>Fe?Ee.resourcesPath+"img/"+Fe:null;Ee._textureNameToPath=Je,Ee.getImageMetadata=Fe=>A.images[Fe]||{};var pt=Fe=>Fe.replace(Ee.resourcesPath+"img/","");function Et(){var Fe,fe,Ne,Ge={};for(var Ze in Ee.stage.forAllChildren(ot=>{if(ot instanceof x.Z||ot instanceof he.Mesh||ot instanceof O){var xt=ot.image;if(xt&&!P.Z.hasTexture(xt)&&Ee._getTextureSettingsBits(xt,3)){if(ot.texture=P.Z.getTexture("EMPTY"),Fe||(fe={},Ne=[],Fe=new M.Z),!fe.hasOwnProperty(xt)){fe[xt]=!0;var Mt=Je(xt),gt={metadata:A&&A.images?A.images[xt]:{}};Fe.add(Mt,void 0,gt)}Ne.push(ot)}else Ee._getTextureSettingsBits(xt,3)&&(ot.texture.baseTexture||(ot.texture=P.Z.getTexture(xt)),Ge[xt]=!0)}}),Ee.projectDesc.loadOnDemandTextures)Ee._getTextureSettingsBits(Ze,3)&&!Ge.hasOwnProperty(Ze)&&P.Z.hasTexture(Ze)&&P.Z._unloadTexture(Ze);Fe&&Fe.load((ot,xt)=>{for(var Mt in xt){var gt=pt(Mt);P.Z.addTexture(gt,xt[Mt].texture)}for(var st of Ne){var at=st.image;st.image="EMPTY",st.image=at}})}},5045:(ye,le,d)=>{d.d(le,{Z:()=>J});var B,h,P=d(6794),W=(d(8650),d(5869),d(5446)),z=d(1746),M=d(1437),R=d(6107),F={},Y={},S={},v={},n={},a={};class u extends R.Container{constructor(){super(),this.visible=!1}onRemove(){super.onRemove();var K=p.indexOf(this);K>=0&&p.splice(K,1)}update(){}}var p=[],w=q=>{if(!q._thing_initialized){q._thing_initialized=!0,q.init();for(var K=q.children,A=K.length,T=0;T<A;T++)w(K[T])}};class N{getClass(K){return Y[K]}_setClasses(K,A){h=A,Y=K,k.classes=K}_setScenes(K){B=K,k.scenes=K}_setPrefabs(K){F=K,k.prefabs=K}addResource(K,A){if(!W.Z._loadingErrorIsDisplayed){var T=new M.Z;T.add(K,W.Z.resourcesPath+K,A),T.load((y,L)=>{var j=L[K];if(k.resources[K]=j,j.textures)for(var Q in j.textures)k.addTexture(Q,j.textures[Q])})}}addTexture(K,A){K!=="EMPTY"&&K!=="WHITE"&&k.hasTexture(K)&&k._unloadTexture(K),O(K),S[K]=A;var T=S[K].baseTexture;switch(W.Z._getTextureSettingsBits(K,24)){case 0:T.wrapMode=R.WRAP_MODES.CLAMP;break;case 8:T.wrapMode=R.WRAP_MODES.REPEAT;break;default:T.wrapMode=R.WRAP_MODES.MIRRORED_REPEAT}W.Z._getTextureSettingsBits(K,4)&&(T.mipmap=R.MIPMAP_MODES.ON),W.Z.isCanvasMode||W.Z.pixiApp.renderer.texture.updateTexture(T)}_unloadTexture(K){var A=S[K];A&&(R.Texture.removeFromCache(A),A.destroy(!0),delete S[K])}_filterStaticTriggers(K){return K.c==="StaticTrigger"?K.p.invert!==!(0,z.Z)(K.p.dataPath||h.StaticTrigger.dataPath,W.Z):!K[":"]||!K[":"].some(A=>A.c==="StaticTrigger"&&!!A.p.invert!=!(0,z.Z)(A.p.dataPath||h.StaticTrigger.dataPath,W.Z))}_filterStaticTriggersRecursive(K){if(K[":"]){var A=K[":"].filter(k._filterStaticTriggers);K[":"]=A,A.forEach(k._filterStaticTriggersRecursive)}}_setSounds(K){for(var A in v=K,n)n[A].unload();for(var T in n={},v){var y=v[T],L=void 0;typeof y[y.length-1]=="number"&&(L=y.pop());var j=C({src:y.map(x),preload:!W.Z.projectDesc.loadOnDemandSounds.hasOwnProperty(T)},L);j.lastPlayStartFrame=0,n[T]=j}}_preCacheSoundsAndTextures(){var K,A={};K=setInterval(()=>{if(W.Z.getLoadingCount()===0){for(var T in v)if(W.Z.projectDesc.loadOnDemandSounds[T]===2&&k.preloadSound(T))return;for(var y in W.Z.projectDesc.loadOnDemandTextures)if(W.Z._getTextureSettingsBits(y,3)===2&&!A[y])return A[y]=!0,void M.Z.easyPreloadImage(y);clearInterval(K)}},1e3)}getSoundsLoadingCount(){var K=0;for(var A in n)X(n[A])||K++;return K}hasSound(K){return v.hasOwnProperty(K)}getSound(K,A){return n[K]}preloadSound(K){if(K){var A=n[K];if(A.state()==="unloaded")return A.load(),!0}}__clearAssetsLists(){S={},k.resources={},k.__texturesList=[],__allTextures={},k.__resourcesList=[]}_loadClassInstanceById(K){var A=P.Z.create(Y[K]);return Object.assign(A,h[K]),w(A),A}hasTexture(K){return S.hasOwnProperty(K)}getTextureEndingWith(K){var A=Object.keys(S).find(T=>T.endsWith(K));return A&&k.getTexture(A)}getTexture(K){return S[K]}destroyObjectAndChildren(K,A){if(K.onRemove(),K._thing_initialized=!1,A){var T=P.Z.create(u),y=K.parent.children;y[y.indexOf(K)]=T,T.parent=K.parent,p.push(T),K.parent=null}else K.detachFromParent();for(;K.children.length>0;)k.destroyObjectAndChildren(K.getChildAt(K.children.length-1));P.Z.dispose(K),K.interactiveChildren=!0}_deserializeObject(K){var A,T;if(K.c==="PrefabReference"?(T=K.p.hasOwnProperty("dynamicPrefabName")?(0,z.Z)(K.p.dynamicPrefabName,this):K.p.prefabName,A=k._deserializeObject(F[T]),K.p.hasOwnProperty("inheritProps")||Object.assign(A,h[K.c],K.p)):(A=P.Z.create(Y[K.c]),Object.assign(A,h[K.c],K.p)),K.hasOwnProperty(":")){var y=K[":"];for(var L of y)A.addChild(k._deserializeObject(L))}return A}loadScene(K){if(a.hasOwnProperty(K))return a[K];B.hasOwnProperty(K)||(K=Object.keys(B)[0]);var A=B[K];A.p.__libSceneName=K;var T=c(A);return delete A.p.__libSceneName,W.Z.hasOwnProperty("__savedCurrentSceneForInitTime")&&(W.Z._setCurrentScene(W.Z.__savedCurrentSceneForInitTime),delete W.Z.__savedCurrentSceneForInitTime),T.isStatic&&(a[K]=T),T}_cleanupRemoveHolders(){for(;p.length>0;)k.destroyObjectAndChildren(p.pop())}hasPrefab(K){return F.hasOwnProperty(K)}hasScene(K){return B.hasOwnProperty(K)}_getStaticScenes(){return a}}var k=new N;function C(q,K){var A=new Howl(q);return A.once("loaderror",T=>{A.loadedWithError=!0}),A.once("load",()=>{K&&(A._duration=K,A._sprite.__default[1]=1e3*K)}),A}var c=q=>{var K=k._deserializeObject(q);return w(K),K};function x(q){return W.Z.resourcesPath+"snd/"+q}function X(q){return q.state()!=="loading"||q.loadedWithError}var D,G=new Set;function O(q){D&&clearTimeout(D),D=setTimeout(E,10),G.add(q)}function E(){D=null,W.Z.forAllChildrenEverywhere(q=>{if(q.image&&G.has(q.image)){var K=q.image;q.image="EMPTY",q.image=K}}),G.clear()}k.resources={},k.loadPrefab=function(q){return c(F[q])};const J=k},3237:(ye,le,d)=>{d.d(le,{Z:()=>Y,i:()=>z});var B=d(1746),h=d(5446),P=(S,v)=>{var n,a=z(S),u=a.p,p=u[0];n=p==="this"?v:h.Z[p];for(var w,N=1;N<u.length;){var k=u[N];w=n,n=typeof k=="string"?n[k]:n.getChildByName(k.s),N++}return a.hasOwnProperty("v")?n===B.P?(0,B.P)(a.v[0],a.v[1],v):n.apply(w,a.v):n.call(w)},W={},z=S=>{if(W.hasOwnProperty(S))return W[S];var v={},n=S.split("`");return v.p=n[0].split(".").map(F),n.length>1&&(v.v=n[1].split(",").map(R)),W[S]=v,v},M=/^\-?[\.0-9]+$/,R=S=>S.match(M)?parseFloat(S):S,F=S=>S.charCodeAt(0)===35?{s:S.substr(1)}:S;const Y=P},1746:(ye,le,d)=>{d.d(le,{P:()=>P,Z:()=>W});var B=d(5446),h=(d(5869),d(3237)),P=(z,M,R)=>{var F,Y=(0,h.i)(z).p,S=Y[0];F=S==="this"?R:B.Z[S];for(var v=1;v<Y.length-1;){var n=Y[v];if(!(F=typeof n=="string"?F[n]:F.getChildByName(n.s)))return;v++}var a=Y[v];F[a]!==M&&(F[a]=M)};const W=(z,M)=>{var R,F=(0,h.i)(z),Y=F.p,S=Y[0];R=S==="this"?M:B.Z[S];for(var v,n=1;n<Y.length;){var a=Y[n];if(v=R,!(R=typeof a=="string"?R[a]:R.getChildByName(a.s)))return R;n++}return typeof R=="function"?R.apply(v,F.v):R}},9042:(ye,le,d)=>{d.d(le,{Z:()=>v});var B,h=d(5446),P={},W={},z=window.navigator&&navigator.language?navigator.language.split("-")[0]:"en",M=!1;function R(n){var a,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return P.hasOwnProperty(n)?(a=P[n],R.messageProcessor&&(a=R.messageProcessor(a,u,p))):a=n,u!==void 0&&(a=a.replace("%d",u),p!==void 0&&(a=a.replace("%s",p))),a}function F(n){if(M){if(z!==n){if(W.hasOwnProperty(n))z=n;else if(z=h.Z.projectDesc.defaultLanguage,window.navigator&&navigator.languages){for(var a of navigator.languages)if(a=a.split("-")[0],W.hasOwnProperty(a)){z=a;break}}P=W[z],R.fefreshAllTextEverywhere()}}else B=n}function Y(n){n.onLanguageChanged&&n.onLanguageChanged()}function S(n,a,u){for(var p in n)if(n.hasOwnProperty(p)){var w=n[p];typeof w=="string"?u?a[u+p]=n[p]:a[p]=n[p]:S(w,a,u?u+p+".":p+".")}}R.setLanguagesAssets=n=>{M=!0,W=n;var a=B||z;B=null,z=null,F(a)},R.loadLanguages=function(n,a){return n||(n=B),new Promise(u=>{var p=a+"/"+n+".json";return h.Z.fetchResource(p).then(w=>{w=R._deserializeLanguage(w),W[n]=w,this.setLanguagesAssets(W),u(w)})})},R.has=n=>P.hasOwnProperty(n),R.fefreshAllTextEverywhere=function(){h.Z.stage&&h.Z.forAllChildrenEverywhere(Y)},R.getCurrentLanguageId=()=>z,R.getLanguagesList=()=>Object.keys(W),R.setCurrentLanguage=F,R._deserializeLanguage=function(n){var a={};return S(n,a),a};const v=R},4890:(ye,le,d)=>{d.d(le,{Z:()=>F});var B=d(4702),h=d(5045),P=(d(5446),.0101),W=40,z=1/W,M={},R={};setInterval(()=>{for(var S in R)R[S]._updateFading()},W);class F{constructor(v){v.dynamicPreloading&&(v.loop&&h.Z.preloadSound(v.loop),v.intro&&h.Z.preloadSound(v.intro)),this.onIntroEnd=this.onIntroEnd.bind(this),this.intro=v.intro,this.loop=v.loop,this.musicFragmentHash=v.musicFragmentHash}_updateFading(){var v=this.getVolume();this._fadeToVol!==v&&((v=(0,B.R3)(v,this._fadeToVol,1/(this._fadeSpeed+1e-4)*z))<P&&this._fadeToVol<P?this._releaseCurrentFragment():this._currentFragment.volume(v))}getVolume(){return this._currentFragment?this._currentFragment._sounds[0]._volume:0}static onMusicRemove(v){for(var n in R){var a=R[n];a.owner===v&&Y(a)}}static resetPosition(v){M.hasOwnProperty(v)&&M[v].resetPosition()}resetPosition(){var v;this._currentFragment&&(this._releaseCurrentFragment(),v=!0),this.introPos=0,this.loopPos=0,this.isLoopPos=!1,v&&this.startPlay()}startPlay(){this.intro&&!this.isLoopPos?(this._playMusicFragment(this.intro,this.introPos,this._fadeToVol),this._currentFragment&&(this._currentFragment.loop(!1),this._currentFragment.on("end",this.onIntroEnd))):this.loop&&(this.isLoopPos=!0,this._playMusicFragment(this.loop,this.loopPos),this._currentFragment&&this._currentFragment.loop(!0))}onIntroEnd(){if(this._currentFragment){var v=this.getVolume();this._releaseCurrentFragment(),this._playMusicFragment(this.loop,0,v),this.isLoopPos=!0,this._currentFragment&&this._currentFragment.loop(!0)}this.owner&&this.owner._onIntroFinish()}_playMusicFragment(v){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P;if(v)try{(v=h.Z.getSound(v,!0)).volume(a),v.seek(n),v.soundIdSaved=v.play(v.soundIdSaved),this._currentFragment=v,R[this.musicFragmentHash]=this}catch{}}_releaseCurrentFragment(){this._currentFragment&&(this._currentFragment.off("end",this.onIntroEnd),this.isLoopPos?this.loopPos=this._currentFragment.seek():this.introPos=this._currentFragment.seek(),this._currentFragment.stop(),this._currentFragment=null,delete R[this.musicFragmentHash])}static _applyFadeForAll(v){for(var n in R)R[n]._fadeSpeed=v}static setPlayingBGMusics(v){var n={};for(var a of v){var u=void 0;n[a.musicFragmentHash]=!0,M.hasOwnProperty(a.musicFragmentHash)?u=M[a.musicFragmentHash]:(u=new F(a),M[a.musicFragmentHash]=u),u._fadeToVol=a._cachedTargetVol,u._fadeSpeed=a._getFade(u._fadeToVol<P),u.owner=a,R.hasOwnProperty(a.musicFragmentHash)||u.startPlay()}for(var p in R)n.hasOwnProperty(p)||(R[p]._fadeToVol=0,R[p].owner&&Y(R[p]))}static __applyGameSpeed(v){for(var n in R){var a=R[n];a._currentFragment&&a._currentFragment.rate(v)}}}function Y(S){S._fadeSpeed=S.owner._getFade(!0),S.owner.customFade=null,S.owner=null}},6794:(ye,le,d)=>{d.d(le,{Z:()=>h});var B=new Map;class h{static clearAll(){B.clear()}static create(W){if(!B.has(W))return new W;var z=B.get(W);return z.length===0?new W:z.pop()}static dispose(W){var z=W.constructor;B.has(z)||B.set(z,[]),B.get(z).push(W)}}},1437:(ye,le,d)=>{d.d(le,{Z:()=>M});var B=d(5446),h=d(6107),P=[],W=h.Spritesheet.prototype.parse;h.Spritesheet.prototype.parse=function(){try{W.apply(this,arguments)}catch(R){B.Z._onLoadingError("Spritesheet parsing error ("+this.data.meta.image+"): "+R.message)}};var z=new RegExp(/\.[^.]+$/);class M{constructor(){this._createNewLoader(),this.attempt=0,this.count=1,this.resources={}}static pre(F,Y){var S=F.url.slice(F.url.indexOf("/img/")+5),v=F.metadata&&F.metadata[S]?F.metadata[S]:F.metadata,n=v.e||F.extension;v.f_e&&n.endsWith("webp")&&!B.Z.isWebpAvailable&&(n=v.f_e),n!==F.extension&&(F.orig_url=F.url,F.url=F.url.replace(z,n),F.extension=n.slice(n.lastIndexOf(".")+1)),Y()}static easyPreloadImage(F){var Y={url:B.Z._textureNameToPath(F),metadata:B.Z.getImageMetadata(F),extension:F.slice(F.lastIndexOf(".")+1)};M.pre(Y,()=>{}),new Image().src=Y.url}add(F){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},v=S.metadata||{};S.metadata={...v,imageMetadata:v,spineAtlas:v.s_a},this.loader.add(F,Y,S),this.resources[F]=!0,this.count++}static getLoadingCount(){var F=0;for(var Y of P)F+=Y.count;return F}static destroyAllLoaders(){for(var F of P)F.loader.destroy()}load(F,Y){var S;Y||P.push(this),this.loader.onLoad.add((v,n)=>{this.resources[n.name]&&this.count--}),this.loader.load(()=>{if(!B.Z._loadingErrorIsDisplayed){for(var v of Object.values(this.loader.resources))if(v.error){if(S||(S=[]),!this.resources[v.name]){S=S.concat(Object.keys(this.resources).map(a=>this.loader.resources[a]));break}S.push(v)}if(S)this.attempt++<3?setTimeout(()=>{for(var a of(this._createNewLoader(),this.count=1,S))a.metadata&&(a.metadata.f_e&&(a.metadata.e=a.metadata.f_e),Object.values(a.metadata).forEach(u=>{u&&u.f_e&&(u.e=u.f_e)})),this.add(a.name,a.orig_url||a.url,{metadata:a.metadata});this.load(F,!0)},1e3*this.attempt):B.Z._onLoadingError(S[0].url);else{this.resources=Object.assign(this.resources,this.loader.resources);var n=P.indexOf(this);P.splice(n,1),B.Z._loadingErrorIsDisplayed||(F&&F(this,this.resources),P.length===0&&M.preloader&&(M.preloader.onComplete(),M.preloader=null))}}})}_createNewLoader(){this.loader=new h.Loader("",1e3),this.loader.pre(M.pre)}}},8106:(ye,le,d)=>{d.d(le,{Z:()=>h}),d(5446);class B{constructor(W){this._storageId=W;try{typeof Storage<"u"&&localStorage.hasOwnProperty(W)&&(this.data=JSON.parse(localStorage[W]))}catch{this.data={}}this.hasOwnProperty("data")||(this.data={}),this.flush=this.flush.bind(this)}getItem(W,z){return this.data.hasOwnProperty(W)?this.data[W]:z}setItem(W,z){z===this.data[W]&&typeof z!="object"||(this.data[W]=z,this.changed(),B.globalOnChanged&&B.globalOnChanged(W,z))}removeItem(W){this.data.hasOwnProperty(W)&&(delete this.data[W],this.changed())}changed(){this.hasOwnProperty("__flushInterval")||(this.__flushInterval=setTimeout(this.flush,10,this))}clear(){this.data={},this.changed()}flush(){if(typeof Storage<"u"){delete this.__flushInterval;try{localStorage.setItem(this._storageId,JSON.stringify(this.data))}catch{this.data=this.data||{}}}}}const h=B},7049:(ye,le,d)=>{d.d(le,{Z:()=>S});var B,h,P,W=d(5446),z=d(5045),M=d(4294),R=(d(4890),.005),F=.05;function Y(k,C){return k>F?k:C}class S{static get soundsVol(){return n}static setSoundsVol(C){S.soundsVol=C}static set soundsVol(C){C=Math.max(0,Math.min(1,C)),n=C,W.Z.settings.setItem("soundsVol",n)}static get musicVol(){return a}static setMusicVol(C){S.musicVol=C}static set musicVol(C){C=Math.max(0,Math.min(1,C)),a!==C&&M.Z._clearCustomFades(.2),a=C,W.Z.settings.setItem("musicVol",a),M.Z._recalculateMusic()}static get fullVol(){return Math.max(n,a)}static set fullVol(C){var c=W.Z.settings.getItem("musicEnabled",!0),x=W.Z.settings.getItem("soundEnabled",!0);c||x||(c=x=!0),c?S.musicVol=C:W.Z.settings.setItem("musicVolEnabling",C),x?S.soundsVol=C:W.Z.settings.setItem("soundsVolEnabling",C)}static get musicEnabled(){return a>=R}static set musicEnabled(C){S.musicEnabled!==C&&(M.Z._clearCustomFades(.2),C?S.musicVol=Y(W.Z.settings.getItem("musicVolEnabling"),W.Z.projectDesc.defaultMusVol):(W.Z.settings.setItem("musicVolEnabling",a),S.musicVol=0),S.rememberEnablings())}static rememberEnablings(){v||(v=setTimeout(N,10))}static toggleMusic(){S.musicEnabled=!S.musicEnabled}static get soundEnabled(){return n>=R}static set soundEnabled(C){S.soundEnabled!==C&&(C?S.soundsVol=Y(W.Z.settings.getItem("soundsVolEnabling"),W.Z.projectDesc.defaultSoundsVol):(W.Z.settings.setItem("soundsVolEnabling",n),S.soundsVol=0),S.rememberEnablings())}static toggleSounds(){S.soundEnabled=!S.soundEnabled}static toggleFullSound(){S.soundEnabled||S.musicEnabled?(S.soundEnabled=!1,S.musicEnabled=!1):(S.musicEnabled=W.Z.settings.getItem("musicEnabled",!0),S.soundEnabled=W.Z.settings.getItem("soundEnabled",!0))}static init(){n=W.Z.settings.getItem("soundsVol",W.Z.projectDesc.defaultSoundsVol),a=W.Z.settings.getItem("musicVol",W.Z.projectDesc.defaultMusVol)}static play(C){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,X=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,D=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(!S.isSoundsLockedByBrowser&&W.Z.isVisible){var G=z.Z.getSound(C);if(G){if(G.lastPlayStartFrame<W.Z.time&&(!D&&G.playing()&&G.stop(),(c*=S.soundsVol)>.01))try{D?(G.soundIdSaved=G.play(),G.volume(c,G.soundIdSaved),G.rate(x,G.soundIdSaved),X!==0&&G.seek(X,G.soundIdSaved)):(G.volume(c),G.rate(x),X!==0&&G.seek(X),G.soundIdSaved=G.play(G.soundIdSaved)),G.lastPlayStartFrame=W.Z.time+2}catch{}}else{var O=new Error('Attempt to play unknown sound "'+C+'"');setTimeout(()=>{throw O})}}}static playPitched(C){var c,x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:200,X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1.0594630943592953,D=arguments.length>3&&arguments[3]!==void 0?arguments[3]:3,G=w[C],O=W.Z.time-G;O<2||(c=O<x?Math.min(p[C]*X,D):1,p[C]=c,w[C]=W.Z.time,S.play(C,1,c,0,!0))}static checkSoundLockByBrowser(){S.isSoundsLockedByBrowser=!0,W.Z.additionalLoadingsInProgress++;var C=()=>u(!0),c=()=>u(!1);(B=new Howl({src:"data:audio/mp3;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU2LjM2LjEwMAAAAAAAAAAAAAAA//OEAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAEAAABIADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDV1dXV1dXV1dXV1dXV1dXV1dXV1dXV1dXV6urq6urq6urq6urq6urq6urq6urq6urq6v////////////////////////////////8AAAAATGF2YzU2LjQxAAAAAAAAAAAAAAAAJAAAAAAAAAAAASDs90hvAAAAAAAAAAAAAAAAAAAA//MUZAAAAAGkAAAAAAAAA0gAAAAATEFN//MUZAMAAAGkAAAAAAAAA0gAAAAARTMu//MUZAYAAAGkAAAAAAAAA0gAAAAAOTku//MUZAkAAAGkAAAAAAAAA0gAAAAANVVV"})).once("playerror",C),B.once("end",c),h=setTimeout(C,500);try{B.play()}catch{u(!0)}}static _unlockSound(){S.isSoundsLockedByBrowser&&u(!1)}}var v,n,a,u=k=>{P||(W.Z.additionalLoadingsInProgress--,P=!0,clearTimeout(h)),k||(B.off("playerror"),B.off("play"),B.unload(),S.isSoundsLockedByBrowser=!1,W.Z.classes.BgMusic&&W.Z.classes.BgMusic._recalculateMusic())},p={},w={};function N(){v=null,(S.soundEnabled||S.musicEnabled)&&(W.Z.settings.setItem("soundEnabled",S.soundEnabled),W.Z.settings.setItem("musicEnabled",S.musicEnabled))}},4702:(ye,le,d)=>{d.d(le,{I8:()=>h,OP:()=>P,R3:()=>B}),d(5446);var B=(W,z,M)=>Math.abs(W-z)<=M?z:W>z?W-M:W+M;function h(W){return JSON.parse(JSON.stringify(W))}async function P(){var W={lossy:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",lossless:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==",alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",animation:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"};return await Promise.all(Object.entries(W).map(z=>{var[M,R]=z;return new Promise(F=>{var Y=new Image;Y.onload=()=>F([M,Y.width>0&&Y.height>0]),Y.onerror=()=>F([M,!1]),Y.src=`data:image/webp;base64,${R}`})})).then(z=>z.reduce((M,R)=>{var[F,Y]=R;return M[F]=Y,M},{}))}},1587:(ye,le,d)=>{d.d(le,{Z:()=>B});const B={START_LOADING:"start_loading",GAME_LOADED:"game_loaded",GAME_INITIALIZED:"game_initialized",ACTION_EXEC:"action_exec",BET_CHANGED:"bet_changed",FINISH_SPIN_ANIMATIONS:"finish_spin_animations",FINISH_ROUND_ANIMATIONS:"finish_round_animations",API_RESPONSE:"api_response",BALANCE_UPDATE:"balance_update",BUTTON_CLICK:"button-click",PRE_PLAY:"pre_play",PLAY:"play",AUTOSPINS_STOPPED:"autospins_stopped",GO_HOME:"go_home",SET_SKIN:"set_skin",ERROR:"game_error",SET_LINES_COUNT:"set_lines_count",CUSTOM_EVENT:"custom_event",GAME_UI_BET_PANEL_OPENED:"game_ui_bet_panel_opened",GAME_UI_BET_PANEL_CLOSED:"game_ui_bet_panel_closed",GAME_UI_SETTINGS_OPENED:"game_ui_settings_opened",GAME_UI_SETTINGS_CLOSED:"game_ui_settings_closed",GAME_UI_RULES_OPENED:"game_ui_rules_opened",GAME_UI_RULES_CLOSED:"game_ui_rules_closed",GAME_UI_PAYTABLE_OPENED:"game_ui_paytable_opened",GAME_UI_PAYTABLE_CLOSED:"game_ui_paytable_closed",GAME_UI_AUTOSPINS_PANEL_OPENED:"game_ui_autospins_panel_opened",GAME_UI_AUTOSPINS_PANEL_CLOSED:"game_ui_autospins_panel_closed",GAME_UI_QUICK_SPIN_OFFER_OPENED:"game_ui_quick_spin_offer_opened",GAME_UI_QUICK_SPIN_OFFER_CLOSED:"game_ui_quick_spin_offer_closed"}},331:(ye,le,d)=>{d.d(le,{Z:()=>z});var B=d(1575),h=d(1746),P=d(9042),W=d(5446);class z extends B.Z{init(){super.init(),this.showedVal2=void 0,this.countOnStart&&(this.showedVal=0),this.template&&(this.template=this.template.replace("\\n",`
`)),this.savedTemplate=null,W.Z.data&&this.refreshDecimalsCount(),this.applyMaxWidth()}refreshDecimalsCount(){var F;typeof(F=this.decimalsCountPath?(0,h.Z)(this.decimalsCountPath,this):W.Z.data.currencyDigits)=="number"&&(this.decimalsCount=F)}update(){if(this.refreshDecimalsCount(),this.dataPath2&&this.currentInterval===this.refreshInterval){var F=(0,h.Z)(this.dataPath2,this);F!==void 0&&F!==this.showedVal2&&(this.showedVal2=F,this.setSymbol(F))}super.update()}refreshNow(){this.showedVal=void 0,super.refreshNow()}customizeVal(F){return F&&F/W.Z.data.currencyDivider}setSymbol(F){this.translatableText?this.template=(0,P.Z)(this.translatableText):this.savedTemplate?this.template=this.savedTemplate:this.savedTemplate=this.template,this.template=this.template.replace("%s",F),this.symbol=F,this.currentInterval=0,this.showedVal=void 0}onLanguageChanged(){this.symbol&&this.translatableText&&this.setSymbol(this.symbol),super.onLanguageChanged()}_onRenderResize(){this.applyMaxWidth()}applyMaxWidth(){var F=W.Z.isPortrait?this.maxWidthPortrait:this.maxWidthLandscape;F>0&&(this.maxWidth=F)}static initMoneyFormatter(F){typeof Intl=="object"&&(B.Z.formatMoney=(Y,S)=>{var v=M[S];return v||(v=Intl.NumberFormat(F.substr(0,2),{maximumFractionDigits:S,minimumFractionDigits:S}).format,M[S]=v),v(Y)})}}var M={}},6635:(ye,le,d)=>{d.d(le,{Z:()=>p});var B=d(8125),h=d(8106),P=d(5446),W=d(5045),z=d(1587),M=d(7049);window.trackGameEventListeners||(window.trackGameEventListeners=[]);var R={QUICK_SPIN_SETTINGS:"quick_spin_default",QUICK_SPINS_POPUP_OFFER:"quick_spins_popup_offer",SOUND_VALUE:"sound_value"},F=[{name:R.QUICK_SPIN_SETTINGS,handler:D=>{var G,O;if(((G=P.Z.casinoOptions)===null||G===void 0||(O=G.license_rules)===null||O===void 0?void 0:O.min_spin_time)!==void 0)return!1;var E=P.Z.settings.getItem("quickSpin",!1),J=P.Z.settings.getItem("growthbook_quickSpin");return J===void 0&&(J=D.value,P.Z.settings.setItem("growthbook_quickSpin",J)),E!==J&&(P.Z.data.quickSpin=J,P.Z.settings.setItem("quickSpin",P.Z.data.quickSpin)),window.trackGameEventListeners.push((q,K,A)=>{q==="settings-change"&&K==="quickSpin"&&P.Z.settings.setItem("growthbook_quickSpin",A)}),!0}},{name:R.QUICK_SPINS_POPUP_OFFER,handler:D=>{var G,O;return((G=P.Z.casinoOptions)===null||G===void 0||(O=G.license_rules)===null||O===void 0?void 0:O.min_spin_time)===void 0&&(D.value===0||window.trackGameEventListeners.push((E,J)=>{var q=P.Z.settings.getItem("quickSpin",!1),K=P.Z.settings.getItem("quickSpinCount",0);if(J==="spin-button"&&!q&&K&&K===D.value){K++,P.Z.settings.setItem("quickSpinCount",K),p.track(z.Z.GAME_UI_QUICK_SPIN_OFFER_OPENED);var A=P.Z.showQuestion(!1,!1,"slot.popups.buy_bonus.enable",Y,"slot.popups.buy_bonus.no",S,!0,"thing-games-utils/offer-question");A.findChildByName("close-btn").callback=()=>{S(),P.Z.hideModal(A)}}E!=="skip"||J!=="spin"||q||(K++,P.Z.settings.setItem("quickSpinCount",K))}),!0)}},{name:R.SOUND_VALUE,handler:D=>{if(P.Z.settings.getItem("gb_sound_value_applied"))return!0;var G=.01*D.value;return M.Z.soundEnabled=M.Z.musicEnabled=!!G,G!==0&&(M.Z.fullVol=G),P.Z.settings.setItem("gb_sound_value_applied",!0),!0}}];function Y(){P.Z.data.quickSpin=!0,P.Z.settings.setItem("quickSpin",!0),p.track(z.Z.BUTTON_CLICK,"quick-spin-check","Quick Spin Offer")}function S(){p.track(z.Z.GAME_UI_QUICK_SPIN_OFFER_CLOSED)}var v=[],n={game_loaded:!0,game_initialized:!0,render_resize:!0},a=(D,G,O)=>{if(D===z.Z.GAME_LOADED&&C(),n[D]&&(O={width:P.Z.W,height:P.Z.H,isPortrait:P.Z.isPortrait,isMobile:P.Z.isMobile.any,isGambleAvailable:P.Z.projectDesc.libs.indexOf("thing-games-utils/gamble")>0||W.Z.hasScene("gamble"),isProvabilityAvailable:W.Z.hasPrefab("thing-games-utils/provability-panel"),isBuyFeaturesAvailable:P.Z.data.initData&&P.Z.data.initData.options&&P.Z.data.initData.options.feature_options&&P.Z.data.initData.options.feature_options.feature_multipliers,ignoreOrientationEvents:!1}),window.trackGameEventListeners&&window.trackGameEventListeners.length)for(var E=window.trackGameEventListeners.length;E--;)window.trackGameEventListeners[E]&&window.trackGameEventListeners[E](D,G,O);try{v.forEach(J=>J(D,G,O))}catch{}},u={addListener:D=>{v.push(D)},track:a,trackCustom:(D,G,O,E)=>{a(z.Z.CUSTOM_EVENT,null,{action:D,label:G,value:O,isNonInteraction:E})}};const p=u;var w={cap:!0,"space to skip button":!0,"debug-button":!0};B.Z.globalOnClick=(D,G)=>{for(var O,E=D;E;){if(E.name){O=E.name;break}E=E.parent}w.hasOwnProperty(O)||a("button-click",O,G)};var N=["latestSpinResultV2","__allSymbolsIds","latestSpinResultTimeV2","last-spins-indexes","growthbook_"],k={},C=()=>{k={},h.Z.globalOnChanged=(D,G)=>{N.every(O=>D.indexOf(O)===-1)&&(typeof D=="object"&&D!==null||(G===void 0&&(G="undefined"),k[D]=G))},a("initial-settings",null,P.Z.settings.data)};setInterval(()=>{if(P.Z.mouse&&!P.Z.mouse.click)for(var D of Object.keys(k))a("settings-change",D,k[D]),delete k[D]},200),P.Z.onGameReload=()=>{a("game_reloading")},u.addListener(D=>{D===z.Z.SET_SKIN&&a("game_reloading")});var c=!1;function x(D){var{detail:G}=D;G.type==="initialized"&&console.log("[thing-games-utils] Analytics available in window.analytics",window.analytics),console.log("[thing-games-utils] Received message from analytics: ",G)}function X(D){window.dispatchEvent(new CustomEvent("experiment/incoming",{detail:{type:"addFeature",payload:{name:D.name,handler:D.handler}}}))}window.dispatchEvent(new CustomEvent("analytics/incoming",{detail:{type:"start",payload:{isEditor:c}}})),window.addEventListener("analytics/outgoing",x),window.addEventListener("experiment/outgoing",D=>{var{detail:G}=D;if(G.type==="ready")for(var O of(console.log("[Utils Analytics] ExperimentManager Ready!",G),F))console.log("[Utils Analytics] Add Feature",O),X(O)})},1868:(ye,le,d)=>{d.d(le,{Z:()=>Y});var B=d(5446),h=d(9042),P=d(4702),W=d(2447);class z{initGame(){this.initReplayData(),this.isReplayMode()&&(B.Z.all["spin-button"].hotkey=0,this.speed||(this.speed=1),this.started=!1,this.replayData&&(this.initView(),B.Z.settings.clear()),this.clickToContinueDelay=0,this.refreshView())}isReplayMode(){return!!this.replayData}getNextResponse(){return this.replayData.shift()}beforeGameInit(){W.projectDesc.id="replay-mode"}initView(){if(!this.viewInitialized){setInterval(this.update.bind(this),1e3/60*10),this.viewInitialized=!0;var v=document.createElement("div");v.id="replay-panel",B.Z.pixiApp.view.parentElement.appendChild(v);var n=document.createElement("button");n.addEventListener("pointerdown",()=>{this.setSpeed(1)}),n.innerText="×1",v.appendChild(n),this.x1btn=n;var a=document.createElement("button");a.addEventListener("pointerdown",()=>{this.setSpeed(2)}),a.innerText="×2",v.appendChild(a),this.x2btn=a;var u=document.createElement("button");u.addEventListener("pointerdown",()=>{this.setSpeed(4)}),u.innerText="×4",v.appendChild(u),this.x4btn=u,v.appendChild(document.createTextNode((0,h.Z)("replay")));var p=document.createElement("button");p.addEventListener("pointerdown",()=>{this.paused=!0,B.Z.pixiApp.ticker.speed=0,B.Z.SharedAPI.restartGame()}),p.innerText="⏮",v.appendChild(p),this.restartButton=p;var w=document.createElement("button");w.addEventListener("pointerdown",()=>{this.started?(this.paused=!this.paused,B.Z.pixiApp.ticker.speed=this.paused?0:this.speed,this.refreshView()):this.clickSpin()}),v.appendChild(w),this.playBtn=w;var N=document.createElement("div");N.id="pause-message",v.appendChild(N),N.innerText="P A U S E",this.pauseMessage=N,this.refreshView()}}clickSpin(){var v=B.Z.all["spin-button"];v&&v.isCanBePressed&&(v.callClick(),this.started=!0,this.refreshView())}skipClickToContinuePopups(){var v=!1;B.Z.currentContainer&&B.Z.currentContainer.forAllChildren(n=>{n instanceof B.Z.classes.Text&&(n.worldVisible&&n.worldAlpha||this.clickToContinueDelay>0)&&n.translatableText&&(n.translatableText.includes("tap_to_continue")||n.translatableText.includes("click_to_continue")||n.translatableText.includes("push_to_continue")||n.translatableText.includes("tap_to_start")||n.translatableText.includes("push_to_start")||n.translatableText.includes("click_to_start")||n.translatableText.includes("tap_to_spin")||n.translatableText.includes("push_to_spin")||n.translatableText.includes("click_to_spin")||n.translatableText.includes("tap_to_play")||n.translatableText.includes("push_to_play")||n.translatableText.includes("click_to_play"))&&(this.clickToContinueDelay++,this.clickToContinueDelay===12&&this.clickSpin(),v=!0)}),v||(this.clickToContinueDelay=0)}chooseFeature(){if(this.replayData.length&&B.Z.currentContainer){var v=M(this.replayData[0]);if(v){var n=B.Z.currentContainer.findChildByName("choose-btn-"+v);n&&this.clickButton(n)}}}gamblePlay(){if(this.replayData.length&&B.Z.currentContainer){var v=R(this.replayData[0]);if(v){var n=B.Z.currentContainer.findChildByName("gamble-btn");if(n&&n.isCanBePressed)return this.clickButton(n),!0;n=null;var a="currentScene.playGamble`"+v;B.Z.currentContainer.forAllChildren(u=>{u instanceof B.Z.classes.Button&&u.onClick===a&&(n=u)}),n&&this.clickButton(n)}}}update(){this.paused||(this.buttonClickWaits?this.processClickWaitingButton():(this.skipClickToContinuePopups(),this.chooseFeature()||this.gamblePlay()))}clickButton(v){this.buttonClickWaits=v,this.clickButtonDelay=0}processClickWaitingButton(){if(this.buttonClickWaits)return this.buttonClickWaits.isCanBePressed&&(this.clickButtonDelay++,this.clickButtonDelay===6&&this.buttonClickWaits.onOver(),this.clickButtonDelay===12&&(this.buttonClickWaits.callClick(),this.buttonClickWaits=null)),!0}setSpeed(v){this.speed=v,B.Z.pixiApp.ticker.speed=v,this.refreshView()}refreshView(){this.playBtn.innerText=!this.started||this.paused?"⏵":"⏸",this.pauseMessage.style.display=!this.started||this.paused?"block":"none",this.started?this.playBtn.classList.remove("highlight"):this.playBtn.classList.add("highlight"),this.restartButton.disabled=!this.started,this.x1btn.disabled=this.speed===1,this.x2btn.disabled=this.speed===2,this.x4btn.disabled=this.speed===4}initStyles(){this.initReplayData(),this.replayData&&B.Z.applyCSS(`
canvas {
	pointer-events: none;
	border: #ffcc29 3px solid;
	box-sizing: border-box;
	border-top-width: 45px;
}

#replay-panel {
	height: 45px;
    z-index: 100;
    position: absolute;
    top: 0;
    font-family: 'Arial';
    color: #000000;
    display: flex;
	width: 100%;
    align-items: baseline;
    justify-content: center;
	font-size: 20px;
	font-weight: 700;
}

#replay-panel button {
	cursor: pointer;
    padding: 6px 13px;
    background: #ff8f00;
    margin: 5px;
    border-radius: 5px;
    font-size: 17px;
	font-weight: 700;
}

#replay-panel button:hover {
	outline: 1px solid #774400;
	outline-offset: 2px;
}

#replay-panel button:disabled {
	pointer-events: none;
	cursor: unset;
	opacity: 0.5;
}

.highlight {
	animation: highlight 1s ease 0s infinite normal forwards;
	outline-offset: 2px;
	outline: 3px solid #ff0000;
}

#pause-message {
	animation: flash 1s ease 0s infinite normal forwards;
    position: absolute;
	font-family: 'Arial';
    color: #ffffff;
	top: 43vh;
    font-size: 400%;
    text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000, 1px 1px 0 #000;
}

@keyframes highlight {
	0%,
	100% {
		outline-color: #ff0000;
	}
	50% {
		outline-color: #ffcc29;
	}
}

@keyframes flash {
	0%,
	100% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
}

`)}initReplayData(){this.replayData=(0,P.I8)(window.__OPTIONS__.replay||null),this.replayData&&this.replayData.some(v=>{if(v&&v.outcome&&v.outcome.bet){var n=v.outcome.bet,a=this.replayData[0].options;return a.currency||(a.currency={code:"FUN",symbol:"FUN",subunits:100,exponent:2}),a.default_bet=n,a.available_bets.indexOf(n)<0&&(a.available_bets.push(n),a.available_bets.sort((u,p)=>u-p)),!0}})}}function M(S){if(S.features)return S.features.freespins_type}function R(S){if(S.gamble)return S.gamble.value[1]}var F=new z;F.initStyles();const Y=F},4247:(ye,le,d)=>{d.d(le,{U:()=>M});var B=d(3339),h=d(7585),P=d(2517),W=d(3732),z=d(6635),M=!0;window.Sentry=B,h.S1({environment:window.__OPTIONS__.environment,dsn:"https://825bff62c73b49919d014b83b408de0b@sentry.bgaming-system.com/12",release:"Plinko (game: v0.0.27_v14.6.4, utils: v14.6.4)",ignoreErrors:["WakeLock","fullscreen error","Copy command failed","Non-Error promise rejection captured","play()","not allowed"],beforeBreadcrumb:R=>R.category==="ui.click"?null:R}),window.user_id&&P.av({id:window.user_id}),z.Z.addListener((R,F,Y)=>{P.n_({type:"info",category:"game.event",message:R,data:{eventName:R,targetName:F,source:JSON.stringify(Y)},level:W.z.Info})})},4942:(ye,le)=>{function d(){return typeof Intl>"u"||!("getCanonicalLocales"in Intl)||Intl.getCanonicalLocales("und-x-private")[0]==="x-private"}Object.defineProperty(le,"__esModule",{value:!0}),le.shouldPolyfill=void 0,le.shouldPolyfill=d},38:(ye,le)=>{function d(){try{return new Intl.Locale("und-x-private").toString()==="x-private"}catch{return!0}}function B(){return!("Locale"in Intl)||d()}Object.defineProperty(le,"__esModule",{value:!0}),le.shouldPolyfill=void 0,le.shouldPolyfill=B},2930:(ye,le,d)=>{function B(h,P){for(var W=P;;){if(h.has(W))return W;var z=W.lastIndexOf("-");if(!~z)return;z>=2&&W[z-2]==="-"&&(z-=2),W=W.slice(0,z)}}d.d(le,{t:()=>B})},5605:(ye,le,d)=>{d.d(le,{T:()=>P});var B=d(9102),h=d(2930);function P(W,z){for(var M=[],R=0,F=z;R<F.length;R++){var Y=F[R].replace(B.p,""),S=(0,h.t)(W,Y);S&&M.push(S)}return M}},5731:(ye,le,d)=>{d.d(le,{f:()=>M});var B=d(9102),h=d(2930);function P(R,F,Y){for(var S={locale:""},v=0,n=F;v<n.length;v++){var a=n[v],u=a.replace(B.p,""),p=(0,h.t)(R,u);if(p)return S.locale=p,a!==u&&(S.extension=a.slice(u.length+1,a.length)),S}return S.locale=Y(),S}function W(R,F,Y){var S,v={},n={},a={},u=new Set;R.forEach(function(X){var D=new Intl.Locale(X).minimize().toString(),G=Intl.getCanonicalLocales(X)[0]||X;v[D]=X,n[X]=X,a[G]=X,u.add(D),u.add(X),u.add(G)});for(var p=0,w=F;p<w.length;p++){var N=w[p];if(S)break;var k=N.replace(B.p,"");if(R.has(k)){S=k;break}if(u.has(k)){S=k;break}var C=new Intl.Locale(k),c=C.maximize().toString(),x=C.minimize().toString();if(u.has(x)){S=x;break}S=(0,h.t)(u,c)}return S?{locale:n[S]||a[S]||v[S]||S}:{locale:Y()}}function z(R,F){(0,B.k)(F.length===2,"key must have 2 elements");var Y=R.length,S="-".concat(F,"-"),v=R.indexOf(S);if(v!==-1){for(var n=v+4,a=n,u=n,p=!1;!p;){var w=R.indexOf("-",u);(w===-1?Y-u:w-u)===2?p=!0:w===-1?(a=Y,p=!0):(a=w,u=w+1)}return R.slice(n,a)}if(S="-".concat(F),(v=R.indexOf(S))!==-1&&v+3===Y)return""}function M(R,F,Y,S,v,n){for(var a,u=(a=Y.localeMatcher==="lookup"?P(R,F,n):W(R,F,n)).locale,p={locale:"",dataLocale:u},w="-u",N=0,k=S;N<k.length;N++){var C=k[N];(0,B.k)(u in v,"Missing locale data for ".concat(u));var c=v[u];(0,B.k)(typeof c=="object"&&c!==null,"locale data ".concat(C," must be an object"));var x=c[C];(0,B.k)(Array.isArray(x),"keyLocaleData for ".concat(C," must be an array"));var X=x[0];(0,B.k)(typeof X=="string"||X===null,"value must be string or null but got ".concat(typeof X," in key ").concat(C));var D="";if(a.extension){var G=z(a.extension,C);G!==void 0&&(G!==""?~x.indexOf(G)&&(X=G,D="-".concat(C,"-").concat(X)):~G.indexOf("true")&&(X="true",D="-".concat(C)))}if(C in Y){var O=Y[C];(0,B.k)(typeof O=="string"||O==null,"optionsValue must be String, Undefined or Null"),~x.indexOf(O)&&O!==X&&(X=O,D="")}p[C]=X,w+=D}if(w.length>2){var E=u.indexOf("-x-");if(E===-1)u+=w;else{var J=u.slice(0,E),q=u.slice(E,u.length);u=J+w+q}u=Intl.getCanonicalLocales(u)[0]}return p.locale=u,p}},9102:(ye,le,d)=>{d.d(le,{k:()=>h,p:()=>B});var B=/-u(?:-[0-9a-z]{2,8})+/gi;function h(P,W,z){if(z===void 0&&(z=Error),!P)throw new z(W)}},9705:(ye,le,d)=>{function B(z){return Intl.getCanonicalLocales(z)}d.r(le),d.d(le,{LookupSupportedLocales:()=>P.T,ResolveLocale:()=>h.f,match:()=>W});var h=d(5731),P=d(5605);function W(z,M,R,F){var Y=M.reduce(function(S,v){return S.add(v),S},new Set);return(0,h.f)(Y,B(z),{localeMatcher:(F==null?void 0:F.algorithm)||"best fit"},[],{},function(){return R}).locale}},4526:(ye,le,d)=>{Object.defineProperty(le,"__esModule",{value:!0}),le.shouldPolyfill=void 0;var B=d(9705),h=d(3385);function P(z){if(!z)return!0;var M=Array.isArray(z)?z:[z];return Intl.PluralRules.supportedLocalesOf(M).length===M.length}function W(z){if(z===void 0&&(z="en"),!("PluralRules"in Intl)||new Intl.PluralRules("en",{minimumFractionDigits:2}).select(1)==="one"||!P(z))return z?(0,B.match)([z],h.supportedLocales,"en"):void 0}le.shouldPolyfill=W},3385:(ye,le)=>{Object.defineProperty(le,"__esModule",{value:!0}),le.supportedLocales=void 0,le.supportedLocales=["af","ak","am","an","ar","ars","as","asa","ast","az","bal","be","bem","bez","bg","bho","bm","bn","bo","br","brx","bs","ca","ce","ceb","cgg","chr","ckb","cs","cy","da","de","doi","dsb","dv","dz","ee","el","en","eo","es","et","eu","fa","ff","fi","fil","fo","fr","fur","fy","ga","gd","gl","gsw","gu","guw","gv","ha","haw","he","hi","hnj","hr","hsb","hu","hy","ia","id","ig","ii","io","is","it","iu","ja","jbo","jgo","jmc","jv","jw","ka","kab","kaj","kcg","kde","kea","kk","kkj","kl","km","kn","ko","ks","ksb","ksh","ku","kw","ky","lag","lb","lg","lij","lkt","ln","lo","lt","lv","mas","mg","mgo","mk","ml","mn","mo","mr","ms","mt","my","nah","naq","nb","nd","ne","nl","nn","nnh","no","nqo","nr","nso","ny","nyn","om","or","os","osa","pa","pap","pcm","pl","prg","ps","pt-PT","pt","rm","ro","rof","ru","rwk","sah","saq","sat","sc","scn","sd","sdh","se","seh","ses","sg","sh","shi","si","sk","sl","sma","smi","smj","smn","sms","sn","so","sq","sr","ss","ssy","st","su","sv","sw","syr","ta","te","teo","th","ti","tig","tk","tl","tn","to","tpi","tr","ts","tzm","ug","uk","und","ur","uz","ve","vi","vo","vun","wa","wae","wo","xh","xog","yi","yo","yue","zh","zu"]},3736:(ye,le,d)=>{var B,h,P,W,z,M,R,F,Y,S,v,n,a,u,p,w,N,k,C;d.d(le,{A7:()=>N,G5:()=>k,I2:()=>M,N3:()=>h,Nt:()=>v,T$:()=>W,UN:()=>p,V0:()=>P,Vi:()=>B,WB:()=>n,aH:()=>S,cB:()=>w,iw:()=>a,lg:()=>z,mr:()=>C,oT:()=>Y,sp:()=>R,vK:()=>F,yl:()=>u}),function(c){c[c.WEBGL_LEGACY=0]="WEBGL_LEGACY",c[c.WEBGL=1]="WEBGL",c[c.WEBGL2=2]="WEBGL2"}(B||(B={})),function(c){c[c.UNKNOWN=0]="UNKNOWN",c[c.WEBGL=1]="WEBGL",c[c.CANVAS=2]="CANVAS"}(h||(h={})),function(c){c[c.COLOR=16384]="COLOR",c[c.DEPTH=256]="DEPTH",c[c.STENCIL=1024]="STENCIL"}(P||(P={})),function(c){c[c.NORMAL=0]="NORMAL",c[c.ADD=1]="ADD",c[c.MULTIPLY=2]="MULTIPLY",c[c.SCREEN=3]="SCREEN",c[c.OVERLAY=4]="OVERLAY",c[c.DARKEN=5]="DARKEN",c[c.LIGHTEN=6]="LIGHTEN",c[c.COLOR_DODGE=7]="COLOR_DODGE",c[c.COLOR_BURN=8]="COLOR_BURN",c[c.HARD_LIGHT=9]="HARD_LIGHT",c[c.SOFT_LIGHT=10]="SOFT_LIGHT",c[c.DIFFERENCE=11]="DIFFERENCE",c[c.EXCLUSION=12]="EXCLUSION",c[c.HUE=13]="HUE",c[c.SATURATION=14]="SATURATION",c[c.COLOR=15]="COLOR",c[c.LUMINOSITY=16]="LUMINOSITY",c[c.NORMAL_NPM=17]="NORMAL_NPM",c[c.ADD_NPM=18]="ADD_NPM",c[c.SCREEN_NPM=19]="SCREEN_NPM",c[c.NONE=20]="NONE",c[c.SRC_OVER=0]="SRC_OVER",c[c.SRC_IN=21]="SRC_IN",c[c.SRC_OUT=22]="SRC_OUT",c[c.SRC_ATOP=23]="SRC_ATOP",c[c.DST_OVER=24]="DST_OVER",c[c.DST_IN=25]="DST_IN",c[c.DST_OUT=26]="DST_OUT",c[c.DST_ATOP=27]="DST_ATOP",c[c.ERASE=26]="ERASE",c[c.SUBTRACT=28]="SUBTRACT",c[c.XOR=29]="XOR"}(W||(W={})),function(c){c[c.POINTS=0]="POINTS",c[c.LINES=1]="LINES",c[c.LINE_LOOP=2]="LINE_LOOP",c[c.LINE_STRIP=3]="LINE_STRIP",c[c.TRIANGLES=4]="TRIANGLES",c[c.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",c[c.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(z||(z={})),function(c){c[c.RGBA=6408]="RGBA",c[c.RGB=6407]="RGB",c[c.RG=33319]="RG",c[c.RED=6403]="RED",c[c.RGBA_INTEGER=36249]="RGBA_INTEGER",c[c.RGB_INTEGER=36248]="RGB_INTEGER",c[c.RG_INTEGER=33320]="RG_INTEGER",c[c.RED_INTEGER=36244]="RED_INTEGER",c[c.ALPHA=6406]="ALPHA",c[c.LUMINANCE=6409]="LUMINANCE",c[c.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",c[c.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",c[c.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(M||(M={})),function(c){c[c.TEXTURE_2D=3553]="TEXTURE_2D",c[c.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",c[c.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",c[c.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",c[c.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",c[c.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",c[c.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",c[c.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",c[c.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(R||(R={})),function(c){c[c.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",c[c.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",c[c.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",c[c.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",c[c.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",c[c.UNSIGNED_INT=5125]="UNSIGNED_INT",c[c.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",c[c.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",c[c.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",c[c.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",c[c.BYTE=5120]="BYTE",c[c.SHORT=5122]="SHORT",c[c.INT=5124]="INT",c[c.FLOAT=5126]="FLOAT",c[c.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",c[c.HALF_FLOAT=36193]="HALF_FLOAT"}(F||(F={})),function(c){c[c.FLOAT=0]="FLOAT",c[c.INT=1]="INT",c[c.UINT=2]="UINT"}(Y||(Y={})),function(c){c[c.NEAREST=0]="NEAREST",c[c.LINEAR=1]="LINEAR"}(S||(S={})),function(c){c[c.CLAMP=33071]="CLAMP",c[c.REPEAT=10497]="REPEAT",c[c.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(v||(v={})),function(c){c[c.OFF=0]="OFF",c[c.POW2=1]="POW2",c[c.ON=2]="ON",c[c.ON_MANUAL=3]="ON_MANUAL"}(n||(n={})),function(c){c[c.NPM=0]="NPM",c[c.UNPACK=1]="UNPACK",c[c.PMA=2]="PMA",c[c.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",c[c.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",c[c.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",c[c.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(a||(a={})),function(c){c[c.NO=0]="NO",c[c.YES=1]="YES",c[c.AUTO=2]="AUTO",c[c.BLEND=0]="BLEND",c[c.CLEAR=1]="CLEAR",c[c.BLIT=2]="BLIT"}(u||(u={})),function(c){c[c.AUTO=0]="AUTO",c[c.MANUAL=1]="MANUAL"}(p||(p={})),function(c){c.LOW="lowp",c.MEDIUM="mediump",c.HIGH="highp"}(w||(w={})),function(c){c[c.NONE=0]="NONE",c[c.SCISSOR=1]="SCISSOR",c[c.STENCIL=2]="STENCIL",c[c.SPRITE=3]="SPRITE"}(N||(N={})),function(c){c[c.NONE=0]="NONE",c[c.LOW=2]="LOW",c[c.MEDIUM=4]="MEDIUM",c[c.HIGH=8]="HIGH"}(k||(k={})),function(c){c[c.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",c[c.ARRAY_BUFFER=34962]="ARRAY_BUFFER",c[c.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(C||(C={}))},9839:(ye,le,d)=>{d.d(le,{$N:()=>k,$r:()=>Qt,AI:()=>q,Bv:()=>_r,CT:()=>Ki,DL:()=>yn,Ei:()=>ci,HI:()=>je,I8:()=>xn,Ie:()=>Fn,J$:()=>Mn,JZ:()=>Ri,Jb:()=>ji,K0:()=>Qi,Kc:()=>Ve,Ld:()=>On,M4:()=>N,NW:()=>Cn,PA:()=>X,Rv:()=>cn,Sj:()=>We,TA:()=>x,TF:()=>li,TI:()=>Q,TJ:()=>er,TO:()=>Ee,Th:()=>Tn,UX:()=>Bi,VL:()=>w,W1:()=>dr,WB:()=>rt,Y8:()=>c,Y9:()=>Fi,ZM:()=>Si,ZX:()=>te,Zk:()=>$n,_w:()=>O,_z:()=>a,a$:()=>Jn,a7:()=>Dt,aF:()=>A,ah:()=>ne,bO:()=>Be,bg:()=>C,e6:()=>mr,eG:()=>pn,eH:()=>G,e_:()=>R,eo:()=>Un,ex:()=>gn,fy:()=>un,id:()=>Pn,jV:()=>de,jd:()=>K,kP:()=>En,kV:()=>xe,lD:()=>re,lH:()=>tt,lW:()=>Ie,oo:()=>Oe,p:()=>ln,pX:()=>D,pb:()=>F,qm:()=>u,qw:()=>on,sg:()=>Ze,tT:()=>vt,uW:()=>ee,ud:()=>ae,wn:()=>Rn,wr:()=>bn,xE:()=>y,xP:()=>kn,z9:()=>ui,zI:()=>hn,zj:()=>qi});var B=d(875),h=d(3736),P=d(5579),W=d(7584),z=d(1298),M=d(7442);B.X.PREFER_ENV=P.isMobile.any?h.Vi.WEBGL:h.Vi.WEBGL2,B.X.STRICT_TEXTURE_CACHE=!1;var R=[];function F(_,t){if(!_)return null;var i="";if(typeof _=="string"){var r=/\.(\w{3,4})(?:$|\?|#)/i.exec(_);r&&(i=r[1].toLowerCase())}for(var m=R.length-1;m>=0;--m){var H=R[m];if(H.test&&H.test(_,i))return new H(_,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var Y=function(_,t){return Y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var m in r)r.hasOwnProperty(m)&&(i[m]=r[m])},Y(_,t)};function S(_,t){function i(){this.constructor=_}Y(_,t),_.prototype=t===null?Object.create(t):(i.prototype=t.prototype,new i)}var v=function(){return v=Object.assign||function(_){for(var t,i=arguments,r=1,m=arguments.length;r<m;r++)for(var H in t=i[r])Object.prototype.hasOwnProperty.call(t,H)&&(_[H]=t[H]);return _},v.apply(this,arguments)};function n(_,t){var i={};for(var r in _)Object.prototype.hasOwnProperty.call(_,r)&&t.indexOf(r)<0&&(i[r]=_[r]);if(_!=null&&typeof Object.getOwnPropertySymbols=="function"){var m=0;for(r=Object.getOwnPropertySymbols(_);m<r.length;m++)t.indexOf(r[m])<0&&(i[r[m]]=_[r[m]])}return i}var a=function(){function _(t,i){t===void 0&&(t=0),i===void 0&&(i=0),this._width=t,this._height=i,this.destroyed=!1,this.internal=!1,this.onResize=new W.R("setRealSize"),this.onUpdate=new W.R("update"),this.onError=new W.R("onError")}return _.prototype.bind=function(t){this.onResize.add(t),this.onUpdate.add(t),this.onError.add(t),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},_.prototype.unbind=function(t){this.onResize.remove(t),this.onUpdate.remove(t),this.onError.remove(t)},_.prototype.resize=function(t,i){t===this._width&&i===this._height||(this._width=t,this._height=i,this.onResize.emit(t,i))},Object.defineProperty(_.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),_.prototype.update=function(){this.destroyed||this.onUpdate.emit()},_.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(_.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),_.prototype.style=function(t,i,r){return!1},_.prototype.dispose=function(){},_.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},_.test=function(t,i){return!1},_}(),u=function(_){function t(i,r){var m=this,H=r||{},ie=H.width,ce=H.height;if(!ie||!ce)throw new Error("BufferResource width or height invalid");return(m=_.call(this,ie,ce)||this).data=i,m}return S(t,_),t.prototype.upload=function(i,r,m){var H=i.gl;H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===h.iw.UNPACK);var ie=r.realWidth,ce=r.realHeight;return m.width===ie&&m.height===ce?H.texSubImage2D(r.target,0,0,0,ie,ce,r.format,m.type,this.data):(m.width=ie,m.height=ce,H.texImage2D(r.target,0,m.internalFormat,ie,ce,0,r.format,m.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(i){return i instanceof Float32Array||i instanceof Uint8Array||i instanceof Uint32Array},t}(a),p={scaleMode:h.aH.NEAREST,format:h.I2.RGBA,alphaMode:h.iw.NPM},w=function(_){function t(i,r){i===void 0&&(i=null),r===void 0&&(r=null);var m=_.call(this)||this,H=(r=r||{}).alphaMode,ie=r.mipmap,ce=r.anisotropicLevel,me=r.scaleMode,Le=r.width,He=r.height,$e=r.wrapMode,ht=r.format,bt=r.type,It=r.target,Rt=r.resolution,wt=r.resourceOptions;return!i||i instanceof a||((i=F(i,wt)).internal=!0),m.resolution=Rt||B.X.RESOLUTION,m.width=Math.round((Le||0)*m.resolution)/m.resolution,m.height=Math.round((He||0)*m.resolution)/m.resolution,m._mipmap=ie!==void 0?ie:B.X.MIPMAP_TEXTURES,m.anisotropicLevel=ce!==void 0?ce:B.X.ANISOTROPIC_LEVEL,m._wrapMode=$e||B.X.WRAP_MODE,m._scaleMode=me!==void 0?me:B.X.SCALE_MODE,m.format=ht||h.I2.RGBA,m.type=bt||h.vK.UNSIGNED_BYTE,m.target=It||h.sp.TEXTURE_2D,m.alphaMode=H!==void 0?H:h.iw.UNPACK,m.uid=(0,P.uid)(),m.touched=0,m.isPowerOfTwo=!1,m._refreshPOT(),m._glTextures={},m.dirtyId=0,m.dirtyStyleId=0,m.cacheId=null,m.valid=Le>0&&He>0,m.textureCacheIds=[],m.destroyed=!1,m.resource=null,m._batchEnabled=0,m._batchLocation=0,m.parentTextureArray=null,m.setResource(i),m}return S(t,_),Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(i){this._mipmap!==i&&(this._mipmap=i,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(i){this._scaleMode!==i&&(this._scaleMode=i,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(i){this._wrapMode!==i&&(this._wrapMode=i,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(i,r){var m;return i!==void 0&&i!==this.scaleMode&&(this.scaleMode=i,m=!0),r!==void 0&&r!==this.mipmap&&(this.mipmap=r,m=!0),m&&this.dirtyStyleId++,this},t.prototype.setSize=function(i,r,m){return m=m||this.resolution,this.setRealSize(i*m,r*m,m)},t.prototype.setRealSize=function(i,r,m){return this.resolution=m||this.resolution,this.width=Math.round(i)/this.resolution,this.height=Math.round(r)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=(0,P.isPow2)(this.realWidth)&&(0,P.isPow2)(this.realHeight)},t.prototype.setResolution=function(i){var r=this.resolution;return r===i||(this.resolution=i,this.valid&&(this.width=Math.round(this.width*r)/i,this.height=Math.round(this.height*r)/i,this.emit("update",this)),this._refreshPOT()),this},t.prototype.setResource=function(i){if(this.resource===i)return this;if(this.resource)throw new Error("Resource can be set only once");return i.bind(this),this.resource=i,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(i){this.emit("error",this,i)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete P.BaseTextureCache[this.cacheId],delete P.TextureCache[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(i,r,m){m===void 0&&(m=B.X.STRICT_TEXTURE_CACHE);var H=typeof i=="string",ie=null;if(H)ie=i;else{if(!i._pixiId){var ce=r&&r.pixiIdPrefix||"pixiid";i._pixiId=ce+"_"+(0,P.uid)()}ie=i._pixiId}var me=P.BaseTextureCache[ie];if(H&&m&&!me)throw new Error('The cacheId "'+ie+'" does not exist in BaseTextureCache.');return me||((me=new t(i,r)).cacheId=ie,t.addToCache(me,ie)),me},t.fromBuffer=function(i,r,m,H){i=i||new Float32Array(r*m*4);var ie=new u(i,{width:r,height:m}),ce=i instanceof Float32Array?h.vK.FLOAT:h.vK.UNSIGNED_BYTE;return new t(ie,Object.assign(p,H||{width:r,height:m,type:ce}))},t.addToCache=function(i,r){r&&(i.textureCacheIds.indexOf(r)===-1&&i.textureCacheIds.push(r),P.BaseTextureCache[r]&&console.warn("BaseTexture added to the cache with an id ["+r+"] that already had an entry"),P.BaseTextureCache[r]=i)},t.removeFromCache=function(i){if(typeof i=="string"){var r=P.BaseTextureCache[i];if(r){var m=r.textureCacheIds.indexOf(i);return m>-1&&r.textureCacheIds.splice(m,1),delete P.BaseTextureCache[i],r}}else if(i&&i.textureCacheIds){for(var H=0;H<i.textureCacheIds.length;++H)delete P.BaseTextureCache[i.textureCacheIds[H]];return i.textureCacheIds.length=0,i}return null},t._globalBatch=0,t}(P.EventEmitter),N=function(_){function t(i,r){var m=this,H=r||{},ie=H.width,ce=H.height;(m=_.call(this,ie,ce)||this).items=[],m.itemDirtyIds=[];for(var me=0;me<i;me++){var Le=new w;m.items.push(Le),m.itemDirtyIds.push(-2)}return m.length=i,m._load=null,m.baseTexture=null,m}return S(t,_),t.prototype.initFromArray=function(i,r){for(var m=0;m<this.length;m++)i[m]&&(i[m].castToBaseTexture?this.addBaseTextureAt(i[m].castToBaseTexture(),m):i[m]instanceof a?this.addResourceAt(i[m],m):this.addResourceAt(F(i[m],r),m))},t.prototype.dispose=function(){for(var i=0,r=this.length;i<r;i++)this.items[i].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(i,r){if(!this.items[r])throw new Error("Index "+r+" is out of bounds");return i.valid&&!this.valid&&this.resize(i.width,i.height),this.items[r].setResource(i),this},t.prototype.bind=function(i){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");_.prototype.bind.call(this,i);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=i,this.items[r].on("update",i.update,i)},t.prototype.unbind=function(i){_.prototype.unbind.call(this,i);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",i.update,i)},t.prototype.load=function(){var i=this;if(this._load)return this._load;var r=this.items.map(function(m){return m.resource}).filter(function(m){return m}).map(function(m){return m.load()});return this._load=Promise.all(r).then(function(){var m=i.items[0],H=m.realWidth,ie=m.realHeight;return i.resize(H,ie),Promise.resolve(i)}),this._load},t}(a),k=function(_){function t(i,r){var m,H,ie=this,ce=r||{},me=ce.width,Le=ce.height;return Array.isArray(i)?(m=i,H=i.length):H=i,ie=_.call(this,H,{width:me,height:Le})||this,m&&ie.initFromArray(m,r),ie}return S(t,_),t.prototype.addBaseTextureAt=function(i,r){if(!i.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(i.resource,r),this},t.prototype.bind=function(i){_.prototype.bind.call(this,i),i.target=h.sp.TEXTURE_2D_ARRAY},t.prototype.upload=function(i,r,m){var H=this,ie=H.length,ce=H.itemDirtyIds,me=H.items,Le=i.gl;m.dirtyId<0&&Le.texImage3D(Le.TEXTURE_2D_ARRAY,0,m.internalFormat,this._width,this._height,ie,0,r.format,m.type,null);for(var He=0;He<ie;He++){var $e=me[He];ce[He]<$e.dirtyId&&(ce[He]=$e.dirtyId,$e.valid&&Le.texSubImage3D(Le.TEXTURE_2D_ARRAY,0,0,0,He,$e.resource.width,$e.resource.height,1,r.format,m.type,$e.resource.source))}return!0},t}(N),C=function(_){function t(i){var r=this,m=i,H=m.naturalWidth||m.videoWidth||m.width,ie=m.naturalHeight||m.videoHeight||m.height;return(r=_.call(this,H,ie)||this).source=i,r.noSubImage=!1,r}return S(t,_),t.crossOrigin=function(i,r,m){m===void 0&&r.indexOf("data:")!==0?i.crossOrigin=(0,P.determineCrossOrigin)(r):m!==!1&&(i.crossOrigin=typeof m=="string"?m:"anonymous")},t.prototype.upload=function(i,r,m,H){var ie=i.gl,ce=r.realWidth,me=r.realHeight;if((H=H||this.source)instanceof HTMLImageElement){if(!H.complete||H.naturalWidth===0)return!1}else if(H instanceof HTMLVideoElement&&H.readyState<=1)return!1;return ie.pixelStorei(ie.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===h.iw.UNPACK),this.noSubImage||r.target!==ie.TEXTURE_2D||m.width!==ce||m.height!==me?(m.width=ce,m.height=me,ie.texImage2D(r.target,0,m.internalFormat,r.format,m.type,H)):ie.texSubImage2D(ie.TEXTURE_2D,0,0,0,r.format,m.type,H),!0},t.prototype.update=function(){if(!this.destroyed){var i=this.source,r=i.naturalWidth||i.videoWidth||i.width,m=i.naturalHeight||i.videoHeight||i.height;this.resize(r,m),_.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(a),c=function(_){function t(i){return _.call(this,i)||this}return S(t,_),t.test=function(i){var r=globalThis.OffscreenCanvas;return!!(r&&i instanceof r)||globalThis.HTMLCanvasElement&&i instanceof HTMLCanvasElement},t}(C),x=function(_){function t(i,r){var m=this,H=r||{},ie=H.width,ce=H.height,me=H.autoLoad,Le=H.linkBaseTexture;if(i&&i.length!==t.SIDES)throw new Error("Invalid length. Got "+i.length+", expected 6");m=_.call(this,6,{width:ie,height:ce})||this;for(var He=0;He<t.SIDES;He++)m.items[He].target=h.sp.TEXTURE_CUBE_MAP_POSITIVE_X+He;return m.linkBaseTexture=Le!==!1,i&&m.initFromArray(i,r),me!==!1&&m.load(),m}return S(t,_),t.prototype.bind=function(i){_.prototype.bind.call(this,i),i.target=h.sp.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(i,r,m){if(m===void 0&&(m=this.linkBaseTexture),!this.items[r])throw new Error("Index "+r+" is out of bounds");if(!this.linkBaseTexture||i.parentTextureArray||Object.keys(i._glTextures).length>0){if(!i.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(i.resource,r)}else i.target=h.sp.TEXTURE_CUBE_MAP_POSITIVE_X+r,i.parentTextureArray=this.baseTexture,this.items[r]=i;return i.valid&&!this.valid&&this.resize(i.realWidth,i.realHeight),this.items[r]=i,this},t.prototype.upload=function(i,r,m){for(var H=this.itemDirtyIds,ie=0;ie<t.SIDES;ie++){var ce=this.items[ie];H[ie]<ce.dirtyId&&(ce.valid&&ce.resource?(ce.resource.upload(i,ce,m),H[ie]=ce.dirtyId):H[ie]<-1&&(i.gl.texImage2D(ce.target,0,m.internalFormat,r.realWidth,r.realHeight,0,r.format,m.type,null),H[ie]=-1))}return!0},t.test=function(i){return Array.isArray(i)&&i.length===t.SIDES},t.SIDES=6,t}(N),X=function(_){function t(i,r){var m=this;if(r=r||{},!(i instanceof HTMLImageElement)){var H=new Image;C.crossOrigin(H,i,r.crossorigin),H.src=i,i=H}return m=_.call(this,i)||this,!i.complete&&m._width&&m._height&&(m._width=0,m._height=0),m.url=i.src,m._process=null,m.preserveBitmap=!1,m.createBitmap=(r.createBitmap!==void 0?r.createBitmap:B.X.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,m.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,m.bitmap=null,m._load=null,r.autoLoad!==!1&&m.load(),m}return S(t,_),t.prototype.load=function(i){var r=this;return this._load||(i!==void 0&&(this.createBitmap=i),this._load=new Promise(function(m,H){var ie=r.source;r.url=ie.src;var ce=function(){r.destroyed||(ie.onload=null,ie.onerror=null,r.resize(ie.width,ie.height),r._load=null,r.createBitmap?m(r.process()):m(r))};ie.complete&&ie.src?ce():(ie.onload=ce,ie.onerror=function(me){H(me),r.onError.emit(me)})})),this._load},t.prototype.process=function(){var i=this,r=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);var m=globalThis.createImageBitmap,H=!r.crossOrigin||r.crossOrigin==="anonymous";return this._process=fetch(r.src,{mode:H?"cors":"no-cors"}).then(function(ie){return ie.blob()}).then(function(ie){return m(ie,0,0,r.width,r.height,{premultiplyAlpha:i.alphaMode===h.iw.UNPACK?"premultiply":"none"})}).then(function(ie){return i.destroyed?Promise.reject():(i.bitmap=ie,i.update(),i._process=null,Promise.resolve(i))}),this._process},t.prototype.upload=function(i,r,m){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return _.prototype.upload.call(this,i,r,m);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(_.prototype.upload.call(this,i,r,m,this.bitmap),!this.preserveBitmap){var H=!0,ie=r._glTextures;for(var ce in ie){var me=ie[ce];if(me!==m&&me.dirtyId!==r.dirtyId){H=!1;break}}H&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,_.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(i){return typeof i=="string"||i instanceof HTMLImageElement},t}(C),D=function(_){function t(i,r){var m=this;return r=r||{},(m=_.call(this,document.createElement("canvas"))||this)._width=0,m._height=0,m.svg=i,m.scale=r.scale||1,m._overrideWidth=r.width,m._overrideHeight=r.height,m._resolve=null,m._crossorigin=r.crossorigin,m._load=null,r.autoLoad!==!1&&m.load(),m}return S(t,_),t.prototype.load=function(){var i=this;return this._load||(this._load=new Promise(function(r){if(i._resolve=function(){i.resize(i.source.width,i.source.height),r(i)},t.SVG_XML.test(i.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");i.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(i.svg)))}i._loadSvg()})),this._load},t.prototype._loadSvg=function(){var i=this,r=new Image;C.crossOrigin(r,this.svg,this._crossorigin),r.src=this.svg,r.onerror=function(m){i._resolve&&(r.onerror=null,i.onError.emit(m))},r.onload=function(){if(i._resolve){var m=r.width,H=r.height;if(!m||!H)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var ie=m*i.scale,ce=H*i.scale;(i._overrideWidth||i._overrideHeight)&&(ie=i._overrideWidth||i._overrideHeight/H*m,ce=i._overrideHeight||i._overrideWidth/m*H),ie=Math.round(ie),ce=Math.round(ce);var me=i.source;me.width=ie,me.height=ce,me._pixiId="canvas_"+(0,P.uid)(),me.getContext("2d").drawImage(r,0,0,m,H,0,0,ie,ce),i._resolve(),i._resolve=null}}},t.getSize=function(i){var r=t.SVG_SIZE.exec(i),m={};return r&&(m[r[1]]=Math.round(parseFloat(r[3])),m[r[5]]=Math.round(parseFloat(r[7]))),m},t.prototype.dispose=function(){_.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(i,r){return r==="svg"||typeof i=="string"&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(i)||typeof i=="string"&&t.SVG_XML.test(i)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(C),G=function(_){function t(i,r){var m=this;if(r=r||{},!(i instanceof HTMLVideoElement)){var H=document.createElement("video");H.setAttribute("preload","auto"),H.setAttribute("webkit-playsinline",""),H.setAttribute("playsinline",""),typeof i=="string"&&(i=[i]);var ie=i[0].src||i[0];C.crossOrigin(H,ie,r.crossorigin);for(var ce=0;ce<i.length;++ce){var me=document.createElement("source"),Le=i[ce],He=Le.src,$e=Le.mime,ht=(He=He||i[ce]).split("?").shift().toLowerCase(),bt=ht.slice(ht.lastIndexOf(".")+1);$e=$e||t.MIME_TYPES[bt]||"video/"+bt,me.src=He,me.type=$e,H.appendChild(me)}i=H}return(m=_.call(this,i)||this).noSubImage=!0,m._autoUpdate=!0,m._isConnectedToTicker=!1,m._updateFPS=r.updateFPS||0,m._msToNextUpdate=0,m.autoPlay=r.autoPlay!==!1,m._load=null,m._resolve=null,m._onCanPlay=m._onCanPlay.bind(m),m._onError=m._onError.bind(m),r.autoLoad!==!1&&m.load(),m}return S(t,_),t.prototype.update=function(i){if(!this.destroyed){var r=z.vB.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(_.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var i=this;if(this._load)return this._load;var r=this.source;return(r.readyState===r.HAVE_ENOUGH_DATA||r.readyState===r.HAVE_FUTURE_DATA)&&r.width&&r.height&&(r.complete=!0),r.addEventListener("play",this._onPlayStart.bind(this)),r.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(r.addEventListener("canplay",this._onCanPlay),r.addEventListener("canplaythrough",this._onCanPlay),r.addEventListener("error",this._onError,!0)),this._load=new Promise(function(m){i.valid?m(i):(i._resolve=m,r.load())}),this._load},t.prototype._onError=function(i){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(i)},t.prototype._isSourcePlaying=function(){var i=this.source;return i.currentTime>0&&i.paused===!1&&i.ended===!1&&i.readyState>2},t.prototype._isSourceReady=function(){var i=this.source;return i.readyState===3||i.readyState===4},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(z.vB.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(z.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var i=this.source;i.removeEventListener("canplay",this._onCanPlay),i.removeEventListener("canplaythrough",this._onCanPlay);var r=this.valid;this.resize(i.videoWidth,i.videoHeight),!r&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&i.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(z.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1);var i=this.source;i&&(i.removeEventListener("error",this._onError,!0),i.pause(),i.src="",i.load()),_.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(i){i!==this._autoUpdate&&(this._autoUpdate=i,!this._autoUpdate&&this._isConnectedToTicker?(z.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(z.vB.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(i){i!==this._updateFPS&&(this._updateFPS=i)},enumerable:!1,configurable:!0}),t.test=function(i,r){return globalThis.HTMLVideoElement&&i instanceof HTMLVideoElement||t.TYPES.indexOf(r)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(C),O=function(_){function t(i){return _.call(this,i)||this}return S(t,_),t.test=function(i){return!!globalThis.createImageBitmap&&i instanceof ImageBitmap},t}(C);R.push(X,O,c,G,D,u,x,k);var E={__proto__:null,Resource:a,BaseImageResource:C,INSTALLED:R,autoDetectResource:F,AbstractMultiResource:N,ArrayResource:k,BufferResource:u,CanvasResource:c,CubeResource:x,ImageResource:X,SVGResource:D,VideoResource:G,ImageBitmapResource:O},J=function(_){function t(){return _!==null&&_.apply(this,arguments)||this}return S(t,_),t.prototype.upload=function(i,r,m){var H=i.gl;H.pixelStorei(H.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===h.iw.UNPACK);var ie=r.realWidth,ce=r.realHeight;return m.width===ie&&m.height===ce?H.texSubImage2D(r.target,0,0,0,ie,ce,r.format,m.type,this.data):(m.width=ie,m.height=ce,H.texImage2D(r.target,0,m.internalFormat,ie,ce,0,r.format,m.type,this.data)),!0},t}(u),q=function(){function _(t,i){this.width=Math.round(t||100),this.height=Math.round(i||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new W.R("disposeFramebuffer"),this.multisample=h.G5.NONE}return Object.defineProperty(_.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),_.prototype.addColorTexture=function(t,i){return t===void 0&&(t=0),this.colorTextures[t]=i||new w(null,{scaleMode:h.aH.NEAREST,resolution:1,mipmap:h.WB.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},_.prototype.addDepthTexture=function(t){return this.depthTexture=t||new w(new J(null,{width:this.width,height:this.height}),{scaleMode:h.aH.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:h.WB.OFF,format:h.I2.DEPTH_COMPONENT,type:h.vK.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},_.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},_.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},_.prototype.resize=function(t,i){if(t=Math.round(t),i=Math.round(i),t!==this.width||i!==this.height){this.width=t,this.height=i,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var m=this.colorTextures[r],H=m.resolution;m.setSize(t/H,i/H)}this.depthTexture&&(H=this.depthTexture.resolution,this.depthTexture.setSize(t/H,i/H))}},_.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},_.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},_}(),K=function(_){function t(i){i===void 0&&(i={});var r=this;return typeof i=="number"&&(i={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),i.width=i.width||100,i.height=i.height||100,i.multisample=i.multisample!==void 0?i.multisample:h.G5.NONE,(r=_.call(this,null,i)||this).mipmap=h.WB.OFF,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new q(r.realWidth,r.realHeight).addColorTexture(0,r),r.framebuffer.multisample=i.multisample,r.maskStack=[],r.filterStack=[{}],r}return S(t,_),t.prototype.resize=function(i,r){this.framebuffer.resize(i*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),_.prototype.dispose.call(this)},t.prototype.destroy=function(){_.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(w),A=function(){function _(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return _.prototype.set=function(t,i,r){var m=i.width,H=i.height;if(r){var ie=t.width/2/m,ce=t.height/2/H,me=t.x/m+ie,Le=t.y/H+ce;r=M.Lv.add(r,M.Lv.NW),this.x0=me+ie*M.Lv.uX(r),this.y0=Le+ce*M.Lv.uY(r),r=M.Lv.add(r,2),this.x1=me+ie*M.Lv.uX(r),this.y1=Le+ce*M.Lv.uY(r),r=M.Lv.add(r,2),this.x2=me+ie*M.Lv.uX(r),this.y2=Le+ce*M.Lv.uY(r),r=M.Lv.add(r,2),this.x3=me+ie*M.Lv.uX(r),this.y3=Le+ce*M.Lv.uY(r)}else this.x0=t.x/m,this.y0=t.y/H,this.x1=(t.x+t.width)/m,this.y1=t.y/H,this.x2=(t.x+t.width)/m,this.y2=(t.y+t.height)/H,this.x3=t.x/m,this.y3=(t.y+t.height)/H;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},_.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},_}(),T=new A,y=function(_){function t(i,r,m,H,ie,ce){var me=_.call(this)||this;if(me.noFrame=!1,r||(me.noFrame=!0,r=new M.Ae(0,0,1,1)),i instanceof t&&(i=i.baseTexture),me.baseTexture=i,me._frame=r,me.trim=H,me.valid=!1,me._uvs=T,me.uvMatrix=null,me.orig=m||r,me._rotate=Number(ie||0),ie===!0)me._rotate=2;else if(me._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return me.defaultAnchor=ce?new M.E9(ce.x,ce.y):new M.E9(0,0),me._updateID=0,me.textureCacheIds=[],i.valid?me.noFrame?i.valid&&me.onBaseTextureUpdated(i):me.frame=r:i.once("loaded",me.onBaseTextureUpdated,me),me.noFrame&&i.on("update",me.onBaseTextureUpdated,me),me}return S(t,_),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(i){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=i.width,this._frame.height=i.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(i){if(this.baseTexture){if(i){var r=this.baseTexture.resource;r&&r.url&&P.TextureCache[r.url]&&t.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var i=this._frame.clone(),r=this._frame===this.orig?i:this.orig.clone(),m=new t(this.baseTexture,!this.noFrame&&i,r,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(m._frame=i),m},t.prototype.updateUvs=function(){this._uvs===T&&(this._uvs=new A),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(i,r,m){r===void 0&&(r={}),m===void 0&&(m=B.X.STRICT_TEXTURE_CACHE);var H=typeof i=="string",ie=null;if(H)ie=i;else if(i instanceof w){if(!i.cacheId){var ce=r&&r.pixiIdPrefix||"pixiid";i.cacheId=ce+"-"+(0,P.uid)(),w.addToCache(i,i.cacheId)}ie=i.cacheId}else i._pixiId||(ce=r&&r.pixiIdPrefix||"pixiid",i._pixiId=ce+"_"+(0,P.uid)()),ie=i._pixiId;var me=P.TextureCache[ie];if(H&&m&&!me)throw new Error('The cacheId "'+ie+'" does not exist in TextureCache.');return me||i instanceof w?!me&&i instanceof w&&(me=new t(i),t.addToCache(me,ie)):(r.resolution||(r.resolution=(0,P.getResolutionOfUrl)(i)),(me=new t(new w(i,r))).baseTexture.cacheId=ie,w.addToCache(me.baseTexture,ie),t.addToCache(me,ie)),me},t.fromURL=function(i,r){var m=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),H=t.from(i,Object.assign({resourceOptions:m},r),!1),ie=H.baseTexture.resource;return H.baseTexture.valid?Promise.resolve(H):ie.load().then(function(){return Promise.resolve(H)})},t.fromBuffer=function(i,r,m,H){return new t(w.fromBuffer(i,r,m,H))},t.fromLoader=function(i,r,m,H){var ie=new w(i,Object.assign({scaleMode:B.X.SCALE_MODE,resolution:(0,P.getResolutionOfUrl)(r)},H)),ce=ie.resource;ce instanceof X&&(ce.url=r);var me=new t(ie);return m||(m=r),w.addToCache(me.baseTexture,m),t.addToCache(me,m),m!==r&&(w.addToCache(me.baseTexture,r),t.addToCache(me,r)),me.baseTexture.valid?Promise.resolve(me):new Promise(function(Le){me.baseTexture.once("loaded",function(){return Le(me)})})},t.addToCache=function(i,r){r&&(i.textureCacheIds.indexOf(r)===-1&&i.textureCacheIds.push(r),P.TextureCache[r]&&console.warn("Texture added to the cache with an id ["+r+"] that already had an entry"),P.TextureCache[r]=i)},t.removeFromCache=function(i){if(typeof i=="string"){var r=P.TextureCache[i];if(r){var m=r.textureCacheIds.indexOf(i);return m>-1&&r.textureCacheIds.splice(m,1),delete P.TextureCache[i],r}}else if(i&&i.textureCacheIds){for(var H=0;H<i.textureCacheIds.length;++H)P.TextureCache[i.textureCacheIds[H]]===i&&delete P.TextureCache[i.textureCacheIds[H]];return i.textureCacheIds.length=0,i}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(i){this._frame=i,this.noFrame=!1;var r=i.x,m=i.y,H=i.width,ie=i.height,ce=r+H>this.baseTexture.width,me=m+ie>this.baseTexture.height;if(ce||me){var Le=ce&&me?"and":"or",He="X: "+r+" + "+H+" = "+(r+H)+" > "+this.baseTexture.width,$e="Y: "+m+" + "+ie+" = "+(m+ie)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+He+" "+Le+" "+$e)}this.valid=H&&ie&&this.baseTexture.valid,this.trim||this.rotate||(this.orig=i),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(i){this._rotate=i,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},t}(P.EventEmitter);function L(){var _=document.createElement("canvas");_.width=16,_.height=16;var t=_.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,16,16),new y(new w(new c(_)))}function j(_){_.destroy=function(){},_.on=function(){},_.once=function(){},_.emit=function(){}}y.EMPTY=new y(new w),j(y.EMPTY),j(y.EMPTY.baseTexture),y.WHITE=L(),j(y.WHITE),j(y.WHITE.baseTexture);var Q=function(_){function t(i,r){var m=_.call(this,i,r)||this;return m.valid=!0,m.filterFrame=null,m.filterPoolKey=null,m.updateUvs(),m}return S(t,_),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(i){this.framebuffer.multisample=i},enumerable:!1,configurable:!0}),t.prototype.resize=function(i,r,m){m===void 0&&(m=!0);var H=this.baseTexture.resolution,ie=Math.round(i*H)/H,ce=Math.round(r*H)/H;this.valid=ie>0&&ce>0,this._frame.width=this.orig.width=ie,this._frame.height=this.orig.height=ce,m&&this.baseTexture.resize(ie,ce),this.updateUvs()},t.prototype.setResolution=function(i){var r=this.baseTexture;r.resolution!==i&&(r.setResolution(i),this.resize(r.width,r.height,!1))},t.create=function(i){for(var r=arguments,m=[],H=1;H<arguments.length;H++)m[H-1]=r[H];return typeof i=="number"&&((0,P.deprecation)("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),i={width:i,height:m[0],scaleMode:m[1],resolution:m[2]}),new t(new K(i))},t}(y),ee=function(){function _(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return _.prototype.createTexture=function(t,i,r){r===void 0&&(r=h.G5.NONE);var m=new K(Object.assign({width:t,height:i,resolution:1,multisample:r},this.textureOptions));return new Q(m)},_.prototype.getOptimalTexture=function(t,i,r,m){var H;r===void 0&&(r=1),m===void 0&&(m=h.G5.NONE),t=Math.ceil(t*r-1e-6),i=Math.ceil(i*r-1e-6),this.enableFullScreen&&t===this._pixelsWidth&&i===this._pixelsHeight?H=m>1?-m:-1:(H=((65535&(t=(0,P.nextPow2)(t)))<<16|65535&(i=(0,P.nextPow2)(i)))>>>0,m>1&&(H+=4294967296*m)),this.texturePool[H]||(this.texturePool[H]=[]);var ie=this.texturePool[H].pop();return ie||(ie=this.createTexture(t,i,m)),ie.filterPoolKey=H,ie.setResolution(r),ie},_.prototype.getFilterTexture=function(t,i,r){var m=this.getOptimalTexture(t.width,t.height,i||t.resolution,r||h.G5.NONE);return m.filterFrame=t.filterFrame,m},_.prototype.returnTexture=function(t){var i=t.filterPoolKey;t.filterFrame=null,this.texturePool[i].push(t)},_.prototype.returnFilterTexture=function(t){this.returnTexture(t)},_.prototype.clear=function(t){if(t=t!==!1)for(var i in this.texturePool){var r=this.texturePool[i];if(r)for(var m=0;m<r.length;m++)r[m].destroy(!0)}this.texturePool={}},_.prototype.setScreenSize=function(t){if(t.width!==this._pixelsWidth||t.height!==this._pixelsHeight){for(var i in this.enableFullScreen=t.width>0&&t.height>0,this.texturePool)if(Number(i)<0){var r=this.texturePool[i];if(r)for(var m=0;m<r.length;m++)r[m].destroy(!0);this.texturePool[i]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}},_.SCREEN_KEY=-1,_}(),ne=function(){function _(t,i,r,m,H,ie,ce){i===void 0&&(i=0),r===void 0&&(r=!1),m===void 0&&(m=h.vK.FLOAT),this.buffer=t,this.size=i,this.normalized=r,this.type=m,this.stride=H,this.start=ie,this.instance=ce}return _.prototype.destroy=function(){this.buffer=null},_.from=function(t,i,r,m,H){return new _(t,i,r,m,H)},_}(),be=0,Ie=function(){function _(t,i,r){i===void 0&&(i=!0),r===void 0&&(r=!1),this.data=t||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=i,this.id=be++,this.disposeRunner=new W.R("disposeBuffer")}return _.prototype.update=function(t){t instanceof Array&&(t=new Float32Array(t)),this.data=t||this.data,this._updateID++},_.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},_.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(_.prototype,"index",{get:function(){return this.type===h.mr.ELEMENT_ARRAY_BUFFER},set:function(t){this.type=t?h.mr.ELEMENT_ARRAY_BUFFER:h.mr.ARRAY_BUFFER},enumerable:!1,configurable:!0}),_.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new _(t)},_}(),Ce={Float32Array,Uint32Array,Int32Array,Uint8Array};function he(_,t){for(var i=0,r=0,m={},H=0;H<_.length;H++)r+=t[H],i+=_[H].length;var ie=new ArrayBuffer(4*i),ce=null,me=0;for(H=0;H<_.length;H++){var Le=t[H],He=_[H],$e=(0,P.getBufferType)(He);m[$e]||(m[$e]=new Ce[$e](ie)),ce=m[$e];for(var ht=0;ht<He.length;ht++)ce[(ht/Le|0)*r+me+ht%Le]=He[ht];me+=Le}return new Float32Array(ie)}var b={5126:4,5123:2,5121:1},U=0,V={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},te=function(){function _(t,i){t===void 0&&(t=[]),i===void 0&&(i={}),this.buffers=t,this.indexBuffer=null,this.attributes=i,this.glVertexArrayObjects={},this.id=U++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new W.R("disposeGeometry"),this.refCount=0}return _.prototype.addAttribute=function(t,i,r,m,H,ie,ce,me){if(r===void 0&&(r=0),m===void 0&&(m=!1),me===void 0&&(me=!1),!i)throw new Error("You must pass a buffer when creating an attribute");i instanceof Ie||(i instanceof Array&&(i=new Float32Array(i)),i=new Ie(i));var Le=t.split("|");if(Le.length>1){for(var He=0;He<Le.length;He++)this.addAttribute(Le[He],i,r,m,H);return this}var $e=this.buffers.indexOf(i);return $e===-1&&(this.buffers.push(i),$e=this.buffers.length-1),this.attributes[t]=new ne($e,r,m,H,ie,ce,me),this.instanced=this.instanced||me,this},_.prototype.getAttribute=function(t){return this.attributes[t]},_.prototype.getBuffer=function(t){return this.buffers[this.getAttribute(t).buffer]},_.prototype.addIndex=function(t){return t instanceof Ie||(t instanceof Array&&(t=new Uint16Array(t)),t=new Ie(t)),t.type=h.mr.ELEMENT_ARRAY_BUFFER,this.indexBuffer=t,this.buffers.indexOf(t)===-1&&this.buffers.push(t),this},_.prototype.getIndex=function(){return this.indexBuffer},_.prototype.interleave=function(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;var t,i=[],r=[],m=new Ie;for(t in this.attributes){var H=this.attributes[t],ie=this.buffers[H.buffer];i.push(ie.data),r.push(H.size*b[H.type]/4),H.buffer=0}for(m.data=he(i,r),t=0;t<this.buffers.length;t++)this.buffers[t]!==this.indexBuffer&&this.buffers[t].destroy();return this.buffers=[m],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},_.prototype.getSize=function(){for(var t in this.attributes){var i=this.attributes[t];return this.buffers[i.buffer].data.length/(i.stride/4||i.size)}return 0},_.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},_.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},_.prototype.clone=function(){for(var t=new _,i=0;i<this.buffers.length;i++)t.buffers[i]=new Ie(this.buffers[i].data.slice(0));for(var i in this.attributes){var r=this.attributes[i];t.attributes[i]=new ne(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=h.mr.ELEMENT_ARRAY_BUFFER),t},_.merge=function(t){for(var i,r=new _,m=[],H=[],ie=[],ce=0;ce<t.length;ce++){i=t[ce];for(var me=0;me<i.buffers.length;me++)H[me]=H[me]||0,H[me]+=i.buffers[me].data.length,ie[me]=0}for(ce=0;ce<i.buffers.length;ce++)m[ce]=new V[(0,P.getBufferType)(i.buffers[ce].data)](H[ce]),r.buffers[ce]=new Ie(m[ce]);for(ce=0;ce<t.length;ce++)for(i=t[ce],me=0;me<i.buffers.length;me++)m[me].set(i.buffers[me].data,ie[me]),ie[me]+=i.buffers[me].data.length;if(r.attributes=i.attributes,i.indexBuffer){r.indexBuffer=r.buffers[i.buffers.indexOf(i.indexBuffer)],r.indexBuffer.type=h.mr.ELEMENT_ARRAY_BUFFER;var Le=0,He=0,$e=0,ht=0;for(ce=0;ce<i.buffers.length;ce++)if(i.buffers[ce]!==i.indexBuffer){ht=ce;break}for(var ce in i.attributes){var bt=i.attributes[ce];(0|bt.buffer)===ht&&(He+=bt.size*b[bt.type]/4)}for(ce=0;ce<t.length;ce++){var It=t[ce].indexBuffer.data;for(me=0;me<It.length;me++)r.indexBuffer.data[me+$e]+=Le;Le+=t[ce].buffers[ht].data.length/He,$e+=It.length}}return r},_}(),re=function(_){function t(){var i=_.call(this)||this;return i.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),i}return S(t,_),t}(te),ae=function(_){function t(){var i=_.call(this)||this;return i.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),i.uvs=new Float32Array([0,0,1,0,1,1,0,1]),i.vertexBuffer=new Ie(i.vertices),i.uvBuffer=new Ie(i.uvs),i.addAttribute("aVertexPosition",i.vertexBuffer).addAttribute("aTextureCoord",i.uvBuffer).addIndex([0,1,2,0,2,3]),i}return S(t,_),t.prototype.map=function(i,r){var m=0,H=0;return this.uvs[0]=m,this.uvs[1]=H,this.uvs[2]=m+r.width/i.width,this.uvs[3]=H,this.uvs[4]=m+r.width/i.width,this.uvs[5]=H+r.height/i.height,this.uvs[6]=m,this.uvs[7]=H+r.height/i.height,m=r.x,H=r.y,this.vertices[0]=m,this.vertices[1]=H,this.vertices[2]=m+r.width,this.vertices[3]=H,this.vertices[4]=m+r.width,this.vertices[5]=H+r.height,this.vertices[6]=m,this.vertices[7]=H+r.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(te),_e=0,Oe=function(){function _(t,i,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=_e++,this.static=!!i,this.ubo=!!r,t instanceof Ie?(this.buffer=t,this.buffer.type=h.mr.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=t,this.ubo&&(this.buffer=new Ie(new Float32Array(1)),this.buffer.type=h.mr.UNIFORM_BUFFER,this.autoManage=!0))}return _.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},_.prototype.add=function(t,i,r){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new _(i,r)},_.from=function(t,i,r){return new _(t,i,r)},_.uboFrom=function(t,i){return new _(t,i==null||i,!0)},_}(),de=function(){function _(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=h.G5.NONE,this.sourceFrame=new M.Ae,this.destinationFrame=new M.Ae,this.bindingSourceFrame=new M.Ae,this.bindingDestinationFrame=new M.Ae,this.filters=[],this.transform=null}return _.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},_}(),ge=[new M.E9,new M.E9,new M.E9,new M.E9],Ae=new M.y3,xe=function(){function _(t){this.renderer=t,this.defaultFilterStack=[{}],this.texturePool=new ee,this.texturePool.setScreenSize(t.view),this.statePool=[],this.quad=new re,this.quadUv=new ae,this.tempRect=new M.Ae,this.activeState={},this.globalUniforms=new Oe({outputFrame:new M.Ae,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return _.prototype.push=function(t,i){for(var r,m,H=this.renderer,ie=this.defaultFilterStack,ce=this.statePool.pop()||new de,me=this.renderer.renderTexture,Le=i[0].resolution,He=i[0].multisample,$e=i[0].padding,ht=i[0].autoFit,bt=(r=i[0].legacy)===null||r===void 0||r,It=1;It<i.length;It++){var Rt=i[It];Le=Math.min(Le,Rt.resolution),He=Math.min(He,Rt.multisample),$e=this.useMaxPadding?Math.max($e,Rt.padding):$e+Rt.padding,ht=ht&&Rt.autoFit,bt=bt||(m=Rt.legacy)===null||m===void 0||m}if(ie.length===1&&(this.defaultFilterStack[0].renderTexture=me.current),ie.push(ce),ce.resolution=Le,ce.multisample=He,ce.legacy=bt,ce.target=t,ce.sourceFrame.copyFrom(t.filterArea||t.getBounds(!0)),ce.sourceFrame.pad($e),ht){var wt=this.tempRect.copyFrom(me.sourceFrame);H.projection.transform&&this.transformAABB(Ae.copyFrom(H.projection.transform).invert(),wt),ce.sourceFrame.fit(wt)}this.roundFrame(ce.sourceFrame,me.current?me.current.resolution:H.resolution,me.sourceFrame,me.destinationFrame,H.projection.transform),ce.renderTexture=this.getOptimalFilterTexture(ce.sourceFrame.width,ce.sourceFrame.height,Le,He),ce.filters=i,ce.destinationFrame.width=ce.renderTexture.width,ce.destinationFrame.height=ce.renderTexture.height;var ei=this.tempRect;ei.x=0,ei.y=0,ei.width=ce.sourceFrame.width,ei.height=ce.sourceFrame.height,ce.renderTexture.filterFrame=ce.sourceFrame,ce.bindingSourceFrame.copyFrom(me.sourceFrame),ce.bindingDestinationFrame.copyFrom(me.destinationFrame),ce.transform=H.projection.transform,H.projection.transform=null,me.bind(ce.renderTexture,ce.sourceFrame,ei),H.framebuffer.clear(0,0,0,0)},_.prototype.pop=function(){var t=this.defaultFilterStack,i=t.pop(),r=i.filters;this.activeState=i;var m=this.globalUniforms.uniforms;m.outputFrame=i.sourceFrame,m.resolution=i.resolution;var H=m.inputSize,ie=m.inputPixel,ce=m.inputClamp;if(H[0]=i.destinationFrame.width,H[1]=i.destinationFrame.height,H[2]=1/H[0],H[3]=1/H[1],ie[0]=Math.round(H[0]*i.resolution),ie[1]=Math.round(H[1]*i.resolution),ie[2]=1/ie[0],ie[3]=1/ie[1],ce[0]=.5*ie[2],ce[1]=.5*ie[3],ce[2]=i.sourceFrame.width*H[2]-.5*ie[2],ce[3]=i.sourceFrame.height*H[3]-.5*ie[3],i.legacy){var me=m.filterArea;me[0]=i.destinationFrame.width,me[1]=i.destinationFrame.height,me[2]=i.sourceFrame.x,me[3]=i.sourceFrame.y,m.filterClamp=m.inputClamp}this.globalUniforms.update();var Le=t[t.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,i.renderTexture,Le.renderTexture,h.yl.BLEND,i),this.returnFilterTexture(i.renderTexture);else{var He=i.renderTexture,$e=this.getOptimalFilterTexture(He.width,He.height,i.resolution);$e.filterFrame=He.filterFrame;var ht=0;for(ht=0;ht<r.length-1;++ht){ht===1&&i.multisample>1&&(($e=this.getOptimalFilterTexture(He.width,He.height,i.resolution)).filterFrame=He.filterFrame),r[ht].apply(this,He,$e,h.yl.CLEAR,i);var bt=He;He=$e,$e=bt}r[ht].apply(this,He,Le.renderTexture,h.yl.BLEND,i),ht>1&&i.multisample>1&&this.returnFilterTexture(i.renderTexture),this.returnFilterTexture(He),this.returnFilterTexture($e)}i.clear(),this.statePool.push(i)},_.prototype.bindAndClear=function(t,i){i===void 0&&(i=h.yl.CLEAR);var r=this.renderer,m=r.renderTexture,H=r.state;if(t===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,t&&t.filterFrame){var ie=this.tempRect;ie.x=0,ie.y=0,ie.width=t.filterFrame.width,ie.height=t.filterFrame.height,m.bind(t,t.filterFrame,ie)}else t!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?m.bind(t):this.renderer.renderTexture.bind(t,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var ce=1&H.stateId||this.forceClear;(i===h.yl.CLEAR||i===h.yl.BLIT&&ce)&&this.renderer.framebuffer.clear(0,0,0,0)},_.prototype.applyFilter=function(t,i,r,m){var H=this.renderer;H.state.set(t.state),this.bindAndClear(r,m),t.uniforms.uSampler=i,t.uniforms.filterGlobals=this.globalUniforms,H.shader.bind(t),t.legacy=!!t.program.attributeData.aTextureCoord,t.legacy?(this.quadUv.map(i._frame,i.filterFrame),H.geometry.bind(this.quadUv),H.geometry.draw(h.lg.TRIANGLES)):(H.geometry.bind(this.quad),H.geometry.draw(h.lg.TRIANGLE_STRIP))},_.prototype.calculateSpriteMatrix=function(t,i){var r=this.activeState,m=r.sourceFrame,H=r.destinationFrame,ie=i._texture.orig,ce=t.set(H.width,0,0,H.height,m.x,m.y),me=i.worldTransform.copyTo(M.y3.TEMP_MATRIX);return me.invert(),ce.prepend(me),ce.scale(1/ie.width,1/ie.height),ce.translate(i.anchor.x,i.anchor.y),ce},_.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},_.prototype.getOptimalFilterTexture=function(t,i,r,m){return r===void 0&&(r=1),m===void 0&&(m=h.G5.NONE),this.texturePool.getOptimalTexture(t,i,r,m)},_.prototype.getFilterTexture=function(t,i,r){if(typeof t=="number"){var m=t;t=i,i=m}t=t||this.activeState.renderTexture;var H=this.texturePool.getOptimalTexture(t.width,t.height,i||t.resolution,r||h.G5.NONE);return H.filterFrame=t.filterFrame,H},_.prototype.returnFilterTexture=function(t){this.texturePool.returnTexture(t)},_.prototype.emptyPool=function(){this.texturePool.clear(!0)},_.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},_.prototype.transformAABB=function(t,i){var r=ge[0],m=ge[1],H=ge[2],ie=ge[3];r.set(i.left,i.top),m.set(i.left,i.bottom),H.set(i.right,i.top),ie.set(i.right,i.bottom),t.apply(r,r),t.apply(m,m),t.apply(H,H),t.apply(ie,ie);var ce=Math.min(r.x,m.x,H.x,ie.x),me=Math.min(r.y,m.y,H.y,ie.y),Le=Math.max(r.x,m.x,H.x,ie.x),He=Math.max(r.y,m.y,H.y,ie.y);i.x=ce,i.y=me,i.width=Le-ce,i.height=He-me},_.prototype.roundFrame=function(t,i,r,m,H){if(!(t.width<=0||t.height<=0||r.width<=0||r.height<=0)){if(H){var ie=H.a,ce=H.b,me=H.c,Le=H.d;if((Math.abs(ce)>1e-4||Math.abs(me)>1e-4)&&(Math.abs(ie)>1e-4||Math.abs(Le)>1e-4))return}(H=H?Ae.copyFrom(H):Ae.identity()).translate(-r.x,-r.y).scale(m.width/r.width,m.height/r.height).translate(m.x,m.y),this.transformAABB(H,t),t.ceil(i),this.transformAABB(H.invert(),t)}},_}(),Be=function(){function _(t){this.renderer=t}return _.prototype.flush=function(){},_.prototype.destroy=function(){this.renderer=null},_.prototype.start=function(){},_.prototype.stop=function(){this.flush()},_.prototype.render=function(t){},_}(),We=function(){function _(t){this.renderer=t,this.emptyRenderer=new Be(t),this.currentRenderer=this.emptyRenderer}return _.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},_.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},_.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},_.prototype.copyBoundTextures=function(t,i){for(var r=this.renderer.texture.boundTextures,m=i-1;m>=0;--m)t[m]=r[m]||null,t[m]&&(t[m]._batchLocation=m)},_.prototype.boundArray=function(t,i,r,m){for(var H=t.elements,ie=t.ids,ce=t.count,me=0,Le=0;Le<ce;Le++){var He=H[Le],$e=He._batchLocation;if($e>=0&&$e<m&&i[$e]===He)ie[Le]=$e;else for(;me<m;){var ht=i[me];if(!ht||ht._batchEnabled!==r||ht._batchLocation!==me){ie[Le]=me,He._batchLocation=me,i[me]=He;break}me++}}},_.prototype.destroy=function(){this.renderer=null},_}(),qe=0,tt=function(){function _(t){this.renderer=t,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),t.view.addEventListener("webglcontextlost",this.handleContextLost,!1),t.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(_.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),_.prototype.contextChange=function(t){this.gl=t,this.renderer.gl=t,this.renderer.CONTEXT_UID=qe++,t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext()},_.prototype.initFromContext=function(t){this.gl=t,this.validateContext(t),this.renderer.gl=t,this.renderer.CONTEXT_UID=qe++,this.renderer.runners.contextChange.emit(t)},_.prototype.initFromOptions=function(t){var i=this.createContext(this.renderer.view,t);this.initFromContext(i)},_.prototype.createContext=function(t,i){var r;if(B.X.PREFER_ENV>=h.Vi.WEBGL2&&(r=t.getContext("webgl2",i)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=t.getContext("webgl",i)||t.getContext("experimental-webgl",i)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl},_.prototype.getExtensions=function(){var t=this.gl,i={anisotropicFiltering:t.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,i,{drawBuffers:t.getExtension("WEBGL_draw_buffers"),depthTexture:t.getExtension("WEBGL_depth_texture"),loseContext:t.getExtension("WEBGL_lose_context"),vertexArrayObject:t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:t.getExtension("OES_element_index_uint"),floatTexture:t.getExtension("OES_texture_float"),floatTextureLinear:t.getExtension("OES_texture_float_linear"),textureHalfFloat:t.getExtension("OES_texture_half_float"),textureHalfFloatLinear:t.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,i,{colorBufferFloat:t.getExtension("EXT_color_buffer_float")})},_.prototype.handleContextLost=function(t){t.preventDefault()},_.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},_.prototype.destroy=function(){var t=this.renderer.view;this.renderer=null,t.removeEventListener("webglcontextlost",this.handleContextLost),t.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},_.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},_.prototype.validateContext=function(t){var i=t.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),i.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var m=r||!!t.getExtension("OES_element_index_uint");this.supports.uint32Indices=m,m||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},_}(),vt=function(){function _(t){this.framebuffer=t,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=h.G5.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}return _}(),yt=new M.Ae,rt=function(){function _(t){this.renderer=t,this.managedFramebuffers=[],this.unknownFramebuffer=new q(10,10),this.msaaSamples=null}return _.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new M.Ae,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),this.renderer.context.webGLVersion===1){var i=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;B.X.PREFER_ENV===h.Vi.WEBGL_LEGACY&&(i=null,r=null),i?t.drawBuffers=function(m){return i.drawBuffersWEBGL(m)}:(this.hasMRT=!1,t.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=t.getInternalformatParameter(t.RENDERBUFFER,t.RGBA8,t.SAMPLES)},_.prototype.bind=function(t,i,r){r===void 0&&(r=0);var m=this.gl;if(t){var H=t.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(t);this.current!==t&&(this.current=t,m.bindFramebuffer(m.FRAMEBUFFER,H.framebuffer)),H.mipLevel!==r&&(t.dirtyId++,t.dirtyFormat++,H.mipLevel=r),H.dirtyId!==t.dirtyId&&(H.dirtyId=t.dirtyId,H.dirtyFormat!==t.dirtyFormat?(H.dirtyFormat=t.dirtyFormat,H.dirtySize=t.dirtySize,this.updateFramebuffer(t,r)):H.dirtySize!==t.dirtySize&&(H.dirtySize=t.dirtySize,this.resizeFramebuffer(t)));for(var ie=0;ie<t.colorTextures.length;ie++){var ce=t.colorTextures[ie];this.renderer.texture.unbind(ce.parentTextureArray||ce)}if(t.depthTexture&&this.renderer.texture.unbind(t.depthTexture),i){var me=i.width>>r,Le=i.height>>r,He=me/i.width;this.setViewport(i.x*He,i.y*He,me,Le)}else me=t.width>>r,Le=t.height>>r,this.setViewport(0,0,me,Le)}else this.current&&(this.current=null,m.bindFramebuffer(m.FRAMEBUFFER,null)),i?this.setViewport(i.x,i.y,i.width,i.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},_.prototype.setViewport=function(t,i,r,m){var H=this.viewport;t=Math.round(t),i=Math.round(i),r=Math.round(r),m=Math.round(m),H.width===r&&H.height===m&&H.x===t&&H.y===i||(H.x=t,H.y=i,H.width=r,H.height=m,this.gl.viewport(t,i,r,m))},Object.defineProperty(_.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),_.prototype.clear=function(t,i,r,m,H){H===void 0&&(H=h.V0.COLOR|h.V0.DEPTH);var ie=this.gl;ie.clearColor(t,i,r,m),ie.clear(H)},_.prototype.initFramebuffer=function(t){var i=this.gl,r=new vt(i.createFramebuffer());return r.multisample=this.detectSamples(t.multisample),t.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(t),t.disposeRunner.add(this),r},_.prototype.resizeFramebuffer=function(t){var i=this.gl,r=t.glFramebuffers[this.CONTEXT_UID];r.msaaBuffer&&(i.bindRenderbuffer(i.RENDERBUFFER,r.msaaBuffer),i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.RGBA8,t.width,t.height)),r.stencil&&(i.bindRenderbuffer(i.RENDERBUFFER,r.stencil),r.msaaBuffer?i.renderbufferStorageMultisample(i.RENDERBUFFER,r.multisample,i.DEPTH24_STENCIL8,t.width,t.height):i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t.width,t.height));var m=t.colorTextures,H=m.length;i.drawBuffers||(H=Math.min(H,1));for(var ie=0;ie<H;ie++){var ce=m[ie],me=ce.parentTextureArray||ce;this.renderer.texture.bind(me,0)}t.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(t.depthTexture,0)},_.prototype.updateFramebuffer=function(t,i){var r=this.gl,m=t.glFramebuffers[this.CONTEXT_UID],H=t.colorTextures,ie=H.length;r.drawBuffers||(ie=Math.min(ie,1)),m.multisample>1&&this.canMultisampleFramebuffer(t)?(m.msaaBuffer=m.msaaBuffer||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,m.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,m.multisample,r.RGBA8,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,m.msaaBuffer)):m.msaaBuffer&&(r.deleteRenderbuffer(m.msaaBuffer),m.msaaBuffer=null,m.blitFramebuffer&&(m.blitFramebuffer.dispose(),m.blitFramebuffer=null));for(var ce=[],me=0;me<ie;me++){var Le=H[me],He=Le.parentTextureArray||Le;this.renderer.texture.bind(He,0),me===0&&m.msaaBuffer||(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+me,Le.target,He._glTextures[this.CONTEXT_UID].texture,i),ce.push(r.COLOR_ATTACHMENT0+me))}if(ce.length>1&&r.drawBuffers(ce),t.depthTexture&&this.writeDepthTexture){var $e=t.depthTexture;this.renderer.texture.bind($e,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,$e._glTextures[this.CONTEXT_UID].texture,i)}!t.stencil&&!t.depth||t.depthTexture&&this.writeDepthTexture?m.stencil&&(r.deleteRenderbuffer(m.stencil),m.stencil=null):(m.stencil=m.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,m.stencil),m.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,m.multisample,r.DEPTH24_STENCIL8,t.width,t.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,t.width,t.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,m.stencil))},_.prototype.canMultisampleFramebuffer=function(t){return this.renderer.context.webGLVersion!==1&&t.colorTextures.length<=1&&!t.depthTexture},_.prototype.detectSamples=function(t){var i=this.msaaSamples,r=h.G5.NONE;if(t<=1||i===null)return r;for(var m=0;m<i.length;m++)if(i[m]<=t){r=i[m];break}return r===1&&(r=h.G5.NONE),r},_.prototype.blit=function(t,i,r){var m=this,H=m.current,ie=m.renderer,ce=m.gl,me=m.CONTEXT_UID;if(ie.context.webGLVersion===2&&H){var Le=H.glFramebuffers[me];if(Le){if(!t){if(!Le.msaaBuffer)return;var He=H.colorTextures[0];if(!He)return;Le.blitFramebuffer||(Le.blitFramebuffer=new q(H.width,H.height),Le.blitFramebuffer.addColorTexture(0,He)),(t=Le.blitFramebuffer).colorTextures[0]!==He&&(t.colorTextures[0]=He,t.dirtyId++,t.dirtyFormat++),t.width===H.width&&t.height===H.height||(t.width=H.width,t.height=H.height,t.dirtyId++,t.dirtySize++)}i||((i=yt).width=H.width,i.height=H.height),r||(r=i);var $e=i.width===r.width&&i.height===r.height;this.bind(t),ce.bindFramebuffer(ce.READ_FRAMEBUFFER,Le.framebuffer),ce.blitFramebuffer(i.left,i.top,i.right,i.bottom,r.left,r.top,r.right,r.bottom,ce.COLOR_BUFFER_BIT,$e?ce.NEAREST:ce.LINEAR)}}},_.prototype.disposeFramebuffer=function(t,i){var r=t.glFramebuffers[this.CONTEXT_UID],m=this.gl;if(r){delete t.glFramebuffers[this.CONTEXT_UID];var H=this.managedFramebuffers.indexOf(t);H>=0&&this.managedFramebuffers.splice(H,1),t.disposeRunner.remove(this),i||(m.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&m.deleteRenderbuffer(r.msaaBuffer),r.stencil&&m.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}},_.prototype.disposeAll=function(t){var i=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<i.length;r++)this.disposeFramebuffer(i[r],t)},_.prototype.forceStencil=function(){var t=this.current;if(t){var i=t.glFramebuffers[this.CONTEXT_UID];if(i&&!i.stencil){t.stencil=!0;var r=t.width,m=t.height,H=this.gl,ie=H.createRenderbuffer();H.bindRenderbuffer(H.RENDERBUFFER,ie),i.msaaBuffer?H.renderbufferStorageMultisample(H.RENDERBUFFER,i.multisample,H.DEPTH24_STENCIL8,r,m):H.renderbufferStorage(H.RENDERBUFFER,H.DEPTH_STENCIL,r,m),i.stencil=ie,H.framebufferRenderbuffer(H.FRAMEBUFFER,H.DEPTH_STENCIL_ATTACHMENT,H.RENDERBUFFER,ie)}}},_.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new M.Ae},_.prototype.destroy=function(){this.renderer=null},_}(),mt={5126:4,5123:2,5121:1},Ee=function(){function _(t){this.renderer=t,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return _.prototype.contextChange=function(){this.disposeAll(!0);var t=this.gl=this.renderer.gl,i=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,i.webGLVersion!==2){var r=this.renderer.context.extensions.vertexArrayObject;B.X.PREFER_ENV===h.Vi.WEBGL_LEGACY&&(r=null),r?(t.createVertexArray=function(){return r.createVertexArrayOES()},t.bindVertexArray=function(H){return r.bindVertexArrayOES(H)},t.deleteVertexArray=function(H){return r.deleteVertexArrayOES(H)}):(this.hasVao=!1,t.createVertexArray=function(){return null},t.bindVertexArray=function(){return null},t.deleteVertexArray=function(){return null})}if(i.webGLVersion!==2){var m=t.getExtension("ANGLE_instanced_arrays");m?(t.vertexAttribDivisor=function(H,ie){return m.vertexAttribDivisorANGLE(H,ie)},t.drawElementsInstanced=function(H,ie,ce,me,Le){return m.drawElementsInstancedANGLE(H,ie,ce,me,Le)},t.drawArraysInstanced=function(H,ie,ce,me){return m.drawArraysInstancedANGLE(H,ie,ce,me)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=i.webGLVersion===2||!!i.extensions.uint32ElementIndex},_.prototype.bind=function(t,i){i=i||this.renderer.shader.shader;var r=this.gl,m=t.glVertexArrayObjects[this.CONTEXT_UID],H=!1;m||(this.managedGeometries[t.id]=t,t.disposeRunner.add(this),t.glVertexArrayObjects[this.CONTEXT_UID]=m={},H=!0);var ie=m[i.program.id]||this.initGeometryVao(t,i,H);this._activeGeometry=t,this._activeVao!==ie&&(this._activeVao=ie,this.hasVao?r.bindVertexArray(ie):this.activateVao(t,i.program)),this.updateBuffers()},_.prototype.reset=function(){this.unbind()},_.prototype.updateBuffers=function(){for(var t=this._activeGeometry,i=this.renderer.buffer,r=0;r<t.buffers.length;r++){var m=t.buffers[r];i.update(m)}},_.prototype.checkCompatibility=function(t,i){var r=t.attributes,m=i.attributeData;for(var H in m)if(!r[H])throw new Error('shader and geometry incompatible, geometry missing the "'+H+'" attribute')},_.prototype.getSignature=function(t,i){var r=t.attributes,m=i.attributeData,H=["g",t.id];for(var ie in r)m[ie]&&H.push(ie,m[ie].location);return H.join("-")},_.prototype.initGeometryVao=function(t,i,r){r===void 0&&(r=!0);var m=this.gl,H=this.CONTEXT_UID,ie=this.renderer.buffer,ce=i.program;ce.glPrograms[H]||this.renderer.shader.generateProgram(i),this.checkCompatibility(t,ce);var me=this.getSignature(t,ce),Le=t.glVertexArrayObjects[this.CONTEXT_UID],He=Le[me];if(He)return Le[ce.id]=He,He;var $e=t.buffers,ht=t.attributes,bt={},It={};for(var Rt in $e)bt[Rt]=0,It[Rt]=0;for(var Rt in ht)!ht[Rt].size&&ce.attributeData[Rt]?ht[Rt].size=ce.attributeData[Rt].size:ht[Rt].size||console.warn("PIXI Geometry attribute '"+Rt+"' size cannot be determined (likely the bound shader does not have the attribute)"),bt[ht[Rt].buffer]+=ht[Rt].size*mt[ht[Rt].type];for(var Rt in ht){var wt=ht[Rt],ei=wt.size;wt.stride===void 0&&(bt[wt.buffer]===ei*mt[wt.type]?wt.stride=0:wt.stride=bt[wt.buffer]),wt.start===void 0&&(wt.start=It[wt.buffer],It[wt.buffer]+=ei*mt[wt.type])}He=m.createVertexArray(),m.bindVertexArray(He);for(var hi=0;hi<$e.length;hi++){var Pi=$e[hi];ie.bind(Pi),r&&Pi._glBuffers[H].refCount++}return this.activateVao(t,ce),this._activeVao=He,Le[ce.id]=He,Le[me]=He,He},_.prototype.disposeGeometry=function(t,i){var r;if(this.managedGeometries[t.id]){delete this.managedGeometries[t.id];var m=t.glVertexArrayObjects[this.CONTEXT_UID],H=this.gl,ie=t.buffers,ce=(r=this.renderer)===null||r===void 0?void 0:r.buffer;if(t.disposeRunner.remove(this),m){if(ce)for(var me=0;me<ie.length;me++){var Le=ie[me]._glBuffers[this.CONTEXT_UID];Le&&(Le.refCount--,Le.refCount!==0||i||ce.dispose(ie[me],i))}if(!i){for(var He in m)if(He[0]==="g"){var $e=m[He];this._activeVao===$e&&this.unbind(),H.deleteVertexArray($e)}}delete t.glVertexArrayObjects[this.CONTEXT_UID]}}},_.prototype.disposeAll=function(t){for(var i=Object.keys(this.managedGeometries),r=0;r<i.length;r++)this.disposeGeometry(this.managedGeometries[i[r]],t)},_.prototype.activateVao=function(t,i){var r=this.gl,m=this.CONTEXT_UID,H=this.renderer.buffer,ie=t.buffers,ce=t.attributes;t.indexBuffer&&H.bind(t.indexBuffer);var me=null;for(var Le in ce){var He=ce[Le],$e=ie[He.buffer],ht=$e._glBuffers[m];if(i.attributeData[Le]){me!==ht&&(H.bind($e),me=ht);var bt=i.attributeData[Le].location;if(r.enableVertexAttribArray(bt),r.vertexAttribPointer(bt,He.size,He.type||r.FLOAT,He.normalized,He.stride,He.start),He.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(bt,1)}}}},_.prototype.draw=function(t,i,r,m){var H=this.gl,ie=this._activeGeometry;if(ie.indexBuffer){var ce=ie.indexBuffer.data.BYTES_PER_ELEMENT,me=ce===2?H.UNSIGNED_SHORT:H.UNSIGNED_INT;ce===2||ce===4&&this.canUseUInt32ElementIndex?ie.instanced?H.drawElementsInstanced(t,i||ie.indexBuffer.data.length,me,(r||0)*ce,m||1):H.drawElements(t,i||ie.indexBuffer.data.length,me,(r||0)*ce):console.warn("unsupported index buffer type: uint32")}else ie.instanced?H.drawArraysInstanced(t,r,i||ie.getSize(),m||1):H.drawArrays(t,r,i||ie.getSize());return this},_.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},_.prototype.destroy=function(){this.renderer=null},_}(),je=function(){function _(t){t===void 0&&(t=null),this.type=h.A7.NONE,this.autoDetect=!0,this.maskObject=t||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=B.X.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(_.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(t){t?this._filters?this._filters[0]=t:this._filters=[t]:this._filters=null},enumerable:!1,configurable:!0}),_.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=h.A7.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},_.prototype.copyCountersOrReset=function(t){t?(this._stencilCounter=t._stencilCounter,this._scissorCounter=t._scissorCounter,this._scissorRect=t._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},_}();function jt(_,t,i){var r=_.createShader(t);return _.shaderSource(r,i),_.compileShader(r),r}function Ut(_,t){var i=_.getShaderSource(t).split(`
`).map(function(Le,He){return He+": "+Le}),r=_.getShaderInfoLog(t),m=r.split(`
`),H={},ie=m.map(function(Le){return parseFloat(Le.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))}).filter(function(Le){return!(!Le||H[Le])&&(H[Le]=!0,!0)}),ce=[""];ie.forEach(function(Le){i[Le-1]="%c"+i[Le-1]+"%c",ce.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});var me=i.join(`
`);ce[0]=me,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,ce),console.groupEnd()}function ft(_,t,i,r){_.getProgramParameter(t,_.LINK_STATUS)||(_.getShaderParameter(i,_.COMPILE_STATUS)||Ut(_,i),_.getShaderParameter(r,_.COMPILE_STATUS)||Ut(_,r),console.error("PixiJS Error: Could not initialize shader."),_.getProgramInfoLog(t)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",_.getProgramInfoLog(t)))}function oe(_){for(var t=new Array(_),i=0;i<t.length;i++)t[i]=!1;return t}function Se(_,t){switch(_){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return oe(2*t);case"bvec3":return oe(3*t);case"bvec4":return oe(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var ke,De={},Ke=De;function Ve(){if(Ke===De||Ke&&Ke.isContextLost()){var _=document.createElement("canvas"),t=void 0;B.X.PREFER_ENV>=h.Vi.WEBGL2&&(t=_.getContext("webgl2",{})),t||((t=_.getContext("webgl",{})||_.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),Ke=t}return Ke}function Je(){if(!ke){ke=h.cB.MEDIUM;var _=Ve();if(_&&_.getShaderPrecisionFormat){var t=_.getShaderPrecisionFormat(_.FRAGMENT_SHADER,_.HIGH_FLOAT);ke=t.precision?h.cB.HIGH:h.cB.MEDIUM}}return ke}function pt(_,t,i){if(_.substring(0,9)!=="precision"){var r=t;return t===h.cB.HIGH&&i!==h.cB.HIGH&&(r=h.cB.MEDIUM),"precision "+r+` float;
`+_}return i!==h.cB.HIGH&&_.substring(0,15)==="precision highp"?_.replace("precision highp","precision mediump"):_}var Et={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Fe(_){return Et[_]}var fe=null,Ne={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Ge(_,t){if(!fe){var i=Object.keys(Ne);fe={};for(var r=0;r<i.length;++r){var m=i[r];fe[_[m]]=Ne[m]}}return fe[t]}var Ze=[{test:function(_){return _.type==="float"&&_.size===1},code:function(_){return`
            if(uv["`+_+'"] !== ud["'+_+`"].value)
            {
                ud["`+_+'"].value = uv["'+_+`"]
                gl.uniform1f(ud["`+_+'"].location, uv["'+_+`"])
            }
            `}},{test:function(_){return(_.type==="sampler2D"||_.type==="samplerCube"||_.type==="sampler2DArray")&&_.size===1&&!_.isArray},code:function(_){return`t = syncData.textureCount++;

            renderer.texture.bind(uv["`+_+`"], t);

            if(ud["`+_+`"].value !== t)
            {
                ud["`+_+`"].value = t;
                gl.uniform1i(ud["`+_+`"].location, t);
; // eslint-disable-line max-len
            }`}},{test:function(_,t){return _.type==="mat3"&&_.size===1&&t.a!==void 0},code:function(_){return`
            gl.uniformMatrix3fv(ud["`+_+'"].location, false, uv["'+_+`"].toArray(true));
            `},codeUbo:function(_){return`
                var `+_+"_matrix = uv."+_+`.toArray(true);

                data[offset] = `+_+`_matrix[0];
                data[offset+1] = `+_+`_matrix[1];
                data[offset+2] = `+_+`_matrix[2];
        
                data[offset + 4] = `+_+`_matrix[3];
                data[offset + 5] = `+_+`_matrix[4];
                data[offset + 6] = `+_+`_matrix[5];
        
                data[offset + 8] = `+_+`_matrix[6];
                data[offset + 9] = `+_+`_matrix[7];
                data[offset + 10] = `+_+`_matrix[8];
            `}},{test:function(_,t){return _.type==="vec2"&&_.size===1&&t.x!==void 0},code:function(_){return`
                cv = ud["`+_+`"].value;
                v = uv["`+_+`"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["`+_+`"].location, v.x, v.y);
                }`},codeUbo:function(_){return`
                v = uv.`+_+`;

                data[offset] = v.x;
                data[offset+1] = v.y;
            `}},{test:function(_){return _.type==="vec2"&&_.size===1},code:function(_){return`
                cv = ud["`+_+`"].value;
                v = uv["`+_+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["`+_+`"].location, v[0], v[1]);
                }
            `}},{test:function(_,t){return _.type==="vec4"&&_.size===1&&t.width!==void 0},code:function(_){return`
                cv = ud["`+_+`"].value;
                v = uv["`+_+`"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["`+_+`"].location, v.x, v.y, v.width, v.height)
                }`},codeUbo:function(_){return`
                    v = uv.`+_+`;

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `}},{test:function(_){return _.type==="vec4"&&_.size===1},code:function(_){return`
                cv = ud["`+_+`"].value;
                v = uv["`+_+`"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["`+_+`"].location, v[0], v[1], v[2], v[3])
                }`}}],ot={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},xt={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function Mt(_,t){var i,r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(var m in _.uniforms){var H=t[m];if(H){for(var ie=_.uniforms[m],ce=!1,me=0;me<Ze.length;me++)if(Ze[me].test(H,ie)){r.push(Ze[me].code(m,ie)),ce=!0;break}if(!ce){var Le=(H.size===1?ot:xt)[H.type].replace("location",'ud["'+m+'"].location');r.push(`
            cu = ud["`+m+`"];
            cv = cu.value;
            v = uv["`+m+`"];
            `+Le+";")}}else!((i=_.uniforms[m])===null||i===void 0)&&i.group&&(_.uniforms[m].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.`+m+", '"+m+`');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.`+m+`, syncData);
                    `))}return new Function("ud","uv","renderer","syncData",r.join(`
`))}var gt,st=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function at(_){for(var t="",i=0;i<_;++i)i>0&&(t+=`
else `),i<_-1&&(t+="if(test == "+i+".0){}");return t}function Dt(_,t){if(_===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var i=t.createShader(t.FRAGMENT_SHADER);;){var r=st.replace(/%forloop%/gi,at(_));if(t.shaderSource(i,r),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS))break;_=_/2|0}return _}function Bt(){if(typeof gt=="boolean")return gt;try{var _=new Function("param1","param2","param3","return param1[param2] === param3;");gt=_({a:"b"},"a","b")===!0}catch{gt=!1}return gt}var Nt=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,kt=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`,Yt=0,Ft={},Qt=function(){function _(t,i,r){r===void 0&&(r="pixi-shader"),this.id=Yt++,this.vertexSrc=t||_.defaultVertexSrc,this.fragmentSrc=i||_.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),Ft[r]?(Ft[r]++,r+="-"+Ft[r]):Ft[r]=1,this.vertexSrc="#define SHADER_NAME "+r+`
`+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+r+`
`+this.fragmentSrc,this.vertexSrc=pt(this.vertexSrc,B.X.PRECISION_VERTEX,h.cB.HIGH),this.fragmentSrc=pt(this.fragmentSrc,B.X.PRECISION_FRAGMENT,Je())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(_,"defaultVertexSrc",{get:function(){return kt},enumerable:!1,configurable:!0}),Object.defineProperty(_,"defaultFragmentSrc",{get:function(){return Nt},enumerable:!1,configurable:!0}),_.from=function(t,i,r){var m=t+i,H=P.ProgramCache[m];return H||(P.ProgramCache[m]=H=new _(t,i,r)),H},_}(),gn=function(){function _(t,i){this.uniformBindCount=0,this.program=t,this.uniformGroup=i?i instanceof Oe?i:new Oe(i):new Oe({})}return _.prototype.checkUniformExists=function(t,i){if(i.uniforms[t])return!0;for(var r in i.uniforms){var m=i.uniforms[r];if(m.group&&this.checkUniformExists(t,m))return!0}return!1},_.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(_.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),_.from=function(t,i,r){return new _(Qt.from(t,i),r)},_}(),zi=0,mn=1,_n=2,ni=3,vi=4,tn=5,Si=function(){function _(){this.data=0,this.blendMode=h.T$.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(_.prototype,"blend",{get:function(){return!!(this.data&1<<zi)},set:function(t){!!(this.data&1<<zi)!==t&&(this.data^=1<<zi)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"offsets",{get:function(){return!!(this.data&1<<mn)},set:function(t){!!(this.data&1<<mn)!==t&&(this.data^=1<<mn)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"culling",{get:function(){return!!(this.data&1<<_n)},set:function(t){!!(this.data&1<<_n)!==t&&(this.data^=1<<_n)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"depthTest",{get:function(){return!!(this.data&1<<ni)},set:function(t){!!(this.data&1<<ni)!==t&&(this.data^=1<<ni)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"depthMask",{get:function(){return!!(this.data&1<<tn)},set:function(t){!!(this.data&1<<tn)!==t&&(this.data^=1<<tn)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<vi)},set:function(t){!!(this.data&1<<vi)!==t&&(this.data^=1<<vi)},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"blendMode",{get:function(){return this._blendMode},set:function(t){this.blend=t!==h.T$.NONE,this._blendMode=t},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(t){this.offsets=!!t,this._polygonOffset=t},enumerable:!1,configurable:!0}),_.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},_.for2d=function(){var t=new _;return t.depthTest=!1,t.blend=!0,t},_}(),ri=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,nn=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,Rn=function(_){function t(i,r,m){var H=this,ie=Qt.from(i||t.defaultVertexSrc,r||t.defaultFragmentSrc);return(H=_.call(this,ie,m)||this).padding=0,H.resolution=B.X.FILTER_RESOLUTION,H.multisample=B.X.FILTER_MULTISAMPLE,H.enabled=!0,H.autoFit=!0,H.state=new Si,H}return S(t,_),t.prototype.apply=function(i,r,m,H,ie){i.applyFilter(this,r,m,H)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(i){this.state.blendMode=i},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(i){this._resolution=i},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return ri},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return nn},enumerable:!1,configurable:!0}),t}(gn),vn=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,pr=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,rn=new M.y3,Bi=function(){function _(t,i){this._texture=t,this.mapCoord=new M.y3,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=i===void 0?.5:i,this.isSimple=!1}return Object.defineProperty(_.prototype,"texture",{get:function(){return this._texture},set:function(t){this._texture=t,this._textureID=-1},enumerable:!1,configurable:!0}),_.prototype.multiplyUvs=function(t,i){i===void 0&&(i=t);for(var r=this.mapCoord,m=0;m<t.length;m+=2){var H=t[m],ie=t[m+1];i[m]=H*r.a+ie*r.c+r.tx,i[m+1]=H*r.b+ie*r.d+r.ty}return i},_.prototype.update=function(t){var i=this._texture;if(!i||!i.valid||!t&&this._textureID===i._updateID)return!1;this._textureID=i._updateID,this._updateID++;var r=i._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var m=i.orig,H=i.trim;H&&(rn.set(m.width/H.width,0,0,m.height/H.height,-H.x/H.width,-H.y/H.height),this.mapCoord.append(rn));var ie=i.baseTexture,ce=this.uClampFrame,me=this.clampMargin/ie.resolution,Le=this.clampOffset;return ce[0]=(i._frame.x+me+Le)/ie.width,ce[1]=(i._frame.y+me+Le)/ie.height,ce[2]=(i._frame.x+i._frame.width-me+Le)/ie.width,ce[3]=(i._frame.y+i._frame.height-me+Le)/ie.height,this.uClampOffset[0]=Le/ie.realWidth,this.uClampOffset[1]=Le/ie.realHeight,this.isSimple=i._frame.width===ie.width&&i._frame.height===ie.height&&i.rotate===0,!0},_}(),ui=function(_){function t(i,r,m){var H=this,ie=null;return typeof i!="string"&&r===void 0&&m===void 0&&(ie=i,i=void 0,r=void 0,m=void 0),(H=_.call(this,i||vn,r||pr,m)||this).maskSprite=ie,H.maskMatrix=new M.y3,H}return S(t,_),Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(i){this._maskSprite=i,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(i,r,m,H){var ie=this._maskSprite,ce=ie._texture;ce.valid&&(ce.uvMatrix||(ce.uvMatrix=new Bi(ce,0)),ce.uvMatrix.update(),this.uniforms.npmAlpha=ce.baseTexture.alphaMode?0:1,this.uniforms.mask=ce,this.uniforms.otherMatrix=i.calculateSpriteMatrix(this.maskMatrix,ie).prepend(ce.uvMatrix.mapCoord),this.uniforms.alpha=ie.worldAlpha,this.uniforms.maskClamp=ce.uvMatrix.uClampFrame,i.applyFilter(this,r,m,H))},t}(Rn),qi=function(){function _(t){this.renderer=t,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return _.prototype.setMaskStack=function(t){this.maskStack=t,this.renderer.scissor.setMaskStack(t),this.renderer.stencil.setMaskStack(t)},_.prototype.push=function(t,i){var r=i;if(!r.isMaskData){var m=this.maskDataPool.pop()||new je;m.pooled=!0,m.maskObject=i,r=m}var H=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(H),r.autoDetect&&this.detect(r),r._target=t,r.type!==h.A7.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case h.A7.SCISSOR:this.renderer.scissor.push(r);break;case h.A7.STENCIL:this.renderer.stencil.push(r);break;case h.A7.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r)}r.type===h.A7.SPRITE&&this.maskStack.push(r)},_.prototype.pop=function(t){var i=this.maskStack.pop();if(i&&i._target===t){if(i.enabled)switch(i.type){case h.A7.SCISSOR:this.renderer.scissor.pop();break;case h.A7.STENCIL:this.renderer.stencil.pop(i.maskObject);break;case h.A7.SPRITE:this.popSpriteMask(i)}if(i.reset(),i.pooled&&this.maskDataPool.push(i),this.maskStack.length!==0){var r=this.maskStack[this.maskStack.length-1];r.type===h.A7.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}},_.prototype.detect=function(t){t.maskObject.isSprite?t.type=h.A7.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(t)?t.type=h.A7.SCISSOR:t.type=h.A7.STENCIL},_.prototype.pushSpriteMask=function(t){var i,r,m=t.maskObject,H=t._target,ie=t._filters;ie||(ie=this.alphaMaskPool[this.alphaMaskIndex])||(ie=this.alphaMaskPool[this.alphaMaskIndex]=[new ui]);var ce,me,Le=this.renderer,He=Le.renderTexture;if(He.current){var $e=He.current;ce=t.resolution||$e.resolution,me=(i=t.multisample)!==null&&i!==void 0?i:$e.multisample}else ce=t.resolution||Le.resolution,me=(r=t.multisample)!==null&&r!==void 0?r:Le.multisample;ie[0].resolution=ce,ie[0].multisample=me,ie[0].maskSprite=m;var ht=H.filterArea;H.filterArea=m.getBounds(!0),Le.filter.push(H,ie),H.filterArea=ht,t._filters||this.alphaMaskIndex++},_.prototype.popSpriteMask=function(t){this.renderer.filter.pop(),t._filters?t._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},_.prototype.destroy=function(){this.renderer=null},_}(),zn=function(){function _(t){this.renderer=t,this.maskStack=[],this.glConst=0}return _.prototype.getStackLength=function(){return this.maskStack.length},_.prototype.setMaskStack=function(t){var i=this.renderer.gl,r=this.getStackLength();this.maskStack=t;var m=this.getStackLength();m!==r&&(m===0?i.disable(this.glConst):(i.enable(this.glConst),this._useCurrent()))},_.prototype._useCurrent=function(){},_.prototype.destroy=function(){this.renderer=null,this.maskStack=null},_}(),An=new M.y3,Pn=function(_){function t(i){var r=_.call(this,i)||this;return r.glConst=WebGLRenderingContext.SCISSOR_TEST,r}return S(t,_),t.prototype.getStackLength=function(){var i=this.maskStack[this.maskStack.length-1];return i?i._scissorCounter:0},t.prototype.calcScissorRect=function(i){if(!i._scissorRectLocal){var r=i._scissorRect,m=i.maskObject,H=this.renderer,ie=H.renderTexture;m.renderable=!0;var ce=m.getBounds();this.roundFrameToPixels(ce,ie.current?ie.current.resolution:H.resolution,ie.sourceFrame,ie.destinationFrame,H.projection.transform),m.renderable=!1,r&&ce.fit(r),i._scissorRectLocal=ce}},t.isMatrixRotated=function(i){if(!i)return!1;var r=i.a,m=i.b,H=i.c,ie=i.d;return(Math.abs(m)>1e-4||Math.abs(H)>1e-4)&&(Math.abs(r)>1e-4||Math.abs(ie)>1e-4)},t.prototype.testScissor=function(i){var r=i.maskObject;if(!r.isFastRect||!r.isFastRect()||t.isMatrixRotated(r.worldTransform)||t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(i);var m=i._scissorRectLocal;return m.width>0&&m.height>0},t.prototype.roundFrameToPixels=function(i,r,m,H,ie){t.isMatrixRotated(ie)||((ie=ie?An.copyFrom(ie):An.identity()).translate(-m.x,-m.y).scale(H.width/m.width,H.height/m.height).translate(H.x,H.y),this.renderer.filter.transformAABB(ie,i),i.fit(H),i.x=Math.round(i.x*r),i.y=Math.round(i.y*r),i.width=Math.round(i.width*r),i.height=Math.round(i.height*r))},t.prototype.push=function(i){i._scissorRectLocal||this.calcScissorRect(i);var r=this.renderer.gl;i._scissorRect||r.enable(r.SCISSOR_TEST),i._scissorCounter++,i._scissorRect=i._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(){var i=this.renderer.gl;this.getStackLength()>0?this._useCurrent():i.disable(i.SCISSOR_TEST)},t.prototype._useCurrent=function(){var i,r=this.maskStack[this.maskStack.length-1]._scissorRect;i=this.renderer.renderTexture.current?r.y:this.renderer.height-r.height-r.y,this.renderer.gl.scissor(r.x,i,r.width,r.height)},t}(zn),On=function(_){function t(i){var r=_.call(this,i)||this;return r.glConst=WebGLRenderingContext.STENCIL_TEST,r}return S(t,_),t.prototype.getStackLength=function(){var i=this.maskStack[this.maskStack.length-1];return i?i._stencilCounter:0},t.prototype.push=function(i){var r=i.maskObject,m=this.renderer.gl,H=i._stencilCounter;H===0&&(this.renderer.framebuffer.forceStencil(),m.clearStencil(0),m.clear(m.STENCIL_BUFFER_BIT),m.enable(m.STENCIL_TEST)),i._stencilCounter++,m.colorMask(!1,!1,!1,!1),m.stencilFunc(m.EQUAL,H,4294967295),m.stencilOp(m.KEEP,m.KEEP,m.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,this._useCurrent()},t.prototype.pop=function(i){var r=this.renderer.gl;this.getStackLength()===0?r.disable(r.STENCIL_TEST):(r.colorMask(!1,!1,!1,!1),r.stencilOp(r.KEEP,r.KEEP,r.DECR),i.renderable=!0,i.render(this.renderer),this.renderer.batch.flush(),i.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var i=this.renderer.gl;i.colorMask(!0,!0,!0,!0),i.stencilFunc(i.EQUAL,this.getStackLength(),4294967295),i.stencilOp(i.KEEP,i.KEEP,i.KEEP)},t}(zn),Cn=function(){function _(t){this.renderer=t,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new M.y3,this.transform=null}return _.prototype.update=function(t,i,r,m){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=i||this.sourceFrame||t,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,m),this.transform&&this.projectionMatrix.append(this.transform);var H=this.renderer;H.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,H.globalUniforms.update(),H.shader.shader&&H.shader.syncUniformGroup(H.shader.shader.uniforms.globals)},_.prototype.calculateProjection=function(t,i,r,m){var H=this.projectionMatrix,ie=m?-1:1;H.identity(),H.a=1/i.width*2,H.d=ie*(1/i.height*2),H.tx=-1-i.x*H.a,H.ty=-ie-i.y*H.d},_.prototype.setTransform=function(t){},_.prototype.destroy=function(){this.renderer=null},_}(),Ai=new M.Ae,an=new M.Ae,Mn=function(){function _(t){this.renderer=t,this.clearColor=t._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new M.Ae,this.destinationFrame=new M.Ae,this.viewportFrame=new M.Ae}return _.prototype.bind=function(t,i,r){t===void 0&&(t=null);var m,H,ie,ce=this.renderer;this.current=t,t?(ie=(m=t.baseTexture).resolution,i||(Ai.width=t.frame.width,Ai.height=t.frame.height,i=Ai),r||(an.x=t.frame.x,an.y=t.frame.y,an.width=i.width,an.height=i.height,r=an),H=m.framebuffer):(ie=ce.resolution,i||(Ai.width=ce.screen.width,Ai.height=ce.screen.height,i=Ai),r||((r=Ai).width=i.width,r.height=i.height));var me=this.viewportFrame;me.x=r.x*ie,me.y=r.y*ie,me.width=r.width*ie,me.height=r.height*ie,t||(me.y=ce.view.height-(me.y+me.height)),me.ceil(),this.renderer.framebuffer.bind(H,me),this.renderer.projection.update(r,i,ie,!H),t?this.renderer.mask.setMaskStack(m.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(i),this.destinationFrame.copyFrom(r)},_.prototype.clear=function(t,i){t=this.current?t||this.current.baseTexture.clearColor:t||this.clearColor;var r=this.destinationFrame,m=this.current?this.current.baseTexture:this.renderer.screen,H=r.width!==m.width||r.height!==m.height;if(H){var ie=this.viewportFrame,ce=ie.x,me=ie.y,Le=ie.width,He=ie.height;ce=Math.round(ce),me=Math.round(me),Le=Math.round(Le),He=Math.round(He),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(ce,me,Le,He)}this.renderer.framebuffer.clear(t[0],t[1],t[2],t[3],i),H&&this.renderer.scissor.pop()},_.prototype.resize=function(){this.bind(null)},_.prototype.reset=function(){this.bind(null)},_.prototype.destroy=function(){this.renderer=null},_}();function Dn(_,t,i,r,m){i.buffer.update(m)}var sn={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},ai={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function li(_){for(var t=_.map(function(me){return{data:me,offset:0,dataLen:0,dirty:0}}),i=0,r=0,m=0,H=0;H<t.length;H++){var ie=t[H];if(i=ai[ie.data.type],ie.data.size>1&&(i=Math.max(i,16)*ie.data.size),ie.dataLen=i,r%i!=0&&r<16){var ce=r%i%16;r+=ce,m+=ce}r+i>16?(m=16*Math.ceil(m/16),ie.offset=m,m+=i,r=i):(ie.offset=m,r+=i,m+=i)}return{uboElements:t,size:m=16*Math.ceil(m/16)}}function yn(_,t){var i=[];for(var r in _)t[r]&&i.push(t[r]);return i.sort(function(m,H){return m.index-H.index}),i}function Qi(_,t){if(!_.autoManage)return{size:0,syncFunc:Dn};for(var i=li(yn(_.uniforms,t)),r=i.uboElements,m=i.size,H=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `],ie=0;ie<r.length;ie++){for(var ce=r[ie],me=_.uniforms[ce.data.name],Le=ce.data.name,He=!1,$e=0;$e<Ze.length;$e++){var ht=Ze[$e];if(ht.codeUbo&&ht.test(ce.data,me)){H.push("offset = "+ce.offset/4+";",Ze[$e].codeUbo(ce.data.name,me)),He=!0;break}}if(!He)if(ce.data.size>1){var bt=Fe(ce.data.type),It=Math.max(ai[ce.data.type]/16,1),Rt=bt/It,wt=(4-Rt%4)%4;H.push(`
                cv = ud.`+Le+`.value;
                v = uv.`+Le+`;
                offset = `+ce.offset/4+`;

                t = 0;

                for(var i=0; i < `+ce.data.size*It+`; i++)
                {
                    for(var j = 0; j < `+Rt+`; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += `+wt+`;
                }

                `)}else{var ei=sn[ce.data.type];H.push(`
                cv = ud.`+Le+`.value;
                v = uv.`+Le+`;
                offset = `+ce.offset/4+`;
                `+ei+`;
                `)}}return H.push(`
       renderer.buffer.update(buffer);
    `),{size:m,syncFunc:new Function("ud","uv","renderer","syncData","buffer",H.join(`
`))}}var dr=function(){function _(){}return _}(),ci=function(){function _(t,i){this.program=t,this.uniformData=i,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return _.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},_}();function fr(_,t){for(var i={},r=t.getProgramParameter(_,t.ACTIVE_ATTRIBUTES),m=0;m<r;m++){var H=t.getActiveAttrib(_,m);if(H.name.indexOf("gl_")!==0){var ie=Ge(t,H.type),ce={type:ie,name:H.name,size:Fe(ie),location:t.getAttribLocation(_,H.name)};i[H.name]=ce}}return i}function Nn(_,t){for(var i={},r=t.getProgramParameter(_,t.ACTIVE_UNIFORMS),m=0;m<r;m++){var H=t.getActiveUniform(_,m),ie=H.name.replace(/\[.*?\]$/,""),ce=!!H.name.match(/\[.*?\]$/),me=Ge(t,H.type);i[ie]={name:ie,index:m,type:me,size:H.size,isArray:ce,value:Se(me,H.size)}}return i}function on(_,t){var i=jt(_,_.VERTEX_SHADER,t.vertexSrc),r=jt(_,_.FRAGMENT_SHADER,t.fragmentSrc),m=_.createProgram();if(_.attachShader(m,i),_.attachShader(m,r),_.linkProgram(m),_.getProgramParameter(m,_.LINK_STATUS)||ft(_,m,i,r),t.attributeData=fr(m,_),t.uniformData=Nn(m,_),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var H=Object.keys(t.attributeData);H.sort(function(Le,He){return Le>He?1:-1});for(var ie=0;ie<H.length;ie++)t.attributeData[H[ie]].location=ie,_.bindAttribLocation(m,ie,H[ie]);_.linkProgram(m)}_.deleteShader(i),_.deleteShader(r);var ce={};for(var ie in t.uniformData){var me=t.uniformData[ie];ce[ie]={location:_.getUniformLocation(m,ie),value:Se(me.type,me.size)}}return new ci(m,ce)}var qn=0,fi={textureCount:0,uboCount:0},ln=function(){function _(t){this.destroyed=!1,this.renderer=t,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=qn++}return _.prototype.systemCheck=function(){if(!Bt())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},_.prototype.contextChange=function(t){this.gl=t,this.reset()},_.prototype.bind=function(t,i){t.uniforms.globals=this.renderer.globalUniforms;var r=t.program,m=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(t);return this.shader=t,this.program!==r&&(this.program=r,this.gl.useProgram(m.program)),i||(fi.textureCount=0,fi.uboCount=0,this.syncUniformGroup(t.uniformGroup,fi)),m},_.prototype.setUniforms=function(t){var i=this.shader.program,r=i.glPrograms[this.renderer.CONTEXT_UID];i.syncUniforms(r.uniformData,t,this.renderer)},_.prototype.syncUniformGroup=function(t,i){var r=this.getGlProgram();t.static&&t.dirtyId===r.uniformDirtyGroups[t.id]||(r.uniformDirtyGroups[t.id]=t.dirtyId,this.syncUniforms(t,r,i))},_.prototype.syncUniforms=function(t,i,r){(t.syncUniforms[this.shader.program.id]||this.createSyncGroups(t))(i.uniformData,t.uniforms,this.renderer,r)},_.prototype.createSyncGroups=function(t){var i=this.getSignature(t,this.shader.program.uniformData,"u");return this.cache[i]||(this.cache[i]=Mt(t,this.shader.program.uniformData)),t.syncUniforms[this.shader.program.id]=this.cache[i],t.syncUniforms[this.shader.program.id]},_.prototype.syncUniformBufferGroup=function(t,i){var r=this.getGlProgram();if(!t.static||t.dirtyId!==0||!r.uniformGroups[t.id]){t.dirtyId=0;var m=r.uniformGroups[t.id]||this.createSyncBufferGroup(t,r,i);t.buffer.update(),m(r.uniformData,t.uniforms,this.renderer,fi,t.buffer)}this.renderer.buffer.bindBufferBase(t.buffer,r.uniformBufferBindings[i])},_.prototype.createSyncBufferGroup=function(t,i,r){var m=this.renderer.gl;this.renderer.buffer.bind(t.buffer);var H=this.gl.getUniformBlockIndex(i.program,r);i.uniformBufferBindings[r]=this.shader.uniformBindCount,m.uniformBlockBinding(i.program,H,this.shader.uniformBindCount),this.shader.uniformBindCount++;var ie=this.getSignature(t,this.shader.program.uniformData,"ubo"),ce=this._uboCache[ie];if(ce||(ce=this._uboCache[ie]=Qi(t,this.shader.program.uniformData)),t.autoManage){var me=new Float32Array(ce.size/4);t.buffer.update(me)}return i.uniformGroups[t.id]=ce.syncFunc,i.uniformGroups[t.id]},_.prototype.getSignature=function(t,i,r){var m=t.uniforms,H=[r+"-"];for(var ie in m)H.push(ie),i[ie]&&H.push(i[ie].type);return H.join("-")},_.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},_.prototype.generateProgram=function(t){var i=this.gl,r=t.program,m=on(i,r);return r.glPrograms[this.renderer.CONTEXT_UID]=m,m},_.prototype.reset=function(){this.program=null,this.shader=null},_.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},_}();function Ii(_,t){return t===void 0&&(t=[]),t[h.T$.NORMAL]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.ADD]=[_.ONE,_.ONE],t[h.T$.MULTIPLY]=[_.DST_COLOR,_.ONE_MINUS_SRC_ALPHA,_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.SCREEN]=[_.ONE,_.ONE_MINUS_SRC_COLOR,_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.OVERLAY]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.DARKEN]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.LIGHTEN]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.COLOR_DODGE]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.COLOR_BURN]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.HARD_LIGHT]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.SOFT_LIGHT]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.DIFFERENCE]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.EXCLUSION]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.HUE]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.SATURATION]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.COLOR]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.LUMINOSITY]=[_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.NONE]=[0,0],t[h.T$.NORMAL_NPM]=[_.SRC_ALPHA,_.ONE_MINUS_SRC_ALPHA,_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.ADD_NPM]=[_.SRC_ALPHA,_.ONE,_.ONE,_.ONE],t[h.T$.SCREEN_NPM]=[_.SRC_ALPHA,_.ONE_MINUS_SRC_COLOR,_.ONE,_.ONE_MINUS_SRC_ALPHA],t[h.T$.SRC_IN]=[_.DST_ALPHA,_.ZERO],t[h.T$.SRC_OUT]=[_.ONE_MINUS_DST_ALPHA,_.ZERO],t[h.T$.SRC_ATOP]=[_.DST_ALPHA,_.ONE_MINUS_SRC_ALPHA],t[h.T$.DST_OVER]=[_.ONE_MINUS_DST_ALPHA,_.ONE],t[h.T$.DST_IN]=[_.ZERO,_.SRC_ALPHA],t[h.T$.DST_OUT]=[_.ZERO,_.ONE_MINUS_SRC_ALPHA],t[h.T$.DST_ATOP]=[_.ONE_MINUS_DST_ALPHA,_.SRC_ALPHA],t[h.T$.XOR]=[_.ONE_MINUS_DST_ALPHA,_.ONE_MINUS_SRC_ALPHA],t[h.T$.SUBTRACT]=[_.ONE,_.ONE,_.ONE,_.ONE,_.FUNC_REVERSE_SUBTRACT,_.FUNC_ADD],t}var Hi=0,Qn=1,Ln=2,ki=3,yi=4,wi=5,hn=function(){function _(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=h.T$.NONE,this._blendEq=!1,this.map=[],this.map[Hi]=this.setBlend,this.map[Qn]=this.setOffset,this.map[Ln]=this.setCullFace,this.map[ki]=this.setDepthTest,this.map[yi]=this.setFrontFace,this.map[wi]=this.setDepthMask,this.checks=[],this.defaultState=new Si,this.defaultState.blend=!0}return _.prototype.contextChange=function(t){this.gl=t,this.blendModes=Ii(t),this.set(this.defaultState),this.reset()},_.prototype.set=function(t){if(t=t||this.defaultState,this.stateId!==t.data){for(var i=this.stateId^t.data,r=0;i;)1&i&&this.map[r].call(this,!!(t.data&1<<r)),i>>=1,r++;this.stateId=t.data}for(r=0;r<this.checks.length;r++)this.checks[r](this,t)},_.prototype.forceState=function(t){t=t||this.defaultState;for(var i=0;i<this.map.length;i++)this.map[i].call(this,!!(t.data&1<<i));for(i=0;i<this.checks.length;i++)this.checks[i](this,t);this.stateId=t.data},_.prototype.setBlend=function(t){this.updateCheck(_.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},_.prototype.setOffset=function(t){this.updateCheck(_.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},_.prototype.setDepthTest=function(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)},_.prototype.setDepthMask=function(t){this.gl.depthMask(t)},_.prototype.setCullFace=function(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)},_.prototype.setFrontFace=function(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])},_.prototype.setBlendMode=function(t){if(t!==this.blendMode){this.blendMode=t;var i=this.blendModes[t],r=this.gl;i.length===2?r.blendFunc(i[0],i[1]):r.blendFuncSeparate(i[0],i[1],i[2],i[3]),i.length===6?(this._blendEq=!0,r.blendEquationSeparate(i[4],i[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},_.prototype.setPolygonOffset=function(t,i){this.gl.polygonOffset(t,i)},_.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},_.prototype.updateCheck=function(t,i){var r=this.checks.indexOf(t);i&&r===-1?this.checks.push(t):i||r===-1||this.checks.splice(r,1)},_.checkBlendMode=function(t,i){t.setBlendMode(i.blendMode)},_.checkPolygonOffset=function(t,i){t.setPolygonOffset(1,i.polygonOffset)},_.prototype.destroy=function(){this.gl=null},_}(),bn=function(){function _(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=B.X.GC_MAX_IDLE,this.checkCountMax=B.X.GC_MAX_CHECK_COUNT,this.mode=B.X.GC_MODE}return _.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==h.UN.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},_.prototype.run=function(){for(var t=this.renderer.texture,i=t.managedTextures,r=!1,m=0;m<i.length;m++){var H=i[m];!H.framebuffer&&this.count-H.touched>this.maxIdle&&(t.destroyTexture(H,!0),i[m]=null,r=!0)}if(r){var ie=0;for(m=0;m<i.length;m++)i[m]!==null&&(i[ie++]=i[m]);i.length=ie}},_.prototype.unload=function(t){var i=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&i.destroyTexture(r);for(var m=t.children.length-1;m>=0;m--)this.unload(t.children[m])},_.prototype.destroy=function(){this.renderer=null},_}();function bi(_){var t,i,r,m,H,ie,ce,me,Le,He,$e,ht,bt,It,Rt,wt,ei,hi,Pi,ir,dn,nr,Wi;return"WebGL2RenderingContext"in globalThis&&_ instanceof globalThis.WebGL2RenderingContext?((t={})[h.vK.UNSIGNED_BYTE]=((i={})[h.I2.RGBA]=_.RGBA8,i[h.I2.RGB]=_.RGB8,i[h.I2.RG]=_.RG8,i[h.I2.RED]=_.R8,i[h.I2.RGBA_INTEGER]=_.RGBA8UI,i[h.I2.RGB_INTEGER]=_.RGB8UI,i[h.I2.RG_INTEGER]=_.RG8UI,i[h.I2.RED_INTEGER]=_.R8UI,i[h.I2.ALPHA]=_.ALPHA,i[h.I2.LUMINANCE]=_.LUMINANCE,i[h.I2.LUMINANCE_ALPHA]=_.LUMINANCE_ALPHA,i),t[h.vK.BYTE]=((r={})[h.I2.RGBA]=_.RGBA8_SNORM,r[h.I2.RGB]=_.RGB8_SNORM,r[h.I2.RG]=_.RG8_SNORM,r[h.I2.RED]=_.R8_SNORM,r[h.I2.RGBA_INTEGER]=_.RGBA8I,r[h.I2.RGB_INTEGER]=_.RGB8I,r[h.I2.RG_INTEGER]=_.RG8I,r[h.I2.RED_INTEGER]=_.R8I,r),t[h.vK.UNSIGNED_SHORT]=((m={})[h.I2.RGBA_INTEGER]=_.RGBA16UI,m[h.I2.RGB_INTEGER]=_.RGB16UI,m[h.I2.RG_INTEGER]=_.RG16UI,m[h.I2.RED_INTEGER]=_.R16UI,m[h.I2.DEPTH_COMPONENT]=_.DEPTH_COMPONENT16,m),t[h.vK.SHORT]=((H={})[h.I2.RGBA_INTEGER]=_.RGBA16I,H[h.I2.RGB_INTEGER]=_.RGB16I,H[h.I2.RG_INTEGER]=_.RG16I,H[h.I2.RED_INTEGER]=_.R16I,H),t[h.vK.UNSIGNED_INT]=((ie={})[h.I2.RGBA_INTEGER]=_.RGBA32UI,ie[h.I2.RGB_INTEGER]=_.RGB32UI,ie[h.I2.RG_INTEGER]=_.RG32UI,ie[h.I2.RED_INTEGER]=_.R32UI,ie[h.I2.DEPTH_COMPONENT]=_.DEPTH_COMPONENT24,ie),t[h.vK.INT]=((ce={})[h.I2.RGBA_INTEGER]=_.RGBA32I,ce[h.I2.RGB_INTEGER]=_.RGB32I,ce[h.I2.RG_INTEGER]=_.RG32I,ce[h.I2.RED_INTEGER]=_.R32I,ce),t[h.vK.FLOAT]=((me={})[h.I2.RGBA]=_.RGBA32F,me[h.I2.RGB]=_.RGB32F,me[h.I2.RG]=_.RG32F,me[h.I2.RED]=_.R32F,me[h.I2.DEPTH_COMPONENT]=_.DEPTH_COMPONENT32F,me),t[h.vK.HALF_FLOAT]=((Le={})[h.I2.RGBA]=_.RGBA16F,Le[h.I2.RGB]=_.RGB16F,Le[h.I2.RG]=_.RG16F,Le[h.I2.RED]=_.R16F,Le),t[h.vK.UNSIGNED_SHORT_5_6_5]=((He={})[h.I2.RGB]=_.RGB565,He),t[h.vK.UNSIGNED_SHORT_4_4_4_4]=(($e={})[h.I2.RGBA]=_.RGBA4,$e),t[h.vK.UNSIGNED_SHORT_5_5_5_1]=((ht={})[h.I2.RGBA]=_.RGB5_A1,ht),t[h.vK.UNSIGNED_INT_2_10_10_10_REV]=((bt={})[h.I2.RGBA]=_.RGB10_A2,bt[h.I2.RGBA_INTEGER]=_.RGB10_A2UI,bt),t[h.vK.UNSIGNED_INT_10F_11F_11F_REV]=((It={})[h.I2.RGB]=_.R11F_G11F_B10F,It),t[h.vK.UNSIGNED_INT_5_9_9_9_REV]=((Rt={})[h.I2.RGB]=_.RGB9_E5,Rt),t[h.vK.UNSIGNED_INT_24_8]=((wt={})[h.I2.DEPTH_STENCIL]=_.DEPTH24_STENCIL8,wt),t[h.vK.FLOAT_32_UNSIGNED_INT_24_8_REV]=((ei={})[h.I2.DEPTH_STENCIL]=_.DEPTH32F_STENCIL8,ei),Wi=t):((hi={})[h.vK.UNSIGNED_BYTE]=((Pi={})[h.I2.RGBA]=_.RGBA,Pi[h.I2.RGB]=_.RGB,Pi[h.I2.ALPHA]=_.ALPHA,Pi[h.I2.LUMINANCE]=_.LUMINANCE,Pi[h.I2.LUMINANCE_ALPHA]=_.LUMINANCE_ALPHA,Pi),hi[h.vK.UNSIGNED_SHORT_5_6_5]=((ir={})[h.I2.RGB]=_.RGB,ir),hi[h.vK.UNSIGNED_SHORT_4_4_4_4]=((dn={})[h.I2.RGBA]=_.RGBA,dn),hi[h.vK.UNSIGNED_SHORT_5_5_5_1]=((nr={})[h.I2.RGBA]=_.RGBA,nr),Wi=hi),Wi}var un=function(){function _(t){this.texture=t,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=h.vK.UNSIGNED_BYTE,this.internalFormat=h.I2.RGBA,this.samplerType=0}return _}(),Ki=function(){function _(t){this.renderer=t,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new w,this.hasIntegerTextures=!1}return _.prototype.contextChange=function(){var t=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=bi(t);var i=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=i;for(var r=0;r<i;r++)this.boundTextures[r]=null;this.emptyTextures={};var m=new un(t.createTexture());for(t.bindTexture(t.TEXTURE_2D,m.texture),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[t.TEXTURE_2D]=m,this.emptyTextures[t.TEXTURE_CUBE_MAP]=new un(t.createTexture()),t.bindTexture(t.TEXTURE_CUBE_MAP,this.emptyTextures[t.TEXTURE_CUBE_MAP].texture),r=0;r<6;r++)t.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,null);for(t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_CUBE_MAP,t.TEXTURE_MIN_FILTER,t.LINEAR),r=0;r<this.boundTextures.length;r++)this.bind(null,r)},_.prototype.bind=function(t,i){i===void 0&&(i=0);var r=this.gl;if((t=t==null?void 0:t.castToBaseTexture())&&t.valid&&!t.parentTextureArray){t.touched=this.renderer.textureGC.count;var m=t._glTextures[this.CONTEXT_UID]||this.initTexture(t);this.boundTextures[i]!==t&&(this.currentLocation!==i&&(this.currentLocation=i,r.activeTexture(r.TEXTURE0+i)),r.bindTexture(t.target,m.texture)),m.dirtyId!==t.dirtyId&&(this.currentLocation!==i&&(this.currentLocation=i,r.activeTexture(r.TEXTURE0+i)),this.updateTexture(t)),this.boundTextures[i]=t}else this.currentLocation!==i&&(this.currentLocation=i,r.activeTexture(r.TEXTURE0+i)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[i]=null},_.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var t=0;t<this.boundTextures.length;t++)this.boundTextures[t]=this.unknownTexture},_.prototype.unbind=function(t){var i=this,r=i.gl,m=i.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var H=0;H<m.length;H++)m[H]===this.unknownTexture&&this.bind(null,H)}for(H=0;H<m.length;H++)m[H]===t&&(this.currentLocation!==H&&(r.activeTexture(r.TEXTURE0+H),this.currentLocation=H),r.bindTexture(t.target,this.emptyTextures[t.target].texture),m[H]=null)},_.prototype.ensureSamplerType=function(t){var i=this,r=i.boundTextures,m=i.hasIntegerTextures,H=i.CONTEXT_UID;if(m)for(var ie=t-1;ie>=0;--ie){var ce=r[ie];ce&&ce._glTextures[H].samplerType!==h.oT.FLOAT&&this.renderer.texture.unbind(ce)}},_.prototype.initTexture=function(t){var i=new un(this.gl.createTexture());return i.dirtyId=-1,t._glTextures[this.CONTEXT_UID]=i,this.managedTextures.push(t),t.on("dispose",this.destroyTexture,this),i},_.prototype.initTextureType=function(t,i){var r,m;i.internalFormat=(m=(r=this.internalFormats[t.type])===null||r===void 0?void 0:r[t.format])!==null&&m!==void 0?m:t.format,this.webGLVersion===2&&t.type===h.vK.HALF_FLOAT?i.type=this.gl.HALF_FLOAT:i.type=t.type},_.prototype.updateTexture=function(t){var i=t._glTextures[this.CONTEXT_UID];if(i){var r=this.renderer;if(this.initTextureType(t,i),t.resource&&t.resource.upload(r,t,i))i.samplerType!==h.oT.FLOAT&&(this.hasIntegerTextures=!0);else{var m=t.realWidth,H=t.realHeight,ie=r.gl;(i.width!==m||i.height!==H||i.dirtyId<0)&&(i.width=m,i.height=H,ie.texImage2D(t.target,0,i.internalFormat,m,H,0,t.format,i.type,null))}t.dirtyStyleId!==i.dirtyStyleId&&this.updateTextureStyle(t),i.dirtyId=t.dirtyId}},_.prototype.destroyTexture=function(t,i){var r=this.gl;if((t=t.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(t),r.deleteTexture(t._glTextures[this.CONTEXT_UID].texture),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.CONTEXT_UID],!i)){var m=this.managedTextures.indexOf(t);m!==-1&&(0,P.removeItems)(this.managedTextures,m,1)}},_.prototype.updateTextureStyle=function(t){var i=t._glTextures[this.CONTEXT_UID];i&&(t.mipmap!==h.WB.POW2&&this.webGLVersion===2||t.isPowerOfTwo?i.mipmap=t.mipmap>=1:i.mipmap=!1,this.webGLVersion===2||t.isPowerOfTwo?i.wrapMode=t.wrapMode:i.wrapMode=h.Nt.CLAMP,t.resource&&t.resource.style(this.renderer,t,i)||this.setStyle(t,i),i.dirtyStyleId=t.dirtyStyleId)},_.prototype.setStyle=function(t,i){var r=this.gl;if(i.mipmap&&t.mipmap!==h.WB.ON_MANUAL&&r.generateMipmap(t.target),r.texParameteri(t.target,r.TEXTURE_WRAP_S,i.wrapMode),r.texParameteri(t.target,r.TEXTURE_WRAP_T,i.wrapMode),i.mipmap){r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===h.aH.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var m=this.renderer.context.extensions.anisotropicFiltering;if(m&&t.anisotropicLevel>0&&t.scaleMode===h.aH.LINEAR){var H=Math.min(t.anisotropicLevel,r.getParameter(m.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(t.target,m.TEXTURE_MAX_ANISOTROPY_EXT,H)}}else r.texParameteri(t.target,r.TEXTURE_MIN_FILTER,t.scaleMode===h.aH.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(t.target,r.TEXTURE_MAG_FILTER,t.scaleMode===h.aH.LINEAR?r.LINEAR:r.NEAREST)},_.prototype.destroy=function(){this.renderer=null},_}(),Bn={__proto__:null,FilterSystem:xe,BatchSystem:We,ContextSystem:tt,FramebufferSystem:rt,GeometrySystem:Ee,MaskSystem:qi,ScissorSystem:Pn,StencilSystem:On,ProjectionSystem:Cn,RenderTextureSystem:Mn,ShaderSystem:ln,StateSystem:hn,TextureGCSystem:bn,TextureSystem:Ki},Ji=new M.y3,xn=function(_){function t(i,r){i===void 0&&(i=h.N3.UNKNOWN);var m=_.call(this)||this;return r=Object.assign({},B.X.RENDER_OPTIONS,r),m.options=r,m.type=i,m.screen=new M.Ae(0,0,r.width,r.height),m.view=r.view||document.createElement("canvas"),m.resolution=r.resolution||B.X.RESOLUTION,m.useContextAlpha=r.useContextAlpha,m.autoDensity=!!r.autoDensity,m.preserveDrawingBuffer=r.preserveDrawingBuffer,m.clearBeforeRender=r.clearBeforeRender,m._backgroundColor=0,m._backgroundColorRgba=[0,0,0,1],m._backgroundColorString="#000000",m.backgroundColor=r.backgroundColor||m._backgroundColor,m.backgroundAlpha=r.backgroundAlpha,r.transparent!==void 0&&((0,P.deprecation)("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),m.useContextAlpha=r.transparent,m.backgroundAlpha=r.transparent?0:1),m._lastObjectRendered=null,m.plugins={},m}return S(t,_),t.prototype.initPlugins=function(i){for(var r in i)this.plugins[r]=new i[r](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(i,r){this.view.width=Math.round(i*this.resolution),this.view.height=Math.round(r*this.resolution);var m=this.view.width/this.resolution,H=this.view.height/this.resolution;this.screen.width=m,this.screen.height=H,this.autoDensity&&(this.view.style.width=m+"px",this.view.style.height=H+"px"),this.emit("resize",m,H)},t.prototype.generateTexture=function(i,r,m,H){r===void 0&&(r={}),typeof r=="number"&&((0,P.deprecation)("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),r={scaleMode:r,resolution:m,region:H});var ie=r.region,ce=n(r,["region"]);(H=ie||i.getLocalBounds(null,!0)).width===0&&(H.width=1),H.height===0&&(H.height=1);var me=Q.create(v({width:H.width,height:H.height},ce));return Ji.tx=-H.x,Ji.ty=-H.y,this.render(i,{renderTexture:me,clear:!1,transform:Ji,skipUpdateTransform:!!i.parent}),me},t.prototype.destroy=function(i){for(var r in this.plugins)this.plugins[r].destroy(),this.plugins[r]=null;i&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var m=this;m.plugins=null,m.type=h.N3.UNKNOWN,m.view=null,m.screen=null,m._tempDisplayObjectParent=null,m.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(i){this._backgroundColor=i,this._backgroundColorString=(0,P.hex2string)(i),(0,P.hex2rgb)(i,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(i){this._backgroundColorRgba[3]=i},enumerable:!1,configurable:!0}),t}(P.EventEmitter),Kn=function(){function _(t){this.buffer=t||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}return _}(),gr=function(){function _(t){this.renderer=t,this.managedBuffers={},this.boundBufferBases={}}return _.prototype.destroy=function(){this.renderer=null},_.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},_.prototype.bind=function(t){var i=this,r=i.gl,m=i.CONTEXT_UID,H=t._glBuffers[m]||this.createGLBuffer(t);r.bindBuffer(t.type,H.buffer)},_.prototype.bindBufferBase=function(t,i){var r=this,m=r.gl,H=r.CONTEXT_UID;if(this.boundBufferBases[i]!==t){var ie=t._glBuffers[H]||this.createGLBuffer(t);this.boundBufferBases[i]=t,m.bindBufferBase(m.UNIFORM_BUFFER,i,ie.buffer)}},_.prototype.bindBufferRange=function(t,i,r){var m=this,H=m.gl,ie=m.CONTEXT_UID;r=r||0;var ce=t._glBuffers[ie]||this.createGLBuffer(t);H.bindBufferRange(H.UNIFORM_BUFFER,i||0,ce.buffer,256*r,256)},_.prototype.update=function(t){var i=this,r=i.gl,m=i.CONTEXT_UID,H=t._glBuffers[m];if(t._updateID!==H.updateID)if(H.updateID=t._updateID,r.bindBuffer(t.type,H.buffer),H.byteLength>=t.data.byteLength)r.bufferSubData(t.type,0,t.data);else{var ie=t.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;H.byteLength=t.data.byteLength,r.bufferData(t.type,t.data,ie)}},_.prototype.dispose=function(t,i){if(this.managedBuffers[t.id]){delete this.managedBuffers[t.id];var r=t._glBuffers[this.CONTEXT_UID],m=this.gl;t.disposeRunner.remove(this),r&&(i||m.deleteBuffer(r.buffer),delete t._glBuffers[this.CONTEXT_UID])}},_.prototype.disposeAll=function(t){for(var i=Object.keys(this.managedBuffers),r=0;r<i.length;r++)this.dispose(this.managedBuffers[i[r]],t)},_.prototype.createGLBuffer=function(t){var i=this,r=i.CONTEXT_UID,m=i.gl;return t._glBuffers[r]=new Kn(m.createBuffer()),this.managedBuffers[t.id]=t,t.disposeRunner.add(this),t._glBuffers[r]},_}(),Tn=function(_){function t(i){var r=_.call(this,h.N3.WEBGL,i)||this;return i=r.options,r.gl=null,r.CONTEXT_UID=0,r.runners={destroy:new W.R("destroy"),contextChange:new W.R("contextChange"),reset:new W.R("reset"),update:new W.R("update"),postrender:new W.R("postrender"),prerender:new W.R("prerender"),resize:new W.R("resize")},r.runners.contextChange.add(r),r.globalUniforms=new Oe({projectionMatrix:new M.y3},!0),r.addSystem(qi,"mask").addSystem(tt,"context").addSystem(hn,"state").addSystem(ln,"shader").addSystem(Ki,"texture").addSystem(gr,"buffer").addSystem(Ee,"geometry").addSystem(rt,"framebuffer").addSystem(Pn,"scissor").addSystem(On,"stencil").addSystem(Cn,"projection").addSystem(bn,"textureGC").addSystem(xe,"filter").addSystem(Mn,"renderTexture").addSystem(We,"batch"),r.initPlugins(t.__plugins),r.multisample=void 0,i.context?r.context.initFromContext(i.context):r.context.initFromOptions({alpha:!!r.useContextAlpha,antialias:i.antialias,premultipliedAlpha:r.useContextAlpha&&r.useContextAlpha!=="notMultiplied",stencil:!0,preserveDrawingBuffer:i.preserveDrawingBuffer,powerPreference:r.options.powerPreference}),r.renderingToScreen=!0,(0,P.sayHello)(r.context.webGLVersion===2?"WebGL 2":"WebGL 1"),r.resize(r.options.width,r.options.height),r}return S(t,_),t.create=function(i){if((0,P.isWebGLSupported)())return new t(i);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var i,r=this.gl;if(this.context.webGLVersion===1){var m=r.getParameter(r.FRAMEBUFFER_BINDING);r.bindFramebuffer(r.FRAMEBUFFER,null),i=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.FRAMEBUFFER,m)}else m=r.getParameter(r.DRAW_FRAMEBUFFER_BINDING),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,null),i=r.getParameter(r.SAMPLES),r.bindFramebuffer(r.DRAW_FRAMEBUFFER,m);i>=h.G5.HIGH?this.multisample=h.G5.HIGH:i>=h.G5.MEDIUM?this.multisample=h.G5.MEDIUM:i>=h.G5.LOW?this.multisample=h.G5.LOW:this.multisample=h.G5.NONE},t.prototype.addSystem=function(i,r){var m=new i(this);if(this[r])throw new Error('Whoops! The name "'+r+'" is already in use');for(var H in this[r]=m,this.runners)this.runners[H].add(m);return this},t.prototype.render=function(i,r){var m,H,ie,ce;if(r&&(r instanceof Q?((0,P.deprecation)("6.0.0","Renderer#render arguments changed, use options instead."),m=r,H=arguments[2],ie=arguments[3],ce=arguments[4]):(m=r.renderTexture,H=r.clear,ie=r.transform,ce=r.skipUpdateTransform)),this.renderingToScreen=!m,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=ie,!this.context.isLost){if(m||(this._lastObjectRendered=i),!ce){var me=i.enableTempParent();i.updateTransform(),i.disableTempParent(me)}this.renderTexture.bind(m),this.batch.currentRenderer.start(),(H!==void 0?H:this.clearBeforeRender)&&this.renderTexture.clear(),i.render(this),this.batch.currentRenderer.flush(),m&&m.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(i,r,m,H){r===void 0&&(r={});var ie=_.prototype.generateTexture.call(this,i,r,m,H);return this.framebuffer.blit(),ie},t.prototype.resize=function(i,r){_.prototype.resize.call(this,i,r),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(i){for(var r in this.runners.destroy.emit(),this.runners)this.runners[r].destroy();_.prototype.destroy.call(this,i),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return(0,P.deprecation)("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(i,r){t.__plugins=t.__plugins||{},t.__plugins[i]=r},t}(xn);function mr(_){return Tn.create(_)}var En=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,Fi=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`,kn=function(){function _(t){(0,P.deprecation)("6.1.0","System class is deprecated, implemement ISystem interface instead."),this.renderer=t}return _.prototype.destroy=function(){this.renderer=null},_}(),Jn=function(){function _(){this.texArray=null,this.blend=0,this.type=h.lg.TRIANGLES,this.start=0,this.size=0,this.data=null}return _}(),Fn=function(){function _(){this.elements=[],this.ids=[],this.count=0}return _.prototype.clear=function(){for(var t=0;t<this.count;t++)this.elements[t]=null;this.count=0},_}(),cn=function(){function _(t){typeof t=="number"?this.rawBinaryData=new ArrayBuffer(t):t instanceof Uint8Array?this.rawBinaryData=t.buffer:this.rawBinaryData=t,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(_.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(_.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),_.prototype.view=function(t){return this[t+"View"]},_.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},_.sizeOf=function(t){switch(t){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(t+" isn't a valid view type")}},_}(),Un=function(_){function t(i){var r=_.call(this,i)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=Si.for2d(),r.size=4*B.X.SPRITE_BATCH_SIZE,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),i.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return S(t,_),t.prototype.contextChange=function(){var i=this.renderer.gl;B.X.PREFER_ENV===h.Vi.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(i.getParameter(i.MAX_TEXTURE_IMAGE_UNITS),B.X.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=Dt(this.MAX_TEXTURES,i)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var r=0;r<this._packedGeometryPoolSize;r++)this._packedGeometries[r]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var i=t._drawCallPool,r=t._textureArrayPool,m=this.size/4,H=Math.floor(m/this.MAX_TEXTURES)+1;i.length<m;)i.push(new Jn);for(;r.length<H;)r.push(new Fn);for(var ie=0;ie<this.MAX_TEXTURES;ie++)this._tempBoundTextures[ie]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(i){i._texture.valid&&(this._vertexCount+i.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=i.vertexData.length/2,this._indexCount+=i.indices.length,this._bufferedTextures[this._bufferSize]=i._texture.baseTexture,this._bufferedElements[this._bufferSize++]=i)},t.prototype.buildTexturesAndDrawCalls=function(){var i=this,r=i._bufferedTextures,m=i.MAX_TEXTURES,H=t._textureArrayPool,ie=this.renderer.batch,ce=this._tempBoundTextures,me=this.renderer.textureGC.count,Le=++w._globalBatch,He=0,$e=H[0],ht=0;ie.copyBoundTextures(ce,m);for(var bt=0;bt<this._bufferSize;++bt){var It=r[bt];r[bt]=null,It._batchEnabled!==Le&&($e.count>=m&&(ie.boundArray($e,ce,Le,m),this.buildDrawCalls($e,ht,bt),ht=bt,$e=H[++He],++Le),It._batchEnabled=Le,It.touched=me,$e.elements[$e.count++]=It)}for($e.count>0&&(ie.boundArray($e,ce,Le,m),this.buildDrawCalls($e,ht,this._bufferSize),++He,++Le),bt=0;bt<ce.length;bt++)ce[bt]=null;w._globalBatch=Le},t.prototype.buildDrawCalls=function(i,r,m){var H=this,ie=H._bufferedElements,ce=H._attributeBuffer,me=H._indexBuffer,Le=H.vertexSize,He=t._drawCallPool,$e=this._dcIndex,ht=this._aIndex,bt=this._iIndex,It=He[$e];It.start=this._iIndex,It.texArray=i;for(var Rt=r;Rt<m;++Rt){var wt=ie[Rt],ei=wt._texture.baseTexture,hi=P.premultiplyBlendMode[ei.alphaMode?1:0][wt.blendMode];ie[Rt]=null,r<Rt&&It.blend!==hi&&(It.size=bt-It.start,r=Rt,(It=He[++$e]).texArray=i,It.start=bt),this.packInterleavedGeometry(wt,ce,me,ht,bt),ht+=wt.vertexData.length/2*Le,bt+=wt.indices.length,It.blend=hi}r<m&&(It.size=bt-It.start,++$e),this._dcIndex=$e,this._aIndex=ht,this._iIndex=bt},t.prototype.bindAndClearTexArray=function(i){for(var r=this.renderer.texture,m=0;m<i.count;m++)r.bind(i.elements[m],i.ids[m]),i.elements[m]=null;i.count=0},t.prototype.updateGeometry=function(){var i=this,r=i._packedGeometries,m=i._attributeBuffer,H=i._indexBuffer;B.X.CAN_UPLOAD_SAME_BUFFER?(r[this._flushId]._buffer.update(m.rawBinaryData),r[this._flushId]._indexBuffer.update(H),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,r[this._flushId]=new this.geometryClass),r[this._flushId]._buffer.update(m.rawBinaryData),r[this._flushId]._indexBuffer.update(H),this.renderer.geometry.bind(r[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var i=this._dcIndex,r=this.renderer,m=r.gl,H=r.state,ie=t._drawCallPool,ce=null,me=0;me<i;me++){var Le=ie[me],He=Le.texArray,$e=Le.type,ht=Le.size,bt=Le.start,It=Le.blend;ce!==He&&(ce=He,this.bindAndClearTexArray(He)),this.state.blendMode=It,H.set(this.state),m.drawElements($e,ht,m.UNSIGNED_SHORT,2*bt)}},t.prototype.flush=function(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),B.X.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var i=0;i<this._packedGeometryPoolSize;i++)this._packedGeometries[i]&&this._packedGeometries[i].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),_.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(i){var r=(0,P.nextPow2)(Math.ceil(i/8)),m=(0,P.log2)(r),H=8*r;this._aBuffers.length<=m&&(this._iBuffers.length=m+1);var ie=this._aBuffers[H];return ie||(this._aBuffers[H]=ie=new cn(H*this.vertexSize*4)),ie},t.prototype.getIndexBuffer=function(i){var r=(0,P.nextPow2)(Math.ceil(i/12)),m=(0,P.log2)(r),H=12*r;this._iBuffers.length<=m&&(this._iBuffers.length=m+1);var ie=this._iBuffers[m];return ie||(this._iBuffers[m]=ie=new Uint16Array(H)),ie},t.prototype.packInterleavedGeometry=function(i,r,m,H,ie){for(var ce=r.uint32View,me=r.float32View,Le=H/this.vertexSize,He=i.uvs,$e=i.indices,ht=i.vertexData,bt=i._texture.baseTexture._batchLocation,It=Math.min(i.worldAlpha,1),Rt=It<1&&i._texture.baseTexture.alphaMode?(0,P.premultiplyTint)(i._tintRGB,It):i._tintRGB+(255*It<<24),wt=0;wt<ht.length;wt+=2)me[H++]=ht[wt],me[H++]=ht[wt+1],me[H++]=He[wt],me[H++]=He[wt+1],ce[H++]=Rt,me[H++]=bt;for(wt=0;wt<$e.length;wt++)m[ie++]=Le+$e[wt]},t._drawCallPool=[],t._textureArrayPool=[],t}(Be),$n=function(){function _(t,i){if(this.vertexSrc=t,this.fragTemplate=i,this.programCache={},this.defaultGroupCache={},i.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(i.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return _.prototype.generateShader=function(t){if(!this.programCache[t]){for(var i=new Int32Array(t),r=0;r<t;r++)i[r]=r;this.defaultGroupCache[t]=Oe.from({uSamplers:i},!0);var m=this.fragTemplate;m=(m=m.replace(/%count%/gi,""+t)).replace(/%forloop%/gi,this.generateSampleSrc(t)),this.programCache[t]=new Qt(this.vertexSrc,m)}var H={tint:new Float32Array([1,1,1,1]),translationMatrix:new M.y3,default:this.defaultGroupCache[t]};return new gn(this.programCache[t],H)},_.prototype.generateSampleSrc=function(t){var i="";i+=`
`,i+=`
`;for(var r=0;r<t;r++)r>0&&(i+=`
else `),r<t-1&&(i+="if(vTextureId < "+r+".5)"),i+=`
{`,i+=`
	color = texture2D(uSamplers[`+r+"], vTextureCoord);",i+=`
}`;return i+=`
`,i+=`
`},_}(),Ri=function(_){function t(i){i===void 0&&(i=!1);var r=_.call(this)||this;return r._buffer=new Ie(null,i,!1),r._indexBuffer=new Ie(null,i,!0),r.addAttribute("aVertexPosition",r._buffer,2,!1,h.vK.FLOAT).addAttribute("aTextureCoord",r._buffer,2,!1,h.vK.FLOAT).addAttribute("aColor",r._buffer,4,!0,h.vK.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,!0,h.vK.FLOAT).addIndex(r._indexBuffer),r}return S(t,_),t}(te),gi=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`,Gn=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,er=function(){function _(){}return _.create=function(t){var i=Object.assign({vertex:gi,fragment:Gn,geometryClass:Ri,vertexSize:6},t),r=i.vertex,m=i.fragment,H=i.vertexSize,ie=i.geometryClass;return function(ce){function me(Le){var He=ce.call(this,Le)||this;return He.shaderGenerator=new $n(r,m),He.geometryClass=ie,He.vertexSize=H,He}return S(me,ce),me}(Un)},Object.defineProperty(_,"defaultVertexSrc",{get:function(){return gi},enumerable:!1,configurable:!0}),Object.defineProperty(_,"defaultFragmentTemplate",{get:function(){return Gn},enumerable:!1,configurable:!0}),_}(),_r=er.create(),ji={},Xn=function(_){Object.defineProperty(ji,_,{get:function(){return(0,P.deprecation)("6.0.0","PIXI.systems."+_+" has moved to PIXI."+_),E[_]}})};for(var Hn in E)Xn(Hn);var pn={},tr=function(_){Object.defineProperty(pn,_,{get:function(){return(0,P.deprecation)("6.0.0","PIXI.resources."+_+" has moved to PIXI."+_),Bn[_]}})};for(var Hn in Bn)tr(Hn)},7909:(ye,le,d)=>{d.d(le,{Ql:()=>J,W2:()=>K,YZ:()=>W,s$:()=>E});var B=d(875),h=d(7442),P=d(5579);B.X.SORTABLE_CHILDREN=!1;var W=function(){function A(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return A.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},A.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},A.prototype.getRectangle=function(T){return this.minX>this.maxX||this.minY>this.maxY?h.Ae.EMPTY:((T=T||new h.Ae(0,0,1,1)).x=this.minX,T.y=this.minY,T.width=this.maxX-this.minX,T.height=this.maxY-this.minY,T)},A.prototype.addPoint=function(T){this.minX=Math.min(this.minX,T.x),this.maxX=Math.max(this.maxX,T.x),this.minY=Math.min(this.minY,T.y),this.maxY=Math.max(this.maxY,T.y)},A.prototype.addPointMatrix=function(T,y){var L=T.a,j=T.b,Q=T.c,ee=T.d,ne=T.tx,be=T.ty,Ie=L*y.x+Q*y.y+ne,Ce=j*y.x+ee*y.y+be;this.minX=Math.min(this.minX,Ie),this.maxX=Math.max(this.maxX,Ie),this.minY=Math.min(this.minY,Ce),this.maxY=Math.max(this.maxY,Ce)},A.prototype.addQuad=function(T){var y=this.minX,L=this.minY,j=this.maxX,Q=this.maxY,ee=T[0],ne=T[1];y=ee<y?ee:y,L=ne<L?ne:L,j=ee>j?ee:j,Q=ne>Q?ne:Q,y=(ee=T[2])<y?ee:y,L=(ne=T[3])<L?ne:L,j=ee>j?ee:j,Q=ne>Q?ne:Q,y=(ee=T[4])<y?ee:y,L=(ne=T[5])<L?ne:L,j=ee>j?ee:j,Q=ne>Q?ne:Q,y=(ee=T[6])<y?ee:y,L=(ne=T[7])<L?ne:L,j=ee>j?ee:j,Q=ne>Q?ne:Q,this.minX=y,this.minY=L,this.maxX=j,this.maxY=Q},A.prototype.addFrame=function(T,y,L,j,Q){this.addFrameMatrix(T.worldTransform,y,L,j,Q)},A.prototype.addFrameMatrix=function(T,y,L,j,Q){var ee=T.a,ne=T.b,be=T.c,Ie=T.d,Ce=T.tx,he=T.ty,b=this.minX,U=this.minY,V=this.maxX,te=this.maxY,re=ee*y+be*L+Ce,ae=ne*y+Ie*L+he;b=re<b?re:b,U=ae<U?ae:U,V=re>V?re:V,te=ae>te?ae:te,b=(re=ee*j+be*L+Ce)<b?re:b,U=(ae=ne*j+Ie*L+he)<U?ae:U,V=re>V?re:V,te=ae>te?ae:te,b=(re=ee*y+be*Q+Ce)<b?re:b,U=(ae=ne*y+Ie*Q+he)<U?ae:U,V=re>V?re:V,te=ae>te?ae:te,b=(re=ee*j+be*Q+Ce)<b?re:b,U=(ae=ne*j+Ie*Q+he)<U?ae:U,V=re>V?re:V,te=ae>te?ae:te,this.minX=b,this.minY=U,this.maxX=V,this.maxY=te},A.prototype.addVertexData=function(T,y,L){for(var j=this.minX,Q=this.minY,ee=this.maxX,ne=this.maxY,be=y;be<L;be+=2){var Ie=T[be],Ce=T[be+1];j=Ie<j?Ie:j,Q=Ce<Q?Ce:Q,ee=Ie>ee?Ie:ee,ne=Ce>ne?Ce:ne}this.minX=j,this.minY=Q,this.maxX=ee,this.maxY=ne},A.prototype.addVertices=function(T,y,L,j){this.addVerticesMatrix(T.worldTransform,y,L,j)},A.prototype.addVerticesMatrix=function(T,y,L,j,Q,ee){Q===void 0&&(Q=0),ee===void 0&&(ee=Q);for(var ne=T.a,be=T.b,Ie=T.c,Ce=T.d,he=T.tx,b=T.ty,U=this.minX,V=this.minY,te=this.maxX,re=this.maxY,ae=L;ae<j;ae+=2){var _e=y[ae],Oe=y[ae+1],de=ne*_e+Ie*Oe+he,ge=Ce*Oe+be*_e+b;U=Math.min(U,de-Q),te=Math.max(te,de+Q),V=Math.min(V,ge-ee),re=Math.max(re,ge+ee)}this.minX=U,this.minY=V,this.maxX=te,this.maxY=re},A.prototype.addBounds=function(T){var y=this.minX,L=this.minY,j=this.maxX,Q=this.maxY;this.minX=T.minX<y?T.minX:y,this.minY=T.minY<L?T.minY:L,this.maxX=T.maxX>j?T.maxX:j,this.maxY=T.maxY>Q?T.maxY:Q},A.prototype.addBoundsMask=function(T,y){var L=T.minX>y.minX?T.minX:y.minX,j=T.minY>y.minY?T.minY:y.minY,Q=T.maxX<y.maxX?T.maxX:y.maxX,ee=T.maxY<y.maxY?T.maxY:y.maxY;if(L<=Q&&j<=ee){var ne=this.minX,be=this.minY,Ie=this.maxX,Ce=this.maxY;this.minX=L<ne?L:ne,this.minY=j<be?j:be,this.maxX=Q>Ie?Q:Ie,this.maxY=ee>Ce?ee:Ce}},A.prototype.addBoundsMatrix=function(T,y){this.addFrameMatrix(y,T.minX,T.minY,T.maxX,T.maxY)},A.prototype.addBoundsArea=function(T,y){var L=T.minX>y.x?T.minX:y.x,j=T.minY>y.y?T.minY:y.y,Q=T.maxX<y.x+y.width?T.maxX:y.x+y.width,ee=T.maxY<y.y+y.height?T.maxY:y.y+y.height;if(L<=Q&&j<=ee){var ne=this.minX,be=this.minY,Ie=this.maxX,Ce=this.maxY;this.minX=L<ne?L:ne,this.minY=j<be?j:be,this.maxX=Q>Ie?Q:Ie,this.maxY=ee>Ce?ee:Ce}},A.prototype.pad=function(T,y){T===void 0&&(T=0),y===void 0&&(y=T),this.isEmpty()||(this.minX-=T,this.maxX+=T,this.minY-=y,this.maxY+=y)},A.prototype.addFramePad=function(T,y,L,j,Q,ee){T-=Q,y-=ee,L+=Q,j+=ee,this.minX=this.minX<T?this.minX:T,this.maxX=this.maxX>L?this.maxX:L,this.minY=this.minY<y?this.minY:y,this.maxY=this.maxY>j?this.maxY:j},A}(),z=function(A,T){return z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,L){y.__proto__=L}||function(y,L){for(var j in L)L.hasOwnProperty(j)&&(y[j]=L[j])},z(A,T)};function M(A,T){function y(){this.constructor=A}z(A,T),A.prototype=T===null?Object.create(T):(y.prototype=T.prototype,new y)}var R,F,Y,S,v,n,a,u,p,w,N,k,C,c,x,X,D,G,O,E=function(A){function T(){var y=A.call(this)||this;return y.tempDisplayObjectParent=null,y.transform=new h.wx,y.alpha=1,y.visible=!0,y.renderable=!0,y.cullable=!1,y.cullArea=null,y.parent=null,y.worldAlpha=1,y._lastSortedIndex=0,y._zIndex=0,y.filterArea=null,y.filters=null,y._enabledFilters=null,y._bounds=new W,y._localBounds=null,y._boundsID=0,y._boundsRect=null,y._localBoundsRect=null,y._mask=null,y._maskRefCount=0,y._destroyed=!1,y.isSprite=!1,y.isMask=!1,y}return M(T,A),T.mixin=function(y){for(var L=Object.keys(y),j=0;j<L.length;++j){var Q=L[j];Object.defineProperty(T.prototype,Q,Object.getOwnPropertyDescriptor(y,Q))}},Object.defineProperty(T.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),T.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},T.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},T.prototype.getBounds=function(y,L){return y||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),L||(this._boundsRect||(this._boundsRect=new h.Ae),L=this._boundsRect),this._bounds.getRectangle(L)},T.prototype.getLocalBounds=function(y){y||(this._localBoundsRect||(this._localBoundsRect=new h.Ae),y=this._localBoundsRect),this._localBounds||(this._localBounds=new W);var L=this.transform,j=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var Q=this._bounds,ee=this._boundsID;this._bounds=this._localBounds;var ne=this.getBounds(!1,y);return this.parent=j,this.transform=L,this._bounds=Q,this._bounds.updateID+=this._boundsID-ee,ne},T.prototype.toGlobal=function(y,L,j){return j===void 0&&(j=!1),j||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(y,L)},T.prototype.toLocal=function(y,L,j,Q){return L&&(y=L.toGlobal(y,j,Q)),Q||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(y,j)},T.prototype.setParent=function(y){if(!y||!y.addChild)throw new Error("setParent: Argument must be a Container");return y.addChild(this),y},T.prototype.setTransform=function(y,L,j,Q,ee,ne,be,Ie,Ce){return y===void 0&&(y=0),L===void 0&&(L=0),j===void 0&&(j=1),Q===void 0&&(Q=1),ee===void 0&&(ee=0),ne===void 0&&(ne=0),be===void 0&&(be=0),Ie===void 0&&(Ie=0),Ce===void 0&&(Ce=0),this.position.x=y,this.position.y=L,this.scale.x=j||1,this.scale.y=Q||1,this.rotation=ee,this.skew.x=ne,this.skew.y=be,this.pivot.x=Ie,this.pivot.y=Ce,this},T.prototype.destroy=function(y){this.parent&&this.parent.removeChild(this),this.emit("destroyed"),this.removeAllListeners(),this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},Object.defineProperty(T.prototype,"_tempDisplayObjectParent",{get:function(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new J),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),T.prototype.enableTempParent=function(){var y=this.parent;return this.parent=this._tempDisplayObjectParent,y},T.prototype.disableTempParent=function(y){this.parent=y},Object.defineProperty(T.prototype,"x",{get:function(){return this.position.x},set:function(y){this.transform.position.x=y},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"y",{get:function(){return this.position.y},set:function(y){this.transform.position.y=y},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"position",{get:function(){return this.transform.position},set:function(y){this.transform.position.copyFrom(y)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"scale",{get:function(){return this.transform.scale},set:function(y){this.transform.scale.copyFrom(y)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(y){this.transform.pivot.copyFrom(y)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"skew",{get:function(){return this.transform.skew},set:function(y){this.transform.skew.copyFrom(y)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(y){this.transform.rotation=y},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"angle",{get:function(){return this.transform.rotation*h.jl},set:function(y){this.transform.rotation=y*h.ZX},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"zIndex",{get:function(){return this._zIndex},set:function(y){this._zIndex=y,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"worldVisible",{get:function(){var y=this;do{if(!y.visible)return!1;y=y.parent}while(y);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"mask",{get:function(){return this._mask},set:function(y){if(this._mask!==y){var L;this._mask&&((L=this._mask.maskObject||this._mask)._maskRefCount--,L._maskRefCount===0&&(L.renderable=!0,L.isMask=!1)),this._mask=y,this._mask&&((L=this._mask.maskObject||this._mask)._maskRefCount===0&&(L.renderable=!1,L.isMask=!0),L._maskRefCount++)}},enumerable:!1,configurable:!0}),T}(P.EventEmitter),J=function(A){function T(){var y=A!==null&&A.apply(this,arguments)||this;return y.sortDirty=null,y}return M(T,A),T}(E);function q(A,T){return A.zIndex===T.zIndex?A._lastSortedIndex-T._lastSortedIndex:A.zIndex-T.zIndex}E.prototype.displayObjectUpdateTransform=E.prototype.updateTransform,function(A){A[A.WEBGL_LEGACY=0]="WEBGL_LEGACY",A[A.WEBGL=1]="WEBGL",A[A.WEBGL2=2]="WEBGL2"}(R||(R={})),function(A){A[A.UNKNOWN=0]="UNKNOWN",A[A.WEBGL=1]="WEBGL",A[A.CANVAS=2]="CANVAS"}(F||(F={})),function(A){A[A.COLOR=16384]="COLOR",A[A.DEPTH=256]="DEPTH",A[A.STENCIL=1024]="STENCIL"}(Y||(Y={})),function(A){A[A.NORMAL=0]="NORMAL",A[A.ADD=1]="ADD",A[A.MULTIPLY=2]="MULTIPLY",A[A.SCREEN=3]="SCREEN",A[A.OVERLAY=4]="OVERLAY",A[A.DARKEN=5]="DARKEN",A[A.LIGHTEN=6]="LIGHTEN",A[A.COLOR_DODGE=7]="COLOR_DODGE",A[A.COLOR_BURN=8]="COLOR_BURN",A[A.HARD_LIGHT=9]="HARD_LIGHT",A[A.SOFT_LIGHT=10]="SOFT_LIGHT",A[A.DIFFERENCE=11]="DIFFERENCE",A[A.EXCLUSION=12]="EXCLUSION",A[A.HUE=13]="HUE",A[A.SATURATION=14]="SATURATION",A[A.COLOR=15]="COLOR",A[A.LUMINOSITY=16]="LUMINOSITY",A[A.NORMAL_NPM=17]="NORMAL_NPM",A[A.ADD_NPM=18]="ADD_NPM",A[A.SCREEN_NPM=19]="SCREEN_NPM",A[A.NONE=20]="NONE",A[A.SRC_OVER=0]="SRC_OVER",A[A.SRC_IN=21]="SRC_IN",A[A.SRC_OUT=22]="SRC_OUT",A[A.SRC_ATOP=23]="SRC_ATOP",A[A.DST_OVER=24]="DST_OVER",A[A.DST_IN=25]="DST_IN",A[A.DST_OUT=26]="DST_OUT",A[A.DST_ATOP=27]="DST_ATOP",A[A.ERASE=26]="ERASE",A[A.SUBTRACT=28]="SUBTRACT",A[A.XOR=29]="XOR"}(S||(S={})),function(A){A[A.POINTS=0]="POINTS",A[A.LINES=1]="LINES",A[A.LINE_LOOP=2]="LINE_LOOP",A[A.LINE_STRIP=3]="LINE_STRIP",A[A.TRIANGLES=4]="TRIANGLES",A[A.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",A[A.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(v||(v={})),function(A){A[A.RGBA=6408]="RGBA",A[A.RGB=6407]="RGB",A[A.RG=33319]="RG",A[A.RED=6403]="RED",A[A.RGBA_INTEGER=36249]="RGBA_INTEGER",A[A.RGB_INTEGER=36248]="RGB_INTEGER",A[A.RG_INTEGER=33320]="RG_INTEGER",A[A.RED_INTEGER=36244]="RED_INTEGER",A[A.ALPHA=6406]="ALPHA",A[A.LUMINANCE=6409]="LUMINANCE",A[A.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",A[A.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",A[A.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(n||(n={})),function(A){A[A.TEXTURE_2D=3553]="TEXTURE_2D",A[A.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",A[A.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",A[A.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",A[A.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",A[A.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",A[A.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",A[A.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",A[A.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(a||(a={})),function(A){A[A.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",A[A.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",A[A.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",A[A.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",A[A.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",A[A.UNSIGNED_INT=5125]="UNSIGNED_INT",A[A.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",A[A.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",A[A.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",A[A.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",A[A.BYTE=5120]="BYTE",A[A.SHORT=5122]="SHORT",A[A.INT=5124]="INT",A[A.FLOAT=5126]="FLOAT",A[A.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",A[A.HALF_FLOAT=36193]="HALF_FLOAT"}(u||(u={})),function(A){A[A.FLOAT=0]="FLOAT",A[A.INT=1]="INT",A[A.UINT=2]="UINT"}(p||(p={})),function(A){A[A.NEAREST=0]="NEAREST",A[A.LINEAR=1]="LINEAR"}(w||(w={})),function(A){A[A.CLAMP=33071]="CLAMP",A[A.REPEAT=10497]="REPEAT",A[A.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(N||(N={})),function(A){A[A.OFF=0]="OFF",A[A.POW2=1]="POW2",A[A.ON=2]="ON",A[A.ON_MANUAL=3]="ON_MANUAL"}(k||(k={})),function(A){A[A.NPM=0]="NPM",A[A.UNPACK=1]="UNPACK",A[A.PMA=2]="PMA",A[A.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",A[A.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",A[A.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",A[A.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(C||(C={})),function(A){A[A.NO=0]="NO",A[A.YES=1]="YES",A[A.AUTO=2]="AUTO",A[A.BLEND=0]="BLEND",A[A.CLEAR=1]="CLEAR",A[A.BLIT=2]="BLIT"}(c||(c={})),function(A){A[A.AUTO=0]="AUTO",A[A.MANUAL=1]="MANUAL"}(x||(x={})),function(A){A.LOW="lowp",A.MEDIUM="mediump",A.HIGH="highp"}(X||(X={})),function(A){A[A.NONE=0]="NONE",A[A.SCISSOR=1]="SCISSOR",A[A.STENCIL=2]="STENCIL",A[A.SPRITE=3]="SPRITE"}(D||(D={})),function(A){A[A.NONE=0]="NONE",A[A.LOW=2]="LOW",A[A.MEDIUM=4]="MEDIUM",A[A.HIGH=8]="HIGH"}(G||(G={})),function(A){A[A.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",A[A.ARRAY_BUFFER=34962]="ARRAY_BUFFER",A[A.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(O||(O={}));var K=function(A){function T(){var y=A.call(this)||this;return y.children=[],y.sortableChildren=B.X.SORTABLE_CHILDREN,y.sortDirty=!1,y}return M(T,A),T.prototype.onChildrenChange=function(y){},T.prototype.addChild=function(){for(var y=arguments,L=[],j=0;j<arguments.length;j++)L[j]=y[j];if(L.length>1)for(var Q=0;Q<L.length;Q++)this.addChild(L[Q]);else{var ee=L[0];ee.parent&&ee.parent.removeChild(ee),ee.parent=this,this.sortDirty=!0,ee.transform._parentID=-1,this.children.push(ee),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",ee,this,this.children.length-1),ee.emit("added",this)}return L[0]},T.prototype.addChildAt=function(y,L){if(L<0||L>this.children.length)throw new Error(y+"addChildAt: The index "+L+" supplied is out of bounds "+this.children.length);return y.parent&&y.parent.removeChild(y),y.parent=this,this.sortDirty=!0,y.transform._parentID=-1,this.children.splice(L,0,y),this._boundsID++,this.onChildrenChange(L),y.emit("added",this),this.emit("childAdded",y,this,L),y},T.prototype.swapChildren=function(y,L){if(y!==L){var j=this.getChildIndex(y),Q=this.getChildIndex(L);this.children[j]=L,this.children[Q]=y,this.onChildrenChange(j<Q?j:Q)}},T.prototype.getChildIndex=function(y){var L=this.children.indexOf(y);if(L===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return L},T.prototype.setChildIndex=function(y,L){if(L<0||L>=this.children.length)throw new Error("The index "+L+" supplied is out of bounds "+this.children.length);var j=this.getChildIndex(y);(0,P.removeItems)(this.children,j,1),this.children.splice(L,0,y),this.onChildrenChange(L)},T.prototype.getChildAt=function(y){if(y<0||y>=this.children.length)throw new Error("getChildAt: Index ("+y+") does not exist.");return this.children[y]},T.prototype.removeChild=function(){for(var y=arguments,L=[],j=0;j<arguments.length;j++)L[j]=y[j];if(L.length>1)for(var Q=0;Q<L.length;Q++)this.removeChild(L[Q]);else{var ee=L[0],ne=this.children.indexOf(ee);if(ne===-1)return null;ee.parent=null,ee.transform._parentID=-1,(0,P.removeItems)(this.children,ne,1),this._boundsID++,this.onChildrenChange(ne),ee.emit("removed",this),this.emit("childRemoved",ee,this,ne)}return L[0]},T.prototype.removeChildAt=function(y){var L=this.getChildAt(y);return L.parent=null,L.transform._parentID=-1,(0,P.removeItems)(this.children,y,1),this._boundsID++,this.onChildrenChange(y),L.emit("removed",this),this.emit("childRemoved",L,this,y),L},T.prototype.removeChildren=function(y,L){y===void 0&&(y=0),L===void 0&&(L=this.children.length);var j,Q=y,ee=L-Q;if(ee>0&&ee<=L){j=this.children.splice(Q,ee);for(var ne=0;ne<j.length;++ne)j[ne].parent=null,j[ne].transform&&(j[ne].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(y),ne=0;ne<j.length;++ne)j[ne].emit("removed",this),this.emit("childRemoved",j[ne],this,ne);return j}if(ee===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},T.prototype.sortChildren=function(){for(var y=!1,L=0,j=this.children.length;L<j;++L){var Q=this.children[L];Q._lastSortedIndex=L,y||Q.zIndex===0||(y=!0)}y&&this.children.length>1&&this.children.sort(q),this.sortDirty=!1},T.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var y=0,L=this.children.length;y<L;++y){var j=this.children[y];j.visible&&j.updateTransform()}},T.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var y=0;y<this.children.length;y++){var L=this.children[y];if(L.visible&&L.renderable)if(L.calculateBounds(),L._mask){var j=L._mask.maskObject||L._mask;j.calculateBounds(),this._bounds.addBoundsMask(L._bounds,j._bounds)}else L.filterArea?this._bounds.addBoundsArea(L._bounds,L.filterArea):this._bounds.addBounds(L._bounds)}this._bounds.updateID=this._boundsID},T.prototype.getLocalBounds=function(y,L){L===void 0&&(L=!1);var j=A.prototype.getLocalBounds.call(this,y);if(!L)for(var Q=0,ee=this.children.length;Q<ee;++Q){var ne=this.children[Q];ne.visible&&ne.updateTransform()}return j},T.prototype._calculateBounds=function(){},T.prototype._renderWithCulling=function(y){var L=y.renderTexture.sourceFrame;if(L.width>0&&L.height>0){var j,Q;if(this.cullArea?(j=this.cullArea,Q=this.worldTransform):this._render!==T.prototype._render&&(j=this.getBounds(!0)),j&&L.intersects(j,Q))this._render(y);else if(this.cullArea)return;for(var ee=0,ne=this.children.length;ee<ne;++ee){var be=this.children[ee],Ie=be.cullable;be.cullable=Ie||!this.cullArea,be.render(y),be.cullable=Ie}}},T.prototype.render=function(y){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(y);else if(this.cullable)this._renderWithCulling(y);else{this._render(y);for(var L=0,j=this.children.length;L<j;++L)this.children[L].render(y)}},T.prototype.renderAdvanced=function(y){var L=this.filters,j=this._mask;if(L){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var Q=0;Q<L.length;Q++)L[Q].enabled&&this._enabledFilters.push(L[Q])}var ee=L&&this._enabledFilters&&this._enabledFilters.length||j&&(!j.isMaskData||j.enabled&&(j.autoDetect||j.type!==D.NONE));if(ee&&y.batch.flush(),L&&this._enabledFilters&&this._enabledFilters.length&&y.filter.push(this,this._enabledFilters),j&&y.mask.push(this,this._mask),this.cullable)this._renderWithCulling(y);else{this._render(y),Q=0;for(var ne=this.children.length;Q<ne;++Q)this.children[Q].render(y)}ee&&y.batch.flush(),j&&y.mask.pop(this),L&&this._enabledFilters&&this._enabledFilters.length&&y.filter.pop()},T.prototype._render=function(y){},T.prototype.destroy=function(y){A.prototype.destroy.call(this),this.sortDirty=!1;var L=typeof y=="boolean"?y:y&&y.children,j=this.removeChildren(0,this.children.length);if(L)for(var Q=0;Q<j.length;++Q)j[Q].destroy(y)},Object.defineProperty(T.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(y){var L=this.getLocalBounds().width;this.scale.x=L!==0?y/L:1,this._width=y},enumerable:!1,configurable:!0}),Object.defineProperty(T.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(y){var L=this.getLocalBounds().height;this.scale.y=L!==0?y/L:1,this._height=y},enumerable:!1,configurable:!0}),T}(E);K.prototype.containerUpdateTransform=K.prototype.updateTransform},8838:(ye,le,d)=>{d.d(le,{$o:()=>h,RB:()=>Q,S:()=>B,TC:()=>Ie,TD:()=>ee,ft:()=>Y,iM:()=>y,wA:()=>F,yR:()=>Ce});var B,h,P=d(9839),W=d(7442),z=d(5579),M=d(3736),R=d(7909);(function(he){he.MITER="miter",he.BEVEL="bevel",he.ROUND="round"})(B||(B={})),function(he){he.BUTT="butt",he.ROUND="round",he.SQUARE="square"}(h||(h={}));var F={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(he,b){if(b===void 0&&(b=20),!this.adaptive||!he||isNaN(he))return b;var U=Math.ceil(he/this.maxLength);return U<this.minSegments?U=this.minSegments:U>this.maxSegments&&(U=this.maxSegments),U}},Y=function(){function he(){this.color=16777215,this.alpha=1,this.texture=P.xE.WHITE,this.matrix=null,this.visible=!1,this.reset()}return he.prototype.clone=function(){var b=new he;return b.color=this.color,b.alpha=this.alpha,b.texture=this.texture,b.matrix=this.matrix,b.visible=this.visible,b},he.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=P.xE.WHITE,this.matrix=null,this.visible=!1},he.prototype.destroy=function(){this.texture=null,this.matrix=null},he}(),S=function(he,b){return S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,V){U.__proto__=V}||function(U,V){for(var te in V)V.hasOwnProperty(te)&&(U[te]=V[te])},S(he,b)};function v(he,b){function U(){this.constructor=he}S(he,b),he.prototype=b===null?Object.create(b):(U.prototype=b.prototype,new U)}function n(he,b){var U,V;b===void 0&&(b=!1);var te=he.length;if(!(te<6)){for(var re=0,ae=0,_e=he[te-2],Oe=he[te-1];ae<te;ae+=2){var de=he[ae],ge=he[ae+1];re+=(de-_e)*(ge+Oe),_e=de,Oe=ge}if(!b&&re>0||b&&re<=0){var Ae=te/2;for(ae=Ae+Ae%2;ae<te;ae+=2){var xe=te-ae-2,Be=te-ae-1,We=ae,qe=ae+1;U=[he[We],he[xe]],he[xe]=U[0],he[We]=U[1],V=[he[qe],he[Be]],he[Be]=V[0],he[qe]=V[1]}}}}var a={build:function(he){he.points=he.shape.points.slice()},triangulate:function(he,b){var U=he.points,V=he.holes,te=b.points,re=b.indices;if(U.length>=6){n(U,!1);for(var ae=[],_e=0;_e<V.length;_e++){var Oe=V[_e];n(Oe.points,!0),ae.push(U.length/2),U=U.concat(Oe.points)}var de=(0,z.earcut)(U,ae,2);if(!de)return;var ge=te.length/2;for(_e=0;_e<de.length;_e+=3)re.push(de[_e]+ge),re.push(de[_e+1]+ge),re.push(de[_e+2]+ge);for(_e=0;_e<U.length;_e++)te.push(U[_e])}}},u={build:function(he){var b,U,V,te,re,ae,_e=he.points;if(he.type===W.HS.CIRC){var Oe=he.shape;b=Oe.x,U=Oe.y,re=ae=Oe.radius,V=te=0}else if(he.type===W.HS.ELIP){var de=he.shape;b=de.x,U=de.y,re=de.width,ae=de.height,V=te=0}else{var ge=he.shape,Ae=ge.width/2,xe=ge.height/2;b=ge.x+Ae,U=ge.y+xe,V=Ae-(re=ae=Math.max(0,Math.min(ge.radius,Math.min(Ae,xe)))),te=xe-ae}var Be=Math.ceil(2.3*Math.sqrt(re+ae)),We=8*Be+(V?4:0)+(te?4:0);if(_e.length=We,We!==0){if(Be===0)return _e.length=8,_e[0]=_e[6]=b+V,_e[1]=_e[3]=U+te,_e[2]=_e[4]=b-V,void(_e[5]=_e[7]=U-te);var qe=0,tt=4*Be+(V?2:0)+2,vt=tt,yt=We,rt=b+(ft=V+re),mt=b-ft,Ee=U+(oe=te);if(_e[qe++]=rt,_e[qe++]=Ee,_e[--tt]=Ee,_e[--tt]=mt,te){var je=U-oe;_e[vt++]=mt,_e[vt++]=je,_e[--yt]=je,_e[--yt]=rt}for(var jt=1;jt<Be;jt++){var Ut=Math.PI/2*(jt/Be);rt=b+(ft=V+Math.cos(Ut)*re),mt=b-ft,Ee=U+(oe=te+Math.sin(Ut)*ae),je=U-oe,_e[qe++]=rt,_e[qe++]=Ee,_e[--tt]=Ee,_e[--tt]=mt,_e[vt++]=mt,_e[vt++]=je,_e[--yt]=je,_e[--yt]=rt}var ft,oe;rt=b+(ft=V),mt=b-ft,Ee=U+(oe=te+ae),je=U-oe,_e[qe++]=rt,_e[qe++]=Ee,_e[--yt]=je,_e[--yt]=rt,V&&(_e[qe++]=mt,_e[qe++]=Ee,_e[--yt]=je,_e[--yt]=mt)}},triangulate:function(he,b){var U,V,te=he.points,re=b.points,ae=b.indices,_e=re.length/2,Oe=_e;if(he.type!==W.HS.RREC){var de=he.shape;U=de.x,V=de.y}else{var ge=he.shape;U=ge.x+ge.width/2,V=ge.y+ge.height/2}var Ae=he.matrix;re.push(he.matrix?Ae.a*U+Ae.c*V+Ae.tx:U,he.matrix?Ae.b*U+Ae.d*V+Ae.ty:V),_e++,re.push(te[0],te[1]);for(var xe=2;xe<te.length;xe+=2)re.push(te[xe],te[xe+1]),ae.push(_e++,Oe,_e);ae.push(Oe+1,Oe,_e)}},p={build:function(he){var b=he.shape,U=b.x,V=b.y,te=b.width,re=b.height,ae=he.points;ae.length=0,ae.push(U,V,U+te,V,U+te,V+re,U,V+re)},triangulate:function(he,b){var U=he.points,V=b.points,te=V.length/2;V.push(U[0],U[1],U[2],U[3],U[6],U[7],U[4],U[5]),b.indices.push(te,te+1,te+2,te+1,te+2,te+3)}};function w(he,b,U){return he+(b-he)*U}function N(he,b,U,V,te,re,ae){ae===void 0&&(ae=[]);for(var _e=20,Oe=ae,de=0,ge=0,Ae=0,xe=0,Be=0,We=0,qe=0,tt=0;qe<=_e;++qe)de=w(he,U,tt=qe/_e),ge=w(b,V,tt),Ae=w(U,te,tt),xe=w(V,re,tt),Be=w(de,Ae,tt),We=w(ge,xe,tt),qe===0&&Oe[Oe.length-2]===Be&&Oe[Oe.length-1]===We||Oe.push(Be,We);return Oe}var k={build:function(he){if(Ie.nextRoundedRectBehavior)u.build(he);else{var b=he.shape,U=he.points,V=b.x,te=b.y,re=b.width,ae=b.height,_e=Math.max(0,Math.min(b.radius,Math.min(re,ae)/2));U.length=0,_e?(N(V,te+_e,V,te,V+_e,te,U),N(V+re-_e,te,V+re,te,V+re,te+_e,U),N(V+re,te+ae-_e,V+re,te+ae,V+re-_e,te+ae,U),N(V+_e,te+ae,V,te+ae,V,te+ae-_e,U)):U.push(V,te,V+re,te,V+re,te+ae,V,te+ae)}},triangulate:function(he,b){if(Ie.nextRoundedRectBehavior)u.triangulate(he,b);else{for(var U=he.points,V=b.points,te=b.indices,re=V.length/2,ae=(0,z.earcut)(U,null,2),_e=0,Oe=ae.length;_e<Oe;_e+=3)te.push(ae[_e]+re),te.push(ae[_e+1]+re),te.push(ae[_e+2]+re);for(_e=0,Oe=U.length;_e<Oe;_e++)V.push(U[_e],U[++_e])}}};function C(he,b,U,V,te,re,ae,_e){var Oe,de;ae?(Oe=V,de=-U):(Oe=-V,de=U);var ge=he-U*te+Oe,Ae=b-V*te+de,xe=he+U*re+Oe,Be=b+V*re+de;return _e.push(ge,Ae),_e.push(xe,Be),2}function c(he,b,U,V,te,re,ae,_e){var Oe=U-he,de=V-b,ge=Math.atan2(Oe,de),Ae=Math.atan2(te-he,re-b);_e&&ge<Ae?ge+=2*Math.PI:!_e&&ge>Ae&&(Ae+=2*Math.PI);var xe=ge,Be=Ae-ge,We=Math.abs(Be),qe=Math.sqrt(Oe*Oe+de*de),tt=1+(15*We*Math.sqrt(qe)/Math.PI>>0),vt=Be/tt;if(xe+=vt,_e){ae.push(he,b),ae.push(U,V);for(var yt=1,rt=xe;yt<tt;yt++,rt+=vt)ae.push(he,b),ae.push(he+Math.sin(rt)*qe,b+Math.cos(rt)*qe);ae.push(he,b),ae.push(te,re)}else{for(ae.push(U,V),ae.push(he,b),yt=1,rt=xe;yt<tt;yt++,rt+=vt)ae.push(he+Math.sin(rt)*qe,b+Math.cos(rt)*qe),ae.push(he,b);ae.push(te,re),ae.push(he,b)}return 2*tt}function x(he,b){var U=he.shape,V=he.points||U.points.slice(),te=b.closePointEps;if(V.length!==0){var re=he.lineStyle,ae=new W.E9(V[0],V[1]),_e=new W.E9(V[V.length-2],V[V.length-1]),Oe=U.type!==W.HS.POLY||U.closeStroke,de=Math.abs(ae.x-_e.x)<te&&Math.abs(ae.y-_e.y)<te;if(Oe){V=V.slice(),de&&(V.pop(),V.pop(),_e.set(V[V.length-2],V[V.length-1]));var ge=.5*(ae.x+_e.x),Ae=.5*(_e.y+ae.y);V.unshift(ge,Ae),V.push(ge,Ae)}var xe=b.points,Be=V.length/2,We=V.length,qe=xe.length/2,tt=re.width/2,vt=tt*tt,yt=re.miterLimit*re.miterLimit,rt=V[0],mt=V[1],Ee=V[2],je=V[3],jt=0,Ut=0,ft=-(mt-je),oe=rt-Ee,Se=0,ke=0,De=Math.sqrt(ft*ft+oe*oe);ft/=De,oe/=De,ft*=tt,oe*=tt;var Ke=re.alignment,Ve=2*(1-Ke),Je=2*Ke;Oe||(re.cap===h.ROUND?We+=c(rt-ft*(Ve-Je)*.5,mt-oe*(Ve-Je)*.5,rt-ft*Ve,mt-oe*Ve,rt+ft*Je,mt+oe*Je,xe,!0)+2:re.cap===h.SQUARE&&(We+=C(rt,mt,ft,oe,Ve,Je,!0,xe))),xe.push(rt-ft*Ve,mt-oe*Ve),xe.push(rt+ft*Je,mt+oe*Je);for(var pt=1;pt<Be-1;++pt){rt=V[2*(pt-1)],mt=V[2*(pt-1)+1],Ee=V[2*pt],je=V[2*pt+1],jt=V[2*(pt+1)],Ut=V[2*(pt+1)+1],ft=-(mt-je),oe=rt-Ee,ft/=De=Math.sqrt(ft*ft+oe*oe),oe/=De,ft*=tt,oe*=tt,Se=-(je-Ut),ke=Ee-jt,Se/=De=Math.sqrt(Se*Se+ke*ke),ke/=De,Se*=tt,ke*=tt;var Et=Ee-rt,Fe=mt-je,fe=Ee-jt,Ne=Ut-je,Ge=Fe*fe-Ne*Et,Ze=Ge<0;if(Math.abs(Ge)<.1)xe.push(Ee-ft*Ve,je-oe*Ve),xe.push(Ee+ft*Je,je+oe*Je);else{var ot=(-ft+rt)*(-oe+je)-(-ft+Ee)*(-oe+mt),xt=(-Se+jt)*(-ke+je)-(-Se+Ee)*(-ke+Ut),Mt=(Et*xt-fe*ot)/Ge,gt=(Ne*ot-Fe*xt)/Ge,st=(Mt-Ee)*(Mt-Ee)+(gt-je)*(gt-je),at=Ee+(Mt-Ee)*Ve,Dt=je+(gt-je)*Ve,Bt=Ee-(Mt-Ee)*Je,Nt=je-(gt-je)*Je,kt=Ze?Ve:Je;st<=Math.min(Et*Et+Fe*Fe,fe*fe+Ne*Ne)+kt*kt*vt?re.join===B.BEVEL||st/vt>yt?(Ze?(xe.push(at,Dt),xe.push(Ee+ft*Je,je+oe*Je),xe.push(at,Dt),xe.push(Ee+Se*Je,je+ke*Je)):(xe.push(Ee-ft*Ve,je-oe*Ve),xe.push(Bt,Nt),xe.push(Ee-Se*Ve,je-ke*Ve),xe.push(Bt,Nt)),We+=2):re.join===B.ROUND?Ze?(xe.push(at,Dt),xe.push(Ee+ft*Je,je+oe*Je),We+=c(Ee,je,Ee+ft*Je,je+oe*Je,Ee+Se*Je,je+ke*Je,xe,!0)+4,xe.push(at,Dt),xe.push(Ee+Se*Je,je+ke*Je)):(xe.push(Ee-ft*Ve,je-oe*Ve),xe.push(Bt,Nt),We+=c(Ee,je,Ee-ft*Ve,je-oe*Ve,Ee-Se*Ve,je-ke*Ve,xe,!1)+4,xe.push(Ee-Se*Ve,je-ke*Ve),xe.push(Bt,Nt)):(xe.push(at,Dt),xe.push(Bt,Nt)):(xe.push(Ee-ft*Ve,je-oe*Ve),xe.push(Ee+ft*Je,je+oe*Je),re.join===B.BEVEL||st/vt>yt||(re.join===B.ROUND?We+=Ze?c(Ee,je,Ee+ft*Je,je+oe*Je,Ee+Se*Je,je+ke*Je,xe,!0)+2:c(Ee,je,Ee-ft*Ve,je-oe*Ve,Ee-Se*Ve,je-ke*Ve,xe,!1)+2:(Ze?(xe.push(Bt,Nt),xe.push(Bt,Nt)):(xe.push(at,Dt),xe.push(at,Dt)),We+=2)),xe.push(Ee-Se*Ve,je-ke*Ve),xe.push(Ee+Se*Je,je+ke*Je),We+=2)}}rt=V[2*(Be-2)],mt=V[2*(Be-2)+1],Ee=V[2*(Be-1)],ft=-(mt-(je=V[2*(Be-1)+1])),oe=rt-Ee,ft/=De=Math.sqrt(ft*ft+oe*oe),oe/=De,ft*=tt,oe*=tt,xe.push(Ee-ft*Ve,je-oe*Ve),xe.push(Ee+ft*Je,je+oe*Je),Oe||(re.cap===h.ROUND?We+=c(Ee-ft*(Ve-Je)*.5,je-oe*(Ve-Je)*.5,Ee-ft*Ve,je-oe*Ve,Ee+ft*Je,je+oe*Je,xe,!1)+2:re.cap===h.SQUARE&&(We+=C(Ee,je,ft,oe,Ve,Je,!1,xe)));var Yt=b.indices,Ft=F.epsilon*F.epsilon;for(pt=qe;pt<We+qe-2;++pt)rt=xe[2*pt],mt=xe[2*pt+1],Ee=xe[2*(pt+1)],je=xe[2*(pt+1)+1],jt=xe[2*(pt+2)],Ut=xe[2*(pt+2)+1],Math.abs(rt*(je-Ut)+Ee*(Ut-mt)+jt*(mt-je))<Ft||Yt.push(pt,pt+1,pt+2)}}function X(he,b){var U=0,V=he.shape,te=he.points||V.points,re=V.type!==W.HS.POLY||V.closeStroke;if(te.length!==0){var ae=b.points,_e=b.indices,Oe=te.length/2,de=ae.length/2,ge=de;for(ae.push(te[0],te[1]),U=1;U<Oe;U++)ae.push(te[2*U],te[2*U+1]),_e.push(ge,ge+1),ge++;re&&_e.push(ge,de)}}function D(he,b){he.lineStyle.native?X(he,b):x(he,b)}var G,O=function(){function he(){}return he.curveTo=function(b,U,V,te,re,ae){var _e=ae[ae.length-2],Oe=ae[ae.length-1]-U,de=_e-b,ge=te-U,Ae=V-b,xe=Math.abs(Oe*Ae-de*ge);if(xe<1e-8||re===0)return ae[ae.length-2]===b&&ae[ae.length-1]===U||ae.push(b,U),null;var Be=Oe*Oe+de*de,We=ge*ge+Ae*Ae,qe=Oe*ge+de*Ae,tt=re*Math.sqrt(Be)/xe,vt=re*Math.sqrt(We)/xe,yt=tt*qe/Be,rt=vt*qe/We,mt=tt*Ae+vt*de,Ee=tt*ge+vt*Oe,je=de*(vt+yt),jt=Oe*(vt+yt),Ut=Ae*(tt+rt),ft=ge*(tt+rt);return{cx:mt+b,cy:Ee+U,radius:re,startAngle:Math.atan2(jt-Ee,je-mt),endAngle:Math.atan2(ft-Ee,Ut-mt),anticlockwise:de*ge>Ae*Oe}},he.arc=function(b,U,V,te,re,ae,_e,Oe,de){for(var ge=_e-ae,Ae=F._segmentsCount(Math.abs(ge)*re,40*Math.ceil(Math.abs(ge)/W._b)),xe=ge/(2*Ae),Be=2*xe,We=Math.cos(xe),qe=Math.sin(xe),tt=Ae-1,vt=tt%1/tt,yt=0;yt<=tt;++yt){var rt=xe+ae+Be*(yt+vt*yt),mt=Math.cos(rt),Ee=-Math.sin(rt);de.push((We*mt+qe*Ee)*re+V,(We*-Ee+qe*mt)*re+te)}},he}(),E=function(){function he(){}return he.curveLength=function(b,U,V,te,re,ae,_e,Oe){for(var de=10,ge=0,Ae=0,xe=0,Be=0,We=0,qe=0,tt=0,vt=0,yt=0,rt=0,mt=0,Ee=b,je=U,jt=1;jt<=de;++jt)rt=Ee-(vt=(tt=(qe=(We=1-(Ae=jt/de))*We)*We)*b+3*qe*Ae*V+3*We*(xe=Ae*Ae)*re+(Be=xe*Ae)*_e),mt=je-(yt=tt*U+3*qe*Ae*te+3*We*xe*ae+Be*Oe),Ee=vt,je=yt,ge+=Math.sqrt(rt*rt+mt*mt);return ge},he.curveTo=function(b,U,V,te,re,ae,_e){var Oe=_e[_e.length-2],de=_e[_e.length-1];_e.length-=2;var ge=F._segmentsCount(he.curveLength(Oe,de,b,U,V,te,re,ae)),Ae=0,xe=0,Be=0,We=0,qe=0;_e.push(Oe,de);for(var tt=1,vt=0;tt<=ge;++tt)Be=(xe=(Ae=1-(vt=tt/ge))*Ae)*Ae,qe=(We=vt*vt)*vt,_e.push(Be*Oe+3*xe*vt*b+3*Ae*We*V+qe*re,Be*de+3*xe*vt*U+3*Ae*We*te+qe*ae)},he}(),J=function(){function he(){}return he.curveLength=function(b,U,V,te,re,ae){var _e=b-2*V+re,Oe=U-2*te+ae,de=2*V-2*b,ge=2*te-2*U,Ae=4*(_e*_e+Oe*Oe),xe=4*(_e*de+Oe*ge),Be=de*de+ge*ge,We=2*Math.sqrt(Ae+xe+Be),qe=Math.sqrt(Ae),tt=2*Ae*qe,vt=2*Math.sqrt(Be),yt=xe/qe;return(tt*We+qe*xe*(We-vt)+(4*Be*Ae-xe*xe)*Math.log((2*qe+yt+We)/(yt+vt)))/(4*tt)},he.curveTo=function(b,U,V,te,re){for(var ae=re[re.length-2],_e=re[re.length-1],Oe=F._segmentsCount(he.curveLength(ae,_e,b,U,V,te)),de=0,ge=0,Ae=1;Ae<=Oe;++Ae){var xe=Ae/Oe;de=ae+(b-ae)*xe,ge=_e+(U-_e)*xe,re.push(de+(b+(V-b)*xe-de)*xe,ge+(U+(te-U)*xe-ge)*xe)}},he}(),q=function(){function he(){this.reset()}return he.prototype.begin=function(b,U,V){this.reset(),this.style=b,this.start=U,this.attribStart=V},he.prototype.end=function(b,U){this.attribSize=U-this.attribStart,this.size=b-this.start},he.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},he}(),K=((G={})[W.HS.POLY]=a,G[W.HS.CIRC]=u,G[W.HS.ELIP]=u,G[W.HS.RECT]=p,G[W.HS.RREC]=k,G),A=[],T=[],y=function(){function he(b,U,V,te){U===void 0&&(U=null),V===void 0&&(V=null),te===void 0&&(te=null),this.points=[],this.holes=[],this.shape=b,this.lineStyle=V,this.fillStyle=U,this.matrix=te,this.type=b.type}return he.prototype.clone=function(){return new he(this.shape,this.fillStyle,this.lineStyle,this.matrix)},he.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},he}(),L=new W.E9,j=new R.YZ,Q=function(he){function b(){var U=he.call(this)||this;return U.closePointEps=1e-4,U.boundsPadding=0,U.uvsFloat32=null,U.indicesUint16=null,U.batchable=!1,U.points=[],U.colors=[],U.uvs=[],U.indices=[],U.textureIds=[],U.graphicsData=[],U.drawCalls=[],U.batchDirty=-1,U.batches=[],U.dirty=0,U.cacheDirty=-1,U.clearDirty=0,U.shapeIndex=0,U._bounds=new R.YZ,U.boundsDirty=-1,U}return v(b,he),Object.defineProperty(b.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),b.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var U=0;U<this.drawCalls.length;U++)this.drawCalls[U].texArray.clear(),T.push(this.drawCalls[U]);for(this.drawCalls.length=0,U=0;U<this.batches.length;U++){var V=this.batches[U];V.reset(),A.push(V)}this.batches.length=0},b.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},b.prototype.drawShape=function(U,V,te,re){V===void 0&&(V=null),te===void 0&&(te=null),re===void 0&&(re=null);var ae=new y(U,V,te,re);return this.graphicsData.push(ae),this.dirty++,this},b.prototype.drawHole=function(U,V){if(V===void 0&&(V=null),!this.graphicsData.length)return null;var te=new y(U,null,null,V),re=this.graphicsData[this.graphicsData.length-1];return te.lineStyle=re.lineStyle,re.holes.push(te),this.dirty++,this},b.prototype.destroy=function(){he.prototype.destroy.call(this);for(var U=0;U<this.graphicsData.length;++U)this.graphicsData[U].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},b.prototype.containsPoint=function(U){for(var V=this.graphicsData,te=0;te<V.length;++te){var re=V[te];if(re.fillStyle.visible&&re.shape&&(re.matrix?re.matrix.applyInverse(U,L):L.copyFrom(U),re.shape.contains(L.x,L.y))){var ae=!1;if(re.holes){for(var _e=0;_e<re.holes.length;_e++)if(re.holes[_e].shape.contains(L.x,L.y)){ae=!0;break}}if(!ae)return!0}}return!1},b.prototype.updateBatches=function(U){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var V=this.uvs,te=this.graphicsData,re=null,ae=null;this.batches.length>0&&(ae=(re=this.batches[this.batches.length-1]).style);for(var _e=this.shapeIndex;_e<te.length;_e++){this.shapeIndex++;var Oe=te[_e],de=Oe.fillStyle,ge=Oe.lineStyle;K[Oe.type].build(Oe),Oe.matrix&&this.transformPoints(Oe.points,Oe.matrix),(de.visible||ge.visible)&&this.processHoles(Oe.holes);for(var Ae=0;Ae<2;Ae++){var xe=Ae===0?de:ge;if(xe.visible){var Be=xe.texture.baseTexture,We=this.indices.length,qe=this.points.length/2;Be.wrapMode=M.Nt.REPEAT,Ae===0?this.processFill(Oe):this.processLine(Oe);var tt=this.points.length/2-qe;tt!==0&&(re&&!this._compareStyles(ae,xe)&&(re.end(We,qe),re=null),re||((re=A.pop()||new q).begin(xe,We,qe),this.batches.push(re),ae=xe),this.addUvs(this.points,V,xe.texture,qe,tt,xe.matrix))}}}var vt=this.indices.length,yt=this.points.length/2;if(re&&re.end(vt,yt),this.batches.length!==0){if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var rt=yt>65535&&U;this.indicesUint16=rt?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}else this.batchable=!0}}else this.batchable=!0},b.prototype._compareStyles=function(U,V){return!(!U||!V)&&U.texture.baseTexture===V.texture.baseTexture&&U.color+U.alpha===V.color+V.alpha&&!!U.native==!!V.native},b.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var U=0,V=this.graphicsData.length;U<V;U++){var te=this.graphicsData[U],re=te.fillStyle,ae=te.lineStyle;if(re&&!re.texture.baseTexture.valid||ae&&!ae.texture.baseTexture.valid)return!1}return!0},b.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var U=this.batches,V=0,te=U.length;V<te;V++)for(var re=U[V],ae=0;ae<re.size;ae++){var _e=re.start+ae;this.indicesUint16[_e]=this.indicesUint16[_e]-re.attribStart}},b.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var U=this.batches,V=0;V<U.length;V++)if(U[V].style.native)return!1;return this.points.length<2*b.BATCHABLE_SIZE},b.prototype.buildDrawCalls=function(){for(var U=++P.VL._globalBatch,V=0;V<this.drawCalls.length;V++)this.drawCalls[V].texArray.clear(),T.push(this.drawCalls[V]);this.drawCalls.length=0;var te=this.colors,re=this.textureIds,ae=T.pop();ae||((ae=new P.a$).texArray=new P.Ie),ae.texArray.count=0,ae.start=0,ae.size=0,ae.type=M.lg.TRIANGLES;var _e=0,Oe=null,de=0,ge=!1,Ae=M.lg.TRIANGLES,xe=0;for(this.drawCalls.push(ae),V=0;V<this.batches.length;V++){var Be=this.batches[V],We=8,qe=Be.style,tt=qe.texture.baseTexture;ge!==!!qe.native&&(Ae=(ge=!!qe.native)?M.lg.LINES:M.lg.TRIANGLES,Oe=null,_e=We,U++),Oe!==tt&&(Oe=tt,tt._batchEnabled!==U&&(_e===We&&(U++,_e=0,ae.size>0&&((ae=T.pop())||((ae=new P.a$).texArray=new P.Ie),this.drawCalls.push(ae)),ae.start=xe,ae.size=0,ae.texArray.count=0,ae.type=Ae),tt.touched=1,tt._batchEnabled=U,tt._batchLocation=_e,tt.wrapMode=M.Nt.REPEAT,ae.texArray.elements[ae.texArray.count++]=tt,_e++)),ae.size+=Be.size,xe+=Be.size,de=tt._batchLocation,this.addColors(te,qe.color,qe.alpha,Be.attribSize,Be.attribStart),this.addTextureIds(re,de,Be.attribSize,Be.attribStart)}P.VL._globalBatch=U,this.packAttributes()},b.prototype.packAttributes=function(){for(var U=this.points,V=this.uvs,te=this.colors,re=this.textureIds,ae=new ArrayBuffer(3*U.length*4),_e=new Float32Array(ae),Oe=new Uint32Array(ae),de=0,ge=0;ge<U.length/2;ge++)_e[de++]=U[2*ge],_e[de++]=U[2*ge+1],_e[de++]=V[2*ge],_e[de++]=V[2*ge+1],Oe[de++]=te[ge],_e[de++]=re[ge];this._buffer.update(ae),this._indexBuffer.update(this.indicesUint16)},b.prototype.processFill=function(U){U.holes.length?a.triangulate(U,this):K[U.type].triangulate(U,this)},b.prototype.processLine=function(U){D(U,this);for(var V=0;V<U.holes.length;V++)D(U.holes[V],this)},b.prototype.processHoles=function(U){for(var V=0;V<U.length;V++){var te=U[V];K[te.type].build(te),te.matrix&&this.transformPoints(te.points,te.matrix)}},b.prototype.calculateBounds=function(){var U=this._bounds,V=j,te=W.y3.IDENTITY;this._bounds.clear(),V.clear();for(var re=0;re<this.graphicsData.length;re++){var ae=this.graphicsData[re],_e=ae.shape,Oe=ae.type,de=ae.lineStyle,ge=ae.matrix||W.y3.IDENTITY,Ae=0;if(de&&de.visible&&(Ae=de.width*Math.max(0,de.alignment)),te!==ge&&(V.isEmpty()||(U.addBoundsMatrix(V,te),V.clear()),te=ge),Oe===W.HS.RECT||Oe===W.HS.RREC){var xe=_e;V.addFramePad(xe.x,xe.y,xe.x+xe.width,xe.y+xe.height,Ae,Ae)}else if(Oe===W.HS.CIRC){var Be=_e;V.addFramePad(Be.x,Be.y,Be.x,Be.y,Be.radius+Ae,Be.radius+Ae)}else if(Oe===W.HS.ELIP){var We=_e;V.addFramePad(We.x,We.y,We.x,We.y,We.width+Ae,We.height+Ae)}else{var qe=_e;U.addVerticesMatrix(te,qe.points,0,qe.points.length,Ae,Ae)}}V.isEmpty()||U.addBoundsMatrix(V,te),U.pad(this.boundsPadding,this.boundsPadding)},b.prototype.transformPoints=function(U,V){for(var te=0;te<U.length/2;te++){var re=U[2*te],ae=U[2*te+1];U[2*te]=V.a*re+V.c*ae+V.tx,U[2*te+1]=V.b*re+V.d*ae+V.ty}},b.prototype.addColors=function(U,V,te,re,ae){ae===void 0&&(ae=0);var _e=(V>>16)+(65280&V)+((255&V)<<16),Oe=(0,z.premultiplyTint)(_e,te);U.length=Math.max(U.length,ae+re);for(var de=0;de<re;de++)U[ae+de]=Oe},b.prototype.addTextureIds=function(U,V,te,re){re===void 0&&(re=0),U.length=Math.max(U.length,re+te);for(var ae=0;ae<te;ae++)U[re+ae]=V},b.prototype.addUvs=function(U,V,te,re,ae,_e){_e===void 0&&(_e=null);for(var Oe=0,de=V.length,ge=te.frame;Oe<ae;){var Ae=U[2*(re+Oe)],xe=U[2*(re+Oe)+1];if(_e){var Be=_e.a*Ae+_e.c*xe+_e.tx;xe=_e.b*Ae+_e.d*xe+_e.ty,Ae=Be}Oe++,V.push(Ae/ge.width,xe/ge.height)}var We=te.baseTexture;(ge.width<We.width||ge.height<We.height)&&this.adjustUvs(V,te,de,ae)},b.prototype.adjustUvs=function(U,V,te,re){for(var ae=V.baseTexture,_e=1e-6,Oe=te+2*re,de=V.frame,ge=de.width/ae.width,Ae=de.height/ae.height,xe=de.x/de.width,Be=de.y/de.height,We=Math.floor(U[te]+_e),qe=Math.floor(U[te+1]+_e),tt=te+2;tt<Oe;tt+=2)We=Math.min(We,Math.floor(U[tt]+_e)),qe=Math.min(qe,Math.floor(U[tt+1]+_e));for(xe-=We,Be-=qe,tt=te;tt<Oe;tt+=2)U[tt]=(U[tt]+xe)*ge,U[tt+1]=(U[tt+1]+Be)*Ae},b.BATCHABLE_SIZE=100,b}(P.JZ),ee=function(he){function b(){var U=he!==null&&he.apply(this,arguments)||this;return U.width=0,U.alignment=.5,U.native=!1,U.cap=h.BUTT,U.join=B.MITER,U.miterLimit=10,U}return v(b,he),b.prototype.clone=function(){var U=new b;return U.color=this.color,U.alpha=this.alpha,U.texture=this.texture,U.matrix=this.matrix,U.visible=this.visible,U.width=this.width,U.alignment=this.alignment,U.native=this.native,U.cap=this.cap,U.join=this.join,U.miterLimit=this.miterLimit,U},b.prototype.reset=function(){he.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},b}(Y),ne=new Float32Array(3),be={},Ie=function(he){function b(U){U===void 0&&(U=null);var V=he.call(this)||this;return V.shader=null,V.pluginName="batch",V.currentPath=null,V.batches=[],V.batchTint=-1,V.batchDirty=-1,V.vertexData=null,V._fillStyle=new Y,V._lineStyle=new ee,V._matrix=null,V._holeMode=!1,V.state=P.ZM.for2d(),V._geometry=U||new Q,V._geometry.refCount++,V._transformID=-1,V.tint=16777215,V.blendMode=M.T$.NORMAL,V}return v(b,he),Object.defineProperty(b.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),b.prototype.clone=function(){return this.finishPoly(),new b(this._geometry)},Object.defineProperty(b.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(U){this.state.blendMode=U},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"tint",{get:function(){return this._tint},set:function(U){this._tint=U},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),b.prototype.lineStyle=function(U,V,te,re,ae){return U===void 0&&(U=null),V===void 0&&(V=0),te===void 0&&(te=1),re===void 0&&(re=.5),ae===void 0&&(ae=!1),typeof U=="number"&&(U={width:U,color:V,alpha:te,alignment:re,native:ae}),this.lineTextureStyle(U)},b.prototype.lineTextureStyle=function(U){U=Object.assign({width:0,texture:P.xE.WHITE,color:U&&U.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:h.BUTT,join:B.MITER,miterLimit:10},U),this.currentPath&&this.startPoly();var V=U.width>0&&U.alpha>0;return V?(U.matrix&&(U.matrix=U.matrix.clone(),U.matrix.invert()),Object.assign(this._lineStyle,{visible:V},U)):this._lineStyle.reset(),this},b.prototype.startPoly=function(){if(this.currentPath){var U=this.currentPath.points,V=this.currentPath.points.length;V>2&&(this.drawShape(this.currentPath),this.currentPath=new W.mg,this.currentPath.closeStroke=!1,this.currentPath.points.push(U[V-2],U[V-1]))}else this.currentPath=new W.mg,this.currentPath.closeStroke=!1},b.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},b.prototype.moveTo=function(U,V){return this.startPoly(),this.currentPath.points[0]=U,this.currentPath.points[1]=V,this},b.prototype.lineTo=function(U,V){this.currentPath||this.moveTo(0,0);var te=this.currentPath.points,re=te[te.length-2],ae=te[te.length-1];return re===U&&ae===V||te.push(U,V),this},b.prototype._initCurve=function(U,V){U===void 0&&(U=0),V===void 0&&(V=0),this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[U,V]):this.moveTo(U,V)},b.prototype.quadraticCurveTo=function(U,V,te,re){this._initCurve();var ae=this.currentPath.points;return ae.length===0&&this.moveTo(0,0),J.curveTo(U,V,te,re,ae),this},b.prototype.bezierCurveTo=function(U,V,te,re,ae,_e){return this._initCurve(),E.curveTo(U,V,te,re,ae,_e,this.currentPath.points),this},b.prototype.arcTo=function(U,V,te,re,ae){this._initCurve(U,V);var _e=this.currentPath.points,Oe=O.curveTo(U,V,te,re,ae,_e);if(Oe){var de=Oe.cx,ge=Oe.cy,Ae=Oe.radius,xe=Oe.startAngle,Be=Oe.endAngle,We=Oe.anticlockwise;this.arc(de,ge,Ae,xe,Be,We)}return this},b.prototype.arc=function(U,V,te,re,ae,_e){if(_e===void 0&&(_e=!1),re===ae)return this;if(!_e&&ae<=re?ae+=W._b:_e&&re<=ae&&(re+=W._b),ae-re===0)return this;var Oe=U+Math.cos(re)*te,de=V+Math.sin(re)*te,ge=this._geometry.closePointEps,Ae=this.currentPath?this.currentPath.points:null;if(Ae){var xe=Math.abs(Ae[Ae.length-2]-Oe),Be=Math.abs(Ae[Ae.length-1]-de);xe<ge&&Be<ge||Ae.push(Oe,de)}else this.moveTo(Oe,de),Ae=this.currentPath.points;return O.arc(Oe,de,U,V,te,re,ae,_e,Ae),this},b.prototype.beginFill=function(U,V){return U===void 0&&(U=0),V===void 0&&(V=1),this.beginTextureFill({texture:P.xE.WHITE,color:U,alpha:V})},b.prototype.beginTextureFill=function(U){U=Object.assign({texture:P.xE.WHITE,color:16777215,alpha:1,matrix:null},U),this.currentPath&&this.startPoly();var V=U.alpha>0;return V?(U.matrix&&(U.matrix=U.matrix.clone(),U.matrix.invert()),Object.assign(this._fillStyle,{visible:V},U)):this._fillStyle.reset(),this},b.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},b.prototype.drawRect=function(U,V,te,re){return this.drawShape(new W.Ae(U,V,te,re))},b.prototype.drawRoundedRect=function(U,V,te,re,ae){return this.drawShape(new W.c9(U,V,te,re,ae))},b.prototype.drawCircle=function(U,V,te){return this.drawShape(new W.Cd(U,V,te))},b.prototype.drawEllipse=function(U,V,te,re){return this.drawShape(new W.Pj(U,V,te,re))},b.prototype.drawPolygon=function(){for(var U,V=arguments,te=[],re=0;re<arguments.length;re++)te[re]=V[re];var ae=!0,_e=te[0];_e.points?(ae=_e.closeStroke,U=_e.points):U=Array.isArray(te[0])?te[0]:te;var Oe=new W.mg(U);return Oe.closeStroke=ae,this.drawShape(Oe),this},b.prototype.drawShape=function(U){return this._holeMode?this._geometry.drawHole(U,this._matrix):this._geometry.drawShape(U,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},b.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},b.prototype.isFastRect=function(){var U=this._geometry.graphicsData;return!(U.length!==1||U[0].shape.type!==W.HS.RECT||U[0].matrix||U[0].holes.length||U[0].lineStyle.visible&&U[0].lineStyle.width)},b.prototype._render=function(U){this.finishPoly();var V=this._geometry,te=U.context.supports.uint32Indices;V.updateBatches(te),V.batchable?(this.batchDirty!==V.batchDirty&&this._populateBatches(),this._renderBatched(U)):(U.batch.flush(),this._renderDirect(U))},b.prototype._populateBatches=function(){var U=this._geometry,V=this.blendMode,te=U.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=U.batchDirty,this.batches.length=te,this.vertexData=new Float32Array(U.points);for(var re=0;re<te;re++){var ae=U.batches[re],_e=ae.style.color,Oe=new Float32Array(this.vertexData.buffer,4*ae.attribStart*2,2*ae.attribSize),de=new Float32Array(U.uvsFloat32.buffer,4*ae.attribStart*2,2*ae.attribSize),ge={vertexData:Oe,blendMode:V,indices:new Uint16Array(U.indicesUint16.buffer,2*ae.start,ae.size),uvs:de,_batchRGB:(0,z.hex2rgb)(_e),_tintRGB:_e,_texture:ae.style.texture,alpha:ae.style.alpha,worldAlpha:1};this.batches[re]=ge}},b.prototype._renderBatched=function(U){if(this.batches.length){U.batch.setObjectRenderer(U.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var V=0,te=this.batches.length;V<te;V++){var re=this.batches[V];re.worldAlpha=this.worldAlpha*re.alpha,U.plugins[this.pluginName].render(re)}}},b.prototype._renderDirect=function(U){var V=this._resolveDirectShader(U),te=this._geometry,re=this.tint,ae=this.worldAlpha,_e=V.uniforms,Oe=te.drawCalls;_e.translationMatrix=this.transform.worldTransform,_e.tint[0]=(re>>16&255)/255*ae,_e.tint[1]=(re>>8&255)/255*ae,_e.tint[2]=(255&re)/255*ae,_e.tint[3]=ae,U.shader.bind(V),U.geometry.bind(te,V),U.state.set(this.state);for(var de=0,ge=Oe.length;de<ge;de++)this._renderDrawCallDirect(U,te.drawCalls[de])},b.prototype._renderDrawCallDirect=function(U,V){for(var te=V.texArray,re=V.type,ae=V.size,_e=V.start,Oe=te.count,de=0;de<Oe;de++)U.texture.bind(te.elements[de],de);U.geometry.draw(re,ae,_e)},b.prototype._resolveDirectShader=function(U){var V=this.shader,te=this.pluginName;if(!V){if(!be[te]){for(var re=U.plugins.batch.MAX_TEXTURES,ae=new Int32Array(re),_e=0;_e<re;_e++)ae[_e]=_e;var Oe={tint:new Float32Array([1,1,1,1]),translationMatrix:new W.y3,default:P.oo.from({uSamplers:ae},!0)},de=U.plugins[te]._shader.program;be[te]=new P.ex(de,Oe)}V=be[te]}return V},b.prototype._calculateBounds=function(){this.finishPoly();var U=this._geometry;if(U.graphicsData.length){var V=U.bounds,te=V.minX,re=V.minY,ae=V.maxX,_e=V.maxY;this._bounds.addFrame(this.transform,te,re,ae,_e)}},b.prototype.containsPoint=function(U){return this.worldTransform.applyInverse(U,b._TEMP_POINT),this._geometry.containsPoint(b._TEMP_POINT)},b.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var U=(0,z.hex2rgb)(this.tint,ne),V=0;V<this.batches.length;V++){var te=this.batches[V],re=te._batchRGB,ae=(U[0]*re[0]*255<<16)+(U[1]*re[1]*255<<8)+(0|U[2]*re[2]*255);te._tintRGB=(ae>>16)+(65280&ae)+((255&ae)<<16)}}},b.prototype.calculateVertices=function(){var U=this.transform._worldID;if(this._transformID!==U){this._transformID=U;for(var V=this.transform.worldTransform,te=V.a,re=V.b,ae=V.c,_e=V.d,Oe=V.tx,de=V.ty,ge=this._geometry.points,Ae=this.vertexData,xe=0,Be=0;Be<ge.length;Be+=2){var We=ge[Be],qe=ge[Be+1];Ae[xe++]=te*We+ae*qe+Oe,Ae[xe++]=_e*qe+re*We+de}}},b.prototype.closePath=function(){var U=this.currentPath;return U&&(U.closeStroke=!0,this.finishPoly()),this},b.prototype.setMatrix=function(U){return this._matrix=U,this},b.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},b.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},b.prototype.destroy=function(U){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,he.prototype.destroy.call(this,U)},b.nextRoundedRectBehavior=!1,b._TEMP_POINT=new W.E9,b}(R.W2),Ce={buildPoly:a,buildCircle:u,buildRectangle:p,buildRoundedRectangle:k,buildLine:D,ArcUtils:O,BezierUtils:E,QuadraticUtils:J,BatchPart:q,FILL_COMMANDS:K,BATCH_POOL:A,DRAW_CALL_POOL:T}},7442:(ye,le,d)=>{d.d(le,{AB:()=>n,Ae:()=>R,Cd:()=>F,E9:()=>z,HS:()=>B,Lv:()=>X,Pj:()=>Y,ZX:()=>W,_b:()=>h,c9:()=>v,jl:()=>P,mg:()=>S,wx:()=>D,y3:()=>a});var B,h=2*Math.PI,P=180/Math.PI,W=Math.PI/180;(function(G){G[G.POLY=0]="POLY",G[G.RECT=1]="RECT",G[G.CIRC=2]="CIRC",G[G.ELIP=3]="ELIP",G[G.RREC=4]="RREC"})(B||(B={}));var z=function(){function G(O,E){O===void 0&&(O=0),E===void 0&&(E=0),this.x=0,this.y=0,this.x=O,this.y=E}return G.prototype.clone=function(){return new G(this.x,this.y)},G.prototype.copyFrom=function(O){return this.set(O.x,O.y),this},G.prototype.copyTo=function(O){return O.set(this.x,this.y),O},G.prototype.equals=function(O){return O.x===this.x&&O.y===this.y},G.prototype.set=function(O,E){return O===void 0&&(O=0),E===void 0&&(E=O),this.x=O,this.y=E,this},G.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},G}(),M=[new z,new z,new z,new z],R=function(){function G(O,E,J,q){O===void 0&&(O=0),E===void 0&&(E=0),J===void 0&&(J=0),q===void 0&&(q=0),this.x=Number(O),this.y=Number(E),this.width=Number(J),this.height=Number(q),this.type=B.RECT}return Object.defineProperty(G.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(G,"EMPTY",{get:function(){return new G(0,0,0,0)},enumerable:!1,configurable:!0}),G.prototype.clone=function(){return new G(this.x,this.y,this.width,this.height)},G.prototype.copyFrom=function(O){return this.x=O.x,this.y=O.y,this.width=O.width,this.height=O.height,this},G.prototype.copyTo=function(O){return O.x=this.x,O.y=this.y,O.width=this.width,O.height=this.height,O},G.prototype.contains=function(O,E){return!(this.width<=0||this.height<=0)&&O>=this.x&&O<this.x+this.width&&E>=this.y&&E<this.y+this.height},G.prototype.intersects=function(O,E){if(!E){var J=this.x<O.x?O.x:this.x;if((this.right>O.right?O.right:this.right)<=J)return!1;var q=this.y<O.y?O.y:this.y;return(this.bottom>O.bottom?O.bottom:this.bottom)>q}var K=this.left,A=this.right,T=this.top,y=this.bottom;if(A<=K||y<=T)return!1;var L=M[0].set(O.left,O.top),j=M[1].set(O.left,O.bottom),Q=M[2].set(O.right,O.top),ee=M[3].set(O.right,O.bottom);if(Q.x<=L.x||j.y<=L.y)return!1;var ne=Math.sign(E.a*E.d-E.b*E.c);if(ne===0||(E.apply(L,L),E.apply(j,j),E.apply(Q,Q),E.apply(ee,ee),Math.max(L.x,j.x,Q.x,ee.x)<=K||Math.min(L.x,j.x,Q.x,ee.x)>=A||Math.max(L.y,j.y,Q.y,ee.y)<=T||Math.min(L.y,j.y,Q.y,ee.y)>=y))return!1;var be=ne*(j.y-L.y),Ie=ne*(L.x-j.x),Ce=be*K+Ie*T,he=be*A+Ie*T,b=be*K+Ie*y,U=be*A+Ie*y;if(Math.max(Ce,he,b,U)<=be*L.x+Ie*L.y||Math.min(Ce,he,b,U)>=be*ee.x+Ie*ee.y)return!1;var V=ne*(L.y-Q.y),te=ne*(Q.x-L.x),re=V*K+te*T,ae=V*A+te*T,_e=V*K+te*y,Oe=V*A+te*y;return!(Math.max(re,ae,_e,Oe)<=V*L.x+te*L.y||Math.min(re,ae,_e,Oe)>=V*ee.x+te*ee.y)},G.prototype.pad=function(O,E){return O===void 0&&(O=0),E===void 0&&(E=O),this.x-=O,this.y-=E,this.width+=2*O,this.height+=2*E,this},G.prototype.fit=function(O){var E=Math.max(this.x,O.x),J=Math.min(this.x+this.width,O.x+O.width),q=Math.max(this.y,O.y),K=Math.min(this.y+this.height,O.y+O.height);return this.x=E,this.width=Math.max(J-E,0),this.y=q,this.height=Math.max(K-q,0),this},G.prototype.ceil=function(O,E){O===void 0&&(O=1),E===void 0&&(E=.001);var J=Math.ceil((this.x+this.width-E)*O)/O,q=Math.ceil((this.y+this.height-E)*O)/O;return this.x=Math.floor((this.x+E)*O)/O,this.y=Math.floor((this.y+E)*O)/O,this.width=J-this.x,this.height=q-this.y,this},G.prototype.enlarge=function(O){var E=Math.min(this.x,O.x),J=Math.max(this.x+this.width,O.x+O.width),q=Math.min(this.y,O.y),K=Math.max(this.y+this.height,O.y+O.height);return this.x=E,this.width=J-E,this.y=q,this.height=K-q,this},G.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},G}(),F=function(){function G(O,E,J){O===void 0&&(O=0),E===void 0&&(E=0),J===void 0&&(J=0),this.x=O,this.y=E,this.radius=J,this.type=B.CIRC}return G.prototype.clone=function(){return new G(this.x,this.y,this.radius)},G.prototype.contains=function(O,E){if(this.radius<=0)return!1;var J=this.radius*this.radius,q=this.x-O,K=this.y-E;return(q*=q)+(K*=K)<=J},G.prototype.getBounds=function(){return new R(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},G.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},G}(),Y=function(){function G(O,E,J,q){O===void 0&&(O=0),E===void 0&&(E=0),J===void 0&&(J=0),q===void 0&&(q=0),this.x=O,this.y=E,this.width=J,this.height=q,this.type=B.ELIP}return G.prototype.clone=function(){return new G(this.x,this.y,this.width,this.height)},G.prototype.contains=function(O,E){if(this.width<=0||this.height<=0)return!1;var J=(O-this.x)/this.width,q=(E-this.y)/this.height;return(J*=J)+(q*=q)<=1},G.prototype.getBounds=function(){return new R(this.x-this.width,this.y-this.height,this.width,this.height)},G.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},G}(),S=function(){function G(){for(var O=arguments,E=[],J=0;J<arguments.length;J++)E[J]=O[J];var q=Array.isArray(E[0])?E[0]:E;if(typeof q[0]!="number"){for(var K=[],A=0,T=q.length;A<T;A++)K.push(q[A].x,q[A].y);q=K}this.points=q,this.type=B.POLY,this.closeStroke=!0}return G.prototype.clone=function(){var O=new G(this.points.slice());return O.closeStroke=this.closeStroke,O},G.prototype.contains=function(O,E){for(var J=!1,q=this.points.length/2,K=0,A=q-1;K<q;A=K++){var T=this.points[2*K],y=this.points[2*K+1],L=this.points[2*A],j=this.points[2*A+1];y>E!=j>E&&O<(E-y)/(j-y)*(L-T)+T&&(J=!J)}return J},G.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce(function(O,E){return O+", "+E},"")+"]"},G}(),v=function(){function G(O,E,J,q,K){O===void 0&&(O=0),E===void 0&&(E=0),J===void 0&&(J=0),q===void 0&&(q=0),K===void 0&&(K=20),this.x=O,this.y=E,this.width=J,this.height=q,this.radius=K,this.type=B.RREC}return G.prototype.clone=function(){return new G(this.x,this.y,this.width,this.height,this.radius)},G.prototype.contains=function(O,E){if(this.width<=0||this.height<=0)return!1;if(O>=this.x&&O<=this.x+this.width&&E>=this.y&&E<=this.y+this.height){var J=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(E>=this.y+J&&E<=this.y+this.height-J||O>=this.x+J&&O<=this.x+this.width-J)return!0;var q=O-(this.x+J),K=E-(this.y+J),A=J*J;if(q*q+K*K<=A||(q=O-(this.x+this.width-J))*q+K*K<=A||q*q+(K=E-(this.y+this.height-J))*K<=A||(q=O-(this.x+J))*q+K*K<=A)return!0}return!1},G.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},G}(),n=function(){function G(O,E,J,q){J===void 0&&(J=0),q===void 0&&(q=0),this._x=J,this._y=q,this.cb=O,this.scope=E}return G.prototype.clone=function(O,E){return O===void 0&&(O=this.cb),E===void 0&&(E=this.scope),new G(O,E,this._x,this._y)},G.prototype.set=function(O,E){return O===void 0&&(O=0),E===void 0&&(E=O),this._x===O&&this._y===E||(this._x=O,this._y=E,this.cb.call(this.scope)),this},G.prototype.copyFrom=function(O){return this._x===O.x&&this._y===O.y||(this._x=O.x,this._y=O.y,this.cb.call(this.scope)),this},G.prototype.copyTo=function(O){return O.set(this._x,this._y),O},G.prototype.equals=function(O){return O.x===this._x&&O.y===this._y},G.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(G.prototype,"x",{get:function(){return this._x},set:function(O){this._x!==O&&(this._x=O,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(G.prototype,"y",{get:function(){return this._y},set:function(O){this._y!==O&&(this._y=O,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),G}(),a=function(){function G(O,E,J,q,K,A){O===void 0&&(O=1),E===void 0&&(E=0),J===void 0&&(J=0),q===void 0&&(q=1),K===void 0&&(K=0),A===void 0&&(A=0),this.array=null,this.a=O,this.b=E,this.c=J,this.d=q,this.tx=K,this.ty=A}return G.prototype.fromArray=function(O){this.a=O[0],this.b=O[1],this.c=O[3],this.d=O[4],this.tx=O[2],this.ty=O[5]},G.prototype.set=function(O,E,J,q,K,A){return this.a=O,this.b=E,this.c=J,this.d=q,this.tx=K,this.ty=A,this},G.prototype.toArray=function(O,E){this.array||(this.array=new Float32Array(9));var J=E||this.array;return O?(J[0]=this.a,J[1]=this.b,J[2]=0,J[3]=this.c,J[4]=this.d,J[5]=0,J[6]=this.tx,J[7]=this.ty,J[8]=1):(J[0]=this.a,J[1]=this.c,J[2]=this.tx,J[3]=this.b,J[4]=this.d,J[5]=this.ty,J[6]=0,J[7]=0,J[8]=1),J},G.prototype.apply=function(O,E){E=E||new z;var J=O.x,q=O.y;return E.x=this.a*J+this.c*q+this.tx,E.y=this.b*J+this.d*q+this.ty,E},G.prototype.applyInverse=function(O,E){E=E||new z;var J=1/(this.a*this.d+this.c*-this.b),q=O.x,K=O.y;return E.x=this.d*J*q+-this.c*J*K+(this.ty*this.c-this.tx*this.d)*J,E.y=this.a*J*K+-this.b*J*q+(-this.ty*this.a+this.tx*this.b)*J,E},G.prototype.translate=function(O,E){return this.tx+=O,this.ty+=E,this},G.prototype.scale=function(O,E){return this.a*=O,this.d*=E,this.c*=O,this.b*=E,this.tx*=O,this.ty*=E,this},G.prototype.rotate=function(O){var E=Math.cos(O),J=Math.sin(O),q=this.a,K=this.c,A=this.tx;return this.a=q*E-this.b*J,this.b=q*J+this.b*E,this.c=K*E-this.d*J,this.d=K*J+this.d*E,this.tx=A*E-this.ty*J,this.ty=A*J+this.ty*E,this},G.prototype.append=function(O){var E=this.a,J=this.b,q=this.c,K=this.d;return this.a=O.a*E+O.b*q,this.b=O.a*J+O.b*K,this.c=O.c*E+O.d*q,this.d=O.c*J+O.d*K,this.tx=O.tx*E+O.ty*q+this.tx,this.ty=O.tx*J+O.ty*K+this.ty,this},G.prototype.setTransform=function(O,E,J,q,K,A,T,y,L){return this.a=Math.cos(T+L)*K,this.b=Math.sin(T+L)*K,this.c=-Math.sin(T-y)*A,this.d=Math.cos(T-y)*A,this.tx=O-(J*this.a+q*this.c),this.ty=E-(J*this.b+q*this.d),this},G.prototype.prepend=function(O){var E=this.tx;if(O.a!==1||O.b!==0||O.c!==0||O.d!==1){var J=this.a,q=this.c;this.a=J*O.a+this.b*O.c,this.b=J*O.b+this.b*O.d,this.c=q*O.a+this.d*O.c,this.d=q*O.b+this.d*O.d}return this.tx=E*O.a+this.ty*O.c+O.tx,this.ty=E*O.b+this.ty*O.d+O.ty,this},G.prototype.decompose=function(O){var E=this.a,J=this.b,q=this.c,K=this.d,A=O.pivot,T=-Math.atan2(-q,K),y=Math.atan2(J,E),L=Math.abs(T+y);return L<1e-5||Math.abs(h-L)<1e-5?(O.rotation=y,O.skew.x=O.skew.y=0):(O.rotation=0,O.skew.x=T,O.skew.y=y),O.scale.x=Math.sqrt(E*E+J*J),O.scale.y=Math.sqrt(q*q+K*K),O.position.x=this.tx+(A.x*E+A.y*q),O.position.y=this.ty+(A.x*J+A.y*K),O},G.prototype.invert=function(){var O=this.a,E=this.b,J=this.c,q=this.d,K=this.tx,A=O*q-E*J;return this.a=q/A,this.b=-E/A,this.c=-J/A,this.d=O/A,this.tx=(J*this.ty-q*K)/A,this.ty=-(O*this.ty-E*K)/A,this},G.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},G.prototype.clone=function(){var O=new G;return O.a=this.a,O.b=this.b,O.c=this.c,O.d=this.d,O.tx=this.tx,O.ty=this.ty,O},G.prototype.copyTo=function(O){return O.a=this.a,O.b=this.b,O.c=this.c,O.d=this.d,O.tx=this.tx,O.ty=this.ty,O},G.prototype.copyFrom=function(O){return this.a=O.a,this.b=O.b,this.c=O.c,this.d=O.d,this.tx=O.tx,this.ty=O.ty,this},G.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(G,"IDENTITY",{get:function(){return new G},enumerable:!1,configurable:!0}),Object.defineProperty(G,"TEMP_MATRIX",{get:function(){return new G},enumerable:!1,configurable:!0}),G}(),u=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],p=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],w=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],N=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],k=[],C=[],c=Math.sign;function x(){for(var G=0;G<16;G++){var O=[];k.push(O);for(var E=0;E<16;E++)for(var J=c(u[G]*u[E]+w[G]*p[E]),q=c(p[G]*u[E]+N[G]*p[E]),K=c(u[G]*w[E]+w[G]*N[E]),A=c(p[G]*w[E]+N[G]*N[E]),T=0;T<16;T++)if(u[T]===J&&p[T]===q&&w[T]===K&&N[T]===A){O.push(T);break}}for(G=0;G<16;G++){var y=new a;y.set(u[G],p[G],w[G],N[G],0,0),C.push(y)}}x();var X={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(G){return u[G]},uY:function(G){return p[G]},vX:function(G){return w[G]},vY:function(G){return N[G]},inv:function(G){return 8&G?15&G:7&-G},add:function(G,O){return k[G][O]},sub:function(G,O){return k[G][X.inv(O)]},rotate180:function(G){return 4^G},isVertical:function(G){return(3&G)==2},byDirection:function(G,O){return 2*Math.abs(G)<=Math.abs(O)?O>=0?X.S:X.N:2*Math.abs(O)<=Math.abs(G)?G>0?X.E:X.W:O>0?G>0?X.SE:X.SW:G>0?X.NE:X.NW},matrixAppendRotationInv:function(G,O,E,J){E===void 0&&(E=0),J===void 0&&(J=0);var q=C[X.inv(O)];q.tx=E,q.ty=J,G.append(q)}},D=function(){function G(){this.worldTransform=new a,this.localTransform=new a,this.position=new n(this.onChange,this,0,0),this.scale=new n(this.onChange,this,1,1),this.pivot=new n(this.onChange,this,0,0),this.skew=new n(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return G.prototype.onChange=function(){this._localID++},G.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},G.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},G.prototype.updateLocalTransform=function(){var O=this.localTransform;this._localID!==this._currentLocalID&&(O.a=this._cx*this.scale.x,O.b=this._sx*this.scale.x,O.c=this._cy*this.scale.y,O.d=this._sy*this.scale.y,O.tx=this.position.x-(this.pivot.x*O.a+this.pivot.y*O.c),O.ty=this.position.y-(this.pivot.x*O.b+this.pivot.y*O.d),this._currentLocalID=this._localID,this._parentID=-1)},G.prototype.updateTransform=function(O){var E=this.localTransform;if(this._localID!==this._currentLocalID&&(E.a=this._cx*this.scale.x,E.b=this._sx*this.scale.x,E.c=this._cy*this.scale.y,E.d=this._sy*this.scale.y,E.tx=this.position.x-(this.pivot.x*E.a+this.pivot.y*E.c),E.ty=this.position.y-(this.pivot.x*E.b+this.pivot.y*E.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==O._worldID){var J=O.worldTransform,q=this.worldTransform;q.a=E.a*J.a+E.b*J.c,q.b=E.a*J.b+E.b*J.d,q.c=E.c*J.a+E.d*J.c,q.d=E.c*J.b+E.d*J.d,q.tx=E.tx*J.a+E.ty*J.c+J.tx,q.ty=E.tx*J.b+E.ty*J.d+J.ty,this._parentID=O._worldID,this._worldID++}},G.prototype.setFromMatrix=function(O){O.decompose(this),this._localID++},Object.defineProperty(G.prototype,"rotation",{get:function(){return this._rotation},set:function(O){this._rotation!==O&&(this._rotation=O,this.updateSkew())},enumerable:!1,configurable:!0}),G.IDENTITY=new G,G}()},9838:(ye,le,d)=>{d.d(le,{AL:()=>S,Au:()=>R,IE:()=>F,VJ:()=>Y,ZT:()=>n,_1:()=>M});var B=d(3880),h=d(3736),P=d(9839),W=function(a,u){return W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,w){p.__proto__=w}||function(p,w){for(var N in w)w.hasOwnProperty(N)&&(p[N]=w[N])},W(a,u)};function z(a,u){function p(){this.constructor=a}W(a,u),a.prototype=u===null?Object.create(u):(p.prototype=u.prototype,new p)}var M=function(a){function u(p,w,N,k){p===void 0&&(p=100),w===void 0&&(w=100),N===void 0&&(N=10),k===void 0&&(k=10);var C=a.call(this)||this;return C.segWidth=N,C.segHeight=k,C.width=p,C.height=w,C.build(),C}return z(u,a),u.prototype.build=function(){for(var p=this.segWidth*this.segHeight,w=[],N=[],k=[],C=this.segWidth-1,c=this.segHeight-1,x=this.width/C,X=this.height/c,D=0;D<p;D++){var G=D%this.segWidth,O=D/this.segWidth|0;w.push(G*x,O*X),N.push(G/C,O/c)}var E=C*c;for(D=0;D<E;D++){var J=D%C,q=D/C|0,K=q*this.segWidth+J,A=q*this.segWidth+J+1,T=(q+1)*this.segWidth+J,y=(q+1)*this.segWidth+J+1;k.push(K,A,T,A,y,T)}this.buffers[0].data=new Float32Array(w),this.buffers[1].data=new Float32Array(N),this.indexBuffer.data=new Uint16Array(k),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},u}(B.xc),R=function(a){function u(p,w,N){p===void 0&&(p=200),N===void 0&&(N=0);var k=a.call(this,new Float32Array(4*w.length),new Float32Array(4*w.length),new Uint16Array(6*(w.length-1)))||this;return k.points=w,k._width=p,k.textureScale=N,k.build(),k}return z(u,a),Object.defineProperty(u.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),u.prototype.build=function(){var p=this.points;if(p){var w=this.getBuffer("aVertexPosition"),N=this.getBuffer("aTextureCoord"),k=this.getIndex();if(!(p.length<1)){w.data.length/4!==p.length&&(w.data=new Float32Array(4*p.length),N.data=new Float32Array(4*p.length),k.data=new Uint16Array(6*(p.length-1)));var C=N.data,c=k.data;C[0]=0,C[1]=0,C[2]=0,C[3]=1;for(var x=0,X=p[0],D=this._width*this.textureScale,G=p.length,O=0;O<G;O++){var E=4*O;if(this.textureScale>0){var J=X.x-p[O].x,q=X.y-p[O].y,K=Math.sqrt(J*J+q*q);X=p[O],x+=K/D}else x=O/(G-1);C[E]=x,C[E+1]=0,C[E+2]=x,C[E+3]=1}var A=0;for(O=0;O<G-1;O++)E=2*O,c[A++]=E,c[A++]=E+1,c[A++]=E+2,c[A++]=E+2,c[A++]=E+1,c[A++]=E+3;N.update(),k.update(),this.updateVertices()}}},u.prototype.updateVertices=function(){var p=this.points;if(!(p.length<1)){for(var w,N=p[0],k=0,C=0,c=this.buffers[0].data,x=p.length,X=0;X<x;X++){var D=p[X],G=4*X;C=-((w=X<p.length-1?p[X+1]:D).x-N.x),k=w.y-N.y;var O=Math.sqrt(k*k+C*C),E=this.textureScale>0?this.textureScale*this._width/2:this._width/2;k/=O,C/=O,k*=E,C*=E,c[G]=D.x+k,c[G+1]=D.y+C,c[G+2]=D.x-k,c[G+3]=D.y-C,N=D}this.buffers[0].update()}},u.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},u}(B.xc),F=function(a){function u(p,w,N){N===void 0&&(N=0);var k=this,C=new R(p.height,w,N),c=new B.rY(p);return N>0&&(p.baseTexture.wrapMode=h.Nt.REPEAT),(k=a.call(this,C,c)||this).autoUpdate=!0,k}return z(u,a),u.prototype._render=function(p){var w=this.geometry;(this.autoUpdate||w._width!==this.shader.texture.height)&&(w._width=this.shader.texture.height,w.update()),a.prototype._render.call(this,p)},u}(B.Kj),Y=function(a){function u(p,w,N){var k=this,C=new M(p.width,p.height,w,N),c=new B.rY(P.xE.WHITE);return(k=a.call(this,C,c)||this).texture=p,k.autoResize=!0,k}return z(u,a),u.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var p=this.geometry,w=this.shader.texture,N=w.width,k=w.height;!this.autoResize||p.width===N&&p.height===k||(p.width=this.shader.texture.width,p.height=this.shader.texture.height,p.build())},Object.defineProperty(u.prototype,"texture",{get:function(){return this.shader.texture},set:function(p){this.shader.texture!==p&&(this.shader.texture=p,this._textureID=-1,p.baseTexture.valid?this.textureUpdated():p.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),u.prototype._render=function(p){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),a.prototype._render.call(this,p)},u.prototype.destroy=function(p){this.shader.texture.off("update",this.textureUpdated,this),a.prototype.destroy.call(this,p)},u}(B.Kj),S=function(a){function u(p,w,N,k,C){p===void 0&&(p=P.xE.EMPTY);var c=this,x=new B.xc(w,N,k);x.getBuffer("aVertexPosition").static=!1;var X=new B.rY(p);return(c=a.call(this,x,X,null,C)||this).autoUpdate=!0,c}return z(u,a),Object.defineProperty(u.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(p){this.geometry.getBuffer("aVertexPosition").data=p},enumerable:!1,configurable:!0}),u.prototype._render=function(p){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),a.prototype._render.call(this,p)},u}(B.Kj),v=10,n=function(a){function u(p,w,N,k,C){w===void 0&&(w=v),N===void 0&&(N=v),k===void 0&&(k=v),C===void 0&&(C=v);var c=a.call(this,P.xE.WHITE,4,4)||this;return c._origWidth=p.orig.width,c._origHeight=p.orig.height,c._width=c._origWidth,c._height=c._origHeight,c._leftWidth=w,c._rightWidth=k,c._topHeight=N,c._bottomHeight=C,c.texture=p,c}return z(u,a),u.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(u.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(p){this.geometry.getBuffer("aVertexPosition").data=p},enumerable:!1,configurable:!0}),u.prototype.updateHorizontalVertices=function(){var p=this.vertices,w=this._getMinScale();p[9]=p[11]=p[13]=p[15]=this._topHeight*w,p[17]=p[19]=p[21]=p[23]=this._height-this._bottomHeight*w,p[25]=p[27]=p[29]=p[31]=this._height},u.prototype.updateVerticalVertices=function(){var p=this.vertices,w=this._getMinScale();p[2]=p[10]=p[18]=p[26]=this._leftWidth*w,p[4]=p[12]=p[20]=p[28]=this._width-this._rightWidth*w,p[6]=p[14]=p[22]=p[30]=this._width},u.prototype._getMinScale=function(){var p=this._leftWidth+this._rightWidth,w=this._width>p?1:this._width/p,N=this._topHeight+this._bottomHeight,k=this._height>N?1:this._height/N;return Math.min(w,k)},Object.defineProperty(u.prototype,"width",{get:function(){return this._width},set:function(p){this._width=p,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"height",{get:function(){return this._height},set:function(p){this._height=p,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(p){this._leftWidth=p,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(p){this._rightWidth=p,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"topHeight",{get:function(){return this._topHeight},set:function(p){this._topHeight=p,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(p){this._bottomHeight=p,this._refresh()},enumerable:!1,configurable:!0}),u.prototype._refresh=function(){var p=this.texture,w=this.geometry.buffers[1].data;this._origWidth=p.orig.width,this._origHeight=p.orig.height;var N=1/this._origWidth,k=1/this._origHeight;w[0]=w[8]=w[16]=w[24]=0,w[1]=w[3]=w[5]=w[7]=0,w[6]=w[14]=w[22]=w[30]=1,w[25]=w[27]=w[29]=w[31]=1,w[2]=w[10]=w[18]=w[26]=N*this._leftWidth,w[4]=w[12]=w[20]=w[28]=1-N*this._rightWidth,w[9]=w[11]=w[13]=w[15]=k*this._topHeight,w[17]=w[19]=w[21]=w[23]=1-k*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()},u}(Y)},3880:(ye,le,d)=>{d.d(le,{Kj:()=>n,rY:()=>p,wQ:()=>Y,xc:()=>w});var B=d(9839),h=d(7442),P=d(3736),W=d(7909),z=d(875),M=d(5579),R=function(N,k){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,c){C.__proto__=c}||function(C,c){for(var x in c)c.hasOwnProperty(x)&&(C[x]=c[x])},R(N,k)};function F(N,k){function C(){this.constructor=N}R(N,k),N.prototype=k===null?Object.create(k):(C.prototype=k.prototype,new C)}var Y=function(){function N(k,C){this.uvBuffer=k,this.uvMatrix=C,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return N.prototype.update=function(k){if(k||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var C=this.uvBuffer.data;this.data&&this.data.length===C.length||(this.data=new Float32Array(C.length)),this.uvMatrix.multiplyUvs(C,this.data),this._updateID++}},N}(),S=new h.E9,v=new h.mg,n=function(N){function k(C,c,x,X){X===void 0&&(X=P.lg.TRIANGLES);var D=N.call(this)||this;return D.geometry=C,D.shader=c,D.state=x||B.ZM.for2d(),D.drawMode=X,D.start=0,D.size=0,D.uvs=null,D.indices=null,D.vertexData=new Float32Array(1),D.vertexDirty=-1,D._transformID=-1,D._roundPixels=z.X.ROUND_PIXELS,D.batchUvs=null,D}return F(k,N),Object.defineProperty(k.prototype,"geometry",{get:function(){return this._geometry},set:function(C){this._geometry!==C&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=C,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"material",{get:function(){return this.shader},set:function(C){this.shader=C},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(C){this.state.blendMode=C},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(C){this._roundPixels!==C&&(this._transformID=-1),this._roundPixels=C},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(C){this.shader.tint=C},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(C){this.shader.texture=C},enumerable:!1,configurable:!0}),k.prototype._render=function(C){var c=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===P.lg.TRIANGLES&&c.length<2*k.BATCHABLE_SIZE?this._renderToBatch(C):this._renderDefault(C)},k.prototype._renderDefault=function(C){var c=this.shader;c.alpha=this.worldAlpha,c.update&&c.update(),C.batch.flush(),c.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),C.shader.bind(c),C.state.set(this.state),C.geometry.bind(this.geometry,c),C.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},k.prototype._renderToBatch=function(C){var c=this.geometry,x=this.shader;x.uvMatrix&&(x.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=c.indexBuffer.data,this._tintRGB=x._tintRGB,this._texture=x.texture;var X=this.material.pluginName;C.batch.setObjectRenderer(C.plugins[X]),C.plugins[X].render(this)},k.prototype.calculateVertices=function(){var C=this.geometry.buffers[0],c=C.data,x=C._updateID;if(x!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==c.length&&(this.vertexData=new Float32Array(c.length));for(var X=this.transform.worldTransform,D=X.a,G=X.b,O=X.c,E=X.d,J=X.tx,q=X.ty,K=this.vertexData,A=0;A<K.length/2;A++){var T=c[2*A],y=c[2*A+1];K[2*A]=D*T+O*y+J,K[2*A+1]=G*T+E*y+q}if(this._roundPixels){var L=z.X.RESOLUTION;for(A=0;A<K.length;++A)K[A]=Math.round((K[A]*L|0)/L)}this.vertexDirty=x}},k.prototype.calculateUvs=function(){var C=this.geometry.buffers[1],c=this.shader;c.uvMatrix.isSimple?this.uvs=C.data:(this.batchUvs||(this.batchUvs=new Y(C,c.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},k.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},k.prototype.containsPoint=function(C){if(!this.getBounds().contains(C.x,C.y))return!1;this.worldTransform.applyInverse(C,S);for(var c=this.geometry.getBuffer("aVertexPosition").data,x=v.points,X=this.geometry.getIndex().data,D=X.length,G=this.drawMode===4?3:1,O=0;O+2<D;O+=G){var E=2*X[O],J=2*X[O+1],q=2*X[O+2];if(x[0]=c[E],x[1]=c[E+1],x[2]=c[J],x[3]=c[J+1],x[4]=c[q],x[5]=c[q+1],v.contains(S.x,S.y))return!0}return!1},k.prototype.destroy=function(C){N.prototype.destroy.call(this,C),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},k.BATCHABLE_SIZE=100,k}(W.W2),a=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,u=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`,p=function(N){function k(C,c){var x=this,X={uSampler:C,alpha:1,uTextureMatrix:h.y3.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(c=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},c)).uniforms&&Object.assign(X,c.uniforms),(x=N.call(this,c.program||B.$r.from(u,a),X)||this)._colorDirty=!1,x.uvMatrix=new B.UX(C),x.batchable=c.program===void 0,x.pluginName=c.pluginName,x.tint=c.tint,x.alpha=c.alpha,x}return F(k,N),Object.defineProperty(k.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(C){this.uniforms.uSampler!==C&&(this.uniforms.uSampler=C,this.uvMatrix.texture=C)},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"alpha",{get:function(){return this._alpha},set:function(C){C!==this._alpha&&(this._alpha=C,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"tint",{get:function(){return this._tint},set:function(C){C!==this._tint&&(this._tint=C,this._tintRGB=(C>>16)+(65280&C)+((255&C)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),k.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var C=this.texture.baseTexture;(0,M.premultiplyTintToRgba)(this._tint,this._alpha,this.uniforms.uColor,C.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},k}(B.ex),w=function(N){function k(C,c,x){var X=N.call(this)||this,D=new B.lW(C),G=new B.lW(c,!0),O=new B.lW(x,!0,!0);return X.addAttribute("aVertexPosition",D,2,!1,P.vK.FLOAT).addAttribute("aTextureCoord",G,2,!1,P.vK.FLOAT).addIndex(O),X._updateId=-1,X}return F(k,N),Object.defineProperty(k.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),k}(B.ZX)},3685:(ye,le,d)=>{d.d(le,{P:()=>n,T:()=>F});var B=d(3736),h=d(7909),P=d(5579),W=d(9839),z=d(7442),M=function(a,u){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,w){p.__proto__=w}||function(p,w){for(var N in w)w.hasOwnProperty(N)&&(p[N]=w[N])},M(a,u)};function R(a,u){function p(){this.constructor=a}M(a,u),a.prototype=u===null?Object.create(u):(p.prototype=u.prototype,new p)}var F=function(a){function u(p,w,N,k){p===void 0&&(p=1500),N===void 0&&(N=16384),k===void 0&&(k=!1);var C=a.call(this)||this,c=16384;return N>c&&(N=c),C._properties=[!1,!0,!1,!1,!1],C._maxSize=p,C._batchSize=N,C._buffers=null,C._bufferUpdateIDs=[],C._updateID=0,C.interactiveChildren=!1,C.blendMode=B.T$.NORMAL,C.autoResize=k,C.roundPixels=!0,C.baseTexture=null,C.setProperties(w),C._tint=0,C.tintRgb=new Float32Array(4),C.tint=16777215,C}return R(u,a),u.prototype.setProperties=function(p){p&&(this._properties[0]="vertices"in p||"scale"in p?!!p.vertices||!!p.scale:this._properties[0],this._properties[1]="position"in p?!!p.position:this._properties[1],this._properties[2]="rotation"in p?!!p.rotation:this._properties[2],this._properties[3]="uvs"in p?!!p.uvs:this._properties[3],this._properties[4]="tint"in p||"alpha"in p?!!p.tint||!!p.alpha:this._properties[4])},u.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(u.prototype,"tint",{get:function(){return this._tint},set:function(p){this._tint=p,(0,P.hex2rgb)(p,this.tintRgb)},enumerable:!1,configurable:!0}),u.prototype.render=function(p){var w=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",function(){return w.onChildrenChange(0)})),p.batch.setObjectRenderer(p.plugins.particle),p.plugins.particle.render(this))},u.prototype.onChildrenChange=function(p){for(var w=Math.floor(p/this._batchSize);this._bufferUpdateIDs.length<w;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[w]=++this._updateID},u.prototype.dispose=function(){if(this._buffers){for(var p=0;p<this._buffers.length;++p)this._buffers[p].destroy();this._buffers=null}},u.prototype.destroy=function(p){a.prototype.destroy.call(this,p),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},u}(h.W2),Y=function(){function a(u,p,w){this.geometry=new W.ZX,this.indexBuffer=null,this.size=w,this.dynamicProperties=[],this.staticProperties=[];for(var N=0;N<u.length;++N){var k=u[N];k={attributeName:k.attributeName,size:k.size,uploadFunction:k.uploadFunction,type:k.type||B.vK.FLOAT,offset:k.offset},p[N]?this.dynamicProperties.push(k):this.staticProperties.push(k)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return a.prototype.initBuffers=function(){var u=this.geometry,p=0;this.indexBuffer=new W.lW((0,P.createIndicesForQuads)(this.size),!0,!0),u.addIndex(this.indexBuffer),this.dynamicStride=0;for(var w=0;w<this.dynamicProperties.length;++w)(c=this.dynamicProperties[w]).offset=p,p+=c.size,this.dynamicStride+=c.size;var N=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(N),this.dynamicDataUint32=new Uint32Array(N),this.dynamicBuffer=new W.lW(this.dynamicData,!1,!1);var k=0;for(this.staticStride=0,w=0;w<this.staticProperties.length;++w)(c=this.staticProperties[w]).offset=k,k+=c.size,this.staticStride+=c.size;var C=new ArrayBuffer(this.size*this.staticStride*4*4);for(this.staticData=new Float32Array(C),this.staticDataUint32=new Uint32Array(C),this.staticBuffer=new W.lW(this.staticData,!0,!1),w=0;w<this.dynamicProperties.length;++w){var c=this.dynamicProperties[w];u.addAttribute(c.attributeName,this.dynamicBuffer,0,c.type===B.vK.UNSIGNED_BYTE,c.type,4*this.dynamicStride,4*c.offset)}for(w=0;w<this.staticProperties.length;++w)c=this.staticProperties[w],u.addAttribute(c.attributeName,this.staticBuffer,0,c.type===B.vK.UNSIGNED_BYTE,c.type,4*this.staticStride,4*c.offset)},a.prototype.uploadDynamic=function(u,p,w){for(var N=0;N<this.dynamicProperties.length;N++){var k=this.dynamicProperties[N];k.uploadFunction(u,p,w,k.type===B.vK.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,k.offset)}this.dynamicBuffer._updateID++},a.prototype.uploadStatic=function(u,p,w){for(var N=0;N<this.staticProperties.length;N++){var k=this.staticProperties[N];k.uploadFunction(u,p,w,k.type===B.vK.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,k.offset)}this.staticBuffer._updateID++},a.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},a}(),S=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,v=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`,n=function(a){function u(p){var w=a.call(this,p)||this;return w.shader=null,w.properties=null,w.tempMatrix=new z.y3,w.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:w.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:w.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:w.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:w.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:B.vK.UNSIGNED_BYTE,uploadFunction:w.uploadTint,offset:0}],w.shader=W.ex.from(v,S,{}),w.state=W.ZM.for2d(),w}return R(u,a),u.prototype.render=function(p){var w=p.children,N=p._maxSize,k=p._batchSize,C=this.renderer,c=w.length;if(c!==0){c>N&&!p.autoResize&&(c=N);var x=p._buffers;x||(x=p._buffers=this.generateBuffers(p));var X=w[0]._texture.baseTexture;this.state.blendMode=(0,P.correctBlendMode)(p.blendMode,X.alphaMode),C.state.set(this.state);var D=C.gl,G=p.worldTransform.copyTo(this.tempMatrix);G.prepend(C.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=G.toArray(!0),this.shader.uniforms.uColor=(0,P.premultiplyRgba)(p.tintRgb,p.worldAlpha,this.shader.uniforms.uColor,X.alphaMode),this.shader.uniforms.uSampler=X,this.renderer.shader.bind(this.shader);for(var O=!1,E=0,J=0;E<c;E+=k,J+=1){var q=c-E;q>k&&(q=k),J>=x.length&&x.push(this._generateOneMoreBuffer(p));var K=x[J];K.uploadDynamic(w,E,q);var A=p._bufferUpdateIDs[J]||0;(O=O||K._updateID<A)&&(K._updateID=p._updateID,K.uploadStatic(w,E,q)),C.geometry.bind(K.geometry),D.drawElements(D.TRIANGLES,6*q,D.UNSIGNED_SHORT,0)}}},u.prototype.generateBuffers=function(p){for(var w=[],N=p._maxSize,k=p._batchSize,C=p._properties,c=0;c<N;c+=k)w.push(new Y(this.properties,C,k));return w},u.prototype._generateOneMoreBuffer=function(p){var w=p._batchSize,N=p._properties;return new Y(this.properties,N,w)},u.prototype.uploadVertices=function(p,w,N,k,C,c){for(var x=0,X=0,D=0,G=0,O=0;O<N;++O){var E=p[w+O],J=E._texture,q=E.scale.x,K=E.scale.y,A=J.trim,T=J.orig;A?(x=(X=A.x-E.anchor.x*T.width)+A.width,D=(G=A.y-E.anchor.y*T.height)+A.height):(x=T.width*(1-E.anchor.x),X=T.width*-E.anchor.x,D=T.height*(1-E.anchor.y),G=T.height*-E.anchor.y),k[c]=X*q,k[c+1]=G*K,k[c+C]=x*q,k[c+C+1]=G*K,k[c+2*C]=x*q,k[c+2*C+1]=D*K,k[c+3*C]=X*q,k[c+3*C+1]=D*K,c+=4*C}},u.prototype.uploadPosition=function(p,w,N,k,C,c){for(var x=0;x<N;x++){var X=p[w+x].position;k[c]=X.x,k[c+1]=X.y,k[c+C]=X.x,k[c+C+1]=X.y,k[c+2*C]=X.x,k[c+2*C+1]=X.y,k[c+3*C]=X.x,k[c+3*C+1]=X.y,c+=4*C}},u.prototype.uploadRotation=function(p,w,N,k,C,c){for(var x=0;x<N;x++){var X=p[w+x].rotation;k[c]=X,k[c+C]=X,k[c+2*C]=X,k[c+3*C]=X,c+=4*C}},u.prototype.uploadUvs=function(p,w,N,k,C,c){for(var x=0;x<N;++x){var X=p[w+x]._texture._uvs;X?(k[c]=X.x0,k[c+1]=X.y0,k[c+C]=X.x1,k[c+C+1]=X.y1,k[c+2*C]=X.x2,k[c+2*C+1]=X.y2,k[c+3*C]=X.x3,k[c+3*C+1]=X.y3,c+=4*C):(k[c]=0,k[c+1]=0,k[c+C]=0,k[c+C+1]=0,k[c+2*C]=0,k[c+2*C+1]=0,k[c+3*C]=0,k[c+3*C+1]=0,c+=4*C)}},u.prototype.uploadTint=function(p,w,N,k,C,c){for(var x=0;x<N;++x){var X=p[w+x],D=X._texture.baseTexture.alphaMode>0,G=X.alpha,O=G<1&&D?(0,P.premultiplyTint)(X._tintRGB,G):X._tintRGB+(255*G<<24);k[c]=O,k[c+C]=O,k[c+2*C]=O,k[c+3*C]=O,c+=4*C}},u.prototype.destroy=function(){a.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},u}(W.bO)},1024:(ye,le,d)=>{d.d(le,{B9:()=>x,FI:()=>X,Zq:()=>N,fh:()=>Y});var B=d(875),h=d(9839),P=d(8838),W=d(1298),z=d(7909),M=d(2865);B.X.UPLOADS_PER_FRAME=4;var R=function(D,G){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,E){O.__proto__=E}||function(O,E){for(var J in E)E.hasOwnProperty(J)&&(O[J]=E[J])},R(D,G)};function F(D,G){function O(){this.constructor=D}R(D,G),D.prototype=G===null?Object.create(G):(O.prototype=G.prototype,new O)}var Y=function(){function D(G){this.maxItemsPerFrame=G,this.itemsLeft=0}return D.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},D.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},D}();function S(D,G){var O=!1;if(D&&D._textures&&D._textures.length){for(var E=0;E<D._textures.length;E++)if(D._textures[E]instanceof h.xE){var J=D._textures[E].baseTexture;G.indexOf(J)===-1&&(G.push(J),O=!0)}}return O}function v(D,G){if(D.baseTexture instanceof h.VL){var O=D.baseTexture;return G.indexOf(O)===-1&&G.push(O),!0}return!1}function n(D,G){if(D._texture&&D._texture instanceof h.xE){var O=D._texture.baseTexture;return G.indexOf(O)===-1&&G.push(O),!0}return!1}function a(D,G){return G instanceof M.xv&&(G.updateText(!0),!0)}function u(D,G){if(G instanceof M.pn){var O=G.toFontString();return M._A.measureFont(O),!0}return!1}function p(D,G){if(D instanceof M.xv){G.indexOf(D.style)===-1&&G.push(D.style),G.indexOf(D)===-1&&G.push(D);var O=D._texture.baseTexture;return G.indexOf(O)===-1&&G.push(O),!0}return!1}function w(D,G){return D instanceof M.pn&&(G.indexOf(D)===-1&&G.push(D),!0)}var N=function(){function D(G){var O=this;this.limiter=new Y(B.X.UPLOADS_PER_FRAME),this.renderer=G,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){O.queue&&O.prepareItems()},this.registerFindHook(p),this.registerFindHook(w),this.registerFindHook(S),this.registerFindHook(v),this.registerFindHook(n),this.registerUploadHook(a),this.registerUploadHook(u)}return D.prototype.upload=function(G,O){typeof G=="function"&&(O=G,G=null),G&&this.add(G),this.queue.length?(O&&this.completes.push(O),this.ticking||(this.ticking=!0,W.vB.system.addOnce(this.tick,this,W.uF.UTILITY))):O&&O()},D.prototype.tick=function(){setTimeout(this.delayedTick,0)},D.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var G=this.queue[0],O=!1;if(G&&!G._destroyed){for(var E=0,J=this.uploadHooks.length;E<J;E++)if(this.uploadHooks[E](this.uploadHookHelper,G)){this.queue.shift(),O=!0;break}}O||this.queue.shift()}if(this.queue.length)W.vB.system.addOnce(this.tick,this,W.uF.UTILITY);else{this.ticking=!1;var q=this.completes.slice(0);for(this.completes.length=0,E=0,J=q.length;E<J;E++)q[E]()}},D.prototype.registerFindHook=function(G){return G&&this.addHooks.push(G),this},D.prototype.registerUploadHook=function(G){return G&&this.uploadHooks.push(G),this},D.prototype.add=function(G){for(var O=0,E=this.addHooks.length;O<E&&!this.addHooks[O](G,this.queue);O++);if(G instanceof z.W2)for(O=G.children.length-1;O>=0;O--)this.add(G.children[O]);return this},D.prototype.destroy=function(){this.ticking&&W.vB.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},D}();function k(D,G){return G instanceof h.VL&&(G._glTextures[D.CONTEXT_UID]||D.texture.bind(G),!0)}function C(D,G){if(!(G instanceof P.TC))return!1;var O=G.geometry;G.finishPoly(),O.updateBatches();for(var E=O.batches,J=0;J<E.length;J++){var q=E[J].style.texture;q&&k(D,q.baseTexture)}return O.batchable||D.geometry.bind(O,G._resolveDirectShader(D)),!0}function c(D,G){return D instanceof P.TC&&(G.push(D),!0)}var x=function(D){function G(O){var E=D.call(this,O)||this;return E.uploadHookHelper=E.renderer,E.registerFindHook(c),E.registerUploadHook(k),E.registerUploadHook(C),E}return F(G,D),G}(N),X=function(){function D(G){this.maxMilliseconds=G,this.frameStart=0}return D.prototype.beginFrame=function(){this.frameStart=Date.now()},D.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},D}()},7584:(ye,le,d)=>{d.d(le,{R:()=>B});var B=function(){function h(P){this.items=[],this._name=P,this._aliasCount=0}return h.prototype.emit=function(P,W,z,M,R,F,Y,S){if(arguments.length>8)throw new Error("max arguments reached");var v=this,n=v.name,a=v.items;this._aliasCount++;for(var u=0,p=a.length;u<p;u++)a[u][n](P,W,z,M,R,F,Y,S);return a===this.items&&this._aliasCount--,this},h.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},h.prototype.add=function(P){return P[this._name]&&(this.ensureNonAliasedItems(),this.remove(P),this.items.push(P)),this},h.prototype.remove=function(P){var W=this.items.indexOf(P);return W!==-1&&(this.ensureNonAliasedItems(),this.items.splice(W,1)),this},h.prototype.contains=function(P){return this.items.indexOf(P)!==-1},h.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},h.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(h.prototype,"empty",{get:function(){return this.items.length===0},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),h}();Object.defineProperties(B.prototype,{dispatch:{value:B.prototype.emit},run:{value:B.prototype.emit}})},875:(ye,le,d)=>{d.d(le,{t:()=>be,X:()=>he});var B=/iPhone/i,h=/iPod/i,P=/iPad/i,W=/\biOS-universal(?:.+)Mac\b/i,z=/\bAndroid(?:.+)Mobile\b/i,M=/Android/i,R=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,F=/Silk/i,Y=/Windows Phone/i,S=/\bWindows(?:.+)ARM\b/i,v=/BlackBerry/i,n=/BB10/i,a=/Opera Mini/i,u=/\b(CriOS|Chrome)(?:.+)Mobile/i,p=/Mobile(?:.+)Firefox\b/i,w=function(b){return b!==void 0&&b.platform==="MacIntel"&&typeof b.maxTouchPoints=="number"&&b.maxTouchPoints>1&&typeof MSStream>"u"};function N(b){return function(U){return U.test(b)}}function k(b){var U={userAgent:"",platform:"",maxTouchPoints:0};b||typeof navigator>"u"?typeof b=="string"?U.userAgent=b:b&&b.userAgent&&(U={userAgent:b.userAgent,platform:b.platform,maxTouchPoints:b.maxTouchPoints||0}):U={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var V=U.userAgent,te=V.split("[FBAN");te[1]!==void 0&&(V=te[0]),(te=V.split("Twitter"))[1]!==void 0&&(V=te[0]);var re=N(V),ae={apple:{phone:re(B)&&!re(Y),ipod:re(h),tablet:!re(B)&&(re(P)||w(U))&&!re(Y),universal:re(W),device:(re(B)||re(h)||re(P)||re(W)||w(U))&&!re(Y)},amazon:{phone:re(R),tablet:!re(R)&&re(F),device:re(R)||re(F)},android:{phone:!re(Y)&&re(R)||!re(Y)&&re(z),tablet:!re(Y)&&!re(R)&&!re(z)&&(re(F)||re(M)),device:!re(Y)&&(re(R)||re(F)||re(z)||re(M))||re(/\bokhttp\b/i)},windows:{phone:re(Y),tablet:re(S),device:re(Y)||re(S)},other:{blackberry:re(v),blackberry10:re(n),opera:re(a),firefox:re(p),chrome:re(u),device:re(v)||re(n)||re(a)||re(p)||re(u)},any:!1,phone:!1,tablet:!1};return ae.any=ae.apple.device||ae.android.device||ae.windows.device||ae.other.device,ae.phone=ae.apple.phone||ae.android.phone||ae.windows.phone,ae.tablet=ae.apple.tablet||ae.android.tablet||ae.windows.tablet,ae}var C,c,x,X,D,G,O,E,J,q,K,A,T,y,L,j,Q,ee,ne,be=k(globalThis.navigator);function Ie(b){var U=!0;if(be.tablet||be.phone){var V;be.apple.device&&(V=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(V[1],10)<11&&(U=!1),be.android.device&&(V=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(V[1],10)<7&&(U=!1)}return U?b:4}function Ce(){return!be.apple.device}(function(b){b[b.WEBGL_LEGACY=0]="WEBGL_LEGACY",b[b.WEBGL=1]="WEBGL",b[b.WEBGL2=2]="WEBGL2"})(C||(C={})),function(b){b[b.UNKNOWN=0]="UNKNOWN",b[b.WEBGL=1]="WEBGL",b[b.CANVAS=2]="CANVAS"}(c||(c={})),function(b){b[b.COLOR=16384]="COLOR",b[b.DEPTH=256]="DEPTH",b[b.STENCIL=1024]="STENCIL"}(x||(x={})),function(b){b[b.NORMAL=0]="NORMAL",b[b.ADD=1]="ADD",b[b.MULTIPLY=2]="MULTIPLY",b[b.SCREEN=3]="SCREEN",b[b.OVERLAY=4]="OVERLAY",b[b.DARKEN=5]="DARKEN",b[b.LIGHTEN=6]="LIGHTEN",b[b.COLOR_DODGE=7]="COLOR_DODGE",b[b.COLOR_BURN=8]="COLOR_BURN",b[b.HARD_LIGHT=9]="HARD_LIGHT",b[b.SOFT_LIGHT=10]="SOFT_LIGHT",b[b.DIFFERENCE=11]="DIFFERENCE",b[b.EXCLUSION=12]="EXCLUSION",b[b.HUE=13]="HUE",b[b.SATURATION=14]="SATURATION",b[b.COLOR=15]="COLOR",b[b.LUMINOSITY=16]="LUMINOSITY",b[b.NORMAL_NPM=17]="NORMAL_NPM",b[b.ADD_NPM=18]="ADD_NPM",b[b.SCREEN_NPM=19]="SCREEN_NPM",b[b.NONE=20]="NONE",b[b.SRC_OVER=0]="SRC_OVER",b[b.SRC_IN=21]="SRC_IN",b[b.SRC_OUT=22]="SRC_OUT",b[b.SRC_ATOP=23]="SRC_ATOP",b[b.DST_OVER=24]="DST_OVER",b[b.DST_IN=25]="DST_IN",b[b.DST_OUT=26]="DST_OUT",b[b.DST_ATOP=27]="DST_ATOP",b[b.ERASE=26]="ERASE",b[b.SUBTRACT=28]="SUBTRACT",b[b.XOR=29]="XOR"}(X||(X={})),function(b){b[b.POINTS=0]="POINTS",b[b.LINES=1]="LINES",b[b.LINE_LOOP=2]="LINE_LOOP",b[b.LINE_STRIP=3]="LINE_STRIP",b[b.TRIANGLES=4]="TRIANGLES",b[b.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",b[b.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(D||(D={})),function(b){b[b.RGBA=6408]="RGBA",b[b.RGB=6407]="RGB",b[b.RG=33319]="RG",b[b.RED=6403]="RED",b[b.RGBA_INTEGER=36249]="RGBA_INTEGER",b[b.RGB_INTEGER=36248]="RGB_INTEGER",b[b.RG_INTEGER=33320]="RG_INTEGER",b[b.RED_INTEGER=36244]="RED_INTEGER",b[b.ALPHA=6406]="ALPHA",b[b.LUMINANCE=6409]="LUMINANCE",b[b.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",b[b.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",b[b.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(G||(G={})),function(b){b[b.TEXTURE_2D=3553]="TEXTURE_2D",b[b.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",b[b.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",b[b.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",b[b.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",b[b.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",b[b.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",b[b.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",b[b.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(O||(O={})),function(b){b[b.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",b[b.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",b[b.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",b[b.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",b[b.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",b[b.UNSIGNED_INT=5125]="UNSIGNED_INT",b[b.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",b[b.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",b[b.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",b[b.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",b[b.BYTE=5120]="BYTE",b[b.SHORT=5122]="SHORT",b[b.INT=5124]="INT",b[b.FLOAT=5126]="FLOAT",b[b.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",b[b.HALF_FLOAT=36193]="HALF_FLOAT"}(E||(E={})),function(b){b[b.FLOAT=0]="FLOAT",b[b.INT=1]="INT",b[b.UINT=2]="UINT"}(J||(J={})),function(b){b[b.NEAREST=0]="NEAREST",b[b.LINEAR=1]="LINEAR"}(q||(q={})),function(b){b[b.CLAMP=33071]="CLAMP",b[b.REPEAT=10497]="REPEAT",b[b.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(K||(K={})),function(b){b[b.OFF=0]="OFF",b[b.POW2=1]="POW2",b[b.ON=2]="ON",b[b.ON_MANUAL=3]="ON_MANUAL"}(A||(A={})),function(b){b[b.NPM=0]="NPM",b[b.UNPACK=1]="UNPACK",b[b.PMA=2]="PMA",b[b.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",b[b.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",b[b.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",b[b.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(T||(T={})),function(b){b[b.NO=0]="NO",b[b.YES=1]="YES",b[b.AUTO=2]="AUTO",b[b.BLEND=0]="BLEND",b[b.CLEAR=1]="CLEAR",b[b.BLIT=2]="BLIT"}(y||(y={})),function(b){b[b.AUTO=0]="AUTO",b[b.MANUAL=1]="MANUAL"}(L||(L={})),function(b){b.LOW="lowp",b.MEDIUM="mediump",b.HIGH="highp"}(j||(j={})),function(b){b[b.NONE=0]="NONE",b[b.SCISSOR=1]="SCISSOR",b[b.STENCIL=2]="STENCIL",b[b.SPRITE=3]="SPRITE"}(Q||(Q={})),function(b){b[b.NONE=0]="NONE",b[b.LOW=2]="LOW",b[b.MEDIUM=4]="MEDIUM",b[b.HIGH=8]="HIGH"}(ee||(ee={})),function(b){b[b.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",b[b.ARRAY_BUFFER=34962]="ARRAY_BUFFER",b[b.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(ne||(ne={}));var he={MIPMAP_TEXTURES:A.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:ee.NONE,SPRITE_MAX_TEXTURES:Ie(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:L.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:K.CLAMP,SCALE_MODE:q.LINEAR,PRECISION_VERTEX:j.HIGH,PRECISION_FRAGMENT:be.apple.device?j.HIGH:j.MEDIUM,CAN_UPLOAD_SAME_BUFFER:Ce(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1}},9073:(ye,le,d)=>{d.d(le,{S:()=>w,o:()=>Y});var B=d(9839),h=d(7442),P=d(5510),W=d(3736),z=d(5579),M=function(N,k){return M=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,c){C.__proto__=c}||function(C,c){for(var x in c)c.hasOwnProperty(x)&&(C[x]=c[x])},M(N,k)};function R(N,k){function C(){this.constructor=N}M(N,k),N.prototype=k===null?Object.create(k):(C.prototype=k.prototype,new C)}var F=new h.E9,Y=function(N){function k(C,c,x){c===void 0&&(c=100),x===void 0&&(x=100);var X=N.call(this,C)||this;return X.tileTransform=new h.wx,X._width=c,X._height=x,X.uvMatrix=X.texture.uvMatrix||new B.UX(C),X.pluginName="tilingSprite",X.uvRespectAnchor=!1,X}return R(k,N),Object.defineProperty(k.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(C){this.uvMatrix.clampMargin=C,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(C){this.tileTransform.scale.copyFrom(C)},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(C){this.tileTransform.position.copyFrom(C)},enumerable:!1,configurable:!0}),k.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},k.prototype._render=function(C){var c=this._texture;c&&c.valid&&(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),C.batch.setObjectRenderer(C.plugins[this.pluginName]),C.plugins[this.pluginName].render(this))},k.prototype._calculateBounds=function(){var C=this._width*-this._anchor._x,c=this._height*-this._anchor._y,x=this._width*(1-this._anchor._x),X=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,C,c,x,X)},k.prototype.getLocalBounds=function(C){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),C||(this._localBoundsRect||(this._localBoundsRect=new h.Ae),C=this._localBoundsRect),this._bounds.getRectangle(C)):N.prototype.getLocalBounds.call(this,C)},k.prototype.containsPoint=function(C){this.worldTransform.applyInverse(C,F);var c=this._width,x=this._height,X=-c*this.anchor._x;if(F.x>=X&&F.x<X+c){var D=-x*this.anchor._y;if(F.y>=D&&F.y<D+x)return!0}return!1},k.prototype.destroy=function(C){N.prototype.destroy.call(this,C),this.tileTransform=null,this.uvMatrix=null},k.from=function(C,c){return new k(C instanceof B.xE?C:B.xE.from(C,c),c.width,c.height)},Object.defineProperty(k.prototype,"width",{get:function(){return this._width},set:function(C){this._width=C},enumerable:!1,configurable:!0}),Object.defineProperty(k.prototype,"height",{get:function(){return this._height},set:function(C){this._height=C},enumerable:!1,configurable:!0}),k}(P.j),S=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`,v=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,n=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,a=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,u=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,p=new h.y3,w=function(N){function k(C){var c=N.call(this,C)||this;return C.runners.contextChange.add(c),c.quad=new B.ud,c.state=B.ZM.for2d(),c}return R(k,N),k.prototype.contextChange=function(){var C=this.renderer,c={globals:C.globalUniforms};this.simpleShader=B.ex.from(v,S,c),this.shader=C.context.webGLVersion>1?B.ex.from(a,u,c):B.ex.from(v,n,c)},k.prototype.render=function(C){var c=this.renderer,x=this.quad,X=x.vertices;X[0]=X[6]=C._width*-C.anchor.x,X[1]=X[3]=C._height*-C.anchor.y,X[2]=X[4]=C._width*(1-C.anchor.x),X[5]=X[7]=C._height*(1-C.anchor.y);var D=C.uvRespectAnchor?C.anchor.x:0,G=C.uvRespectAnchor?C.anchor.y:0;(X=x.uvs)[0]=X[6]=-D,X[1]=X[3]=-G,X[2]=X[4]=1-D,X[5]=X[7]=1-G,x.invalidate();var O=C._texture,E=O.baseTexture,J=C.tileTransform.localTransform,q=C.uvMatrix,K=E.isPowerOfTwo&&O.frame.width===E.width&&O.frame.height===E.height;K&&(E._glTextures[c.CONTEXT_UID]?K=E.wrapMode!==W.Nt.CLAMP:E.wrapMode===W.Nt.CLAMP&&(E.wrapMode=W.Nt.REPEAT));var A=K?this.simpleShader:this.shader,T=O.width,y=O.height,L=C._width,j=C._height;p.set(J.a*T/L,J.b*T/j,J.c*y/L,J.d*y/j,J.tx/L,J.ty/j),p.invert(),K?p.prepend(q.mapCoord):(A.uniforms.uMapCoord=q.mapCoord.toArray(!0),A.uniforms.uClampFrame=q.uClampFrame,A.uniforms.uClampOffset=q.uClampOffset),A.uniforms.uTransform=p.toArray(!0),A.uniforms.uColor=(0,z.premultiplyTintToRgba)(C.tint,C.worldAlpha,A.uniforms.uColor,E.alphaMode),A.uniforms.translationMatrix=C.transform.worldTransform.toArray(!0),A.uniforms.uSampler=O,c.shader.bind(A),c.geometry.bind(x),this.state.blendMode=(0,z.correctBlendMode)(C.blendMode,E.alphaMode),c.state.set(this.state),c.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},k}(B.bO)},5510:(ye,le,d)=>{d.d(le,{j:()=>v});var B=d(3736),h=d(9839),P=d(7909),W=d(7442),z=d(875),M=d(5579),R=function(n,a){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,p){u.__proto__=p}||function(u,p){for(var w in p)p.hasOwnProperty(w)&&(u[w]=p[w])},R(n,a)};function F(n,a){function u(){this.constructor=n}R(n,a),n.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}var Y=new W.E9,S=new Uint16Array([0,1,2,0,2,3]),v=function(n){function a(u){var p=n.call(this)||this;return p._anchor=new W.AB(p._onAnchorUpdate,p,u?u.defaultAnchor.x:0,u?u.defaultAnchor.y:0),p._texture=null,p._width=0,p._height=0,p._tint=null,p._tintRGB=null,p.tint=16777215,p.blendMode=B.T$.NORMAL,p._cachedTint=16777215,p.uvs=null,p.texture=u||h.xE.EMPTY,p.vertexData=new Float32Array(8),p.vertexTrimmedData=null,p._transformID=-1,p._textureID=-1,p._transformTrimmedID=-1,p._textureTrimmedID=-1,p.indices=S,p.pluginName="batch",p.isSprite=!0,p._roundPixels=z.X.ROUND_PIXELS,p}return F(a,n),a.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=(0,M.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,M.sign)(this.scale.y)*this._height/this._texture.orig.height)},a.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},a.prototype.calculateVertices=function(){var u=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==u._updateID){this._textureID!==u._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=u._updateID;var p=this.transform.worldTransform,w=p.a,N=p.b,k=p.c,C=p.d,c=p.tx,x=p.ty,X=this.vertexData,D=u.trim,G=u.orig,O=this._anchor,E=0,J=0,q=0,K=0;if(D?(E=(J=D.x-O._x*G.width)+D.width,q=(K=D.y-O._y*G.height)+D.height):(E=(J=-O._x*G.width)+G.width,q=(K=-O._y*G.height)+G.height),X[0]=w*J+k*K+c,X[1]=C*K+N*J+x,X[2]=w*E+k*K+c,X[3]=C*K+N*E+x,X[4]=w*E+k*q+c,X[5]=C*q+N*E+x,X[6]=w*J+k*q+c,X[7]=C*q+N*J+x,this._roundPixels)for(var A=z.X.RESOLUTION,T=0;T<X.length;++T)X[T]=Math.round((X[T]*A|0)/A)}},a.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var u=this._texture,p=this.vertexTrimmedData,w=u.orig,N=this._anchor,k=this.transform.worldTransform,C=k.a,c=k.b,x=k.c,X=k.d,D=k.tx,G=k.ty,O=-N._x*w.width,E=O+w.width,J=-N._y*w.height,q=J+w.height;p[0]=C*O+x*J+D,p[1]=X*J+c*O+G,p[2]=C*E+x*J+D,p[3]=X*J+c*E+G,p[4]=C*E+x*q+D,p[5]=X*q+c*E+G,p[6]=C*O+x*q+D,p[7]=X*q+c*O+G},a.prototype._render=function(u){this.calculateVertices(),u.batch.setObjectRenderer(u.plugins[this.pluginName]),u.plugins[this.pluginName].render(this)},a.prototype._calculateBounds=function(){var u=this._texture.trim,p=this._texture.orig;!u||u.width===p.width&&u.height===p.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},a.prototype.getLocalBounds=function(u){return this.children.length===0?(this._localBounds||(this._localBounds=new P.YZ),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),u||(this._localBoundsRect||(this._localBoundsRect=new W.Ae),u=this._localBoundsRect),this._localBounds.getRectangle(u)):n.prototype.getLocalBounds.call(this,u)},a.prototype.containsPoint=function(u){this.worldTransform.applyInverse(u,Y);var p=this._texture.orig.width,w=this._texture.orig.height,N=-p*this.anchor.x,k=0;return Y.x>=N&&Y.x<N+p&&(k=-w*this.anchor.y,Y.y>=k&&Y.y<k+w)},a.prototype.destroy=function(u){if(n.prototype.destroy.call(this,u),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof u=="boolean"?u:u&&u.texture){var p=typeof u=="boolean"?u:u&&u.baseTexture;this._texture.destroy(!!p)}this._texture=null},a.from=function(u,p){return new a(u instanceof h.xE?u:h.xE.from(u,p))},Object.defineProperty(a.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(u){this._roundPixels!==u&&(this._transformID=-1),this._roundPixels=u},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(u){var p=(0,M.sign)(this.scale.x)||1;this.scale.x=p*u/this._texture.orig.width,this._width=u},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(u){var p=(0,M.sign)(this.scale.y)||1;this.scale.y=p*u/this._texture.orig.height,this._height=u},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"anchor",{get:function(){return this._anchor},set:function(u){this._anchor.copyFrom(u)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"tint",{get:function(){return this._tint},set:function(u){this._tint=u,this._tintRGB=(u>>16)+(65280&u)+((255&u)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"texture",{get:function(){return this._texture},set:function(u){this._texture!==u&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=u||h.xE.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,u&&(u.baseTexture.valid?this._onTextureUpdate():u.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),a}(P.W2)},2865:(ye,le,d)=>{d.d(le,{M_:()=>B,_A:()=>w,pn:()=>v,xv:()=>C});var B,h=d(5510),P=d(9839),W=d(875),z=d(7442),M=d(5579),R=function(c,x){return R=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,D){X.__proto__=D}||function(X,D){for(var G in D)D.hasOwnProperty(G)&&(X[G]=D[G])},R(c,x)};function F(c,x){function X(){this.constructor=c}R(c,x),c.prototype=x===null?Object.create(x):(X.prototype=x.prototype,new X)}(function(c){c[c.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",c[c.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"})(B||(B={}));var Y={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:B.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},S=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],v=function(){function c(x){this.styleID=0,this.reset(),p(this,x,x)}return c.prototype.clone=function(){var x={};return p(x,this,Y),new c(x)},c.prototype.reset=function(){p(this,Y,Y)},Object.defineProperty(c.prototype,"align",{get:function(){return this._align},set:function(x){this._align!==x&&(this._align=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"breakWords",{get:function(){return this._breakWords},set:function(x){this._breakWords!==x&&(this._breakWords=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(x){this._dropShadow!==x&&(this._dropShadow=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(x){this._dropShadowAlpha!==x&&(this._dropShadowAlpha=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(x){this._dropShadowAngle!==x&&(this._dropShadowAngle=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(x){this._dropShadowBlur!==x&&(this._dropShadowBlur=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(x){var X=a(x);this._dropShadowColor!==X&&(this._dropShadowColor=X,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(x){this._dropShadowDistance!==x&&(this._dropShadowDistance=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"fill",{get:function(){return this._fill},set:function(x){var X=a(x);this._fill!==X&&(this._fill=X,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(x){this._fillGradientType!==x&&(this._fillGradientType=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(x){u(this._fillGradientStops,x)||(this._fillGradientStops=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(x){this.fontFamily!==x&&(this._fontFamily=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"fontSize",{get:function(){return this._fontSize},set:function(x){this._fontSize!==x&&(this._fontSize=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(x){this._fontStyle!==x&&(this._fontStyle=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(x){this._fontVariant!==x&&(this._fontVariant=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(x){this._fontWeight!==x&&(this._fontWeight=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(x){this._letterSpacing!==x&&(this._letterSpacing=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(x){this._lineHeight!==x&&(this._lineHeight=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"leading",{get:function(){return this._leading},set:function(x){this._leading!==x&&(this._leading=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(x){this._lineJoin!==x&&(this._lineJoin=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(x){this._miterLimit!==x&&(this._miterLimit=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"padding",{get:function(){return this._padding},set:function(x){this._padding!==x&&(this._padding=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"stroke",{get:function(){return this._stroke},set:function(x){var X=a(x);this._stroke!==X&&(this._stroke=X,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(x){this._strokeThickness!==x&&(this._strokeThickness=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(x){this._textBaseline!==x&&(this._textBaseline=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"trim",{get:function(){return this._trim},set:function(x){this._trim!==x&&(this._trim=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(x){this._whiteSpace!==x&&(this._whiteSpace=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(x){this._wordWrap!==x&&(this._wordWrap=x,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(x){this._wordWrapWidth!==x&&(this._wordWrapWidth=x,this.styleID++)},enumerable:!1,configurable:!0}),c.prototype.toFontString=function(){var x=typeof this.fontSize=="number"?this.fontSize+"px":this.fontSize,X=this.fontFamily;Array.isArray(this.fontFamily)||(X=this.fontFamily.split(","));for(var D=X.length-1;D>=0;D--){var G=X[D].trim();!/([\"\'])[^\'\"]+\1/.test(G)&&S.indexOf(G)<0&&(G='"'+G+'"'),X[D]=G}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+x+" "+X.join(",")},c}();function n(c){return typeof c=="number"?(0,M.hex2string)(c):(typeof c=="string"&&c.indexOf("0x")===0&&(c=c.replace("0x","#")),c)}function a(c){if(Array.isArray(c)){for(var x=0;x<c.length;++x)c[x]=n(c[x]);return c}return n(c)}function u(c,x){if(!Array.isArray(c)||!Array.isArray(x)||c.length!==x.length)return!1;for(var X=0;X<c.length;++X)if(c[X]!==x[X])return!1;return!0}function p(c,x,X){for(var D in X)Array.isArray(x[D])?c[D]=x[D].slice():c[D]=x[D]}var w=function(){function c(x,X,D,G,O,E,J,q,K){this.text=x,this.style=X,this.width=D,this.height=G,this.lines=O,this.lineWidths=E,this.lineHeight=J,this.maxLineWidth=q,this.fontProperties=K}return c.measureText=function(x,X,D,G){G===void 0&&(G=c._canvas),D=D??X.wordWrap;var O=X.toFontString(),E=c.measureFont(O);E.fontSize===0&&(E.fontSize=X.fontSize,E.ascent=X.fontSize);var J=G.getContext("2d");J.font=O;for(var q=(D?c.wordWrap(x,X,G):x).split(/(?:\r\n|\r|\n)/),K=new Array(q.length),A=0,T=0;T<q.length;T++){var y=J.measureText(q[T]).width+(q[T].length-1)*X.letterSpacing;K[T]=y,A=Math.max(A,y)}var L=A+X.strokeThickness;X.dropShadow&&(L+=X.dropShadowDistance);var j=X.lineHeight||E.fontSize+X.strokeThickness,Q=Math.max(j,E.fontSize+X.strokeThickness)+(q.length-1)*(j+X.leading);return X.dropShadow&&(Q+=X.dropShadowDistance),new c(x,X,L,Q,q,K,j+X.leading,A,E)},c.wordWrap=function(x,X,D){D===void 0&&(D=c._canvas);for(var G=D.getContext("2d"),O=0,E="",J="",q=Object.create(null),K=X.letterSpacing,A=X.whiteSpace,T=c.collapseSpaces(A),y=c.collapseNewlines(A),L=!T,j=X.wordWrapWidth+K,Q=c.tokenize(x),ee=0;ee<Q.length;ee++){var ne=Q[ee];if(c.isNewline(ne)){if(!y){J+=c.addLine(E),L=!T,E="",O=0;continue}ne=" "}if(T){var be=c.isBreakingSpace(ne),Ie=c.isBreakingSpace(E[E.length-1]);if(be&&Ie)continue}var Ce=c.getFromCache(ne,K,q,G);if(Ce>j)if(E!==""&&(J+=c.addLine(E),E="",O=0),c.canBreakWords(ne,X.breakWords))for(var he=c.wordWrapSplit(ne),b=0;b<he.length;b++){for(var U=he[b],V=1;he[b+V];){var te=he[b+V],re=U[U.length-1];if(c.canBreakChars(re,te,ne,b,X.breakWords))break;U+=te,V++}b+=U.length-1;var ae=c.getFromCache(U,K,q,G);ae+O>j&&(J+=c.addLine(E),L=!1,E="",O=0),E+=U,O+=ae}else{E.length>0&&(J+=c.addLine(E),E="",O=0);var _e=ee===Q.length-1;J+=c.addLine(ne,!_e),L=!1,E="",O=0}else Ce+O>j&&(L=!1,J+=c.addLine(E),E="",O=0),(E.length>0||!c.isBreakingSpace(ne)||L)&&(E+=ne,O+=Ce)}return J+=c.addLine(E,!1)},c.addLine=function(x,X){return X===void 0&&(X=!0),x=c.trimRight(x),x=X?x+`
`:x},c.getFromCache=function(x,X,D,G){var O=D[x];if(typeof O!="number"){var E=x.length*X;O=G.measureText(x).width+E,D[x]=O}return O},c.collapseSpaces=function(x){return x==="normal"||x==="pre-line"},c.collapseNewlines=function(x){return x==="normal"},c.trimRight=function(x){if(typeof x!="string")return"";for(var X=x.length-1;X>=0;X--){var D=x[X];if(!c.isBreakingSpace(D))break;x=x.slice(0,-1)}return x},c.isNewline=function(x){return typeof x=="string"&&c._newlines.indexOf(x.charCodeAt(0))>=0},c.isBreakingSpace=function(x,X){return typeof x=="string"&&c._breakingSpaces.indexOf(x.charCodeAt(0))>=0},c.tokenize=function(x){var X=[],D="";if(typeof x!="string")return X;for(var G=0;G<x.length;G++){var O=x[G],E=x[G+1];c.isBreakingSpace(O,E)||c.isNewline(O)?(D!==""&&(X.push(D),D=""),X.push(O)):D+=O}return D!==""&&X.push(D),X},c.canBreakWords=function(x,X){return X},c.canBreakChars=function(x,X,D,G,O){return!0},c.wordWrapSplit=function(x){return x.split("")},c.measureFont=function(x){if(c._fonts[x])return c._fonts[x];var X={ascent:0,descent:0,fontSize:0},D=c._canvas,G=c._context;G.font=x;var O=c.METRICS_STRING+c.BASELINE_SYMBOL,E=Math.ceil(G.measureText(O).width),J=Math.ceil(G.measureText(c.BASELINE_SYMBOL).width),q=Math.ceil(c.HEIGHT_MULTIPLIER*J);J=J*c.BASELINE_MULTIPLIER|0,D.width=E,D.height=q,G.fillStyle="#f00",G.fillRect(0,0,E,q),G.font=x,G.textBaseline="alphabetic",G.fillStyle="#000",G.fillText(O,0,J);var K=G.getImageData(0,0,E,q).data,A=K.length,T=4*E,y=0,L=0,j=!1;for(y=0;y<J;++y){for(var Q=0;Q<T;Q+=4)if(K[L+Q]!==255){j=!0;break}if(j)break;L+=T}for(X.ascent=J-y,L=A-T,j=!1,y=q;y>J;--y){for(Q=0;Q<T;Q+=4)if(K[L+Q]!==255){j=!0;break}if(j)break;L-=T}return X.descent=y-J,X.fontSize=X.ascent+X.descent,c._fonts[x]=X,X},c.clearMetrics=function(x){x===void 0&&(x=""),x?delete c._fonts[x]:c._fonts={}},c}(),N=function(){try{var c=new OffscreenCanvas(0,0),x=c.getContext("2d");return x&&x.measureText?c:document.createElement("canvas")}catch{return document.createElement("canvas")}}();N.width=N.height=10,w._canvas=N,w._context=N.getContext("2d"),w._fonts={},w.METRICS_STRING="|ÉqÅ",w.BASELINE_SYMBOL="M",w.BASELINE_MULTIPLIER=1.4,w.HEIGHT_MULTIPLIER=2,w._newlines=[10,13],w._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var k={texture:!0,children:!1,baseTexture:!0},C=function(c){function x(X,D,G){var O=this,E=!1;G||(G=document.createElement("canvas"),E=!0),G.width=3,G.height=3;var J=P.xE.from(G);return J.orig=new z.Ae,J.trim=new z.Ae,(O=c.call(this,J)||this)._ownCanvas=E,O.canvas=G,O.context=O.canvas.getContext("2d"),O._resolution=W.X.RESOLUTION,O._autoResolution=!0,O._text=null,O._style=null,O._styleListener=null,O._font="",O.text=X,O.style=D,O.localStyleID=-1,O}return F(x,c),x.prototype.updateText=function(X){var D=this._style;if(this.localStyleID!==D.styleID&&(this.dirty=!0,this.localStyleID=D.styleID),this.dirty||!X){this._font=this._style.toFontString();var G,O,E=this.context,J=w.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),q=J.width,K=J.height,A=J.lines,T=J.lineHeight,y=J.lineWidths,L=J.maxLineWidth,j=J.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,q)+2*D.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,K)+2*D.padding)*this._resolution),E.scale(this._resolution,this._resolution),E.clearRect(0,0,this.canvas.width,this.canvas.height),E.font=this._font,E.lineWidth=D.strokeThickness,E.textBaseline=D.textBaseline,E.lineJoin=D.lineJoin,E.miterLimit=D.miterLimit;for(var Q=D.dropShadow?2:1,ee=0;ee<Q;++ee){var ne=D.dropShadow&&ee===0,be=ne?Math.ceil(Math.max(1,K)+2*D.padding):0,Ie=be*this._resolution;if(ne){E.fillStyle="black",E.strokeStyle="black";var Ce=D.dropShadowColor,he=(0,M.hex2rgb)(typeof Ce=="number"?Ce:(0,M.string2hex)(Ce)),b=D.dropShadowBlur*this._resolution,U=D.dropShadowDistance*this._resolution;E.shadowColor="rgba("+255*he[0]+","+255*he[1]+","+255*he[2]+","+D.dropShadowAlpha+")",E.shadowBlur=b,E.shadowOffsetX=Math.cos(D.dropShadowAngle)*U,E.shadowOffsetY=Math.sin(D.dropShadowAngle)*U+Ie}else E.fillStyle=this._generateFillStyle(D,A,J),E.strokeStyle=D.stroke,E.shadowColor="black",E.shadowBlur=0,E.shadowOffsetX=0,E.shadowOffsetY=0;var V=(T-j.fontSize)/2;(!x.nextLineHeightBehavior||T-j.fontSize<0)&&(V=0);for(var te=0;te<A.length;te++)G=D.strokeThickness/2,O=D.strokeThickness/2+te*T+j.ascent+V,D.align==="right"?G+=L-y[te]:D.align==="center"&&(G+=(L-y[te])/2),D.stroke&&D.strokeThickness&&this.drawLetterSpacing(A[te],G+D.padding,O+D.padding-be,!0),D.fill&&this.drawLetterSpacing(A[te],G+D.padding,O+D.padding-be)}this.updateTexture()}},x.prototype.drawLetterSpacing=function(X,D,G,O){O===void 0&&(O=!1);var E=this._style.letterSpacing,J=x.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(E===0||J)return J&&(this.context.letterSpacing=E,this.context.textLetterSpacing=E),void(O?this.context.strokeText(X,D,G):this.context.fillText(X,D,G));for(var q=D,K=Array.from?Array.from(X):X.split(""),A=this.context.measureText(X).width,T=0,y=0;y<K.length;++y){var L=K[y];O?this.context.strokeText(L,q,G):this.context.fillText(L,q,G);for(var j="",Q=y+1;Q<K.length;++Q)j+=K[Q];q+=A-(T=this.context.measureText(j).width)+E,A=T}},x.prototype.updateTexture=function(){var X=this.canvas;if(this._style.trim){var D=(0,M.trimCanvas)(X);D.data&&(X.width=D.width,X.height=D.height,this.context.putImageData(D.data,0,0))}var G=this._texture,O=this._style,E=O.trim?0:O.padding,J=G.baseTexture;G.trim.width=G._frame.width=X.width/this._resolution,G.trim.height=G._frame.height=X.height/this._resolution,G.trim.x=-E,G.trim.y=-E,G.orig.width=G._frame.width-2*E,G.orig.height=G._frame.height-2*E,this._onTextureUpdate(),J.setRealSize(X.width,X.height,this._resolution),G.updateUvs(),this._recursivePostUpdateTransform(),this.dirty=!1},x.prototype._render=function(X){this._autoResolution&&this._resolution!==X.resolution&&(this._resolution=X.resolution,this.dirty=!0),this.updateText(!0),c.prototype._render.call(this,X)},x.prototype.getLocalBounds=function(X){return this.updateText(!0),c.prototype.getLocalBounds.call(this,X)},x.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},x.prototype._generateFillStyle=function(X,D,G){var O,E=X.fill;if(!Array.isArray(E))return E;if(E.length===1)return E[0];var J=X.dropShadow?X.dropShadowDistance:0,q=X.padding||0,K=this.canvas.width/this._resolution-J-2*q,A=this.canvas.height/this._resolution-J-2*q,T=E.slice(),y=X.fillGradientStops.slice();if(!y.length)for(var L=T.length+1,j=1;j<L;++j)y.push(j/L);if(T.unshift(E[0]),y.unshift(0),T.push(E[E.length-1]),y.push(1),X.fillGradientType===B.LINEAR_VERTICAL){O=this.context.createLinearGradient(K/2,q,K/2,A+q);var Q=G.fontProperties.fontSize+X.strokeThickness;for(j=0;j<D.length;j++){var ee=G.lineHeight*(j-1)+Q,ne=G.lineHeight*j,be=ne;j>0&&ee>ne&&(be=(ne+ee)/2);var Ie=ne+Q,Ce=G.lineHeight*(j+1),he=Ie;j+1<D.length&&Ce<Ie&&(he=(Ie+Ce)/2);for(var b=(he-be)/A,U=0;U<T.length;U++){var V=0;V=typeof y[U]=="number"?y[U]:U/T.length;var te=Math.min(1,Math.max(0,be/A+V*b));te=Number(te.toFixed(5)),O.addColorStop(te,T[U])}}}else{O=this.context.createLinearGradient(q,A/2,K+q,A/2);var re=T.length+1,ae=1;for(j=0;j<T.length;j++){var _e=void 0;_e=typeof y[j]=="number"?y[j]:ae/re,O.addColorStop(_e,T[j]),ae++}}return O},x.prototype.destroy=function(X){typeof X=="boolean"&&(X={children:X}),X=Object.assign({},k,X),c.prototype.destroy.call(this,X),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(x.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(X){this.updateText(!0);var D=(0,M.sign)(this.scale.x)||1;this.scale.x=D*X/this._texture.orig.width,this._width=X},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(X){this.updateText(!0);var D=(0,M.sign)(this.scale.y)||1;this.scale.y=D*X/this._texture.orig.height,this._height=X},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"style",{get:function(){return this._style},set:function(X){X=X||{},this._style=X instanceof v?X:new v(X),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"text",{get:function(){return this._text},set:function(X){X=String(X??""),this._text!==X&&(this._text=X,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(x.prototype,"resolution",{get:function(){return this._resolution},set:function(X){this._autoResolution=!1,this._resolution!==X&&(this._resolution=X,this.dirty=!0)},enumerable:!1,configurable:!0}),x.nextLineHeightBehavior=!1,x.experimentalLetterSpacing=!1,x}(h.j)},1298:(ye,le,d)=>{d.d(le,{Sb:()=>z,uF:()=>B,vB:()=>W});var B,h=d(875);h.X.TARGET_FPMS=.06,function(M){M[M.INTERACTION=50]="INTERACTION",M[M.HIGH=25]="HIGH",M[M.NORMAL=0]="NORMAL",M[M.LOW=-25]="LOW",M[M.UTILITY=-50]="UTILITY"}(B||(B={}));var P=function(){function M(R,F,Y,S){F===void 0&&(F=null),Y===void 0&&(Y=0),S===void 0&&(S=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=R,this.context=F,this.priority=Y,this.once=S}return M.prototype.match=function(R,F){return F===void 0&&(F=null),this.fn===R&&this.context===F},M.prototype.emit=function(R){this.fn&&(this.context?this.fn.call(this.context,R):this.fn(R));var F=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),F},M.prototype.connect=function(R){this.previous=R,R.next&&(R.next.previous=this),this.next=R.next,R.next=this},M.prototype.destroy=function(R){R===void 0&&(R=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var F=this.next;return this.next=R?null:F,this.previous=null,F},M}(),W=function(){function M(){var R=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new P(null,null,1/0),this.deltaMS=1/h.X.TARGET_FPMS,this.elapsedMS=1/h.X.TARGET_FPMS,this._tick=function(F){R._requestId=null,R.started&&(R.update(F),R.started&&R._requestId===null&&R._head.next&&(R._requestId=requestAnimationFrame(R._tick)))}}return M.prototype._requestIfNeeded=function(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},M.prototype._cancelIfNeeded=function(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)},M.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},M.prototype.add=function(R,F,Y){return Y===void 0&&(Y=B.NORMAL),this._addListener(new P(R,F,Y))},M.prototype.addOnce=function(R,F,Y){return Y===void 0&&(Y=B.NORMAL),this._addListener(new P(R,F,Y,!0))},M.prototype._addListener=function(R){var F=this._head.next,Y=this._head;if(F){for(;F;){if(R.priority>F.priority){R.connect(Y);break}Y=F,F=F.next}R.previous||R.connect(Y)}else R.connect(Y);return this._startIfPossible(),this},M.prototype.remove=function(R,F){for(var Y=this._head.next;Y;)Y=Y.match(R,F)?Y.destroy():Y.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(M.prototype,"count",{get:function(){if(!this._head)return 0;for(var R=0,F=this._head;F=F.next;)R++;return R},enumerable:!1,configurable:!0}),M.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},M.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},M.prototype.destroy=function(){if(!this._protected){this.stop();for(var R=this._head.next;R;)R=R.destroy(!0);this._head.destroy(),this._head=null}},M.prototype.update=function(R){var F;if(R===void 0&&(R=performance.now()),R>this.lastTime){if((F=this.elapsedMS=R-this.lastTime)>this._maxElapsedMS&&(F=this._maxElapsedMS),F*=this.speed,this._minElapsedMS){var Y=R-this._lastFrame|0;if(Y<this._minElapsedMS)return;this._lastFrame=R-Y%this._minElapsedMS}this.deltaMS=F,this.deltaTime=this.deltaMS*h.X.TARGET_FPMS;for(var S=this._head,v=S.next;v;)v=v.emit(this.deltaTime);S.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=R},Object.defineProperty(M.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(R){var F=Math.min(this.maxFPS,R),Y=Math.min(Math.max(0,F)/1e3,h.X.TARGET_FPMS);this._maxElapsedMS=1/Y},enumerable:!1,configurable:!0}),Object.defineProperty(M.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(R){if(R===0)this._minElapsedMS=0;else{var F=Math.max(this.minFPS,R);this._minElapsedMS=1/(F/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(M,"shared",{get:function(){if(!M._shared){var R=M._shared=new M;R.autoStart=!0,R._protected=!0}return M._shared},enumerable:!1,configurable:!0}),Object.defineProperty(M,"system",{get:function(){if(!M._system){var R=M._system=new M;R.autoStart=!0,R._protected=!0}return M._system},enumerable:!1,configurable:!0}),M}(),z=function(){function M(){}return M.init=function(R){var F=this;R=Object.assign({autoStart:!0,sharedTicker:!1},R),Object.defineProperty(this,"ticker",{set:function(Y){this._ticker&&this._ticker.remove(this.render,this),this._ticker=Y,Y&&Y.add(this.render,this,B.LOW)},get:function(){return this._ticker}}),this.stop=function(){F._ticker.stop()},this.start=function(){F._ticker.start()},this._ticker=null,this.ticker=R.sharedTicker?W.shared:new W,R.autoStart&&this.start()},M.destroy=function(){if(this._ticker){var R=this._ticker;this.ticker=null,R.destroy()}},M}()},5579:(ye,le,d)=>{d.r(le),d.d(le,{BaseTextureCache:()=>he,CanvasRenderTarget:()=>V,DATA_URI:()=>ae,EventEmitter:()=>P.a,ProgramCache:()=>Ie,TextureCache:()=>Ce,clearTextureCache:()=>U,correctBlendMode:()=>X,createIndicesForQuads:()=>E,decomposeDataUri:()=>_e,deprecation:()=>be,destroyTextureCache:()=>b,determineCrossOrigin:()=>Oe,earcut:()=>z.a,getBufferType:()=>J,getResolutionOfUrl:()=>de,hex2rgb:()=>w,hex2string:()=>N,interleaveTypedArrays:()=>K,isMobile:()=>B.t,isPow2:()=>T,isWebGLSupported:()=>u,log2:()=>y,nextPow2:()=>A,premultiplyBlendMode:()=>x,premultiplyRgba:()=>D,premultiplyTint:()=>G,premultiplyTintToRgba:()=>O,removeItems:()=>L,rgb2hex:()=>C,sayHello:()=>a,sign:()=>j,skipHello:()=>n,string2hex:()=>k,trimCanvas:()=>te,uid:()=>ee,url:()=>F});var B=d(875),h=d(6913),P=d.n(h),W=d(6957),z=d.n(W),M=d(1096),R=d(3736),F={parse:M.Qc,format:M.WU,resolve:M.DB};B.X.RETINA_PREFIX=/@([0-9\.]+)x/,B.X.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Y,S=!1,v="6.3.0";function n(){S=!0}function a(ge){S||(navigator.userAgent.toLowerCase().indexOf("chrome")>-1||globalThis.console&&globalThis.console.log("PixiJS "+v+" - "+ge+" - http://www.pixijs.com/"),S=!0)}function u(){return Y===void 0&&(Y=function(){var ge={stencil:!0,failIfMajorPerformanceCaveat:B.X.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!globalThis.WebGLRenderingContext)return!1;var Ae=document.createElement("canvas"),xe=Ae.getContext("webgl",ge)||Ae.getContext("experimental-webgl",ge),Be=!(!xe||!xe.getContextAttributes().stencil);if(xe){var We=xe.getExtension("WEBGL_lose_context");We&&We.loseContext()}return xe=null,Be}catch{return!1}}()),Y}var p={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function w(ge,Ae){return Ae===void 0&&(Ae=[]),Ae[0]=(ge>>16&255)/255,Ae[1]=(ge>>8&255)/255,Ae[2]=(255&ge)/255,Ae}function N(ge){var Ae=ge.toString(16);return"#"+(Ae="000000".substring(0,6-Ae.length)+Ae)}function k(ge){return typeof ge=="string"&&(ge=p[ge.toLowerCase()]||ge)[0]==="#"&&(ge=ge.slice(1)),parseInt(ge,16)}function C(ge){return(255*ge[0]<<16)+(255*ge[1]<<8)+(255*ge[2]|0)}function c(){for(var ge=[],Ae=[],xe=0;xe<32;xe++)ge[xe]=xe,Ae[xe]=xe;ge[R.T$.NORMAL_NPM]=R.T$.NORMAL,ge[R.T$.ADD_NPM]=R.T$.ADD,ge[R.T$.SCREEN_NPM]=R.T$.SCREEN,Ae[R.T$.NORMAL]=R.T$.NORMAL_NPM,Ae[R.T$.ADD]=R.T$.ADD_NPM,Ae[R.T$.SCREEN]=R.T$.SCREEN_NPM;var Be=[];return Be.push(Ae),Be.push(ge),Be}var x=c();function X(ge,Ae){return x[Ae?1:0][ge]}function D(ge,Ae,xe,Be){return xe=xe||new Float32Array(4),Be||Be===void 0?(xe[0]=ge[0]*Ae,xe[1]=ge[1]*Ae,xe[2]=ge[2]*Ae):(xe[0]=ge[0],xe[1]=ge[1],xe[2]=ge[2]),xe[3]=Ae,xe}function G(ge,Ae){if(Ae===1)return(255*Ae<<24)+ge;if(Ae===0)return 0;var xe=ge>>16&255,Be=ge>>8&255,We=255&ge;return(255*Ae<<24)+((xe=xe*Ae+.5|0)<<16)+((Be=Be*Ae+.5|0)<<8)+(We=We*Ae+.5|0)}function O(ge,Ae,xe,Be){return(xe=xe||new Float32Array(4))[0]=(ge>>16&255)/255,xe[1]=(ge>>8&255)/255,xe[2]=(255&ge)/255,(Be||Be===void 0)&&(xe[0]*=Ae,xe[1]*=Ae,xe[2]*=Ae),xe[3]=Ae,xe}function E(ge,Ae){Ae===void 0&&(Ae=null);var xe=6*ge;if((Ae=Ae||new Uint16Array(xe)).length!==xe)throw new Error("Out buffer length is incorrect, got "+Ae.length+" and expected "+xe);for(var Be=0,We=0;Be<xe;Be+=6,We+=4)Ae[Be+0]=We+0,Ae[Be+1]=We+1,Ae[Be+2]=We+2,Ae[Be+3]=We+0,Ae[Be+4]=We+2,Ae[Be+5]=We+3;return Ae}function J(ge){if(ge.BYTES_PER_ELEMENT===4)return ge instanceof Float32Array?"Float32Array":ge instanceof Uint32Array?"Uint32Array":"Int32Array";if(ge.BYTES_PER_ELEMENT===2){if(ge instanceof Uint16Array)return"Uint16Array"}else if(ge.BYTES_PER_ELEMENT===1&&ge instanceof Uint8Array)return"Uint8Array";return null}var q={Float32Array,Uint32Array,Int32Array,Uint8Array};function K(ge,Ae){for(var xe=0,Be=0,We={},qe=0;qe<ge.length;qe++)Be+=Ae[qe],xe+=ge[qe].length;var tt=new ArrayBuffer(4*xe),vt=null,yt=0;for(qe=0;qe<ge.length;qe++){var rt=Ae[qe],mt=ge[qe],Ee=J(mt);We[Ee]||(We[Ee]=new q[Ee](tt)),vt=We[Ee];for(var je=0;je<mt.length;je++)vt[(je/rt|0)*Be+yt+je%rt]=mt[je];yt+=rt}return new Float32Array(tt)}function A(ge){return ge+=ge===0?1:0,--ge,ge|=ge>>>1,ge|=ge>>>2,ge|=ge>>>4,ge|=ge>>>8,(ge|=ge>>>16)+1}function T(ge){return!(ge&ge-1||!ge)}function y(ge){var Ae=(ge>65535?1:0)<<4,xe=((ge>>>=Ae)>255?1:0)<<3;return Ae|=xe,Ae|=xe=((ge>>>=xe)>15?1:0)<<2,(Ae|=xe=((ge>>>=xe)>3?1:0)<<1)|(ge>>>=xe)>>1}function L(ge,Ae,xe){var Be,We=ge.length;if(!(Ae>=We||xe===0)){var qe=We-(xe=Ae+xe>We?We-Ae:xe);for(Be=Ae;Be<qe;++Be)ge[Be]=ge[Be+xe];ge.length=qe}}function j(ge){return ge===0?0:ge<0?-1:1}var Q=0;function ee(){return++Q}var ne={};function be(ge,Ae,xe){if(xe===void 0&&(xe=3),!ne[Ae]){var Be=new Error().stack;Be===void 0?console.warn("PixiJS Deprecation Warning: ",Ae+`
Deprecated since v`+ge):(Be=Be.split(`
`).splice(xe).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",Ae+`
Deprecated since v`+ge),console.warn(Be),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",Ae+`
Deprecated since v`+ge),console.warn(Be))),ne[Ae]=!0}}var Ie={},Ce=Object.create(null),he=Object.create(null);function b(){var ge;for(ge in Ce)Ce[ge].destroy();for(ge in he)he[ge].destroy()}function U(){var ge;for(ge in Ce)delete Ce[ge];for(ge in he)delete he[ge]}var V=function(){function ge(Ae,xe,Be){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=Be||B.X.RESOLUTION,this.resize(Ae,xe)}return ge.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},ge.prototype.resize=function(Ae,xe){this.canvas.width=Math.round(Ae*this.resolution),this.canvas.height=Math.round(xe*this.resolution)},ge.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(ge.prototype,"width",{get:function(){return this.canvas.width},set:function(Ae){this.canvas.width=Math.round(Ae)},enumerable:!1,configurable:!0}),Object.defineProperty(ge.prototype,"height",{get:function(){return this.canvas.height},set:function(Ae){this.canvas.height=Math.round(Ae)},enumerable:!1,configurable:!0}),ge}();function te(ge){var Ae,xe,Be,We=ge.width,qe=ge.height,tt=ge.getContext("2d"),vt=tt.getImageData(0,0,We,qe).data,yt=vt.length,rt={top:null,left:null,right:null,bottom:null},mt=null;for(Ae=0;Ae<yt;Ae+=4)vt[Ae+3]!==0&&(xe=Ae/4%We,Be=~~(Ae/4/We),rt.top===null&&(rt.top=Be),(rt.left===null||xe<rt.left)&&(rt.left=xe),(rt.right===null||rt.right<xe)&&(rt.right=xe+1),(rt.bottom===null||rt.bottom<Be)&&(rt.bottom=Be));return rt.top!==null&&(We=rt.right-rt.left,qe=rt.bottom-rt.top+1,mt=tt.getImageData(rt.left,rt.top,We,qe)),{height:qe,width:We,data:mt}}var re,ae=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function _e(ge){var Ae=ae.exec(ge);if(Ae)return{mediaType:Ae[1]?Ae[1].toLowerCase():void 0,subType:Ae[2]?Ae[2].toLowerCase():void 0,charset:Ae[3]?Ae[3].toLowerCase():void 0,encoding:Ae[4]?Ae[4].toLowerCase():void 0,data:Ae[5]}}function Oe(ge,Ae){if(Ae===void 0&&(Ae=globalThis.location),ge.indexOf("data:")===0)return"";Ae=Ae||globalThis.location,re||(re=document.createElement("a")),re.href=ge;var xe=F.parse(re.href),Be=!xe.port&&Ae.port===""||xe.port===Ae.port;return xe.hostname===Ae.hostname&&Be&&xe.protocol===Ae.protocol?"":"anonymous"}function de(ge,Ae){var xe=B.X.RETINA_PREFIX.exec(ge);return xe?parseFloat(xe[1]):Ae!==void 0?Ae:1}},4469:(ye,le,d)=>{d.d(le,{R:()=>Ce});var B=d(135),h=d(2390),P=d(8684),W=d(6027),z=d(4503),M=d(5800),R=d(8321),F=d(9293),Y=d(7593),S=d(6629),v=d(6979),n=d(3553),a=d(2190),u=d(9276),p=d(3621),w=[];function N(he){return he.reduce(function(b,U){return b.every(function(V){return U.name!==V.name})&&b.push(U),b},[])}function k(he){var b=he.defaultIntegrations&&(0,h.fl)(he.defaultIntegrations)||[],U=he.integrations,V=(0,h.fl)(N(b));Array.isArray(U)?V=(0,h.fl)(V.filter(function(ae){return U.every(function(_e){return _e.name!==ae.name})}),N(U)):typeof U=="function"&&(V=U(V),V=Array.isArray(V)?V:[V]);var te=V.map(function(ae){return ae.name}),re="Debug";return te.indexOf(re)!==-1&&V.push.apply(V,(0,h.fl)(V.splice(te.indexOf(re),1))),V}function C(he){w.indexOf(he.name)===-1&&(he.setupOnce(P.c,u.Gd),w.push(he.name),(0,M.c)()&&R.kg.log("Integration installed: "+he.name))}function c(he){var b={};return k(he).forEach(function(U){b[U.name]=U,C(U)}),(0,p.xp)(b,"initialized",!0),b}var x="Not capturing exception because it's already been captured.",X=function(){function he(b,U){this._integrations={},this._numProcessing=0,this._backend=new b(U),this._options=U,U.dsn&&(this._dsn=(0,W.v)(U.dsn))}return he.prototype.captureException=function(b,U,V){var te=this;if(!(0,z.YO)(b)){var re=U&&U.event_id;return this._process(this._getBackend().eventFromException(b,U).then(function(ae){return te._captureEvent(ae,U,V)}).then(function(ae){re=ae})),re}(0,M.c)()&&R.kg.log(x)},he.prototype.captureMessage=function(b,U,V,te){var re=this,ae=V&&V.event_id,_e=(0,F.pt)(b)?this._getBackend().eventFromMessage(String(b),U,V):this._getBackend().eventFromException(b,V);return this._process(_e.then(function(Oe){return re._captureEvent(Oe,V,te)}).then(function(Oe){ae=Oe})),ae},he.prototype.captureEvent=function(b,U,V){if(!(U&&U.originalException&&(0,z.YO)(U.originalException))){var te=U&&U.event_id;return this._process(this._captureEvent(b,U,V).then(function(re){te=re})),te}(0,M.c)()&&R.kg.log(x)},he.prototype.captureSession=function(b){this._isEnabled()?typeof b.release!="string"?(0,M.c)()&&R.kg.warn("Discarded session because of missing or non-string release"):(this._sendSession(b),b.update({init:!1})):(0,M.c)()&&R.kg.warn("SDK not enabled, will not capture session.")},he.prototype.getDsn=function(){return this._dsn},he.prototype.getOptions=function(){return this._options},he.prototype.getTransport=function(){return this._getBackend().getTransport()},he.prototype.flush=function(b){var U=this;return this._isClientDoneProcessing(b).then(function(V){return U.getTransport().close(b).then(function(te){return V&&te})})},he.prototype.close=function(b){var U=this;return this.flush(b).then(function(V){return U.getOptions().enabled=!1,V})},he.prototype.setupIntegrations=function(){this._isEnabled()&&!this._integrations.initialized&&(this._integrations=c(this._options))},he.prototype.getIntegration=function(b){try{return this._integrations[b.id]||null}catch{return(0,M.c)()&&R.kg.warn("Cannot retrieve integration "+b.id+" from the current Client"),null}},he.prototype._updateSessionFromEvent=function(b,U){var V,te,re=!1,ae=!1,_e=U.exception&&U.exception.values;if(_e){ae=!0;try{for(var Oe=(0,h.XA)(_e),de=Oe.next();!de.done;de=Oe.next()){var ge=de.value.mechanism;if(ge&&ge.handled===!1){re=!0;break}}}catch(xe){V={error:xe}}finally{try{de&&!de.done&&(te=Oe.return)&&te.call(Oe)}finally{if(V)throw V.error}}}var Ae=b.status==="ok";(Ae&&b.errors===0||Ae&&re)&&(b.update((0,h.pi)((0,h.pi)({},re&&{status:"crashed"}),{errors:b.errors||Number(ae||re)})),this.captureSession(b))},he.prototype._sendSession=function(b){this._getBackend().sendSession(b)},he.prototype._isClientDoneProcessing=function(b){var U=this;return new Y.cW(function(V){var te=0,re=1,ae=setInterval(function(){U._numProcessing==0?(clearInterval(ae),V(!0)):(te+=re,b&&te>=b&&(clearInterval(ae),V(!1)))},re)})},he.prototype._getBackend=function(){return this._backend},he.prototype._isEnabled=function(){return this.getOptions().enabled!==!1&&this._dsn!==void 0},he.prototype._prepareEvent=function(b,U,V){var te=this,re=this.getOptions(),ae=re.normalizeDepth,_e=ae===void 0?3:ae,Oe=re.normalizeMaxBreadth,de=Oe===void 0?1e3:Oe,ge=(0,h.pi)((0,h.pi)({},b),{event_id:b.event_id||(V&&V.event_id?V.event_id:(0,z.DM)()),timestamp:b.timestamp||(0,S.yW)()});this._applyClientOptions(ge),this._applyIntegrationsMetadata(ge);var Ae=U;V&&V.captureContext&&(Ae=P.s.clone(Ae).update(V.captureContext));var xe=(0,Y.WD)(ge);return Ae&&(xe=Ae.applyToEvent(ge,V)),xe.then(function(Be){return Be&&(Be.sdkProcessingMetadata=(0,h.pi)((0,h.pi)({},Be.sdkProcessingMetadata),{normalizeDepth:(0,v.Fv)(_e)})),typeof _e=="number"&&_e>0?te._normalizeEvent(Be,_e,de):Be})},he.prototype._normalizeEvent=function(b,U,V){if(!b)return null;var te=(0,h.pi)((0,h.pi)((0,h.pi)((0,h.pi)((0,h.pi)({},b),b.breadcrumbs&&{breadcrumbs:b.breadcrumbs.map(function(re){return(0,h.pi)((0,h.pi)({},re),re.data&&{data:(0,v.Fv)(re.data,U,V)})})}),b.user&&{user:(0,v.Fv)(b.user,U,V)}),b.contexts&&{contexts:(0,v.Fv)(b.contexts,U,V)}),b.extra&&{extra:(0,v.Fv)(b.extra,U,V)});return b.contexts&&b.contexts.trace&&(te.contexts.trace=b.contexts.trace),te.sdkProcessingMetadata=(0,h.pi)((0,h.pi)({},te.sdkProcessingMetadata),{baseClientNormalized:!0}),te},he.prototype._applyClientOptions=function(b){var U=this.getOptions(),V=U.environment,te=U.release,re=U.dist,ae=U.maxValueLength,_e=ae===void 0?250:ae;"environment"in b||(b.environment="environment"in U?V:"production"),b.release===void 0&&te!==void 0&&(b.release=te),b.dist===void 0&&re!==void 0&&(b.dist=re),b.message&&(b.message=(0,n.$G)(b.message,_e));var Oe=b.exception&&b.exception.values&&b.exception.values[0];Oe&&Oe.value&&(Oe.value=(0,n.$G)(Oe.value,_e));var de=b.request;de&&de.url&&(de.url=(0,n.$G)(de.url,_e))},he.prototype._applyIntegrationsMetadata=function(b){var U=Object.keys(this._integrations);U.length>0&&(b.sdk=b.sdk||{},b.sdk.integrations=(0,h.fl)(b.sdk.integrations||[],U))},he.prototype._sendEvent=function(b){this._getBackend().sendEvent(b)},he.prototype._captureEvent=function(b,U,V){return this._processEvent(b,U,V).then(function(te){return te.event_id},function(te){(0,M.c)()&&R.kg.error(te)})},he.prototype._processEvent=function(b,U,V){var te=this,re=this.getOptions(),ae=re.beforeSend,_e=re.sampleRate,Oe=this.getTransport();function de(Ae,xe){Oe.recordLostEvent&&Oe.recordLostEvent(Ae,xe)}if(!this._isEnabled())return(0,Y.$2)(new a.b("SDK not enabled, will not capture event."));var ge=b.type==="transaction";return!ge&&typeof _e=="number"&&Math.random()>_e?(de("sample_rate","event"),(0,Y.$2)(new a.b("Discarding event because it's not included in the random sample (sampling rate = "+_e+")"))):this._prepareEvent(b,V,U).then(function(Ae){if(Ae===null)throw de("event_processor",b.type||"event"),new a.b("An event processor returned null, will not send event.");return U&&U.data&&U.data.__sentry__===!0||ge||!ae?Ae:D(ae(Ae,U))}).then(function(Ae){if(Ae===null)throw de("before_send",b.type||"event"),new a.b("`beforeSend` returned `null`, will not send event.");var xe=V&&V.getSession&&V.getSession();return!ge&&xe&&te._updateSessionFromEvent(xe,Ae),te._sendEvent(Ae),Ae}).then(null,function(Ae){throw Ae instanceof a.b?Ae:(te.captureException(Ae,{data:{__sentry__:!0},originalException:Ae}),new a.b(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: `+Ae))})},he.prototype._process=function(b){var U=this;this._numProcessing+=1,b.then(function(V){return U._numProcessing-=1,V},function(V){return U._numProcessing-=1,V})},he}();function D(he){var b="`beforeSend` method has to return `null` or a valid event.";if((0,F.J8)(he))return he.then(function(U){if(!(0,F.PO)(U)&&U!==null)throw new a.b(b);return U},function(U){throw new a.b("beforeSend rejected with "+U)});if(!(0,F.PO)(he)&&he!==null)throw new a.b(b);return he}var G=d(7735),O=d(3868),E=d(9778),J=d(5338),q=function(){function he(){}return he.prototype.sendEvent=function(b){return(0,Y.WD)({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:"skipped"})},he.prototype.close=function(b){return(0,Y.WD)(!0)},he}(),K=function(){function he(b){this._options=b,this._options.dsn||(0,M.c)()&&R.kg.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return he.prototype.eventFromException=function(b,U){throw new a.b("Backend has to implement `eventFromException` method")},he.prototype.eventFromMessage=function(b,U,V){throw new a.b("Backend has to implement `eventFromMessage` method")},he.prototype.sendEvent=function(b){if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var U=(0,E.hd)(this._options.dsn,this._options._metadata,this._options.tunnel),V=(0,J.Mq)(b,U);this._newTransport.send(V).then(null,function(te){(0,M.c)()&&R.kg.error("Error while sending event:",te)})}else this._transport.sendEvent(b).then(null,function(te){(0,M.c)()&&R.kg.error("Error while sending event:",te)})},he.prototype.sendSession=function(b){if(this._transport.sendSession)if(this._newTransport&&this._options.dsn&&this._options._experiments&&this._options._experiments.newTransport){var U=(0,E.hd)(this._options.dsn,this._options._metadata,this._options.tunnel),V=(0,h.CR)((0,J.Q3)(b,U),1)[0];this._newTransport.send(V).then(null,function(te){(0,M.c)()&&R.kg.error("Error while sending session:",te)})}else this._transport.sendSession(b).then(null,function(te){(0,M.c)()&&R.kg.error("Error while sending session:",te)});else(0,M.c)()&&R.kg.warn("Dropping session because custom transport doesn't implement sendSession")},he.prototype.getTransport=function(){return this._transport},he.prototype._setupTransport=function(){return new q},he}(),A=d(3732),T=d(9018),y=d(7938),L=d(9431),j=d(9816),Q=d(6040),ee=d(1708),ne=function(he){function b(){return he!==null&&he.apply(this,arguments)||this}return(0,B.ZT)(b,he),b.prototype.eventFromException=function(U,V){return(0,y.dr)(U,V,this._options.attachStacktrace)},b.prototype.eventFromMessage=function(U,V,te){return V===void 0&&(V=A.z.Info),(0,y.aB)(U,V,te,this._options.attachStacktrace)},b.prototype._setupTransport=function(){if(!this._options.dsn)return he.prototype._setupTransport.call(this);var U=(0,B.pi)((0,B.pi)({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,sendClientReports:this._options.sendClientReports,_metadata:this._options._metadata}),V=(0,E.hd)(U.dsn,U._metadata,U.tunnel),te=(0,E.Ut)(V.dsn,V.tunnel);if(this._options.transport)return new this._options.transport(U);if((0,T.Ak)()){var re=(0,B.pi)({},U.fetchParameters);return this._newTransport=(0,L.k)({requestOptions:re,url:te}),new j.V(U)}return this._newTransport=(0,Q.H)({url:te,headers:U.headers}),new ee.w(U)},b}(K),be=d(9e3),Ie=d(422),Ce=function(he){function b(U){return U===void 0&&(U={}),U._metadata=U._metadata||{},U._metadata.sdk=U._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:G.J}],version:G.J},he.call(this,ne,U)||this}return(0,B.ZT)(b,he),b.prototype.showReportDialog=function(U){U===void 0&&(U={}),(0,O.R)().document&&(this._isEnabled()?(0,be.BS)((0,B.pi)((0,B.pi)({},U),{dsn:U.dsn||this.getDsn()})):(0,M.c)()&&R.kg.error("Trying to call showReportDialog with Sentry Client disabled"))},b.prototype._prepareEvent=function(U,V,te){return U.platform=U.platform||"javascript",he.prototype._prepareEvent.call(this,U,V,te)},b.prototype._sendEvent=function(U){var V=this.getIntegration(Ie.O);V&&V.addSentryBreadcrumb(U),he.prototype._sendEvent.call(this,U)},b}(X)},7938:(ye,le,d)=>{d.d(le,{dr:()=>T,aB:()=>y,ME:()=>L,GJ:()=>G});var B=d(135),h=d(3732),P=d(9293),W=d(3621),z=d(6979),M=d(313),R=d(4503),F=d(7593),Y="?";function S(Q,ee,ne,be){var Ie={filename:Q,function:ee,in_app:!0};return ne!==void 0&&(Ie.lineno=ne),be!==void 0&&(Ie.colno=be),Ie}var v=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,n=/\((\S*)(?::(\d+))(?::(\d+))\)/,a=[30,function(Q){var ee=v.exec(Q);if(ee){if(ee[2]&&ee[2].indexOf("eval")===0){var ne=n.exec(ee[2]);ne&&(ee[2]=ne[1],ee[3]=ne[2],ee[4]=ne[3])}var be=(0,B.CR)(D(ee[1]||Y,ee[2]),2),Ie=be[0];return S(be[1],Ie,ee[3]?+ee[3]:void 0,ee[4]?+ee[4]:void 0)}}],u=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,p=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,w=[50,function(Q){var ee,ne=u.exec(Q);if(ne){if(ne[3]&&ne[3].indexOf(" > eval")>-1){var be=p.exec(ne[3]);be&&(ne[1]=ne[1]||"eval",ne[3]=be[1],ne[4]=be[2],ne[5]="")}var Ie=ne[3],Ce=ne[1]||Y;return Ce=(ee=(0,B.CR)(D(Ce,Ie),2))[0],S(Ie=ee[1],Ce,ne[4]?+ne[4]:void 0,ne[5]?+ne[5]:void 0)}}],N=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,k=[40,function(Q){var ee=N.exec(Q);return ee?S(ee[2],ee[1]||Y,+ee[3],ee[4]?+ee[4]:void 0):void 0}],C=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,c=[10,function(Q){var ee=C.exec(Q);return ee?S(ee[2],ee[3]||Y,+ee[1]):void 0}],x=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,X=[20,function(Q){var ee=x.exec(Q);return ee?S(ee[5],ee[3]||ee[4]||Y,+ee[1],+ee[2]):void 0}],D=function(Q,ee){var ne=Q.indexOf("safari-extension")!==-1,be=Q.indexOf("safari-web-extension")!==-1;return ne||be?[Q.indexOf("@")!==-1?Q.split("@")[0]:Y,ne?"safari-extension:"+ee:"safari-web-extension:"+ee]:[Q,ee]};function G(Q){var ee=J(Q),ne={type:Q&&Q.name,value:A(Q)};return ee.length&&(ne.stacktrace={frames:ee}),ne.type===void 0&&ne.value===""&&(ne.value="Unrecoverable error caught"),ne}function O(Q,ee,ne){var be={exception:{values:[{type:(0,P.cO)(Q)?Q.constructor.name:ne?"UnhandledRejection":"Error",value:"Non-Error "+(ne?"promise rejection":"exception")+" captured with keys: "+(0,W.zf)(Q)}]},extra:{__serialized__:(0,z.Qy)(Q)}};if(ee){var Ie=J(ee);Ie.length&&(be.stacktrace={frames:Ie})}return be}function E(Q){return{exception:{values:[G(Q)]}}}function J(Q){var ee=Q.stacktrace||Q.stack||"",ne=K(Q);try{return(0,M.pE)(c,X,a,k,w)(ee,ne)}catch{}return[]}var q=/Minified React error #\d+;/i;function K(Q){if(Q){if(typeof Q.framesToPop=="number")return Q.framesToPop;if(q.test(Q.message))return 1}return 0}function A(Q){var ee=Q&&Q.message;return ee?ee.error&&typeof ee.error.message=="string"?ee.error.message:ee:"No error message"}function T(Q,ee,ne){var be=L(Q,ee&&ee.syntheticException||void 0,ne);return(0,R.EG)(be),be.level=h.z.Error,ee&&ee.event_id&&(be.event_id=ee.event_id),(0,F.WD)(be)}function y(Q,ee,ne,be){ee===void 0&&(ee=h.z.Info);var Ie=j(Q,ne&&ne.syntheticException||void 0,be);return Ie.level=ee,ne&&ne.event_id&&(Ie.event_id=ne.event_id),(0,F.WD)(Ie)}function L(Q,ee,ne,be){var Ie;if((0,P.VW)(Q)&&Q.error)return E(Q.error);if((0,P.TX)(Q)||(0,P.fm)(Q)){var Ce=Q;if("stack"in Q)Ie=E(Q);else{var he=Ce.name||((0,P.TX)(Ce)?"DOMError":"DOMException"),b=Ce.message?he+": "+Ce.message:he;Ie=j(b,ee,ne),(0,R.Db)(Ie,b)}return"code"in Ce&&(Ie.tags=(0,B.pi)((0,B.pi)({},Ie.tags),{"DOMException.code":""+Ce.code})),Ie}return(0,P.VZ)(Q)?E(Q):(0,P.PO)(Q)||(0,P.cO)(Q)?(Ie=O(Q,ee,be),(0,R.EG)(Ie,{synthetic:!0}),Ie):(Ie=j(Q,ee,ne),(0,R.Db)(Ie,""+Q,void 0),(0,R.EG)(Ie,{synthetic:!0}),Ie)}function j(Q,ee,ne){var be={message:Q};if(ne&&ee){var Ie=J(ee);Ie.length&&(be.stacktrace={frames:Ie})}return be}},9e3:(ye,le,d)=>{d.d(le,{BS:()=>u,Wz:()=>v,re:()=>a});var B=d(135),h=d(2517),P=d(9778),W=d(3868),z=d(3621),M=d(4503),R=d(5800),F=d(8321),Y=(0,W.R)(),S=0;function v(){return S>0}function n(){S+=1,setTimeout(function(){S-=1})}function a(p,w,N){if(w===void 0&&(w={}),typeof p!="function")return p;try{var k=p.__sentry_wrapped__;if(k)return k;if((0,z.HK)(p))return p}catch{return p}var C=function(){var x=Array.prototype.slice.call(arguments);try{N&&typeof N=="function"&&N.apply(this,arguments);var X=x.map(function(D){return a(D,w)});return p.apply(this,X)}catch(D){throw n(),(0,h.$e)(function(G){G.addEventProcessor(function(O){return w.mechanism&&((0,M.Db)(O,void 0,void 0),(0,M.EG)(O,w.mechanism)),O.extra=(0,B.pi)((0,B.pi)({},O.extra),{arguments:x}),O}),(0,h.Tb)(D)}),D}};try{for(var c in p)Object.prototype.hasOwnProperty.call(p,c)&&(C[c]=p[c])}catch{}(0,z.$Q)(C,p),(0,z.xp)(p,"__sentry_wrapped__",C);try{Object.getOwnPropertyDescriptor(C,"name").configurable&&Object.defineProperty(C,"name",{get:function(){return p.name}})}catch{}return C}function u(p){if(p===void 0&&(p={}),Y.document)if(p.eventId)if(p.dsn){var w=Y.document.createElement("script");w.async=!0,w.src=(0,P.hR)(p.dsn,p),p.onLoad&&(w.onload=p.onLoad);var N=Y.document.head||Y.document.body;N&&N.appendChild(w)}else(0,R.c)()&&F.kg.error("Missing dsn option in showReportDialog call");else(0,R.c)()&&F.kg.error("Missing eventId option in showReportDialog call")}},3339:(ye,le,d)=>{d.r(le),d.d(le,{BrowserClient:()=>v.R,Hub:()=>F.Xb,Integrations:()=>y,SDK_NAME:()=>p,SDK_VERSION:()=>S.J,Scope:()=>M.s,Session:()=>Y.z,Severity:()=>z.z,Transports:()=>P,addBreadcrumb:()=>R.n_,addGlobalEventProcessor:()=>M.c,captureEvent:()=>R.eN,captureException:()=>R.Tb,captureMessage:()=>R.uT,close:()=>u.xv,configureScope:()=>R.e,defaultIntegrations:()=>u.SS,eventFromException:()=>a.dr,eventFromMessage:()=>a.aB,flush:()=>u.yl,forceLoad:()=>u.Eg,getCurrentHub:()=>F.Gd,getHubFromCarrier:()=>F.vi,init:()=>u.S1,injectReportDialog:()=>n.BS,lastEventId:()=>u.eW,makeMain:()=>F.pj,onLoad:()=>u.lA,setContext:()=>R.v,setExtra:()=>R.sU,setExtras:()=>R.rJ,setTag:()=>R.YA,setTags:()=>R.mG,setUser:()=>R.av,showReportDialog:()=>u.jp,startTransaction:()=>R.Yr,withScope:()=>R.$e,wrap:()=>u.re});var B={};d.r(B),d.d(B,{FunctionToString:()=>w.c,InboundFilters:()=>N.QD});var h={};d.r(h),d.d(h,{Breadcrumbs:()=>x.O,Dedupe:()=>G.I,GlobalHandlers:()=>C.d,LinkedErrors:()=>X.iP,TryCatch:()=>c.p,UserAgent:()=>D.Z});var P={};d.r(P),d.d(P,{BaseTransport:()=>O.d,FetchTransport:()=>E.V,XHRTransport:()=>J.w,makeNewFetchTransport:()=>q.k,makeNewXHRTransport:()=>K.H});var W=d(135),z=d(3732),M=d(8684),R=d(2517),F=d(9276),Y=d(4218),S=d(7735),v=d(4469),n=d(9e3),a=d(7938),u=d(7585),p="sentry.javascript.browser",w=d(6212),N=d(3513),k=d(3868),C=d(2257),c=d(4648),x=d(422),X=d(2281),D=d(5398),G=d(345),O=d(1057),E=d(9816),J=d(1708),q=d(9431),K=d(6040),A={},T=(0,k.R)();T.Sentry&&T.Sentry.Integrations&&(A=T.Sentry.Integrations);var y=(0,W.pi)((0,W.pi)((0,W.pi)({},A),B),h)},422:(ye,le,d)=>{d.d(le,{O:()=>n});var B=d(135),h=d(9276),P=d(3732),W=["fatal","error","warning","log","info","debug","critical"];function z(k){return W.indexOf(k)!==-1}function M(k){return k==="warn"?P.z.Warning:z(k)?k:P.z.Log}var R=d(4503),F=d(5954),Y=d(6448),S=d(3553),v=d(3868),n=function(){function k(C){this.name=k.id,this._options=(0,B.pi)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},C)}return k.prototype.addSentryBreadcrumb=function(C){this._options.sentry&&(0,h.Gd)().addBreadcrumb({category:"sentry."+(C.type==="transaction"?"transaction":"event"),event_id:C.event_id,level:C.level,message:(0,R.jH)(C)},{event:C})},k.prototype.setupOnce=function(){this._options.console&&(0,F.o)("console",u),this._options.dom&&(0,F.o)("dom",a(this._options.dom)),this._options.xhr&&(0,F.o)("xhr",p),this._options.fetch&&(0,F.o)("fetch",w),this._options.history&&(0,F.o)("history",N)},k.id="Breadcrumbs",k}();function a(k){function C(c){var x,X=typeof k=="object"?k.serializeAttribute:void 0;typeof X=="string"&&(X=[X]);try{x=c.event.target?(0,Y.R)(c.event.target,X):(0,Y.R)(c.event,X)}catch{x="<unknown>"}x.length!==0&&(0,h.Gd)().addBreadcrumb({category:"ui."+c.name,message:x},{event:c.event,name:c.name,global:c.global})}return C}function u(k){var C={category:"console",data:{arguments:k.args,logger:"console"},level:M(k.level),message:(0,S.nK)(k.args," ")};if(k.level==="assert"){if(k.args[0]!==!1)return;C.message="Assertion failed: "+((0,S.nK)(k.args.slice(1)," ")||"console.assert"),C.data.arguments=k.args.slice(1)}(0,h.Gd)().addBreadcrumb(C,{input:k.args,level:k.level})}function p(k){if(k.endTimestamp){if(k.xhr.__sentry_own_request__)return;var C=k.xhr.__sentry_xhr__||{},c=C.method,x=C.url,X=C.status_code,D=C.body;(0,h.Gd)().addBreadcrumb({category:"xhr",data:{method:c,url:x,status_code:X},type:"http"},{xhr:k.xhr,input:D})}}function w(k){k.endTimestamp&&(k.fetchData.url.match(/sentry_key/)&&k.fetchData.method==="POST"||(k.error?(0,h.Gd)().addBreadcrumb({category:"fetch",data:k.fetchData,level:P.z.Error,type:"http"},{data:k.error,input:k.args}):(0,h.Gd)().addBreadcrumb({category:"fetch",data:(0,B.pi)((0,B.pi)({},k.fetchData),{status_code:k.response.status}),type:"http"},{input:k.args,response:k.response})))}function N(k){var C=(0,v.R)(),c=k.from,x=k.to,X=(0,R.en)(C.location.href),D=(0,R.en)(c),G=(0,R.en)(x);D.path||(D=X),X.protocol===G.protocol&&X.host===G.host&&(x=G.relative),X.protocol===D.protocol&&X.host===D.host&&(c=D.relative),(0,h.Gd)().addBreadcrumb({category:"navigation",data:{from:c,to:x}})}},345:(ye,le,d)=>{d.d(le,{I:()=>P});var B=d(5800),h=d(8321),P=function(){function v(){this.name=v.id}return v.prototype.setupOnce=function(n,a){n(function(u){var p=a().getIntegration(v);if(p){try{if(W(u,p._previousEvent))return(0,B.c)()&&h.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{return p._previousEvent=u}return p._previousEvent=u}return u})},v.id="Dedupe",v}();function W(v,n){return!!n&&(!!z(v,n)||!!M(v,n))}function z(v,n){var a=v.message,u=n.message;return!(!a&&!u)&&!(a&&!u||!a&&u)&&a===u&&!!F(v,n)&&!!R(v,n)}function M(v,n){var a=Y(n),u=Y(v);return!(!a||!u)&&a.type===u.type&&a.value===u.value&&!!F(v,n)&&!!R(v,n)}function R(v,n){var a=S(v),u=S(n);if(!a&&!u)return!0;if(a&&!u||!a&&u||(a=a,(u=u).length!==a.length))return!1;for(var p=0;p<u.length;p++){var w=u[p],N=a[p];if(w.filename!==N.filename||w.lineno!==N.lineno||w.colno!==N.colno||w.function!==N.function)return!1}return!0}function F(v,n){var a=v.fingerprint,u=n.fingerprint;if(!a&&!u)return!0;if(a&&!u||!a&&u)return!1;a=a,u=u;try{return a.join("")===u.join("")}catch{return!1}}function Y(v){return v.exception&&v.exception.values&&v.exception.values[0]}function S(v){var n=v.exception;if(n)try{return n.values[0].stacktrace.frames}catch{return}else if(v.stacktrace)return v.stacktrace.frames}},2257:(ye,le,d)=>{d.d(le,{d:()=>n});var B=d(135),h=d(9276),P=d(3732),W=d(5954),z=d(9293),M=d(6448),R=d(5800),F=d(8321),Y=d(4503),S=d(7938),v=d(9e3),n=function(){function x(X){this.name=x.id,this._installFunc={onerror:a,onunhandledrejection:u},this._options=(0,B.pi)({onerror:!0,onunhandledrejection:!0},X)}return x.prototype.setupOnce=function(){Error.stackTraceLimit=50;var X=this._options;for(var D in X){var G=this._installFunc[D];G&&X[D]&&(k(D),G(),this._installFunc[D]=void 0)}},x.id="GlobalHandlers",x}();function a(){(0,W.o)("error",function(x){var X=(0,B.CR)(c(),2),D=X[0],G=X[1];if(D.getIntegration(n)){var O=x.msg,E=x.url,J=x.line,q=x.column,K=x.error;if(!((0,v.Wz)()||K&&K.__sentry_own_request__)){var A=K===void 0&&(0,z.HD)(O)?w(O,E,J,q):N((0,S.ME)(K||O,void 0,G,!1),E,J,q);A.level=P.z.Error,C(D,K,A,"onerror")}}})}function u(){(0,W.o)("unhandledrejection",function(x){var X=(0,B.CR)(c(),2),D=X[0],G=X[1];if(D.getIntegration(n)){var O=x;try{"reason"in x?O=x.reason:"detail"in x&&"reason"in x.detail&&(O=x.detail.reason)}catch{}if((0,v.Wz)()||O&&O.__sentry_own_request__)return!0;var E=(0,z.pt)(O)?p(O):(0,S.ME)(O,void 0,G,!0);E.level=P.z.Error,C(D,O,E,"onunhandledrejection")}})}function p(x){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(x)}]}}}function w(x,X,D,G){var O=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,E=(0,z.VW)(x)?x.message:x,J="Error",q=E.match(O);return q&&(J=q[1],E=q[2]),N({exception:{values:[{type:J,value:E}]}},X,D,G)}function N(x,X,D,G){var O=x.exception=x.exception||{},E=O.values=O.values||[],J=E[0]=E[0]||{},q=J.stacktrace=J.stacktrace||{},K=q.frames=q.frames||[],A=isNaN(parseInt(G,10))?void 0:G,T=isNaN(parseInt(D,10))?void 0:D,y=(0,z.HD)(X)&&X.length>0?X:(0,M.l)();return K.length===0&&K.push({colno:A,filename:y,function:"?",in_app:!0,lineno:T}),x}function k(x){(0,R.c)()&&F.kg.log("Global Handler attached: "+x)}function C(x,X,D,G){(0,Y.EG)(D,{handled:!1,type:G}),x.captureEvent(D,{originalException:X})}function c(){var x=(0,h.Gd)(),X=x.getClient();return[x,X&&X.getOptions().attachStacktrace]}},2281:(ye,le,d)=>{d.d(le,{iP:()=>F});var B=d(135),h=d(8684),P=d(9276),W=d(9293),z=d(7938),M="cause",R=5,F=function(){function v(n){n===void 0&&(n={}),this.name=v.id,this._key=n.key||M,this._limit=n.limit||R}return v.prototype.setupOnce=function(){(0,h.c)(function(n,a){var u=(0,P.Gd)().getIntegration(v);return u?Y(u._key,u._limit,n,a):n})},v.id="LinkedErrors",v}();function Y(v,n,a,u){if(!(a.exception&&a.exception.values&&u&&(0,W.V9)(u.originalException,Error)))return a;var p=S(n,u.originalException,v);return a.exception.values=(0,B.fl)(p,a.exception.values),a}function S(v,n,a,u){if(u===void 0&&(u=[]),!(0,W.V9)(n[a],Error)||u.length+1>=v)return u;var p=(0,z.GJ)(n[a]);return S(v,n[a],a,(0,B.fl)([p],u))}},4648:(ye,le,d)=>{d.d(le,{p:()=>R});var B=d(135),h=d(3868),P=d(3621),W=d(313),z=d(9e3),M=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],R=function(){function n(a){this.name=n.id,this._options=(0,B.pi)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},a)}return n.prototype.setupOnce=function(){var a=(0,h.R)();this._options.setTimeout&&(0,P.hl)(a,"setTimeout",F),this._options.setInterval&&(0,P.hl)(a,"setInterval",F),this._options.requestAnimationFrame&&(0,P.hl)(a,"requestAnimationFrame",Y),this._options.XMLHttpRequest&&"XMLHttpRequest"in a&&(0,P.hl)(XMLHttpRequest.prototype,"send",S);var u=this._options.eventTarget;u&&(Array.isArray(u)?u:M).forEach(v)},n.id="TryCatch",n}();function F(n){return function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var p=a[0];return a[0]=(0,z.re)(p,{mechanism:{data:{function:(0,W.$P)(n)},handled:!0,type:"instrument"}}),n.apply(this,a)}}function Y(n){return function(a){return n.apply(this,[(0,z.re)(a,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,W.$P)(n)},handled:!0,type:"instrument"}})])}}function S(n){return function(){for(var a=[],u=0;u<arguments.length;u++)a[u]=arguments[u];var p=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(function(w){w in p&&typeof p[w]=="function"&&(0,P.hl)(p,w,function(N){var k={mechanism:{data:{function:w,handler:(0,W.$P)(N)},handled:!0,type:"instrument"}},C=(0,P.HK)(N);return C&&(k.mechanism.data.handler=(0,W.$P)(C)),(0,z.re)(N,k)})}),n.apply(this,a)}}function v(n){var a=(0,h.R)(),u=a[n]&&a[n].prototype;u&&u.hasOwnProperty&&u.hasOwnProperty("addEventListener")&&((0,P.hl)(u,"addEventListener",function(p){return function(w,N,k){try{typeof N.handleEvent=="function"&&(N.handleEvent=(0,z.re)(N.handleEvent.bind(N),{mechanism:{data:{function:"handleEvent",handler:(0,W.$P)(N),target:n},handled:!0,type:"instrument"}}))}catch{}return p.apply(this,[w,(0,z.re)(N,{mechanism:{data:{function:"addEventListener",handler:(0,W.$P)(N),target:n},handled:!0,type:"instrument"}}),k])}}),(0,P.hl)(u,"removeEventListener",function(p){return function(w,N,k){var C=N;try{var c=C&&C.__sentry_wrapped__;c&&p.call(this,w,c,k)}catch{}return p.call(this,w,C,k)}}))}},5398:(ye,le,d)=>{d.d(le,{Z:()=>z});var B=d(135),h=d(8684),P=d(9276),W=(0,d(3868).R)(),z=function(){function M(){this.name=M.id}return M.prototype.setupOnce=function(){(0,h.c)(function(R){if((0,P.Gd)().getIntegration(M)){if(!W.navigator&&!W.location&&!W.document)return R;var F=R.request&&R.request.url||W.location&&W.location.href,Y=(W.document||{}).referrer,S=(W.navigator||{}).userAgent,v=(0,B.pi)((0,B.pi)((0,B.pi)({},R.request&&R.request.headers),Y&&{Referer:Y}),S&&{"User-Agent":S}),n=(0,B.pi)((0,B.pi)({},F&&{url:F}),{headers:v});return(0,B.pi)((0,B.pi)({},R),{request:n})}return R})},M.id="UserAgent",M}()},7585:(ye,le,d)=>{d.d(le,{xv:()=>E,SS:()=>C,yl:()=>O,Eg:()=>D,S1:()=>c,eW:()=>X,lA:()=>G,jp:()=>x,re:()=>J});var B=d(135),h=d(9276),P=d(5800),W=d(8321);function z(A,T){T.debug===!0&&((0,P.c)()?W.kg.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));var y=(0,h.Gd)(),L=y.getScope();L&&L.update(T.initialScope);var j=new A(T);y.bindClient(j)}var M=d(3513),R=d(6212),F=d(3868),Y=d(7593),S=d(5954),v=d(4469),n=d(9e3),a=d(4648),u=d(422),p=d(2257),w=d(2281),N=d(345),k=d(5398),C=[new M.QD,new R.c,new a.p,new u.O,new p.d,new w.iP,new N.I,new k.Z];function c(A){if(A===void 0&&(A={}),A.defaultIntegrations===void 0&&(A.defaultIntegrations=C),A.release===void 0){var T=(0,F.R)();T.SENTRY_RELEASE&&T.SENTRY_RELEASE.id&&(A.release=T.SENTRY_RELEASE.id)}A.autoSessionTracking===void 0&&(A.autoSessionTracking=!0),A.sendClientReports===void 0&&(A.sendClientReports=!0),z(v.R,A),A.autoSessionTracking&&K()}function x(A){A===void 0&&(A={});var T=(0,h.Gd)(),y=T.getScope();y&&(A.user=(0,B.pi)((0,B.pi)({},y.getUser()),A.user)),A.eventId||(A.eventId=T.lastEventId());var L=T.getClient();L&&L.showReportDialog(A)}function X(){return(0,h.Gd)().lastEventId()}function D(){}function G(A){A()}function O(A){var T=(0,h.Gd)().getClient();return T?T.flush(A):((0,P.c)()&&W.kg.warn("Cannot flush events. No client defined."),(0,Y.WD)(!1))}function E(A){var T=(0,h.Gd)().getClient();return T?T.close(A):((0,P.c)()&&W.kg.warn("Cannot flush events and disable SDK. No client defined."),(0,Y.WD)(!1))}function J(A){return(0,n.re)(A)()}function q(A){A.startSession({ignoreDuration:!0}),A.captureSession()}function K(){if((0,F.R)().document!==void 0){var A=(0,h.Gd)();A.captureSession&&(q(A),(0,S.o)("history",function(T){var y=T.from,L=T.to;y!==void 0&&y!==L&&q((0,h.Gd)())}))}else(0,P.c)()&&W.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported.")}},1057:(ye,le,d)=>{d.d(le,{d:()=>N});var B=d(135),h=d(9778),P=d(5338),W=d(1076),z=d(6629);function M(k,C,c){var x=[{type:"client_report"},{timestamp:c||(0,z.yW)(),discarded_events:k}];return(0,W.Jd)(C?{dsn:C}:{},[x])}var R=d(3868),F=d(9765),Y=d(5800),S=d(8321),v=d(6027),n=d(6222),a=d(2105),u=d(2938);function p(k){return k==="event"?"error":k}var w=(0,R.R)(),N=function(){function k(C){var c=this;this.options=C,this._buffer=(0,F.x)(30),this._rateLimits={},this._outcomes={},this._api=(0,h.hd)(C.dsn,C._metadata,C.tunnel),this.url=(0,h.qi)(this._api.dsn),this.options.sendClientReports&&w.document&&w.document.addEventListener("visibilitychange",function(){w.document.visibilityState==="hidden"&&c._flushOutcomes()})}return k.prototype.sendEvent=function(C){return this._sendRequest((0,P.nA)(C,this._api),C)},k.prototype.sendSession=function(C){return this._sendRequest((0,P.Qz)(C,this._api),C)},k.prototype.close=function(C){return this._buffer.drain(C)},k.prototype.recordLostEvent=function(C,c){var x;if(this.options.sendClientReports){var X=p(c)+":"+C;(0,Y.c)()&&S.kg.log("Adding outcome: "+X),this._outcomes[X]=((x=this._outcomes[X])!=null?x:0)+1}},k.prototype._flushOutcomes=function(){if(this.options.sendClientReports){var C=this._outcomes;if(this._outcomes={},Object.keys(C).length){(0,Y.c)()&&S.kg.log(`Flushing outcomes:
`+JSON.stringify(C,null,2));var c=(0,h.Ut)(this._api.dsn,this._api.tunnel),x=M(Object.keys(C).map(function(X){var D=(0,B.CR)(X.split(":"),2),G=D[0];return{reason:D[1],category:G,quantity:C[X]}}),this._api.tunnel&&(0,v.R)(this._api.dsn));try{(0,u.z)(c,(0,W.V$)(x))}catch(X){(0,Y.c)()&&S.kg.error(X)}}else(0,Y.c)()&&S.kg.log("No outcomes to flush")}},k.prototype._handleResponse=function(C){var c=C.requestType,x=C.response,X=C.headers,D=C.resolve,G=C.reject,O=(0,n.F)(x.status);this._rateLimits=(0,a.WG)(this._rateLimits,X),this._isRateLimited(c)&&(0,Y.c)()&&(0,Y.c)()&&S.kg.warn("Too many "+c+" requests, backing off until: "+this._disabledUntil(c)),O!=="success"?G(x):D({status:O})},k.prototype._disabledUntil=function(C){var c=p(C);return new Date((0,a.ns)(this._rateLimits,c))},k.prototype._isRateLimited=function(C){var c=p(C);return(0,a.Q)(this._rateLimits,c)},k}()},9816:(ye,le,d)=>{d.d(le,{V:()=>R});var B=d(135),h=d(9018),P=d(7593),W=d(2190),z=d(1057),M=d(2938),R=function(F){function Y(S,v){v===void 0&&(v=(0,M.x)());var n=F.call(this,S)||this;return n._fetch=v,n}return(0,B.ZT)(Y,F),Y.prototype._sendRequest=function(S,v){var n=this;if(this._isRateLimited(S.type))return this.recordLostEvent("ratelimit_backoff",S.type),Promise.reject({event:v,type:S.type,reason:"Transport for "+S.type+" requests locked till "+this._disabledUntil(S.type)+" due to too many requests.",status:429});var a={body:S.body,method:"POST",referrerPolicy:(0,h.hv)()?"origin":""};return this.options.fetchParameters!==void 0&&Object.assign(a,this.options.fetchParameters),this.options.headers!==void 0&&(a.headers=this.options.headers),this._buffer.add(function(){return new P.cW(function(u,p){n._fetch(S.url,a).then(function(w){var N={"x-sentry-rate-limits":w.headers.get("X-Sentry-Rate-Limits"),"retry-after":w.headers.get("Retry-After")};n._handleResponse({requestType:S.type,response:w,headers:N,resolve:u,reject:p})}).catch(p)})}).then(void 0,function(u){throw u instanceof W.b?n.recordLostEvent("queue_overflow",S.type):n.recordLostEvent("network_error",S.type),u})},Y}(z.d)},9431:(ye,le,d)=>{d.d(le,{k:()=>W});var B=d(135),h=d(2516),P=d(2938);function W(z,M){function R(F){var Y=(0,B.pi)({body:F.body,method:"POST",referrerPolicy:"origin"},z.requestOptions);return M(z.url,Y).then(function(S){return S.text().then(function(v){return{body:v,headers:{"x-sentry-rate-limits":S.headers.get("X-Sentry-Rate-Limits"),"retry-after":S.headers.get("Retry-After")},reason:S.statusText,statusCode:S.status}})})}return M===void 0&&(M=(0,P.x)()),(0,h.qv)({bufferSize:z.bufferSize},R)}},6040:(ye,le,d)=>{d.d(le,{H:()=>W});var B=d(2516),h=d(7593),P=4;function W(z){function M(R){return new h.cW(function(F,Y){var S=new XMLHttpRequest;for(var v in S.onreadystatechange=function(){if(S.readyState===P){var n={body:S.response,headers:{"x-sentry-rate-limits":S.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":S.getResponseHeader("Retry-After")},reason:S.statusText,statusCode:S.status};F(n)}},S.open("POST",z.url),z.headers)Object.prototype.hasOwnProperty.call(z.headers,v)&&S.setRequestHeader(v,z.headers[v]);S.send(R.body)})}return(0,B.qv)({bufferSize:z.bufferSize},M)}},2938:(ye,le,d)=>{function B(S){S.then(null,function(v){console.error(v)})}d.d(le,{x:()=>F,z:()=>Y});var h,P=d(3868),W=d(9018),z=d(5800),M=d(8321),R=(0,P.R)();function F(){if(h)return h;if((0,W.Du)(R.fetch))return h=R.fetch.bind(R);var S=R.document,v=R.fetch;if(S&&typeof S.createElement=="function")try{var n=S.createElement("iframe");n.hidden=!0,S.head.appendChild(n);var a=n.contentWindow;a&&a.fetch&&(v=a.fetch),S.head.removeChild(n)}catch(u){(0,z.c)()&&M.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",u)}return h=v.bind(R)}function Y(S,v){return Object.prototype.toString.call(R&&R.navigator)==="[object Navigator]"&&typeof R.navigator.sendBeacon=="function"?R.navigator.sendBeacon.bind(R.navigator)(S,v):(0,W.Ak)()?B(F()(S,{body:v,method:"POST",credentials:"omit",keepalive:!0})):void 0}},1708:(ye,le,d)=>{d.d(le,{w:()=>W});var B=d(135),h=d(7593),P=d(2190),W=function(z){function M(){return z!==null&&z.apply(this,arguments)||this}return(0,B.ZT)(M,z),M.prototype._sendRequest=function(R,F){var Y=this;return this._isRateLimited(R.type)?(this.recordLostEvent("ratelimit_backoff",R.type),Promise.reject({event:F,type:R.type,reason:"Transport for "+R.type+" requests locked till "+this._disabledUntil(R.type)+" due to too many requests.",status:429})):this._buffer.add(function(){return new h.cW(function(S,v){var n=new XMLHttpRequest;for(var a in n.onreadystatechange=function(){if(n.readyState===4){var u={"x-sentry-rate-limits":n.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":n.getResponseHeader("Retry-After")};Y._handleResponse({requestType:R.type,response:n,headers:u,resolve:S,reject:v})}},n.open("POST",R.url),Y.options.headers)Object.prototype.hasOwnProperty.call(Y.options.headers,a)&&n.setRequestHeader(a,Y.options.headers[a]);n.send(R.body)})}).then(void 0,function(S){throw S instanceof P.b?Y.recordLostEvent("queue_overflow",R.type):Y.recordLostEvent("network_error",R.type),S})},M}(d(1057).d)},135:(ye,le,d)=>{d.d(le,{CR:()=>W,ZT:()=>h,fl:()=>z,pi:()=>P});var B=function(M,R){return B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,Y){F.__proto__=Y}||function(F,Y){for(var S in Y)Y.hasOwnProperty(S)&&(F[S]=Y[S])},B(M,R)};function h(M,R){function F(){this.constructor=M}B(M,R),M.prototype=R===null?Object.create(R):(F.prototype=R.prototype,new F)}var P=function(){return P=Object.assign||function(M){for(var R,F=1,Y=arguments.length;F<Y;F++)for(var S in R=arguments[F])Object.prototype.hasOwnProperty.call(R,S)&&(M[S]=R[S]);return M},P.apply(this,arguments)};function W(M,R){var F=typeof Symbol=="function"&&M[Symbol.iterator];if(!F)return M;var Y,S,v=F.call(M),n=[];try{for(;(R===void 0||R-- >0)&&!(Y=v.next()).done;)n.push(Y.value)}catch(a){S={error:a}}finally{try{Y&&!Y.done&&(F=v.return)&&F.call(v)}finally{if(S)throw S.error}}return n}function z(){for(var M=[],R=0;R<arguments.length;R++)M=M.concat(W(arguments[R]));return M}},9778:(ye,le,d)=>{d.d(le,{Ut:()=>v,hR:()=>n,hd:()=>W,qi:()=>Y});var B=d(6027),h=d(3621),P="7";function W(a,u,p){return{initDsn:a,metadata:u||{},dsn:(0,B.v)(a),tunnel:p}}function z(a){var u=a.protocol?a.protocol+":":"",p=a.port?":"+a.port:"";return u+"//"+a.host+p+(a.path?"/"+a.path:"")+"/api/"}function M(a,u){return""+z(a)+a.projectId+"/"+u+"/"}function R(a){return(0,h._j)({sentry_key:a.publicKey,sentry_version:P})}function F(a){return M(a,"store")}function Y(a){return F(a)+"?"+R(a)}function S(a){return M(a,"envelope")}function v(a,u){return u||S(a)+"?"+R(a)}function n(a,u){var p=(0,B.v)(a),w=z(p)+"embed/error-page/",N="dsn="+(0,B.R)(p);for(var k in u)if(k!=="dsn")if(k==="user"){if(!u.user)continue;u.user.name&&(N+="&name="+encodeURIComponent(u.user.name)),u.user.email&&(N+="&email="+encodeURIComponent(u.user.email))}else N+="&"+encodeURIComponent(k)+"="+encodeURIComponent(u[k]);return w+"?"+N}},6212:(ye,le,d)=>{d.d(le,{c:()=>P});var B,h=d(3621),P=function(){function W(){this.name=W.id}return W.prototype.setupOnce=function(){B=Function.prototype.toString,Function.prototype.toString=function(){for(var z=[],M=0;M<arguments.length;M++)z[M]=arguments[M];var R=(0,h.HK)(this)||this;return B.apply(R,z)}},W.id="FunctionToString",W}()},3513:(ye,le,d)=>{d.d(le,{QD:()=>R});var B=d(2390),h=d(5800),P=d(8321),W=d(4503),z=d(3553),M=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],R=function(){function N(k){k===void 0&&(k={}),this._options=k,this.name=N.id}return N.prototype.setupOnce=function(k,C){k(function(c){var x=C();if(x){var X=x.getIntegration(N);if(X){var D=x.getClient(),G=D?D.getOptions():{};return Y(c,F(X._options,G))?null:c}}return c})},N.id="InboundFilters",N}();function F(N,k){return N===void 0&&(N={}),k===void 0&&(k={}),{allowUrls:(0,B.fl)(N.whitelistUrls||[],N.allowUrls||[],k.whitelistUrls||[],k.allowUrls||[]),denyUrls:(0,B.fl)(N.blacklistUrls||[],N.denyUrls||[],k.blacklistUrls||[],k.denyUrls||[]),ignoreErrors:(0,B.fl)(N.ignoreErrors||[],k.ignoreErrors||[],M),ignoreInternal:N.ignoreInternal===void 0||N.ignoreInternal}}function Y(N,k){return k.ignoreInternal&&u(N)?((0,h.c)()&&P.kg.warn(`Event dropped due to being internal Sentry Error.
Event: `+(0,W.jH)(N)),!0):S(N,k.ignoreErrors)?((0,h.c)()&&P.kg.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+(0,W.jH)(N)),!0):v(N,k.denyUrls)?((0,h.c)()&&P.kg.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+(0,W.jH)(N)+`.
Url: `+w(N)),!0):!n(N,k.allowUrls)&&((0,h.c)()&&P.kg.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+(0,W.jH)(N)+`.
Url: `+w(N)),!0)}function S(N,k){return!(!k||!k.length)&&a(N).some(function(C){return k.some(function(c){return(0,z.zC)(C,c)})})}function v(N,k){if(!k||!k.length)return!1;var C=w(N);return!!C&&k.some(function(c){return(0,z.zC)(C,c)})}function n(N,k){if(!k||!k.length)return!0;var C=w(N);return!C||k.some(function(c){return(0,z.zC)(C,c)})}function a(N){if(N.message)return[N.message];if(N.exception)try{var k=N.exception.values&&N.exception.values[0]||{},C=k.type,c=C===void 0?"":C,x=k.value,X=x===void 0?"":x;return[""+X,c+": "+X]}catch{return(0,h.c)()&&P.kg.error("Cannot extract message for event "+(0,W.jH)(N)),[]}return[]}function u(N){try{return N.exception.values[0].type==="SentryError"}catch{}return!1}function p(N){N===void 0&&(N=[]);for(var k=N.length-1;k>=0;k--){var C=N[k];if(C&&C.filename!=="<anonymous>"&&C.filename!=="[native code]")return C.filename||null}return null}function w(N){try{if(N.stacktrace)return p(N.stacktrace.frames);var k;try{k=N.exception.values[0].stacktrace.frames}catch{}return k?p(k):null}catch{return(0,h.c)()&&P.kg.error("Cannot extract url for event "+(0,W.jH)(N)),null}}},5338:(ye,le,d)=>{d.d(le,{Mq:()=>S,Q3:()=>F,Qz:()=>Y,nA:()=>v});var B=d(2390),h=d(6027),P=d(1076),W=d(6979),z=d(9778);function M(n){if(n.metadata&&n.metadata.sdk){var a=n.metadata.sdk;return{name:a.name,version:a.version}}}function R(n,a){return a&&(n.sdk=n.sdk||{},n.sdk.name=n.sdk.name||a.name,n.sdk.version=n.sdk.version||a.version,n.sdk.integrations=(0,B.fl)(n.sdk.integrations||[],a.integrations||[]),n.sdk.packages=(0,B.fl)(n.sdk.packages||[],a.packages||[])),n}function F(n,a){var u=M(a),p=(0,B.pi)((0,B.pi)({sent_at:new Date().toISOString()},u&&{sdk:u}),!!a.tunnel&&{dsn:(0,h.R)(a.dsn)}),w="aggregates"in n?"sessions":"session",N=[{type:w},n];return[(0,P.Jd)(p,[N]),w]}function Y(n,a){var u=(0,B.CR)(F(n,a),2),p=u[0],w=u[1];return{body:(0,P.V$)(p),type:w,url:(0,z.Ut)(a.dsn,a.tunnel)}}function S(n,a){var u=M(a),p=n.type||"event",w=(n.sdkProcessingMetadata||{}).transactionSampling||{},N=w.method,k=w.rate;R(n,a.metadata.sdk),n.tags=n.tags||{},n.extra=n.extra||{},n.sdkProcessingMetadata&&n.sdkProcessingMetadata.baseClientNormalized||(n.tags.skippedNormalization=!0,n.extra.normalizeDepth=n.sdkProcessingMetadata?n.sdkProcessingMetadata.normalizeDepth:"unset"),delete n.sdkProcessingMetadata;var C=(0,B.pi)((0,B.pi)({event_id:n.event_id,sent_at:new Date().toISOString()},u&&{sdk:u}),!!a.tunnel&&{dsn:(0,h.R)(a.dsn)}),c=[{type:p,sample_rates:[{id:N,rate:k}]},n];return(0,P.Jd)(C,[c])}function v(n,a){var u,p=M(a),w=n.type||"event",N=w==="transaction"||!!a.tunnel,k=(n.sdkProcessingMetadata||{}).transactionSampling||{},C=k.method,c=k.rate;R(n,a.metadata.sdk),n.tags=n.tags||{},n.extra=n.extra||{},n.sdkProcessingMetadata&&n.sdkProcessingMetadata.baseClientNormalized||(n.tags.skippedNormalization=!0,n.extra.normalizeDepth=n.sdkProcessingMetadata?n.sdkProcessingMetadata.normalizeDepth:"unset"),delete n.sdkProcessingMetadata;try{u=JSON.stringify(n)}catch(E){n.tags.JSONStringifyError=!0,n.extra.JSONStringifyError=E;try{u=JSON.stringify((0,W.Fv)(n))}catch(J){var x=J;u=JSON.stringify({message:"JSON.stringify error after renormalization",extra:{message:x.message,stack:x.stack}})}}var X={body:u,type:w,url:N?(0,z.Ut)(a.dsn,a.tunnel):(0,z.qi)(a.dsn)};if(N){var D=(0,B.pi)((0,B.pi)({event_id:n.event_id,sent_at:new Date().toISOString()},p&&{sdk:p}),!!a.tunnel&&{dsn:(0,h.R)(a.dsn)}),G=[{type:w,sample_rates:[{id:C,rate:c}]},X.body],O=(0,P.Jd)(D,[G]);X.body=(0,P.V$)(O)}return X}},2516:(ye,le,d)=>{d.d(le,{qv:()=>R});var B=d(9765),h=d(1076),P=d(2105),W=d(7593),z=d(6222),M=30;function R(Y,S,v){v===void 0&&(v=(0,B.x)(Y.bufferSize||M));var n={};function a(u){var p=(0,h.y7)(u),w=p==="event"?"error":p,N={category:w,body:(0,h.V$)(u)};if((0,P.Q)(n,w))return(0,W.$2)({status:"rate_limit",reason:F(n,w)});var k=function(){return S(N).then(function(C){var c=C.body,x=C.headers,X=C.reason,D=C.statusCode,G=(0,z.F)(D);return x&&(n=(0,P.WG)(n,x)),G==="success"?(0,W.WD)({status:G,reason:X}):(0,W.$2)({status:G,reason:X||c||(G==="rate_limit"?F(n,w):"Unknown transport error")})})};return v.add(k)}return{send:a,flush:function(u){return v.drain(u)}}}function F(Y,S){return"Too many "+S+" requests, backing off until: "+new Date((0,P.ns)(Y,S)).toISOString()}},7735:(ye,le,d)=>{d.d(le,{J:()=>B});var B="6.19.3"},2390:(ye,le,d)=>{d.d(le,{CR:()=>P,XA:()=>h,fl:()=>W,pi:()=>B});var B=function(){return B=Object.assign||function(z){for(var M,R=1,F=arguments.length;R<F;R++)for(var Y in M=arguments[R])Object.prototype.hasOwnProperty.call(M,Y)&&(z[Y]=M[Y]);return z},B.apply(this,arguments)};function h(z){var M=typeof Symbol=="function"&&Symbol.iterator,R=M&&z[M],F=0;if(R)return R.call(z);if(z&&typeof z.length=="number")return{next:function(){return z&&F>=z.length&&(z=void 0),{value:z&&z[F++],done:!z}}};throw new TypeError(M?"Object is not iterable.":"Symbol.iterator is not defined.")}function P(z,M){var R=typeof Symbol=="function"&&z[Symbol.iterator];if(!R)return z;var F,Y,S=R.call(z),v=[];try{for(;(M===void 0||M-- >0)&&!(F=S.next()).done;)v.push(F.value)}catch(n){Y={error:n}}finally{try{F&&!F.done&&(R=S.return)&&R.call(S)}finally{if(Y)throw Y.error}}return v}function W(){for(var z=[],M=0;M<arguments.length;M++)z=z.concat(P(arguments[M]));return z}},9276:(ye,le,d)=>{d.d(le,{Gd:()=>p,Xb:()=>n,pj:()=>u,vi:()=>k});var B=d(1726),h=d(4503),P=d(6629),W=d(8321),z=d(5800),M=d(3868),R=d(8790),F=d(8684),Y=d(4218),S=4,v=100,n=function(){function c(x,X,D){X===void 0&&(X=new F.s),D===void 0&&(D=S),this._version=D,this._stack=[{}],this.getStackTop().scope=X,x&&this.bindClient(x)}return c.prototype.isOlderThan=function(x){return this._version<x},c.prototype.bindClient=function(x){this.getStackTop().client=x,x&&x.setupIntegrations&&x.setupIntegrations()},c.prototype.pushScope=function(){var x=F.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:x}),x},c.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},c.prototype.withScope=function(x){var X=this.pushScope();try{x(X)}finally{this.popScope()}},c.prototype.getClient=function(){return this.getStackTop().client},c.prototype.getScope=function(){return this.getStackTop().scope},c.prototype.getStack=function(){return this._stack},c.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},c.prototype.captureException=function(x,X){var D=this._lastEventId=X&&X.event_id?X.event_id:(0,h.DM)(),G=X;if(!X){var O=void 0;try{throw new Error("Sentry syntheticException")}catch(E){O=E}G={originalException:x,syntheticException:O}}return this._invokeClient("captureException",x,(0,B.pi)((0,B.pi)({},G),{event_id:D})),D},c.prototype.captureMessage=function(x,X,D){var G=this._lastEventId=D&&D.event_id?D.event_id:(0,h.DM)(),O=D;if(!D){var E=void 0;try{throw new Error(x)}catch(J){E=J}O={originalException:x,syntheticException:E}}return this._invokeClient("captureMessage",x,X,(0,B.pi)((0,B.pi)({},O),{event_id:G})),G},c.prototype.captureEvent=function(x,X){var D=X&&X.event_id?X.event_id:(0,h.DM)();return x.type!=="transaction"&&(this._lastEventId=D),this._invokeClient("captureEvent",x,(0,B.pi)((0,B.pi)({},X),{event_id:D})),D},c.prototype.lastEventId=function(){return this._lastEventId},c.prototype.addBreadcrumb=function(x,X){var D=this.getStackTop(),G=D.scope,O=D.client;if(G&&O){var E=O.getOptions&&O.getOptions()||{},J=E.beforeBreadcrumb,q=J===void 0?null:J,K=E.maxBreadcrumbs,A=K===void 0?v:K;if(!(A<=0)){var T=(0,P.yW)(),y=(0,B.pi)({timestamp:T},x),L=q?(0,W.Cf)(function(){return q(y,X)}):y;L!==null&&G.addBreadcrumb(L,A)}}},c.prototype.setUser=function(x){var X=this.getScope();X&&X.setUser(x)},c.prototype.setTags=function(x){var X=this.getScope();X&&X.setTags(x)},c.prototype.setExtras=function(x){var X=this.getScope();X&&X.setExtras(x)},c.prototype.setTag=function(x,X){var D=this.getScope();D&&D.setTag(x,X)},c.prototype.setExtra=function(x,X){var D=this.getScope();D&&D.setExtra(x,X)},c.prototype.setContext=function(x,X){var D=this.getScope();D&&D.setContext(x,X)},c.prototype.configureScope=function(x){var X=this.getStackTop(),D=X.scope,G=X.client;D&&G&&x(D)},c.prototype.run=function(x){var X=u(this);try{x(this)}finally{u(X)}},c.prototype.getIntegration=function(x){var X=this.getClient();if(!X)return null;try{return X.getIntegration(x)}catch{return(0,z.c)()&&W.kg.warn("Cannot retrieve integration "+x.id+" from the current Hub"),null}},c.prototype.startSpan=function(x){return this._callExtensionMethod("startSpan",x)},c.prototype.startTransaction=function(x,X){return this._callExtensionMethod("startTransaction",x,X)},c.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},c.prototype.captureSession=function(x){if(x===void 0&&(x=!1),x)return this.endSession();this._sendSessionUpdate()},c.prototype.endSession=function(){var x=this.getStackTop(),X=x&&x.scope,D=X&&X.getSession();D&&D.close(),this._sendSessionUpdate(),X&&X.setSession()},c.prototype.startSession=function(x){var X=this.getStackTop(),D=X.scope,G=X.client,O=G&&G.getOptions()||{},E=O.release,J=O.environment,q=((0,M.R)().navigator||{}).userAgent,K=new Y.z((0,B.pi)((0,B.pi)((0,B.pi)({release:E,environment:J},D&&{user:D.getUser()}),q&&{userAgent:q}),x));if(D){var A=D.getSession&&D.getSession();A&&A.status==="ok"&&A.update({status:"exited"}),this.endSession(),D.setSession(K)}return K},c.prototype._sendSessionUpdate=function(){var x=this.getStackTop(),X=x.scope,D=x.client;if(X){var G=X.getSession&&X.getSession();G&&D&&D.captureSession&&D.captureSession(G)}},c.prototype._invokeClient=function(x){for(var X,D=[],G=1;G<arguments.length;G++)D[G-1]=arguments[G];var O=this.getStackTop(),E=O.scope,J=O.client;J&&J[x]&&(X=J)[x].apply(X,(0,B.fl)(D,[E]))},c.prototype._callExtensionMethod=function(x){for(var X=[],D=1;D<arguments.length;D++)X[D-1]=arguments[D];var G=a().__SENTRY__;if(G&&G.extensions&&typeof G.extensions[x]=="function")return G.extensions[x].apply(this,X);(0,z.c)()&&W.kg.warn("Extension method "+x+" couldn't be found, doing nothing.")},c}();function a(){var c=(0,M.R)();return c.__SENTRY__=c.__SENTRY__||{extensions:{},hub:void 0},c}function u(c){var x=a(),X=k(x);return C(x,c),X}function p(){var c=a();return N(c)&&!k(c).isOlderThan(S)||C(c,new n),(0,R.KV)()?w(c):k(c)}function w(c){try{var x=a().__SENTRY__,X=x&&x.extensions&&x.extensions.domain&&x.extensions.domain.active;if(!X)return k(c);if(!N(X)||k(X).isOlderThan(S)){var D=k(c).getStackTop();C(X,new n(D.client,F.s.clone(D.scope)))}return k(X)}catch{return k(c)}}function N(c){return!!(c&&c.__SENTRY__&&c.__SENTRY__.hub)}function k(c){return c&&c.__SENTRY__&&c.__SENTRY__.hub||(c.__SENTRY__=c.__SENTRY__||{},c.__SENTRY__.hub=new n),c.__SENTRY__.hub}function C(c,x){return!!c&&(c.__SENTRY__=c.__SENTRY__||{},c.__SENTRY__.hub=x,!0)}},8684:(ye,le,d)=>{d.d(le,{c:()=>Y,s:()=>R});var B=d(1726),h=d(9293),P=d(6629),W=d(7593),z=d(3868),M=100,R=function(){function S(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}return S.clone=function(v){var n=new S;return v&&(n._breadcrumbs=(0,B.fl)(v._breadcrumbs),n._tags=(0,B.pi)({},v._tags),n._extra=(0,B.pi)({},v._extra),n._contexts=(0,B.pi)({},v._contexts),n._user=v._user,n._level=v._level,n._span=v._span,n._session=v._session,n._transactionName=v._transactionName,n._fingerprint=v._fingerprint,n._eventProcessors=(0,B.fl)(v._eventProcessors),n._requestSession=v._requestSession),n},S.prototype.addScopeListener=function(v){this._scopeListeners.push(v)},S.prototype.addEventProcessor=function(v){return this._eventProcessors.push(v),this},S.prototype.setUser=function(v){return this._user=v||{},this._session&&this._session.update({user:v}),this._notifyScopeListeners(),this},S.prototype.getUser=function(){return this._user},S.prototype.getRequestSession=function(){return this._requestSession},S.prototype.setRequestSession=function(v){return this._requestSession=v,this},S.prototype.setTags=function(v){return this._tags=(0,B.pi)((0,B.pi)({},this._tags),v),this._notifyScopeListeners(),this},S.prototype.setTag=function(v,n){var a;return this._tags=(0,B.pi)((0,B.pi)({},this._tags),((a={})[v]=n,a)),this._notifyScopeListeners(),this},S.prototype.setExtras=function(v){return this._extra=(0,B.pi)((0,B.pi)({},this._extra),v),this._notifyScopeListeners(),this},S.prototype.setExtra=function(v,n){var a;return this._extra=(0,B.pi)((0,B.pi)({},this._extra),((a={})[v]=n,a)),this._notifyScopeListeners(),this},S.prototype.setFingerprint=function(v){return this._fingerprint=v,this._notifyScopeListeners(),this},S.prototype.setLevel=function(v){return this._level=v,this._notifyScopeListeners(),this},S.prototype.setTransactionName=function(v){return this._transactionName=v,this._notifyScopeListeners(),this},S.prototype.setTransaction=function(v){return this.setTransactionName(v)},S.prototype.setContext=function(v,n){var a;return n===null?delete this._contexts[v]:this._contexts=(0,B.pi)((0,B.pi)({},this._contexts),((a={})[v]=n,a)),this._notifyScopeListeners(),this},S.prototype.setSpan=function(v){return this._span=v,this._notifyScopeListeners(),this},S.prototype.getSpan=function(){return this._span},S.prototype.getTransaction=function(){var v=this.getSpan();return v&&v.transaction},S.prototype.setSession=function(v){return v?this._session=v:delete this._session,this._notifyScopeListeners(),this},S.prototype.getSession=function(){return this._session},S.prototype.update=function(v){if(!v)return this;if(typeof v=="function"){var n=v(this);return n instanceof S?n:this}return v instanceof S?(this._tags=(0,B.pi)((0,B.pi)({},this._tags),v._tags),this._extra=(0,B.pi)((0,B.pi)({},this._extra),v._extra),this._contexts=(0,B.pi)((0,B.pi)({},this._contexts),v._contexts),v._user&&Object.keys(v._user).length&&(this._user=v._user),v._level&&(this._level=v._level),v._fingerprint&&(this._fingerprint=v._fingerprint),v._requestSession&&(this._requestSession=v._requestSession)):(0,h.PO)(v)&&(v=v,this._tags=(0,B.pi)((0,B.pi)({},this._tags),v.tags),this._extra=(0,B.pi)((0,B.pi)({},this._extra),v.extra),this._contexts=(0,B.pi)((0,B.pi)({},this._contexts),v.contexts),v.user&&(this._user=v.user),v.level&&(this._level=v.level),v.fingerprint&&(this._fingerprint=v.fingerprint),v.requestSession&&(this._requestSession=v.requestSession)),this},S.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},S.prototype.addBreadcrumb=function(v,n){var a=typeof n=="number"?Math.min(n,M):M;if(a<=0)return this;var u=(0,B.pi)({timestamp:(0,P.yW)()},v);return this._breadcrumbs=(0,B.fl)(this._breadcrumbs,[u]).slice(-a),this._notifyScopeListeners(),this},S.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},S.prototype.applyToEvent=function(v,n){if(this._extra&&Object.keys(this._extra).length&&(v.extra=(0,B.pi)((0,B.pi)({},this._extra),v.extra)),this._tags&&Object.keys(this._tags).length&&(v.tags=(0,B.pi)((0,B.pi)({},this._tags),v.tags)),this._user&&Object.keys(this._user).length&&(v.user=(0,B.pi)((0,B.pi)({},this._user),v.user)),this._contexts&&Object.keys(this._contexts).length&&(v.contexts=(0,B.pi)((0,B.pi)({},this._contexts),v.contexts)),this._level&&(v.level=this._level),this._transactionName&&(v.transaction=this._transactionName),this._span){v.contexts=(0,B.pi)({trace:this._span.getTraceContext()},v.contexts);var a=this._span.transaction&&this._span.transaction.name;a&&(v.tags=(0,B.pi)({transaction:a},v.tags))}return this._applyFingerprint(v),v.breadcrumbs=(0,B.fl)(v.breadcrumbs||[],this._breadcrumbs),v.breadcrumbs=v.breadcrumbs.length>0?v.breadcrumbs:void 0,v.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors((0,B.fl)(F(),this._eventProcessors),v,n)},S.prototype.setSDKProcessingMetadata=function(v){return this._sdkProcessingMetadata=(0,B.pi)((0,B.pi)({},this._sdkProcessingMetadata),v),this},S.prototype._notifyEventProcessors=function(v,n,a,u){var p=this;return u===void 0&&(u=0),new W.cW(function(w,N){var k=v[u];if(n===null||typeof k!="function")w(n);else{var C=k((0,B.pi)({},n),a);(0,h.J8)(C)?C.then(function(c){return p._notifyEventProcessors(v,c,a,u+1).then(w)}).then(null,N):p._notifyEventProcessors(v,C,a,u+1).then(w).then(null,N)}})},S.prototype._notifyScopeListeners=function(){var v=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(function(n){n(v)}),this._notifyingListeners=!1)},S.prototype._applyFingerprint=function(v){v.fingerprint=v.fingerprint?Array.isArray(v.fingerprint)?v.fingerprint:[v.fingerprint]:[],this._fingerprint&&(v.fingerprint=v.fingerprint.concat(this._fingerprint)),v.fingerprint&&!v.fingerprint.length&&delete v.fingerprint},S}();function F(){var S=(0,z.R)();return S.__SENTRY__=S.__SENTRY__||{},S.__SENTRY__.globalEventProcessors=S.__SENTRY__.globalEventProcessors||[],S.__SENTRY__.globalEventProcessors}function Y(S){F().push(S)}},4218:(ye,le,d)=>{d.d(le,{z:()=>W});var B=d(4503),h=d(6629),P=d(3621),W=function(){function z(M){this.errors=0,this.sid=(0,B.DM)(),this.duration=0,this.status="ok",this.init=!0,this.ignoreDuration=!1;var R=(0,h.ph)();this.timestamp=R,this.started=R,M&&this.update(M)}return z.prototype.update=function(M){if(M===void 0&&(M={}),M.user&&(!this.ipAddress&&M.user.ip_address&&(this.ipAddress=M.user.ip_address),this.did||M.did||(this.did=M.user.id||M.user.email||M.user.username)),this.timestamp=M.timestamp||(0,h.ph)(),M.ignoreDuration&&(this.ignoreDuration=M.ignoreDuration),M.sid&&(this.sid=M.sid.length===32?M.sid:(0,B.DM)()),M.init!==void 0&&(this.init=M.init),!this.did&&M.did&&(this.did=""+M.did),typeof M.started=="number"&&(this.started=M.started),this.ignoreDuration)this.duration=void 0;else if(typeof M.duration=="number")this.duration=M.duration;else{var R=this.timestamp-this.started;this.duration=R>=0?R:0}M.release&&(this.release=M.release),M.environment&&(this.environment=M.environment),!this.ipAddress&&M.ipAddress&&(this.ipAddress=M.ipAddress),!this.userAgent&&M.userAgent&&(this.userAgent=M.userAgent),typeof M.errors=="number"&&(this.errors=M.errors),M.status&&(this.status=M.status)},z.prototype.close=function(M){M?this.update({status:M}):this.status==="ok"?this.update({status:"exited"}):this.update()},z.prototype.toJSON=function(){return(0,P.Jr)({sid:""+this.sid,init:this.init,started:new Date(1e3*this.started).toISOString(),timestamp:new Date(1e3*this.timestamp).toISOString(),status:this.status,errors:this.errors,did:typeof this.did=="number"||typeof this.did=="string"?""+this.did:void 0,duration:this.duration,attrs:{release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent}})},z}()},1726:(ye,le,d)=>{d.d(le,{fl:()=>P,pi:()=>B});var B=function(){return B=Object.assign||function(W){for(var z,M=1,R=arguments.length;M<R;M++)for(var F in z=arguments[M])Object.prototype.hasOwnProperty.call(z,F)&&(W[F]=z[F]);return W},B.apply(this,arguments)};function h(W,z){var M=typeof Symbol=="function"&&W[Symbol.iterator];if(!M)return W;var R,F,Y=M.call(W),S=[];try{for(;(z===void 0||z-- >0)&&!(R=Y.next()).done;)S.push(R.value)}catch(v){F={error:v}}finally{try{R&&!R.done&&(M=Y.return)&&M.call(Y)}finally{if(F)throw F.error}}return S}function P(){for(var W=[],z=0;z<arguments.length;z++)W=W.concat(h(arguments[z]));return W}},2517:(ye,le,d)=>{d.d(le,{n_:()=>S,eN:()=>F,Tb:()=>M,uT:()=>R,e:()=>Y,v:()=>v,sU:()=>u,rJ:()=>n,YA:()=>p,mG:()=>a,av:()=>w,Yr:()=>k,$e:()=>N});var B=function(){return B=Object.assign||function(C){for(var c,x=1,X=arguments.length;x<X;x++)for(var D in c=arguments[x])Object.prototype.hasOwnProperty.call(c,D)&&(C[D]=c[D]);return C},B.apply(this,arguments)};function h(C,c){var x=typeof Symbol=="function"&&C[Symbol.iterator];if(!x)return C;var X,D,G=x.call(C),O=[];try{for(;(c===void 0||c-- >0)&&!(X=G.next()).done;)O.push(X.value)}catch(E){D={error:E}}finally{try{X&&!X.done&&(x=G.return)&&x.call(G)}finally{if(D)throw D.error}}return O}function P(){for(var C=[],c=0;c<arguments.length;c++)C=C.concat(h(arguments[c]));return C}var W=d(9276);function z(C){for(var c=[],x=1;x<arguments.length;x++)c[x-1]=arguments[x];var X=(0,W.Gd)();if(X&&X[C])return X[C].apply(X,P(c));throw new Error("No hub defined or "+C+" was not found on the hub, please open a bug report.")}function M(C,c){return z("captureException",C,{captureContext:c,originalException:C,syntheticException:new Error("Sentry syntheticException")})}function R(C,c){var x=new Error(C);return z("captureMessage",C,typeof c=="string"?c:void 0,B({originalException:C,syntheticException:x},typeof c!="string"?{captureContext:c}:void 0))}function F(C){return z("captureEvent",C)}function Y(C){z("configureScope",C)}function S(C){z("addBreadcrumb",C)}function v(C,c){z("setContext",C,c)}function n(C){z("setExtras",C)}function a(C){z("setTags",C)}function u(C,c){z("setExtra",C,c)}function p(C,c){z("setTag",C,c)}function w(C){z("setUser",C)}function N(C){z("withScope",C)}function k(C,c){return z("startTransaction",B({},C),c)}},3732:(ye,le,d)=>{var B;d.d(le,{z:()=>B}),function(h){h.Fatal="fatal",h.Error="error",h.Warning="warning",h.Log="log",h.Info="info",h.Debug="debug",h.Critical="critical"}(B||(B={}))},6448:(ye,le,d)=>{d.d(le,{R:()=>P,l:()=>z});var B=d(3868),h=d(9293);function P(M,R){try{for(var F=M,Y=5,S=80,v=[],n=0,a=0,u=" > ",p=u.length,w=void 0;F&&n++<Y&&!((w=W(F,R))==="html"||n>1&&a+v.length*p+w.length>=S);)v.push(w),a+=w.length,F=F.parentNode;return v.reverse().join(u)}catch{return"<unknown>"}}function W(M,R){var F,Y,S,v,n,a=M,u=[];if(!a||!a.tagName)return"";u.push(a.tagName.toLowerCase());var p=R&&R.length?R.filter(function(N){return a.getAttribute(N)}).map(function(N){return[N,a.getAttribute(N)]}):null;if(p&&p.length)p.forEach(function(N){u.push("["+N[0]+'="'+N[1]+'"]')});else if(a.id&&u.push("#"+a.id),(F=a.className)&&(0,h.HD)(F))for(Y=F.split(/\s+/),n=0;n<Y.length;n++)u.push("."+Y[n]);var w=["type","name","title","alt"];for(n=0;n<w.length;n++)S=w[n],(v=a.getAttribute(S))&&u.push("["+S+'="'+v+'"]');return u.join("")}function z(){var M=(0,B.R)();try{return M.document.location.href}catch{return""}}},6027:(ye,le,d)=>{d.d(le,{R:()=>M,v:()=>S});var B=d(4175),h=d(5800),P=d(2190),W=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function z(v){return v==="http"||v==="https"}function M(v,n){n===void 0&&(n=!1);var a=v.host,u=v.path,p=v.pass,w=v.port,N=v.projectId;return v.protocol+"://"+v.publicKey+(n&&p?":"+p:"")+"@"+a+(w?":"+w:"")+"/"+(u&&u+"/")+N}function R(v){var n=W.exec(v);if(!n)throw new P.b("Invalid Sentry Dsn: "+v);var a=(0,B.CR)(n.slice(1),6),u=a[0],p=a[1],w=a[2],N=w===void 0?"":w,k=a[3],C=a[4],c=C===void 0?"":C,x="",X=a[5],D=X.split("/");if(D.length>1&&(x=D.slice(0,-1).join("/"),X=D.pop()),X){var G=X.match(/^\d+/);G&&(X=G[0])}return F({host:k,pass:N,path:x,projectId:X,port:c,protocol:u,publicKey:p})}function F(v){return"user"in v&&!("publicKey"in v)&&(v.publicKey=v.user),{user:v.publicKey||"",protocol:v.protocol,publicKey:v.publicKey||"",pass:v.pass||"",host:v.host,port:v.port||"",path:v.path||"",projectId:v.projectId}}function Y(v){if((0,h.c)()){var n=v.port,a=v.projectId,u=v.protocol;if(["protocol","publicKey","host","projectId"].forEach(function(p){if(!v[p])throw new P.b("Invalid Sentry Dsn: "+p+" missing")}),!a.match(/^\d+$/))throw new P.b("Invalid Sentry Dsn: Invalid projectId "+a);if(!z(u))throw new P.b("Invalid Sentry Dsn: Invalid protocol "+u);if(n&&isNaN(parseInt(n,10)))throw new P.b("Invalid Sentry Dsn: Invalid port "+n);return!0}}function S(v){var n=typeof v=="string"?R(v):F(v);return Y(n),n}},5800:(ye,le,d)=>{d.d(le,{c:()=>h,n:()=>P});var B=!0;function h(){return B}function P(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}},1076:(ye,le,d)=>{d.d(le,{Jd:()=>P,V$:()=>z,y7:()=>W});var B=d(4175),h=d(9293);function P(M,R){return R===void 0&&(R=[]),[M,R]}function W(M){var R=(0,B.CR)(M,2),F=(0,B.CR)(R[1],1);return(0,B.CR)(F[0],1)[0].type}function z(M){var R=(0,B.CR)(M,2),F=R[0],Y=R[1],S=JSON.stringify(F);return Y.reduce(function(v,n){var a=(0,B.CR)(n,2),u=a[0],p=a[1],w=(0,h.pt)(p)?String(p):JSON.stringify(p);return v+`
`+JSON.stringify(u)+`
`+w},S)}},2190:(ye,le,d)=>{d.d(le,{b:()=>z});var B=d(4175),h=Object.setPrototypeOf||({__proto__:[]}instanceof Array?P:W);function P(M,R){return M.__proto__=R,M}function W(M,R){for(var F in R)Object.prototype.hasOwnProperty.call(M,F)||(M[F]=R[F]);return M}var z=function(M){function R(F){var Y=this.constructor,S=M.call(this,F)||this;return S.message=F,S.name=Y.prototype.constructor.name,h(S,Y.prototype),S}return(0,B.ZT)(R,M),R}(Error)},3868:(ye,le,d)=>{d.d(le,{R:()=>P});var B=d(8790),h={};function P(){return(0,B.KV)()?d.g:typeof window<"u"?window:typeof self<"u"?self:h}},5954:(ye,le,d)=>{d.d(le,{o:()=>u});var B,h=d(4175),P=d(5800),W=d(3868),z=d(9293),M=d(8321),R=d(3621),F=d(313),Y=d(9018),S=(0,W.R)(),v={},n={};function a(y){if(!n[y])switch(n[y]=!0,y){case"console":break;case"dom":J();break;case"xhr":C();break;case"fetch":w();break;case"history":c();break;case"error":K();break;case"unhandledrejection":T();break;default:return void((0,P.c)()&&M.kg.warn("unknown instrumentation type:",y))}}function u(y,L){v[y]=v[y]||[],v[y].push(L),a(y)}function p(y,L){var j,Q;if(y&&v[y])try{for(var ee=(0,h.XA)(v[y]||[]),ne=ee.next();!ne.done;ne=ee.next()){var be=ne.value;try{be(L)}catch(Ie){(0,P.c)()&&M.kg.error(`Error while triggering instrumentation handler.
Type: `+y+`
Name: `+(0,F.$P)(be)+`
Error:`,Ie)}}}catch(Ie){j={error:Ie}}finally{try{ne&&!ne.done&&(Q=ee.return)&&Q.call(ee)}finally{if(j)throw j.error}}}function w(){(0,Y.t$)()&&(0,R.hl)(S,"fetch",function(y){return function(){for(var L=[],j=0;j<arguments.length;j++)L[j]=arguments[j];var Q={args:L,fetchData:{method:N(L),url:k(L)},startTimestamp:Date.now()};return p("fetch",(0,h.pi)({},Q)),y.apply(S,L).then(function(ee){return p("fetch",(0,h.pi)((0,h.pi)({},Q),{endTimestamp:Date.now(),response:ee})),ee},function(ee){throw p("fetch",(0,h.pi)((0,h.pi)({},Q),{endTimestamp:Date.now(),error:ee})),ee})}})}function N(y){return y===void 0&&(y=[]),"Request"in S&&(0,z.V9)(y[0],Request)&&y[0].method?String(y[0].method).toUpperCase():y[1]&&y[1].method?String(y[1].method).toUpperCase():"GET"}function k(y){return y===void 0&&(y=[]),typeof y[0]=="string"?y[0]:"Request"in S&&(0,z.V9)(y[0],Request)?y[0].url:String(y[0])}function C(){if("XMLHttpRequest"in S){var y=XMLHttpRequest.prototype;(0,R.hl)(y,"open",function(L){return function(){for(var j=[],Q=0;Q<arguments.length;Q++)j[Q]=arguments[Q];var ee=this,ne=j[1],be=ee.__sentry_xhr__={method:(0,z.HD)(j[0])?j[0].toUpperCase():j[0],url:j[1]};(0,z.HD)(ne)&&be.method==="POST"&&ne.match(/sentry_key/)&&(ee.__sentry_own_request__=!0);var Ie=function(){if(ee.readyState===4){try{be.status_code=ee.status}catch{}p("xhr",{args:j,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:ee})}};return"onreadystatechange"in ee&&typeof ee.onreadystatechange=="function"?(0,R.hl)(ee,"onreadystatechange",function(Ce){return function(){for(var he=[],b=0;b<arguments.length;b++)he[b]=arguments[b];return Ie(),Ce.apply(ee,he)}}):ee.addEventListener("readystatechange",Ie),L.apply(ee,j)}}),(0,R.hl)(y,"send",function(L){return function(){for(var j=[],Q=0;Q<arguments.length;Q++)j[Q]=arguments[Q];return this.__sentry_xhr__&&j[0]!==void 0&&(this.__sentry_xhr__.body=j[0]),p("xhr",{args:j,startTimestamp:Date.now(),xhr:this}),L.apply(this,j)}})}}function c(){if((0,Y.Bf)()){var y=S.onpopstate;S.onpopstate=function(){for(var j=[],Q=0;Q<arguments.length;Q++)j[Q]=arguments[Q];var ee=S.location.href,ne=B;if(B=ee,p("history",{from:ne,to:ee}),y)try{return y.apply(this,j)}catch{}},(0,R.hl)(S.history,"pushState",L),(0,R.hl)(S.history,"replaceState",L)}function L(j){return function(){for(var Q=[],ee=0;ee<arguments.length;ee++)Q[ee]=arguments[ee];var ne=Q.length>2?Q[2]:void 0;if(ne){var be=B,Ie=String(ne);B=Ie,p("history",{from:be,to:Ie})}return j.apply(this,Q)}}}var x,X,D=1e3;function G(y,L){if(!y||y.type!==L.type)return!0;try{if(y.target!==L.target)return!0}catch{}return!1}function O(y){if(y.type!=="keypress")return!1;try{var L=y.target;if(!L||!L.tagName)return!0;if(L.tagName==="INPUT"||L.tagName==="TEXTAREA"||L.isContentEditable)return!1}catch{}return!0}function E(y,L){return L===void 0&&(L=!1),function(j){if(j&&X!==j&&!O(j)){var Q=j.type==="keypress"?"input":j.type;(x===void 0||G(X,j))&&(y({event:j,name:Q,global:L}),X=j),clearTimeout(x),x=S.setTimeout(function(){x=void 0},D)}}}function J(){if("document"in S){var y=p.bind(null,"dom"),L=E(y,!0);S.document.addEventListener("click",L,!1),S.document.addEventListener("keypress",L,!1),["EventTarget","Node"].forEach(function(j){var Q=S[j]&&S[j].prototype;Q&&Q.hasOwnProperty&&Q.hasOwnProperty("addEventListener")&&((0,R.hl)(Q,"addEventListener",function(ee){return function(ne,be,Ie){if(ne==="click"||ne=="keypress")try{var Ce=this,he=Ce.__sentry_instrumentation_handlers__=Ce.__sentry_instrumentation_handlers__||{},b=he[ne]=he[ne]||{refCount:0};if(!b.handler){var U=E(y);b.handler=U,ee.call(this,ne,U,Ie)}b.refCount+=1}catch{}return ee.call(this,ne,be,Ie)}}),(0,R.hl)(Q,"removeEventListener",function(ee){return function(ne,be,Ie){if(ne==="click"||ne=="keypress")try{var Ce=this,he=Ce.__sentry_instrumentation_handlers__||{},b=he[ne];b&&(b.refCount-=1,b.refCount<=0&&(ee.call(this,ne,b.handler,Ie),b.handler=void 0,delete he[ne]),Object.keys(he).length===0&&delete Ce.__sentry_instrumentation_handlers__)}catch{}return ee.call(this,ne,be,Ie)}}))})}}var q=null;function K(){q=S.onerror,S.onerror=function(y,L,j,Q,ee){return p("error",{column:Q,error:ee,line:j,msg:y,url:L}),!!q&&q.apply(this,arguments)}}var A=null;function T(){A=S.onunhandledrejection,S.onunhandledrejection=function(y){return p("unhandledrejection",y),!A||A.apply(this,arguments)}}},9293:(ye,le,d)=>{d.d(le,{Cy:()=>u,HD:()=>R,J8:()=>a,Kj:()=>n,PO:()=>Y,TX:()=>z,V9:()=>w,VW:()=>W,VZ:()=>h,cO:()=>S,fm:()=>M,i2:()=>p,kK:()=>v,pt:()=>F});var B=Object.prototype.toString;function h(N){switch(B.call(N)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return w(N,Error)}}function P(N,k){return B.call(N)==="[object "+k+"]"}function W(N){return P(N,"ErrorEvent")}function z(N){return P(N,"DOMError")}function M(N){return P(N,"DOMException")}function R(N){return P(N,"String")}function F(N){return N===null||typeof N!="object"&&typeof N!="function"}function Y(N){return P(N,"Object")}function S(N){return typeof Event<"u"&&w(N,Event)}function v(N){return typeof Element<"u"&&w(N,Element)}function n(N){return P(N,"RegExp")}function a(N){return!!(N&&N.then&&typeof N.then=="function")}function u(N){return Y(N)&&"nativeEvent"in N&&"preventDefault"in N&&"stopPropagation"in N}function p(N){return typeof N=="number"&&N!=N}function w(N,k){try{return N instanceof k}catch{return!1}}},8321:(ye,le,d)=>{d.d(le,{Cf:()=>R,RU:()=>M,kg:()=>S});var B=d(4175),h=d(5800),P=d(3868),W=(0,P.R)(),z="Sentry Logger ",M=["debug","info","warn","error","log","assert"];function R(v){var n=(0,P.R)();if(!("console"in n))return v();var a=n.console,u={};M.forEach(function(w){w in n.console&&a[w].__sentry_original__&&(u[w]=a[w],a[w]=a[w].__sentry_original__)});var p=v();return Object.keys(u).forEach(function(w){a[w]=u[w]}),p}var F=function(){function v(){this._enabled=!1}return v.prototype.disable=function(){this._enabled=!1},v.prototype.enable=function(){this._enabled=!0},v.prototype.log=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];this._enabled&&R(function(){var u;(u=W.console).log.apply(u,(0,B.fl)([z+"[Log]:"],n))})},v.prototype.warn=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];this._enabled&&R(function(){var u;(u=W.console).warn.apply(u,(0,B.fl)([z+"[Warn]:"],n))})},v.prototype.error=function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];this._enabled&&R(function(){var u;(u=W.console).error.apply(u,(0,B.fl)([z+"[Error]:"],n))})},v}(),Y=W.__SENTRY__||{},S=Y.logger||new F;(0,h.c)()&&(Y.logger=S,W.__SENTRY__=Y)},4503:(ye,le,d)=>{d.d(le,{DM:()=>W,Db:()=>F,EG:()=>Y,YO:()=>S,en:()=>z,jH:()=>R});var B=d(4175),h=d(3868),P=d(3621);function W(){var v=(0,h.R)(),n=v.crypto||v.msCrypto;if(n!==void 0&&n.getRandomValues){var a=new Uint16Array(8);n.getRandomValues(a),a[3]=4095&a[3]|16384,a[4]=16383&a[4]|32768;var u=function(p){for(var w=p.toString(16);w.length<4;)w="0"+w;return w};return u(a[0])+u(a[1])+u(a[2])+u(a[3])+u(a[4])+u(a[5])+u(a[6])+u(a[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(p){var w=16*Math.random()|0;return(p==="x"?w:3&w|8).toString(16)})}function z(v){if(!v)return{};var n=v.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!n)return{};var a=n[6]||"",u=n[8]||"";return{host:n[4],path:n[5],protocol:n[2],relative:n[5]+a+u}}function M(v){return v.exception&&v.exception.values?v.exception.values[0]:void 0}function R(v){var n=v.message,a=v.event_id;if(n)return n;var u=M(v);return u?u.type&&u.value?u.type+": "+u.value:u.type||u.value||a||"<unknown>":a||"<unknown>"}function F(v,n,a){var u=v.exception=v.exception||{},p=u.values=u.values||[],w=p[0]=p[0]||{};w.value||(w.value=n||""),w.type||(w.type=a||"Error")}function Y(v,n){var a=M(v);if(a){var u={type:"generic",handled:!0},p=a.mechanism;if(a.mechanism=(0,B.pi)((0,B.pi)((0,B.pi)({},u),p),n),n&&"data"in n){var w=(0,B.pi)((0,B.pi)({},p&&p.data),n.data);a.mechanism.data=w}}}function S(v){if(v&&v.__sentry_captured__)return!0;try{(0,P.xp)(v,"__sentry_captured__",!0)}catch{}return!1}},8790:(ye,le,d)=>{d.d(le,{KV:()=>h,l$:()=>P});var B=d(5800);function h(){return!(0,B.n)()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function P(W,z){return W.require(z)}ye=d.hmd(ye)},6979:(ye,le,d)=>{d.d(le,{Fv:()=>M,Qy:()=>R});var B=d(4175),h=d(9293);function P(){var n=typeof WeakSet=="function",a=n?new WeakSet:[];function u(w){if(n)return!!a.has(w)||(a.add(w),!1);for(var N=0;N<a.length;N++)if(a[N]===w)return!0;return a.push(w),!1}function p(w){if(n)a.delete(w);else for(var N=0;N<a.length;N++)if(a[N]===w){a.splice(N,1);break}}return[u,p]}var W=d(3621),z=d(313);function M(n,a,u){a===void 0&&(a=1/0),u===void 0&&(u=1/0);try{return F("",n,a,u)}catch(p){return{ERROR:"**non-serializable** ("+p+")"}}}function R(n,a,u){a===void 0&&(a=3),u===void 0&&(u=102400);var p=M(n,a);return v(p)>u?R(n,a-1,u):p}function F(n,a,u,p,w){u===void 0&&(u=1/0),p===void 0&&(p=1/0),w===void 0&&(w=P());var N=(0,B.CR)(w,2),k=N[0],C=N[1],c=a;if(c&&typeof c.toJSON=="function")try{return c.toJSON()}catch{}if(a===null||["number","boolean","string"].includes(typeof a)&&!(0,h.i2)(a))return a;var x=Y(n,a);if(!x.startsWith("[object "))return x;if(u===0)return x.replace("object ","");if(k(a))return"[Circular ~]";var X=Array.isArray(a)?[]:{},D=0,G=(0,h.VZ)(a)||(0,h.cO)(a)?(0,W.Sh)(a):a;for(var O in G)if(Object.prototype.hasOwnProperty.call(G,O)){if(D>=p){X[O]="[MaxProperties ~]";break}var E=G[O];X[O]=F(O,E,u-1,p,w),D+=1}return C(a),X}function Y(n,a){try{return n==="domain"&&a&&typeof a=="object"&&a._events?"[Domain]":n==="domainEmitter"?"[DomainEmitter]":d.g!==void 0&&a===d.g?"[Global]":typeof window<"u"&&a===window?"[Window]":typeof document<"u"&&a===document?"[Document]":(0,h.Cy)(a)?"[SyntheticEvent]":typeof a=="number"&&a!=a?"[NaN]":a===void 0?"[undefined]":typeof a=="function"?"[Function: "+(0,z.$P)(a)+"]":typeof a=="symbol"?"["+String(a)+"]":typeof a=="bigint"?"[BigInt: "+String(a)+"]":"[object "+Object.getPrototypeOf(a).constructor.name+"]"}catch(u){return"**non-serializable** ("+u+")"}}function S(n){return~-encodeURI(n).split(/%..|./).length}function v(n){return S(JSON.stringify(n))}},3621:(ye,le,d)=>{d.d(le,{$Q:()=>R,HK:()=>F,Jr:()=>u,Sh:()=>S,_j:()=>Y,hl:()=>z,xp:()=>M,zf:()=>a});var B=d(4175),h=d(6448),P=d(9293),W=d(3553);function z(p,w,N){if(w in p){var k=p[w],C=N(k);if(typeof C=="function")try{R(C,k)}catch{}p[w]=C}}function M(p,w,N){Object.defineProperty(p,w,{value:N,writable:!0,configurable:!0})}function R(p,w){var N=w.prototype||{};p.prototype=w.prototype=N,M(p,"__sentry_original__",w)}function F(p){return p.__sentry_original__}function Y(p){return Object.keys(p).map(function(w){return encodeURIComponent(w)+"="+encodeURIComponent(p[w])}).join("&")}function S(p){var w=p;if((0,P.VZ)(p))w=(0,B.pi)({message:p.message,name:p.name,stack:p.stack},n(p));else if((0,P.cO)(p)){var N=p;w=(0,B.pi)({type:N.type,target:v(N.target),currentTarget:v(N.currentTarget)},n(N)),typeof CustomEvent<"u"&&(0,P.V9)(p,CustomEvent)&&(w.detail=N.detail)}return w}function v(p){try{return(0,P.kK)(p)?(0,h.R)(p):Object.prototype.toString.call(p)}catch{return"<unknown>"}}function n(p){var w={};for(var N in p)Object.prototype.hasOwnProperty.call(p,N)&&(w[N]=p[N]);return w}function a(p,w){w===void 0&&(w=40);var N=Object.keys(S(p));if(N.sort(),!N.length)return"[object has no keys]";if(N[0].length>=w)return(0,W.$G)(N[0],w);for(var k=N.length;k>0;k--){var C=N.slice(0,k).join(", ");if(!(C.length>w))return k===N.length?C:(0,W.$G)(C,w)}return""}function u(p){var w,N;if((0,P.PO)(p)){var k={};try{for(var C=(0,B.XA)(Object.keys(p)),c=C.next();!c.done;c=C.next()){var x=c.value;p[x]!==void 0&&(k[x]=u(p[x]))}}catch(X){w={error:X}}finally{try{c&&!c.done&&(N=C.return)&&N.call(C)}finally{if(w)throw w.error}}return k}return Array.isArray(p)?p.map(u):p}},9765:(ye,le,d)=>{d.d(le,{x:()=>P});var B=d(2190),h=d(7593);function P(W){var z=[];function M(){return W===void 0||z.length<W}function R(S){return z.splice(z.indexOf(S),1)[0]}function F(S){if(!M())return(0,h.$2)(new B.b("Not adding Promise due to buffer limit reached."));var v=S();return z.indexOf(v)===-1&&z.push(v),v.then(function(){return R(v)}).then(null,function(){return R(v).then(null,function(){})}),v}function Y(S){return new h.cW(function(v,n){var a=z.length;if(!a)return v(!0);var u=setTimeout(function(){S&&S>0&&v(!1)},S);z.forEach(function(p){(0,h.WD)(p).then(function(){--a||(clearTimeout(u),v(!0))},n)})})}return{$:z,add:F,drain:Y}}},2105:(ye,le,d)=>{d.d(le,{Q:()=>z,WG:()=>M,ns:()=>W});var B=d(4175),h=6e4;function P(R,F){F===void 0&&(F=Date.now());var Y=parseInt(""+R,10);if(!isNaN(Y))return 1e3*Y;var S=Date.parse(""+R);return isNaN(S)?h:S-F}function W(R,F){return R[F]||R.all||0}function z(R,F,Y){return Y===void 0&&(Y=Date.now()),W(R,F)>Y}function M(R,F,Y){var S,v,n,a;Y===void 0&&(Y=Date.now());var u=(0,B.pi)({},R),p=F["x-sentry-rate-limits"],w=F["retry-after"];if(p)try{for(var N=(0,B.XA)(p.trim().split(",")),k=N.next();!k.done;k=N.next()){var C=k.value.split(":",2),c=parseInt(C[0],10),x=1e3*(isNaN(c)?60:c);if(C[1])try{for(var X=(n=void 0,(0,B.XA)(C[1].split(";"))),D=X.next();!D.done;D=X.next())u[D.value]=Y+x}catch(G){n={error:G}}finally{try{D&&!D.done&&(a=X.return)&&a.call(X)}finally{if(n)throw n.error}}else u.all=Y+x}}catch(G){S={error:G}}finally{try{k&&!k.done&&(v=N.return)&&v.call(N)}finally{if(S)throw S.error}}else w&&(u.all=Y+P(w,Y));return u}},313:(ye,le,d)=>{d.d(le,{$P:()=>M,pE:()=>P});var B=d(4175),h=50;function P(){for(var R=[],F=0;F<arguments.length;F++)R[F]=arguments[F];var Y=R.sort(function(S,v){return S[0]-v[0]}).map(function(S){return S[1]});return function(S,v){var n,a,u,p;v===void 0&&(v=0);var w=[];try{for(var N=(0,B.XA)(S.split(`
`).slice(v)),k=N.next();!k.done;k=N.next()){var C=k.value;try{for(var c=(u=void 0,(0,B.XA)(Y)),x=c.next();!x.done;x=c.next()){var X=(0,x.value)(C);if(X){w.push(X);break}}}catch(D){u={error:D}}finally{try{x&&!x.done&&(p=c.return)&&p.call(c)}finally{if(u)throw u.error}}}}catch(D){n={error:D}}finally{try{k&&!k.done&&(a=N.return)&&a.call(N)}finally{if(n)throw n.error}}return W(w)}}function W(R){if(!R.length)return[];var F=R,Y=F[0].function||"",S=F[F.length-1].function||"";return Y.indexOf("captureMessage")===-1&&Y.indexOf("captureException")===-1||(F=F.slice(1)),S.indexOf("sentryWrapped")!==-1&&(F=F.slice(0,-1)),F.slice(0,h).map(function(v){return(0,B.pi)((0,B.pi)({},v),{filename:v.filename||F[0].filename,function:v.function||"?"})}).reverse()}var z="<anonymous>";function M(R){try{return R&&typeof R=="function"&&R.name||z}catch{return z}}},6222:(ye,le,d)=>{function B(h){return h>=200&&h<300?"success":h===429?"rate_limit":h>=400&&h<500?"invalid":h>=500?"failed":"unknown"}d.d(le,{F:()=>B})},3553:(ye,le,d)=>{d.d(le,{$G:()=>h,nK:()=>P,zC:()=>W});var B=d(9293);function h(z,M){return M===void 0&&(M=0),typeof z!="string"||M===0||z.length<=M?z:z.substr(0,M)+"..."}function P(z,M){if(!Array.isArray(z))return"";for(var R=[],F=0;F<z.length;F++){var Y=z[F];try{R.push(String(Y))}catch{R.push("[value cannot be serialized]")}}return R.join(M)}function W(z,M){return!!(0,B.HD)(z)&&((0,B.Kj)(M)?M.test(z):typeof M=="string"&&z.indexOf(M)!==-1)}},9018:(ye,le,d)=>{d.d(le,{Ak:()=>W,Bf:()=>F,Du:()=>z,hv:()=>R,t$:()=>M});var B=d(5800),h=d(3868),P=d(8321);function W(){if(!("fetch"in(0,h.R)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch{return!1}}function z(Y){return Y&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(Y.toString())}function M(){if(!W())return!1;var Y=(0,h.R)();if(z(Y.fetch))return!0;var S=!1,v=Y.document;if(v&&typeof v.createElement=="function")try{var n=v.createElement("iframe");n.hidden=!0,v.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(S=z(n.contentWindow.fetch)),v.head.removeChild(n)}catch(a){(0,B.c)()&&P.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",a)}return S}function R(){if(!W())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch{return!1}}function F(){var Y=(0,h.R)(),S=Y.chrome,v=S&&S.app&&S.app.runtime,n="history"in Y&&!!Y.history.pushState&&!!Y.history.replaceState;return!v&&n}},7593:(ye,le,d)=>{d.d(le,{$2:()=>P,WD:()=>h,cW:()=>W});var B=d(9293);function h(z){return new W(function(M){M(z)})}function P(z){return new W(function(M,R){R(z)})}var W=function(){function z(M){var R=this;this._state=0,this._handlers=[],this._resolve=function(F){R._setResult(1,F)},this._reject=function(F){R._setResult(2,F)},this._setResult=function(F,Y){R._state===0&&((0,B.J8)(Y)?Y.then(R._resolve,R._reject):(R._state=F,R._value=Y,R._executeHandlers()))},this._executeHandlers=function(){if(R._state!==0){var F=R._handlers.slice();R._handlers=[],F.forEach(function(Y){Y[0]||(R._state===1&&Y[1](R._value),R._state===2&&Y[2](R._value),Y[0]=!0)})}};try{M(this._resolve,this._reject)}catch(F){this._reject(F)}}return z.prototype.then=function(M,R){var F=this;return new z(function(Y,S){F._handlers.push([!1,function(v){if(M)try{Y(M(v))}catch(n){S(n)}else Y(v)},function(v){if(R)try{Y(R(v))}catch(n){S(n)}else S(v)}]),F._executeHandlers()})},z.prototype.catch=function(M){return this.then(function(R){return R},M)},z.prototype.finally=function(M){var R=this;return new z(function(F,Y){var S,v;return R.then(function(n){v=!1,S=n,M&&M()},function(n){v=!0,S=n,M&&M()}).then(function(){v?Y(S):F(S)})})},z}()},6629:(ye,le,d)=>{d.d(le,{ph:()=>Y,yW:()=>F});var B=d(3868),h=d(8790);ye=d.hmd(ye);var P={nowSeconds:function(){return Date.now()/1e3}};function W(){var S=(0,B.R)().performance;if(S&&S.now)return{now:function(){return S.now()},timeOrigin:Date.now()-S.now()}}function z(){try{return(0,h.l$)(ye,"perf_hooks").performance}catch{return}}var M=(0,h.KV)()?z():W(),R=M===void 0?P:{nowSeconds:function(){return(M.timeOrigin+M.now())/1e3}},F=P.nowSeconds.bind(P),Y=R.nowSeconds.bind(R);(function(){var S=(0,B.R)().performance;if(S&&S.now){var v=36e5,n=S.now(),a=Date.now(),u=S.timeOrigin?Math.abs(S.timeOrigin+n-a):v,p=u<v,w=S.timing&&S.timing.navigationStart,N=typeof w=="number"?Math.abs(w+n-a):v;return p||N<v?u<=N?S.timeOrigin:w:a}})()},4175:(ye,le,d)=>{d.d(le,{CR:()=>z,XA:()=>W,ZT:()=>h,fl:()=>M,pi:()=>P});var B=function(R,F){return B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Y,S){Y.__proto__=S}||function(Y,S){for(var v in S)S.hasOwnProperty(v)&&(Y[v]=S[v])},B(R,F)};function h(R,F){function Y(){this.constructor=R}B(R,F),R.prototype=F===null?Object.create(F):(Y.prototype=F.prototype,new Y)}var P=function(){return P=Object.assign||function(R){for(var F,Y=1,S=arguments.length;Y<S;Y++)for(var v in F=arguments[Y])Object.prototype.hasOwnProperty.call(F,v)&&(R[v]=F[v]);return R},P.apply(this,arguments)};function W(R){var F=typeof Symbol=="function"&&Symbol.iterator,Y=F&&R[F],S=0;if(Y)return Y.call(R);if(R&&typeof R.length=="number")return{next:function(){return R&&S>=R.length&&(R=void 0),{value:R&&R[S++],done:!R}}};throw new TypeError(F?"Object is not iterable.":"Symbol.iterator is not defined.")}function z(R,F){var Y=typeof Symbol=="function"&&R[Symbol.iterator];if(!Y)return R;var S,v,n=Y.call(R),a=[];try{for(;(F===void 0||F-- >0)&&!(S=n.next()).done;)a.push(S.value)}catch(u){v={error:u}}finally{try{S&&!S.done&&(Y=n.return)&&Y.call(n)}finally{if(v)throw v.error}}return a}function M(){for(var R=[],F=0;F<arguments.length;F++)R=R.concat(z(arguments[F]));return R}},3410:(ye,le,d)=>{var B=typeof window<"u"?window:d.g!==void 0?d.g:typeof self<"u"?self:{};B.SENTRY_RELEASE={id:"Plinko (game: v0.0.27_v14.6.4, utils: v14.6.4)"},B.SENTRY_RELEASES=B.SENTRY_RELEASES||{},B.SENTRY_RELEASES["games-front-end@sentry"]={id:"Plinko (game: v0.0.27_v14.6.4, utils: v14.6.4)"}},6957:ye=>{function le(T,y,L){L=L||2;var j,Q,ee,ne,be,Ie,Ce,he=y&&y.length,b=he?y[0]*L:T.length,U=d(T,0,b,L,!0),V=[];if(!U||U.next===U.prev)return V;if(he&&(U=R(T,y,U,L)),T.length>80*L){j=ee=T[0],Q=ne=T[1];for(var te=L;te<b;te+=L)(be=T[te])<j&&(j=be),(Ie=T[te+1])<Q&&(Q=Ie),be>ee&&(ee=be),Ie>ne&&(ne=Ie);Ce=(Ce=Math.max(ee-j,ne-Q))!==0?1/Ce:0}return h(U,V,L,j,Q,Ce),V}function d(T,y,L,j,Q){var ee,ne;if(Q===A(T,y,L,j)>0)for(ee=y;ee<L;ee+=j)ne=J(ee,T[ee],T[ee+1],ne);else for(ee=L-j;ee>=y;ee-=j)ne=J(ee,T[ee],T[ee+1],ne);return ne&&C(ne,ne.next)&&(q(ne),ne=ne.next),ne}function B(T,y){if(!T)return T;y||(y=T);var L,j=T;do if(L=!1,j.steiner||!C(j,j.next)&&k(j.prev,j,j.next)!==0)j=j.next;else{if(q(j),(j=y=j.prev)===j.next)break;L=!0}while(L||j!==y);return y}function h(T,y,L,j,Q,ee,ne){if(T){!ne&&ee&&n(T,j,Q,ee);for(var be,Ie,Ce=T;T.prev!==T.next;)if(be=T.prev,Ie=T.next,ee?W(T,j,Q,ee):P(T))y.push(be.i/L),y.push(T.i/L),y.push(Ie.i/L),q(T),T=Ie.next,Ce=Ie.next;else if((T=Ie)===Ce){ne?ne===1?h(T=z(B(T),y,L),y,L,j,Q,ee,2):ne===2&&M(T,y,L,j,Q,ee):h(B(T),y,L,j,Q,ee,1);break}}}function P(T){var y=T.prev,L=T,j=T.next;if(k(y,L,j)>=0)return!1;for(var Q=T.next.next;Q!==T.prev;){if(w(y.x,y.y,L.x,L.y,j.x,j.y,Q.x,Q.y)&&k(Q.prev,Q,Q.next)>=0)return!1;Q=Q.next}return!0}function W(T,y,L,j){var Q=T.prev,ee=T,ne=T.next;if(k(Q,ee,ne)>=0)return!1;for(var be=Q.x<ee.x?Q.x<ne.x?Q.x:ne.x:ee.x<ne.x?ee.x:ne.x,Ie=Q.y<ee.y?Q.y<ne.y?Q.y:ne.y:ee.y<ne.y?ee.y:ne.y,Ce=Q.x>ee.x?Q.x>ne.x?Q.x:ne.x:ee.x>ne.x?ee.x:ne.x,he=Q.y>ee.y?Q.y>ne.y?Q.y:ne.y:ee.y>ne.y?ee.y:ne.y,b=u(be,Ie,y,L,j),U=u(Ce,he,y,L,j),V=T.prevZ,te=T.nextZ;V&&V.z>=b&&te&&te.z<=U;){if(V!==T.prev&&V!==T.next&&w(Q.x,Q.y,ee.x,ee.y,ne.x,ne.y,V.x,V.y)&&k(V.prev,V,V.next)>=0||(V=V.prevZ,te!==T.prev&&te!==T.next&&w(Q.x,Q.y,ee.x,ee.y,ne.x,ne.y,te.x,te.y)&&k(te.prev,te,te.next)>=0))return!1;te=te.nextZ}for(;V&&V.z>=b;){if(V!==T.prev&&V!==T.next&&w(Q.x,Q.y,ee.x,ee.y,ne.x,ne.y,V.x,V.y)&&k(V.prev,V,V.next)>=0)return!1;V=V.prevZ}for(;te&&te.z<=U;){if(te!==T.prev&&te!==T.next&&w(Q.x,Q.y,ee.x,ee.y,ne.x,ne.y,te.x,te.y)&&k(te.prev,te,te.next)>=0)return!1;te=te.nextZ}return!0}function z(T,y,L){var j=T;do{var Q=j.prev,ee=j.next.next;!C(Q,ee)&&c(Q,j,j.next,ee)&&G(Q,ee)&&G(ee,Q)&&(y.push(Q.i/L),y.push(j.i/L),y.push(ee.i/L),q(j),q(j.next),j=T=ee),j=j.next}while(j!==T);return B(j)}function M(T,y,L,j,Q,ee){var ne=T;do{for(var be=ne.next.next;be!==ne.prev;){if(ne.i!==be.i&&N(ne,be)){var Ie=E(ne,be);return ne=B(ne,ne.next),Ie=B(Ie,Ie.next),h(ne,y,L,j,Q,ee),void h(Ie,y,L,j,Q,ee)}be=be.next}ne=ne.next}while(ne!==T)}function R(T,y,L,j){var Q,ee,ne,be=[];for(Q=0,ee=y.length;Q<ee;Q++)(ne=d(T,y[Q]*j,Q<ee-1?y[Q+1]*j:T.length,j,!1))===ne.next&&(ne.steiner=!0),be.push(p(ne));for(be.sort(F),Q=0;Q<be.length;Q++)L=B(L=Y(be[Q],L),L.next);return L}function F(T,y){return T.x-y.x}function Y(T,y){var L=S(T,y);if(!L)return y;var j=E(L,T),Q=B(L,L.next);return B(j,j.next),y===L?Q:y}function S(T,y){var L,j=y,Q=T.x,ee=T.y,ne=-1/0;do{if(ee<=j.y&&ee>=j.next.y&&j.next.y!==j.y){var be=j.x+(ee-j.y)*(j.next.x-j.x)/(j.next.y-j.y);if(be<=Q&&be>ne){if(ne=be,be===Q){if(ee===j.y)return j;if(ee===j.next.y)return j.next}L=j.x<j.next.x?j:j.next}}j=j.next}while(j!==y);if(!L)return null;if(Q===ne)return L;var Ie,Ce=L,he=L.x,b=L.y,U=1/0;j=L;do Q>=j.x&&j.x>=he&&Q!==j.x&&w(ee<b?Q:ne,ee,he,b,ee<b?ne:Q,ee,j.x,j.y)&&(Ie=Math.abs(ee-j.y)/(Q-j.x),G(j,T)&&(Ie<U||Ie===U&&(j.x>L.x||j.x===L.x&&v(L,j)))&&(L=j,U=Ie)),j=j.next;while(j!==Ce);return L}function v(T,y){return k(T.prev,T,y.prev)<0&&k(y.next,T,T.next)<0}function n(T,y,L,j){var Q=T;do Q.z===null&&(Q.z=u(Q.x,Q.y,y,L,j)),Q.prevZ=Q.prev,Q.nextZ=Q.next,Q=Q.next;while(Q!==T);Q.prevZ.nextZ=null,Q.prevZ=null,a(Q)}function a(T){var y,L,j,Q,ee,ne,be,Ie,Ce=1;do{for(L=T,T=null,ee=null,ne=0;L;){for(ne++,j=L,be=0,y=0;y<Ce&&(be++,j=j.nextZ);y++);for(Ie=Ce;be>0||Ie>0&&j;)be!==0&&(Ie===0||!j||L.z<=j.z)?(Q=L,L=L.nextZ,be--):(Q=j,j=j.nextZ,Ie--),ee?ee.nextZ=Q:T=Q,Q.prevZ=ee,ee=Q;L=j}ee.nextZ=null,Ce*=2}while(ne>1);return T}function u(T,y,L,j,Q){return(T=1431655765&((T=858993459&((T=252645135&((T=16711935&((T=32767*(T-L)*Q)|T<<8))|T<<4))|T<<2))|T<<1))|(y=1431655765&((y=858993459&((y=252645135&((y=16711935&((y=32767*(y-j)*Q)|y<<8))|y<<4))|y<<2))|y<<1))<<1}function p(T){var y=T,L=T;do(y.x<L.x||y.x===L.x&&y.y<L.y)&&(L=y),y=y.next;while(y!==T);return L}function w(T,y,L,j,Q,ee,ne,be){return(Q-ne)*(y-be)-(T-ne)*(ee-be)>=0&&(T-ne)*(j-be)-(L-ne)*(y-be)>=0&&(L-ne)*(ee-be)-(Q-ne)*(j-be)>=0}function N(T,y){return T.next.i!==y.i&&T.prev.i!==y.i&&!D(T,y)&&(G(T,y)&&G(y,T)&&O(T,y)&&(k(T.prev,T,y.prev)||k(T,y.prev,y))||C(T,y)&&k(T.prev,T,T.next)>0&&k(y.prev,y,y.next)>0)}function k(T,y,L){return(y.y-T.y)*(L.x-y.x)-(y.x-T.x)*(L.y-y.y)}function C(T,y){return T.x===y.x&&T.y===y.y}function c(T,y,L,j){var Q=X(k(T,y,L)),ee=X(k(T,y,j)),ne=X(k(L,j,T)),be=X(k(L,j,y));return Q!==ee&&ne!==be||!(Q!==0||!x(T,L,y))||!(ee!==0||!x(T,j,y))||!(ne!==0||!x(L,T,j))||!(be!==0||!x(L,y,j))}function x(T,y,L){return y.x<=Math.max(T.x,L.x)&&y.x>=Math.min(T.x,L.x)&&y.y<=Math.max(T.y,L.y)&&y.y>=Math.min(T.y,L.y)}function X(T){return T>0?1:T<0?-1:0}function D(T,y){var L=T;do{if(L.i!==T.i&&L.next.i!==T.i&&L.i!==y.i&&L.next.i!==y.i&&c(L,L.next,T,y))return!0;L=L.next}while(L!==T);return!1}function G(T,y){return k(T.prev,T,T.next)<0?k(T,y,T.next)>=0&&k(T,T.prev,y)>=0:k(T,y,T.prev)<0||k(T,T.next,y)<0}function O(T,y){var L=T,j=!1,Q=(T.x+y.x)/2,ee=(T.y+y.y)/2;do L.y>ee!=L.next.y>ee&&L.next.y!==L.y&&Q<(L.next.x-L.x)*(ee-L.y)/(L.next.y-L.y)+L.x&&(j=!j),L=L.next;while(L!==T);return j}function E(T,y){var L=new K(T.i,T.x,T.y),j=new K(y.i,y.x,y.y),Q=T.next,ee=y.prev;return T.next=y,y.prev=T,L.next=Q,Q.prev=L,j.next=L,L.prev=j,ee.next=j,j.prev=ee,j}function J(T,y,L,j){var Q=new K(T,y,L);return j?(Q.next=j.next,Q.prev=j,j.next.prev=Q,j.next=Q):(Q.prev=Q,Q.next=Q),Q}function q(T){T.next.prev=T.prev,T.prev.next=T.next,T.prevZ&&(T.prevZ.nextZ=T.nextZ),T.nextZ&&(T.nextZ.prevZ=T.prevZ)}function K(T,y,L){this.i=T,this.x=y,this.y=L,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function A(T,y,L,j){for(var Q=0,ee=y,ne=L-j;ee<L;ee+=j)Q+=(T[ne]-T[ee])*(T[ee+1]+T[ne+1]),ne=ee;return Q}ye.exports=le,ye.exports.default=le,le.deviation=function(T,y,L,j){var Q=y&&y.length,ee=Q?y[0]*L:T.length,ne=Math.abs(A(T,0,ee,L));if(Q)for(var be=0,Ie=y.length;be<Ie;be++){var Ce=y[be]*L,he=be<Ie-1?y[be+1]*L:T.length;ne-=Math.abs(A(T,Ce,he,L))}var b=0;for(be=0;be<j.length;be+=3){var U=j[be]*L,V=j[be+1]*L,te=j[be+2]*L;b+=Math.abs((T[U]-T[te])*(T[V+1]-T[U+1])-(T[U]-T[V])*(T[te+1]-T[U+1]))}return ne===0&&b===0?0:Math.abs((b-ne)/ne)},le.flatten=function(T){for(var y=T[0][0].length,L={vertices:[],holes:[],dimensions:y},j=0,Q=0;Q<T.length;Q++){for(var ee=0;ee<T[Q].length;ee++)for(var ne=0;ne<y;ne++)L.vertices.push(T[Q][ee][ne]);Q>0&&(j+=T[Q-1].length,L.holes.push(j))}return L}},6913:ye=>{var le=Object.prototype.hasOwnProperty,d="~";function B(){}function h(M,R,F){this.fn=M,this.context=R,this.once=F||!1}function P(M,R,F,Y,S){if(typeof F!="function")throw new TypeError("The listener must be a function");var v=new h(F,Y||M,S),n=d?d+R:R;return M._events[n]?M._events[n].fn?M._events[n]=[M._events[n],v]:M._events[n].push(v):(M._events[n]=v,M._eventsCount++),M}function W(M,R){--M._eventsCount==0?M._events=new B:delete M._events[R]}function z(){this._events=new B,this._eventsCount=0}Object.create&&(B.prototype=Object.create(null),new B().__proto__||(d=!1)),z.prototype.eventNames=function(){var M,R,F=[];if(this._eventsCount===0)return F;for(R in M=this._events)le.call(M,R)&&F.push(d?R.slice(1):R);return Object.getOwnPropertySymbols?F.concat(Object.getOwnPropertySymbols(M)):F},z.prototype.listeners=function(M){var R=d?d+M:M,F=this._events[R];if(!F)return[];if(F.fn)return[F.fn];for(var Y=0,S=F.length,v=new Array(S);Y<S;Y++)v[Y]=F[Y].fn;return v},z.prototype.listenerCount=function(M){var R=d?d+M:M,F=this._events[R];return F?F.fn?1:F.length:0},z.prototype.emit=function(M,R,F,Y,S,v){var n=d?d+M:M;if(!this._events[n])return!1;var a,u,p=this._events[n],w=arguments.length;if(p.fn){switch(p.once&&this.removeListener(M,p.fn,void 0,!0),w){case 1:return p.fn.call(p.context),!0;case 2:return p.fn.call(p.context,R),!0;case 3:return p.fn.call(p.context,R,F),!0;case 4:return p.fn.call(p.context,R,F,Y),!0;case 5:return p.fn.call(p.context,R,F,Y,S),!0;case 6:return p.fn.call(p.context,R,F,Y,S,v),!0}for(u=1,a=new Array(w-1);u<w;u++)a[u-1]=arguments[u];p.fn.apply(p.context,a)}else{var N,k=p.length;for(u=0;u<k;u++)switch(p[u].once&&this.removeListener(M,p[u].fn,void 0,!0),w){case 1:p[u].fn.call(p[u].context);break;case 2:p[u].fn.call(p[u].context,R);break;case 3:p[u].fn.call(p[u].context,R,F);break;case 4:p[u].fn.call(p[u].context,R,F,Y);break;default:if(!a)for(N=1,a=new Array(w-1);N<w;N++)a[N-1]=arguments[N];p[u].fn.apply(p[u].context,a)}}return!0},z.prototype.on=function(M,R,F){return P(this,M,R,F,!1)},z.prototype.once=function(M,R,F){return P(this,M,R,F,!0)},z.prototype.removeListener=function(M,R,F,Y){var S=d?d+M:M;if(!this._events[S])return this;if(!R)return W(this,S),this;var v=this._events[S];if(v.fn)v.fn!==R||Y&&!v.once||F&&v.context!==F||W(this,S);else{for(var n=0,a=[],u=v.length;n<u;n++)(v[n].fn!==R||Y&&!v[n].once||F&&v[n].context!==F)&&a.push(v[n]);a.length?this._events[S]=a.length===1?a[0]:a:W(this,S)}return this},z.prototype.removeAllListeners=function(M){var R;return M?(R=d?d+M:M,this._events[R]&&W(this,R)):(this._events=new B,this._eventsCount=0),this},z.prototype.off=z.prototype.removeListener,z.prototype.addListener=z.prototype.on,z.prefixed=d,z.EventEmitter=z,ye.exports=z},379:ye=>{function le(S,v){var n=v&&v.cache?v.cache:Y,a=v&&v.serializer?v.serializer:R;return(v&&v.strategy?v.strategy:W)(S,{cache:n,serializer:a})}function d(S){return S==null||typeof S=="number"||typeof S=="boolean"}function B(S,v,n,a){var u=d(a)?a:n(a),p=v.get(u);return p===void 0&&(p=S.call(this,a),v.set(u,p)),p}function h(S,v,n){var a=Array.prototype.slice.call(arguments,3),u=n(a),p=v.get(u);return p===void 0&&(p=S.apply(this,a),v.set(u,p)),p}function P(S,v,n,a,u){return n.bind(v,S,a,u)}function W(S,v){return P(S,this,S.length===1?B:h,v.cache.create(),v.serializer)}function z(S,v){return P(S,this,h,v.cache.create(),v.serializer)}function M(S,v){return P(S,this,B,v.cache.create(),v.serializer)}function R(){return JSON.stringify(arguments)}function F(){this.cache=Object.create(null)}F.prototype.has=function(S){return S in this.cache},F.prototype.get=function(S){return this.cache[S]},F.prototype.set=function(S,v){this.cache[S]=v};var Y={create:function(){return new F}};ye.exports=le,ye.exports.strategies={variadic:z,monadic:M}},7287:(ye,le,d)=>{var{webm:B,mp4:h}=d(9812),P=()=>typeof navigator<"u"&&parseFloat((""+(/CPU.*OS ([0-9_]{3,4})[0-9_]{0,1}|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))<10&&!window.MSStream,W=()=>"wakeLock"in navigator;class z{constructor(){if(this.enabled=!1,W()){this._wakeLock=null;var R=()=>{this._wakeLock!==null&&document.visibilityState==="visible"&&this.enable()};document.addEventListener("visibilitychange",R),document.addEventListener("fullscreenchange",R)}else P()?this.noSleepTimer=null:(this.noSleepVideo=document.createElement("video"),this.noSleepVideo.setAttribute("title","No Sleep"),this.noSleepVideo.setAttribute("playsinline",""),this._addSourceToVideo(this.noSleepVideo,"webm",B),this._addSourceToVideo(this.noSleepVideo,"mp4",h),this.noSleepVideo.addEventListener("loadedmetadata",()=>{this.noSleepVideo.duration<=1?this.noSleepVideo.setAttribute("loop",""):this.noSleepVideo.addEventListener("timeupdate",()=>{this.noSleepVideo.currentTime>.5&&(this.noSleepVideo.currentTime=Math.random())})}))}_addSourceToVideo(R,F,Y){var S=document.createElement("source");S.src=Y,S.type=`video/${F}`,R.appendChild(S)}get isEnabled(){return this.enabled}enable(){return W()?navigator.wakeLock.request("screen").then(R=>{this._wakeLock=R,this.enabled=!0,console.log("Wake Lock active."),this._wakeLock.addEventListener("release",()=>{console.log("Wake Lock released.")})}).catch(R=>{throw this.enabled=!1,console.error(`${R.name}, ${R.message}`),R}):P()?(this.disable(),console.warn(`
        NoSleep enabled for older iOS devices. This can interrupt
        active or long-running network requests from completing successfully.
        See https://github.com/richtr/NoSleep.js/issues/15 for more details.
      `),this.noSleepTimer=window.setInterval(()=>{document.hidden||(window.location.href=window.location.href.split("#")[0],window.setTimeout(window.stop,0))},15e3),this.enabled=!0,Promise.resolve()):this.noSleepVideo.play().then(R=>(this.enabled=!0,R)).catch(R=>{throw this.enabled=!1,R})}disable(){W()?(this._wakeLock&&this._wakeLock.release(),this._wakeLock=null):P()?this.noSleepTimer&&(console.warn(`
          NoSleep now disabled for older iOS devices.
        `),window.clearInterval(this.noSleepTimer),this.noSleepTimer=null):this.noSleepVideo.pause(),this.enabled=!1}}ye.exports=z},9812:ye=>{ye.exports={webm:"data:video/webm;base64,GkXfowEAAAAAAAAfQoaBAUL3gQFC8oEEQvOBCEKChHdlYm1Ch4EEQoWBAhhTgGcBAAAAAAAVkhFNm3RALE27i1OrhBVJqWZTrIHfTbuMU6uEFlSua1OsggEwTbuMU6uEHFO7a1OsghV17AEAAAAAAACkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmAQAAAAAAAEUq17GDD0JATYCNTGF2ZjU1LjMzLjEwMFdBjUxhdmY1NS4zMy4xMDBzpJBlrrXf3DCDVB8KcgbMpcr+RImIQJBgAAAAAAAWVK5rAQAAAAAAD++uAQAAAAAAADLXgQFzxYEBnIEAIrWcg3VuZIaFVl9WUDiDgQEj44OEAmJaAOABAAAAAAAABrCBsLqBkK4BAAAAAAAPq9eBAnPFgQKcgQAitZyDdW5khohBX1ZPUkJJU4OBAuEBAAAAAAAAEZ+BArWIQOdwAAAAAABiZIEgY6JPbwIeVgF2b3JiaXMAAAAAAoC7AAAAAAAAgLUBAAAAAAC4AQN2b3JiaXMtAAAAWGlwaC5PcmcgbGliVm9yYmlzIEkgMjAxMDExMDEgKFNjaGF1ZmVudWdnZXQpAQAAABUAAABlbmNvZGVyPUxhdmM1NS41Mi4xMDIBBXZvcmJpcyVCQ1YBAEAAACRzGCpGpXMWhBAaQlAZ4xxCzmvsGUJMEYIcMkxbyyVzkCGkoEKIWyiB0JBVAABAAACHQXgUhIpBCCGEJT1YkoMnPQghhIg5eBSEaUEIIYQQQgghhBBCCCGERTlokoMnQQgdhOMwOAyD5Tj4HIRFOVgQgydB6CCED0K4moOsOQghhCQ1SFCDBjnoHITCLCiKgsQwuBaEBDUojILkMMjUgwtCiJqDSTX4GoRnQXgWhGlBCCGEJEFIkIMGQcgYhEZBWJKDBjm4FITLQagahCo5CB+EIDRkFQCQAACgoiiKoigKEBqyCgDIAAAQQFEUx3EcyZEcybEcCwgNWQUAAAEACAAAoEiKpEiO5EiSJFmSJVmSJVmS5omqLMuyLMuyLMsyEBqyCgBIAABQUQxFcRQHCA1ZBQBkAAAIoDiKpViKpWiK54iOCISGrAIAgAAABAAAEDRDUzxHlETPVFXXtm3btm3btm3btm3btm1blmUZCA1ZBQBAAAAQ0mlmqQaIMAMZBkJDVgEACAAAgBGKMMSA0JBVAABAAACAGEoOogmtOd+c46BZDppKsTkdnEi1eZKbirk555xzzsnmnDHOOeecopxZDJoJrTnnnMSgWQqaCa0555wnsXnQmiqtOeeccc7pYJwRxjnnnCateZCajbU555wFrWmOmkuxOeecSLl5UptLtTnnnHPOOeecc84555zqxekcnBPOOeecqL25lpvQxTnnnE/G6d6cEM4555xzzjnnnHPOOeecIDRkFQAABABAEIaNYdwpCNLnaCBGEWIaMulB9+gwCRqDnELq0ehopJQ6CCWVcVJKJwgNWQUAAAIAQAghhRRSSCGFFFJIIYUUYoghhhhyyimnoIJKKqmooowyyyyzzDLLLLPMOuyssw47DDHEEEMrrcRSU2011lhr7jnnmoO0VlprrbVSSimllFIKQkNWAQAgAAAEQgYZZJBRSCGFFGKIKaeccgoqqIDQkFUAACAAgAAAAABP8hzRER3RER3RER3RER3R8RzPESVREiVREi3TMjXTU0VVdWXXlnVZt31b2IVd933d933d+HVhWJZlWZZlWZZlWZZlWZZlWZYgNGQVAAACAAAghBBCSCGFFFJIKcYYc8w56CSUEAgNWQUAAAIACAAAAHAUR3EcyZEcSbIkS9IkzdIsT/M0TxM9URRF0zRV0RVdUTdtUTZl0zVdUzZdVVZtV5ZtW7Z125dl2/d93/d93/d93/d93/d9XQdCQ1YBABIAADqSIymSIimS4ziOJElAaMgqAEAGAEAAAIriKI7jOJIkSZIlaZJneZaomZrpmZ4qqkBoyCoAABAAQAAAAAAAAIqmeIqpeIqoeI7oiJJomZaoqZoryqbsuq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq7ruq4LhIasAgAkAAB0JEdyJEdSJEVSJEdygNCQVQCADACAAAAcwzEkRXIsy9I0T/M0TxM90RM901NFV3SB0JBVAAAgAIAAAAAAAAAMybAUy9EcTRIl1VItVVMt1VJF1VNVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVN0zRNEwgNWQkAkAEAkBBTLS3GmgmLJGLSaqugYwxS7KWxSCpntbfKMYUYtV4ah5RREHupJGOKQcwtpNApJq3WVEKFFKSYYyoVUg5SIDRkhQAQmgHgcBxAsixAsiwAAAAAAAAAkDQN0DwPsDQPAAAAAAAAACRNAyxPAzTPAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAA0DwP8DwR8EQRAAAAAAAAACzPAzTRAzxRBAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABA0jRA8zxA8zwAAAAAAAAAsDwP8EQR0DwRAAAAAAAAACzPAzxRBDzRAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAEOAAABBgIRQasiIAiBMAcEgSJAmSBM0DSJYFTYOmwTQBkmVB06BpME0AAAAAAAAAAAAAJE2DpkHTIIoASdOgadA0iCIAAAAAAAAAAAAAkqZB06BpEEWApGnQNGgaRBEAAAAAAAAAAAAAzzQhihBFmCbAM02IIkQRpgkAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAGHAAAAgwoQwUGrIiAIgTAHA4imUBAIDjOJYFAACO41gWAABYliWKAABgWZooAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAYcAAACDChDBQashIAiAIAcCiKZQHHsSzgOJYFJMmyAJYF0DyApgFEEQAIAAAocAAACLBBU2JxgEJDVgIAUQAABsWxLE0TRZKkaZoniiRJ0zxPFGma53meacLzPM80IYqiaJoQRVE0TZimaaoqME1VFQAAUOAAABBgg6bE4gCFhqwEAEICAByKYlma5nmeJ4qmqZokSdM8TxRF0TRNU1VJkqZ5niiKommapqqyLE3zPFEURdNUVVWFpnmeKIqiaaqq6sLzPE8URdE0VdV14XmeJ4qiaJqq6roQRVE0TdNUTVV1XSCKpmmaqqqqrgtETxRNU1Vd13WB54miaaqqq7ouEE3TVFVVdV1ZBpimaaqq68oyQFVV1XVdV5YBqqqqruu6sgxQVdd1XVmWZQCu67qyLMsCAAAOHAAAAoygk4wqi7DRhAsPQKEhKwKAKAAAwBimFFPKMCYhpBAaxiSEFEImJaXSUqogpFJSKRWEVEoqJaOUUmopVRBSKamUCkIqJZVSAADYgQMA2IGFUGjISgAgDwCAMEYpxhhzTiKkFGPOOScRUoox55yTSjHmnHPOSSkZc8w556SUzjnnnHNSSuacc845KaVzzjnnnJRSSuecc05KKSWEzkEnpZTSOeecEwAAVOAAABBgo8jmBCNBhYasBABSAQAMjmNZmuZ5omialiRpmud5niiapiZJmuZ5nieKqsnzPE8URdE0VZXneZ4oiqJpqirXFUXTNE1VVV2yLIqmaZqq6rowTdNUVdd1XZimaaqq67oubFtVVdV1ZRm2raqq6rqyDFzXdWXZloEsu67s2rIAAPAEBwCgAhtWRzgpGgssNGQlAJABAEAYg5BCCCFlEEIKIYSUUggJAAAYcAAACDChDBQashIASAUAAIyx1lprrbXWQGettdZaa62AzFprrbXWWmuttdZaa6211lJrrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmuttdZaa6211lprrbXWWmstpZRSSimllFJKKaWUUkoppZRSSgUA+lU4APg/2LA6wknRWGChISsBgHAAAMAYpRhzDEIppVQIMeacdFRai7FCiDHnJKTUWmzFc85BKCGV1mIsnnMOQikpxVZjUSmEUlJKLbZYi0qho5JSSq3VWIwxqaTWWoutxmKMSSm01FqLMRYjbE2ptdhqq7EYY2sqLbQYY4zFCF9kbC2m2moNxggjWywt1VprMMYY3VuLpbaaizE++NpSLDHWXAAAd4MDAESCjTOsJJ0VjgYXGrISAAgJACAQUooxxhhzzjnnpFKMOeaccw5CCKFUijHGnHMOQgghlIwx5pxzEEIIIYRSSsaccxBCCCGEkFLqnHMQQgghhBBKKZ1zDkIIIYQQQimlgxBCCCGEEEoopaQUQgghhBBCCKmklEIIIYRSQighlZRSCCGEEEIpJaSUUgohhFJCCKGElFJKKYUQQgillJJSSimlEkoJJYQSUikppRRKCCGUUkpKKaVUSgmhhBJKKSWllFJKIYQQSikFAAAcOAAABBhBJxlVFmGjCRcegEJDVgIAZAAAkKKUUiktRYIipRikGEtGFXNQWoqocgxSzalSziDmJJaIMYSUk1Qy5hRCDELqHHVMKQYtlRhCxhik2HJLoXMOAAAAQQCAgJAAAAMEBTMAwOAA4XMQdAIERxsAgCBEZohEw0JweFAJEBFTAUBigkIuAFRYXKRdXECXAS7o4q4DIQQhCEEsDqCABByccMMTb3jCDU7QKSp1IAAAAAAADADwAACQXAAREdHMYWRobHB0eHyAhIiMkAgAAAAAABcAfAAAJCVAREQ0cxgZGhscHR4fICEiIyQBAIAAAgAAAAAggAAEBAQAAAAAAAIAAAAEBB9DtnUBAAAAAAAEPueBAKOFggAAgACjzoEAA4BwBwCdASqwAJAAAEcIhYWIhYSIAgIABhwJ7kPfbJyHvtk5D32ych77ZOQ99snIe+2TkPfbJyHvtk5D32ych77ZOQ99YAD+/6tQgKOFggADgAqjhYIAD4AOo4WCACSADqOZgQArADECAAEQEAAYABhYL/QACIBDmAYAAKOFggA6gA6jhYIAT4AOo5mBAFMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAGSADqOFggB6gA6jmYEAewAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAj4AOo5mBAKMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAKSADqOFggC6gA6jmYEAywAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIAz4AOo4WCAOSADqOZgQDzADECAAEQEAAYABhYL/QACIBDmAYAAKOFggD6gA6jhYIBD4AOo5iBARsAEQIAARAQFGAAYWC/0AAiAQ5gGACjhYIBJIAOo4WCATqADqOZgQFDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggFPgA6jhYIBZIAOo5mBAWsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAXqADqOFggGPgA6jmYEBkwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIBpIAOo4WCAbqADqOZgQG7ADECAAEQEAAYABhYL/QACIBDmAYAAKOFggHPgA6jmYEB4wAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIB5IAOo4WCAfqADqOZgQILADECAAEQEAAYABhYL/QACIBDmAYAAKOFggIPgA6jhYICJIAOo5mBAjMAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAjqADqOFggJPgA6jmYECWwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYICZIAOo4WCAnqADqOZgQKDADECAAEQEAAYABhYL/QACIBDmAYAAKOFggKPgA6jhYICpIAOo5mBAqsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCArqADqOFggLPgA6jmIEC0wARAgABEBAUYABhYL/QACIBDmAYAKOFggLkgA6jhYIC+oAOo5mBAvsAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCAw+ADqOZgQMjADECAAEQEAAYABhYL/QACIBDmAYAAKOFggMkgA6jhYIDOoAOo5mBA0sAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA0+ADqOFggNkgA6jmYEDcwAxAgABEBAAGAAYWC/0AAiAQ5gGAACjhYIDeoAOo4WCA4+ADqOZgQObADECAAEQEAAYABhYL/QACIBDmAYAAKOFggOkgA6jhYIDuoAOo5mBA8MAMQIAARAQABgAGFgv9AAIgEOYBgAAo4WCA8+ADqOFggPkgA6jhYID+oAOo4WCBA+ADhxTu2sBAAAAAAAAEbuPs4EDt4r3gQHxghEr8IEK",mp4:"data:video/mp4;base64,AAAAHGZ0eXBNNFYgAAACAGlzb21pc28yYXZjMQAAAAhmcmVlAAAGF21kYXTeBAAAbGliZmFhYyAxLjI4AABCAJMgBDIARwAAArEGBf//rdxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxNDIgcjIgOTU2YzhkOCAtIEguMjY0L01QRUctNCBBVkMgY29kZWMgLSBDb3B5bGVmdCAyMDAzLTIwMTQgLSBodHRwOi8vd3d3LnZpZGVvbGFuLm9yZy94MjY0Lmh0bWwgLSBvcHRpb25zOiBjYWJhYz0wIHJlZj0zIGRlYmxvY2s9MTowOjAgYW5hbHlzZT0weDE6MHgxMTEgbWU9aGV4IHN1Ym1lPTcgcHN5PTEgcHN5X3JkPTEuMDA6MC4wMCBtaXhlZF9yZWY9MSBtZV9yYW5nZT0xNiBjaHJvbWFfbWU9MSB0cmVsbGlzPTEgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0xIGNocm9tYV9xcF9vZmZzZXQ9LTIgdGhyZWFkcz02IGxvb2thaGVhZF90aHJlYWRzPTEgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTI1MCBrZXlpbnRfbWluPTI1IHNjZW5lY3V0PTQwIGludHJhX3JlZnJlc2g9MCByY19sb29rYWhlYWQ9NDAgcmM9Y3JmIG1idHJlZT0xIGNyZj0yMy4wIHFjb21wPTAuNjAgcXBtaW49MCBxcG1heD02OSBxcHN0ZXA9NCB2YnZfbWF4cmF0ZT03NjggdmJ2X2J1ZnNpemU9MzAwMCBjcmZfbWF4PTAuMCBuYWxfaHJkPW5vbmUgZmlsbGVyPTAgaXBfcmF0aW89MS40MCBhcT0xOjEuMDAAgAAAAFZliIQL8mKAAKvMnJycnJycnJycnXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXiEASZACGQAjgCEASZACGQAjgAAAAAdBmjgX4GSAIQBJkAIZACOAAAAAB0GaVAX4GSAhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGagC/AySEASZACGQAjgAAAAAZBmqAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZrAL8DJIQBJkAIZACOAAAAABkGa4C/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmwAvwMkhAEmQAhkAI4AAAAAGQZsgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGbQC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm2AvwMkhAEmQAhkAI4AAAAAGQZuAL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGboC/AySEASZACGQAjgAAAAAZBm8AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZvgL8DJIQBJkAIZACOAAAAABkGaAC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmiAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZpAL8DJIQBJkAIZACOAAAAABkGaYC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBmoAvwMkhAEmQAhkAI4AAAAAGQZqgL8DJIQBJkAIZACOAIQBJkAIZACOAAAAABkGawC/AySEASZACGQAjgAAAAAZBmuAvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZsAL8DJIQBJkAIZACOAAAAABkGbIC/AySEASZACGQAjgCEASZACGQAjgAAAAAZBm0AvwMkhAEmQAhkAI4AhAEmQAhkAI4AAAAAGQZtgL8DJIQBJkAIZACOAAAAABkGbgCvAySEASZACGQAjgCEASZACGQAjgAAAAAZBm6AnwMkhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AhAEmQAhkAI4AAAAhubW9vdgAAAGxtdmhkAAAAAAAAAAAAAAAAAAAD6AAABDcAAQAAAQAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAzB0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAABAAAAAAAAA+kAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAALAAAACQAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAPpAAAAAAABAAAAAAKobWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAB1MAAAdU5VxAAAAAAALWhkbHIAAAAAAAAAAHZpZGUAAAAAAAAAAAAAAABWaWRlb0hhbmRsZXIAAAACU21pbmYAAAAUdm1oZAAAAAEAAAAAAAAAAAAAACRkaW5mAAAAHGRyZWYAAAAAAAAAAQAAAAx1cmwgAAAAAQAAAhNzdGJsAAAAr3N0c2QAAAAAAAAAAQAAAJ9hdmMxAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAALAAkABIAAAASAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAGP//AAAALWF2Y0MBQsAN/+EAFWdCwA3ZAsTsBEAAAPpAADqYA8UKkgEABWjLg8sgAAAAHHV1aWRraEDyXyRPxbo5pRvPAyPzAAAAAAAAABhzdHRzAAAAAAAAAAEAAAAeAAAD6QAAABRzdHNzAAAAAAAAAAEAAAABAAAAHHN0c2MAAAAAAAAAAQAAAAEAAAABAAAAAQAAAIxzdHN6AAAAAAAAAAAAAAAeAAADDwAAAAsAAAALAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAACgAAAAoAAAAKAAAAiHN0Y28AAAAAAAAAHgAAAEYAAANnAAADewAAA5gAAAO0AAADxwAAA+MAAAP2AAAEEgAABCUAAARBAAAEXQAABHAAAASMAAAEnwAABLsAAATOAAAE6gAABQYAAAUZAAAFNQAABUgAAAVkAAAFdwAABZMAAAWmAAAFwgAABd4AAAXxAAAGDQAABGh0cmFrAAAAXHRraGQAAAADAAAAAAAAAAAAAAACAAAAAAAABDcAAAAAAAAAAAAAAAEBAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAkZWR0cwAAABxlbHN0AAAAAAAAAAEAAAQkAAADcAABAAAAAAPgbWRpYQAAACBtZGhkAAAAAAAAAAAAAAAAAAC7gAAAykBVxAAAAAAALWhkbHIAAAAAAAAAAHNvdW4AAAAAAAAAAAAAAABTb3VuZEhhbmRsZXIAAAADi21pbmYAAAAQc21oZAAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAADT3N0YmwAAABnc3RzZAAAAAAAAAABAAAAV21wNGEAAAAAAAAAAQAAAAAAAAAAAAIAEAAAAAC7gAAAAAAAM2VzZHMAAAAAA4CAgCIAAgAEgICAFEAVBbjYAAu4AAAADcoFgICAAhGQBoCAgAECAAAAIHN0dHMAAAAAAAAAAgAAADIAAAQAAAAAAQAAAkAAAAFUc3RzYwAAAAAAAAAbAAAAAQAAAAEAAAABAAAAAgAAAAIAAAABAAAAAwAAAAEAAAABAAAABAAAAAIAAAABAAAABgAAAAEAAAABAAAABwAAAAIAAAABAAAACAAAAAEAAAABAAAACQAAAAIAAAABAAAACgAAAAEAAAABAAAACwAAAAIAAAABAAAADQAAAAEAAAABAAAADgAAAAIAAAABAAAADwAAAAEAAAABAAAAEAAAAAIAAAABAAAAEQAAAAEAAAABAAAAEgAAAAIAAAABAAAAFAAAAAEAAAABAAAAFQAAAAIAAAABAAAAFgAAAAEAAAABAAAAFwAAAAIAAAABAAAAGAAAAAEAAAABAAAAGQAAAAIAAAABAAAAGgAAAAEAAAABAAAAGwAAAAIAAAABAAAAHQAAAAEAAAABAAAAHgAAAAIAAAABAAAAHwAAAAQAAAABAAAA4HN0c3oAAAAAAAAAAAAAADMAAAAaAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAAAJAAAACQAAAAkAAACMc3RjbwAAAAAAAAAfAAAALAAAA1UAAANyAAADhgAAA6IAAAO+AAAD0QAAA+0AAAQAAAAEHAAABC8AAARLAAAEZwAABHoAAASWAAAEqQAABMUAAATYAAAE9AAABRAAAAUjAAAFPwAABVIAAAVuAAAFgQAABZ0AAAWwAAAFzAAABegAAAX7AAAGFwAAAGJ1ZHRhAAAAWm1ldGEAAAAAAAAAIWhkbHIAAAAAAAAAAG1kaXJhcHBsAAAAAAAAAAAAAAAALWlsc3QAAAAlqXRvbwAAAB1kYXRhAAAAAQAAAABMYXZmNTUuMzMuMTAw"}},7842:ye=>{var le=Object.getOwnPropertySymbols,d=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;function h(W){if(W==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(W)}function P(){try{if(!Object.assign)return!1;var W=new String("abc");if(W[5]="de",Object.getOwnPropertyNames(W)[0]==="5")return!1;for(var z={},M=0;M<10;M++)z["_"+String.fromCharCode(M)]=M;if(Object.getOwnPropertyNames(z).map(function(F){return z[F]}).join("")!=="0123456789")return!1;var R={};return"abcdefghijklmnopqrst".split("").forEach(function(F){R[F]=F}),Object.keys(Object.assign({},R)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}ye.exports=P()?Object.assign:function(W,z){for(var M,R,F=h(W),Y=1;Y<arguments.length;Y++){for(var S in M=Object(arguments[Y]))d.call(M,S)&&(F[S]=M[S]);if(le){R=le(M);for(var v=0;v<R.length;v++)B.call(M,R[v])&&(F[R[v]]=M[R[v]])}}return F}},6107:(ye,le,d)=>{function B(e){var s=this.constructor;return this.then(function(l){return s.resolve(e()).then(function(){return l})},function(l){return s.resolve(e()).then(function(){return s.reject(l)})})}d.r(le),d.d(le,{ALPHA_MODES:()=>at.iw,AbstractBatchRenderer:()=>de.eo,AbstractMultiResource:()=>de.M4,AbstractRenderer:()=>de.I8,AccessibilityManager:()=>ne,AnimatedSprite:()=>or,AppLoaderPlugin:()=>Ne,Application:()=>ge,ArrayResource:()=>de.$N,Attribute:()=>de.ah,BLEND_MODES:()=>at.T$,BUFFER_BITS:()=>at.V0,BUFFER_TYPE:()=>at.mr,BaseImageResource:()=>de.bg,BasePrepare:()=>Ii.Zq,BaseRenderTexture:()=>de.jd,BaseTexture:()=>de.VL,BatchDrawCall:()=>de.a$,BatchGeometry:()=>de.JZ,BatchPluginFactory:()=>de.TJ,BatchRenderer:()=>de.Bv,BatchShaderGenerator:()=>de.Zk,BatchSystem:()=>de.Sj,BatchTextureArray:()=>de.Ie,BitmapFont:()=>Fi,BitmapFontData:()=>bi,BitmapFontLoader:()=>Ri,BitmapText:()=>$n,BlobResource:()=>gn,Bounds:()=>E.YZ,Buffer:()=>de.lW,BufferResource:()=>de.qm,CLEAR_MODES:()=>at.yl,CanvasResource:()=>de.Y8,Circle:()=>be.Cd,CompressedTextureLoader:()=>mn,CompressedTextureResource:()=>zi,Container:()=>E.W2,ContextSystem:()=>de.lH,CountLimiter:()=>Ii.fh,CubeResource:()=>de.TA,DDSLoader:()=>yn,DEG_TO_RAD:()=>be.ZX,DRAW_MODES:()=>at.lg,DisplayObject:()=>E.s$,ENV:()=>at.Vi,Ellipse:()=>be.Pj,Extract:()=>We,FORMATS:()=>at.I2,FORMATS_TO_COMPONENTS:()=>on,FillStyle:()=>Ci.ft,Filter:()=>de.wn,FilterState:()=>de.jV,FilterSystem:()=>de.kV,Framebuffer:()=>de.AI,FramebufferSystem:()=>de.WB,GC_MODES:()=>at.UN,GLFramebuffer:()=>de.tT,GLProgram:()=>de.Ei,GLTexture:()=>de.fy,GRAPHICS_CURVES:()=>Ci.wA,Geometry:()=>de.ZX,GeometrySystem:()=>de.TO,Graphics:()=>Ci.TC,GraphicsData:()=>Ci.iM,GraphicsGeometry:()=>Ci.RB,IGLUniformData:()=>de.W1,INSTALLED:()=>de.e_,INTERNAL_FORMATS:()=>st,INTERNAL_FORMAT_TO_BYTES_PER_PIXEL:()=>Dt,ImageBitmapResource:()=>de._w,ImageResource:()=>de.PA,InteractionData:()=>Ce,InteractionEvent:()=>U,InteractionManager:()=>Oe,InteractionTrackingData:()=>V,KTXLoader:()=>fi,LINE_CAP:()=>Ci.$o,LINE_JOIN:()=>Ci.S,LineStyle:()=>Ci.TD,Loader:()=>fe,LoaderResource:()=>De,MASK_TYPES:()=>at.A7,MIPMAP_MODES:()=>at.WB,MSAA_QUALITY:()=>at.G5,MaskData:()=>de.HI,MaskSystem:()=>de.zj,Matrix:()=>be.y3,Mesh:()=>yi.Kj,MeshBatchUvs:()=>yi.wQ,MeshGeometry:()=>yi.xc,MeshMaterial:()=>yi.rY,NineSlicePlane:()=>Zi.ZT,ObjectRenderer:()=>de.bO,ObservablePoint:()=>be.AB,PI_2:()=>be._b,PRECISION:()=>at.cB,ParticleContainer:()=>ln.T,ParticleRenderer:()=>ln.P,PlaneGeometry:()=>Zi._1,Point:()=>be.E9,Polygon:()=>be.mg,Prepare:()=>Ii.B9,Program:()=>de.$r,ProjectionSystem:()=>de.NW,Quad:()=>de.lD,QuadUv:()=>de.ud,RAD_TO_DEG:()=>be.jl,RENDERER_TYPE:()=>at.N3,Rectangle:()=>be.Ae,RenderTexture:()=>de.TI,RenderTexturePool:()=>de.uW,RenderTextureSystem:()=>de.J$,Renderer:()=>de.Th,Resource:()=>de._z,RopeGeometry:()=>Zi.Au,RoundedRectangle:()=>be.c9,Runner:()=>Yr.R,SAMPLER_TYPES:()=>at.oT,SCALE_MODES:()=>at.aH,SHAPES:()=>be.HS,SVGResource:()=>de.pX,ScissorSystem:()=>de.id,Shader:()=>de.ex,ShaderSystem:()=>de.p,SimpleMesh:()=>Zi.AL,SimplePlane:()=>Zi.VJ,SimpleRope:()=>Zi.IE,Sprite:()=>fn.j,SpriteMaskFilter:()=>de.z9,Spritesheet:()=>Hi,SpritesheetLoader:()=>Qn,State:()=>de.ZM,StateSystem:()=>de.zI,StencilSystem:()=>de.Ld,System:()=>de.xP,TARGETS:()=>at.sp,TEXT_GRADIENT:()=>wi.M_,TYPES:()=>at.vK,TYPES_TO_BYTES_PER_COMPONENT:()=>Nn,TYPES_TO_BYTES_PER_PIXEL:()=>qn,TemporaryDisplayObject:()=>E.Ql,Text:()=>wi.xv,TextMetrics:()=>wi._A,TextStyle:()=>wi.pn,Texture:()=>de.xE,TextureGCSystem:()=>de.wr,TextureLoader:()=>Ge,TextureMatrix:()=>de.UX,TextureSystem:()=>de.CT,TextureUvs:()=>de.aF,Ticker:()=>Ie.vB,TickerPlugin:()=>Ie.Sb,TilingSprite:()=>Ln.o,TilingSpriteRenderer:()=>Ln.S,TimeLimiter:()=>Ii.FI,Transform:()=>be.wx,UPDATE_PRIORITY:()=>Ie.uF,UniformGroup:()=>de.oo,VERSION:()=>lr,VideoResource:()=>de.eH,ViewableBuffer:()=>de.Rv,WRAP_MODES:()=>at.Nt,accessibleTarget:()=>J,autoDetectRenderer:()=>de.e6,autoDetectResource:()=>de.pb,checkMaxIfStatementsInShader:()=>de.a7,createUBOElements:()=>de.TF,defaultFilterVertex:()=>de.Y9,defaultVertex:()=>de.kP,filters:()=>zr,generateProgram:()=>de.qw,generateUniformBufferSync:()=>de.K0,getTestContext:()=>de.Kc,getUBOData:()=>de.DL,graphicsUtils:()=>Ci.yR,groupD8:()=>be.Lv,interactiveTarget:()=>re,isMobile:()=>ki.t,resources:()=>de.Jb,settings:()=>ki.X,systems:()=>de.eG,uniformParsers:()=>de.sg,utils:()=>O});const h=B;function P(e){return new this(function(s,l){if(!e||e.length===void 0)return l(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var f=Array.prototype.slice.call(e);if(f.length===0)return s([]);var I=f.length;function ue(Te,Pe){if(Pe&&(typeof Pe=="object"||typeof Pe=="function")){var we=Pe.then;if(typeof we=="function")return void we.call(Pe,function(Ue){ue(Te,Ue)},function(Ue){f[Te]={status:"rejected",reason:Ue},--I==0&&s(f)})}f[Te]={status:"fulfilled",value:Pe},--I==0&&s(f)}for(var se=0;se<f.length;se++)ue(se,f[se])})}const W=P;var z=setTimeout;function M(e){return!!(e&&e.length!==void 0)}function R(){}function F(e,s){return function(){e.apply(s,arguments)}}function Y(e){if(!(this instanceof Y))throw new TypeError("Promises must be constructed via new");if(typeof e!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(e,this)}function S(e,s){for(;e._state===3;)e=e._value;e._state!==0?(e._handled=!0,Y._immediateFn(function(){var l=e._state===1?s.onFulfilled:s.onRejected;if(l!==null){var f;try{f=l(e._value)}catch(I){return void n(s.promise,I)}v(s.promise,f)}else(e._state===1?v:n)(s.promise,e._value)})):e._deferreds.push(s)}function v(e,s){try{if(s===e)throw new TypeError("A promise cannot be resolved with itself.");if(s&&(typeof s=="object"||typeof s=="function")){var l=s.then;if(s instanceof Y)return e._state=3,e._value=s,void a(e);if(typeof l=="function")return void p(F(l,s),e)}e._state=1,e._value=s,a(e)}catch(f){n(e,f)}}function n(e,s){e._state=2,e._value=s,a(e)}function a(e){e._state===2&&e._deferreds.length===0&&Y._immediateFn(function(){e._handled||Y._unhandledRejectionFn(e._value)});for(var s=0,l=e._deferreds.length;s<l;s++)S(e,e._deferreds[s]);e._deferreds=null}function u(e,s,l){this.onFulfilled=typeof e=="function"?e:null,this.onRejected=typeof s=="function"?s:null,this.promise=l}function p(e,s){var l=!1;try{e(function(f){l||(l=!0,v(s,f))},function(f){l||(l=!0,n(s,f))})}catch(f){if(l)return;l=!0,n(s,f)}}Y.prototype.catch=function(e){return this.then(null,e)},Y.prototype.then=function(e,s){var l=new this.constructor(R);return S(this,new u(e,s,l)),l},Y.prototype.finally=h,Y.all=function(e){return new Y(function(s,l){if(!M(e))return l(new TypeError("Promise.all accepts an array"));var f=Array.prototype.slice.call(e);if(f.length===0)return s([]);var I=f.length;function ue(Te,Pe){try{if(Pe&&(typeof Pe=="object"||typeof Pe=="function")){var we=Pe.then;if(typeof we=="function")return void we.call(Pe,function(Ue){ue(Te,Ue)},l)}f[Te]=Pe,--I==0&&s(f)}catch(Ue){l(Ue)}}for(var se=0;se<f.length;se++)ue(se,f[se])})},Y.allSettled=W,Y.resolve=function(e){return e&&typeof e=="object"&&e.constructor===Y?e:new Y(function(s){s(e)})},Y.reject=function(e){return new Y(function(s,l){l(e)})},Y.race=function(e){return new Y(function(s,l){if(!M(e))return l(new TypeError("Promise.race accepts an array"));for(var f=0,I=e.length;f<I;f++)Y.resolve(e[f]).then(s,l)})},Y._immediateFn=typeof setImmediate=="function"&&function(e){setImmediate(e)}||function(e){z(e,0)},Y._unhandledRejectionFn=function(e){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};const w=Y;var N=d(7842),k=d.n(N);typeof globalThis>"u"&&(typeof self<"u"?self.globalThis=self:d.g!==void 0&&(d.g.globalThis=d.g)),globalThis.Promise||(globalThis.Promise=w),Object.assign||(Object.assign=k());var C=16;if(Date.now&&Date.prototype.getTime||(Date.now=function(){return new Date().getTime()}),!globalThis.performance||!globalThis.performance.now){var c=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-c}}for(var x=Date.now(),X=["ms","moz","webkit","o"],D=0;D<X.length&&!globalThis.requestAnimationFrame;++D){var G=X[D];globalThis.requestAnimationFrame=globalThis[G+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[G+"CancelAnimationFrame"]||globalThis[G+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(e){if(typeof e!="function")throw new TypeError(e+"is not a function");var s=Date.now(),l=C+x-s;return l<0&&(l=0),x=s,globalThis.self.setTimeout(function(){x=Date.now(),e(performance.now())},l)}),globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(e){return clearTimeout(e)}),Math.sign||(Math.sign=function(e){return(e=Number(e))===0||isNaN(e)?e:e>0?1:-1}),Number.isInteger||(Number.isInteger=function(e){return typeof e=="number"&&isFinite(e)&&Math.floor(e)===e}),globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array),globalThis.Float32Array||(globalThis.Float32Array=Array),globalThis.Uint32Array||(globalThis.Uint32Array=Array),globalThis.Uint16Array||(globalThis.Uint16Array=Array),globalThis.Uint8Array||(globalThis.Uint8Array=Array),globalThis.Int32Array||(globalThis.Int32Array=Array);var O=d(5579),E=d(7909),J={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};E.s$.mixin(J);var q=9,K=100,A=0,T=0,y=2,L=1,j=-1e3,Q=-1e3,ee=2,ne=function(){function e(s){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(O.isMobile.tablet||O.isMobile.phone)&&this.createTouchHook();var l=document.createElement("div");l.style.width=K+"px",l.style.height=K+"px",l.style.position="absolute",l.style.top=A+"px",l.style.left=T+"px",l.style.zIndex=y.toString(),this.div=l,this.renderer=s,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),e.prototype.createTouchHook=function(){var s=this,l=document.createElement("button");l.style.width=L+"px",l.style.height=L+"px",l.style.position="absolute",l.style.top=j+"px",l.style.left=Q+"px",l.style.zIndex=ee.toString(),l.style.backgroundColor="#FF0000",l.title="select to enable accessibility for this content",l.addEventListener("focus",function(){s._isMobileAccessibility=!0,s.activate(),s.destroyTouchHook()}),document.body.appendChild(l),this._hookDiv=l},e.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},e.prototype.activate=function(){var s;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(s=this.renderer.view.parentNode)===null||s===void 0||s.appendChild(this.div))},e.prototype.deactivate=function(){var s;this._isActive&&!this._isMobileAccessibility&&(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(s=this.div.parentNode)===null||s===void 0||s.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(s){if(s.visible&&s.accessibleChildren){s.accessible&&s.interactive&&(s._accessibleActive||this.addChild(s),s.renderId=this.renderId);var l=s.children;if(l)for(var f=0;f<l.length;f++)this.updateAccessibleObjects(l[f])}},e.prototype.update=function(){var s=performance.now();if(!(O.isMobile.android.device&&s<this.androidUpdateCount)&&(this.androidUpdateCount=s+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var l=this.renderer.view.getBoundingClientRect(),f=l.left,I=l.top,ue=l.width,se=l.height,Te=this.renderer,Pe=Te.width,we=Te.height,Ue=Te.resolution,Qe=ue/Pe*Ue,it=se/we*Ue,ze=this.div;ze.style.left=f+"px",ze.style.top=I+"px",ze.style.width=Pe+"px",ze.style.height=we+"px";for(var lt=0;lt<this.children.length;lt++){var et=this.children[lt];if(et.renderId!==this.renderId)et._accessibleActive=!1,(0,O.removeItems)(this.children,lt,1),this.div.removeChild(et._accessibleDiv),this.pool.push(et._accessibleDiv),et._accessibleDiv=null,lt--;else{ze=et._accessibleDiv;var Tt=et.hitArea,Pt=et.worldTransform;et.hitArea?(ze.style.left=(Pt.tx+Tt.x*Pt.a)*Qe+"px",ze.style.top=(Pt.ty+Tt.y*Pt.d)*it+"px",ze.style.width=Tt.width*Pt.a*Qe+"px",ze.style.height=Tt.height*Pt.d*it+"px"):(Tt=et.getBounds(),this.capHitArea(Tt),ze.style.left=Tt.x*Qe+"px",ze.style.top=Tt.y*it+"px",ze.style.width=Tt.width*Qe+"px",ze.style.height=Tt.height*it+"px",ze.title!==et.accessibleTitle&&et.accessibleTitle!==null&&(ze.title=et.accessibleTitle),ze.getAttribute("aria-label")!==et.accessibleHint&&et.accessibleHint!==null&&ze.setAttribute("aria-label",et.accessibleHint)),et.accessibleTitle===ze.title&&et.tabIndex===ze.tabIndex||(ze.title=et.accessibleTitle,ze.tabIndex=et.tabIndex,this.debug&&this.updateDebugHTML(ze))}}this.renderId++}},e.prototype.updateDebugHTML=function(s){s.innerHTML="type: "+s.type+"</br> title : "+s.title+"</br> tabIndex: "+s.tabIndex},e.prototype.capHitArea=function(s){s.x<0&&(s.width+=s.x,s.x=0),s.y<0&&(s.height+=s.y,s.y=0);var l=this.renderer,f=l.width,I=l.height;s.x+s.width>f&&(s.width=f-s.x),s.y+s.height>I&&(s.height=I-s.y)},e.prototype.addChild=function(s){var l=this.pool.pop();l||((l=document.createElement("button")).style.width=K+"px",l.style.height=K+"px",l.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",l.style.position="absolute",l.style.zIndex=y.toString(),l.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?l.setAttribute("aria-live","off"):l.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?l.setAttribute("aria-relevant","additions"):l.setAttribute("aria-relevant","text"),l.addEventListener("click",this._onClick.bind(this)),l.addEventListener("focus",this._onFocus.bind(this)),l.addEventListener("focusout",this._onFocusOut.bind(this))),l.style.pointerEvents=s.accessiblePointerEvents,l.type=s.accessibleType,s.accessibleTitle&&s.accessibleTitle!==null?l.title=s.accessibleTitle:s.accessibleHint&&s.accessibleHint!==null||(l.title="displayObject "+s.tabIndex),s.accessibleHint&&s.accessibleHint!==null&&l.setAttribute("aria-label",s.accessibleHint),this.debug&&this.updateDebugHTML(l),s._accessibleActive=!0,s._accessibleDiv=l,l.displayObject=s,this.children.push(s),this.div.appendChild(s._accessibleDiv),s._accessibleDiv.tabIndex=s.tabIndex},e.prototype._onClick=function(s){var l=this.renderer.plugins.interaction,f=s.target.displayObject,I=l.eventData;l.dispatchEvent(f,"click",I),l.dispatchEvent(f,"pointertap",I),l.dispatchEvent(f,"tap",I)},e.prototype._onFocus=function(s){s.target.getAttribute("aria-live")||s.target.setAttribute("aria-live","assertive");var l=this.renderer.plugins.interaction,f=s.target.displayObject,I=l.eventData;l.dispatchEvent(f,"mouseover",I)},e.prototype._onFocusOut=function(s){s.target.getAttribute("aria-live")||s.target.setAttribute("aria-live","polite");var l=this.renderer.plugins.interaction,f=s.target.displayObject,I=l.eventData;l.dispatchEvent(f,"mouseout",I)},e.prototype._onKeyDown=function(s){s.keyCode===q&&this.activate()},e.prototype._onMouseMove=function(s){s.movementX===0&&s.movementY===0||this.deactivate()},e.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}(),be=d(7442),Ie=d(1298),Ce=function(){function e(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new be.E9,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(e.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),e.prototype.getLocalPosition=function(s,l,f){return s.worldTransform.applyInverse(f||this.global,l)},e.prototype.copyEvent=function(s){"isPrimary"in s&&s.isPrimary&&(this.isPrimary=!0),this.button="button"in s&&s.button;var l="buttons"in s&&s.buttons;this.buttons=Number.isInteger(l)?l:"which"in s&&s.which,this.width="width"in s&&s.width,this.height="height"in s&&s.height,this.tiltX="tiltX"in s&&s.tiltX,this.tiltY="tiltY"in s&&s.tiltY,this.pointerType="pointerType"in s&&s.pointerType,this.pressure="pressure"in s&&s.pressure,this.rotationAngle="rotationAngle"in s&&s.rotationAngle,this.twist="twist"in s&&s.twist||0,this.tangentialPressure="tangentialPressure"in s&&s.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},e}(),he=function(e,s){return he=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var I in f)f.hasOwnProperty(I)&&(l[I]=f[I])},he(e,s)};function b(e,s){function l(){this.constructor=e}he(e,s),e.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}var U=function(){function e(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},e.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},e}(),V=function(){function e(s){this._pointerId=s,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(s,l){this._flags=l?this._flags|s:this._flags&~s},Object.defineProperty(e.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return this._flags},set:function(s){this._flags=s},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"none",{get:function(){return this._flags===e.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return(this._flags&e.FLAGS.OVER)!=0},set:function(s){this._doSet(e.FLAGS.OVER,s)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightDown",{get:function(){return(this._flags&e.FLAGS.RIGHT_DOWN)!=0},set:function(s){this._doSet(e.FLAGS.RIGHT_DOWN,s)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftDown",{get:function(){return(this._flags&e.FLAGS.LEFT_DOWN)!=0},set:function(s){this._doSet(e.FLAGS.LEFT_DOWN,s)},enumerable:!1,configurable:!0}),e.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),e}(),te=function(){function e(){this._tempPoint=new be.E9}return e.prototype.recursiveFindHit=function(s,l,f,I,ue){if(!l||!l.visible)return!1;var se=s.data.global,Te=!1,Pe=ue=l.interactive||ue,we=!0;if(l.hitArea?(I&&(l.worldTransform.applyInverse(se,this._tempPoint),l.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?Te=!0:(I=!1,we=!1)),Pe=!1):l._mask&&I&&(l._mask.containsPoint&&l._mask.containsPoint(se)||(I=!1)),we&&l.interactiveChildren&&l.children)for(var Ue=l.children,Qe=Ue.length-1;Qe>=0;Qe--){var it=Ue[Qe],ze=this.recursiveFindHit(s,it,f,I,Pe);if(ze){if(!it.parent)continue;Pe=!1,ze&&(s.target&&(I=!1),Te=!0)}}return ue&&(I&&!s.target&&!l.hitArea&&l.containsPoint&&l.containsPoint(se)&&(Te=!0),l.interactive&&(Te&&!s.target&&(s.target=l),f&&f(s,l,!!Te))),Te},e.prototype.findHit=function(s,l,f,I){this.recursiveFindHit(s,l,f,I,!1)},e}(),re={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return this.cursor==="pointer"},set buttonMode(e){e?this.cursor="pointer":this.cursor==="pointer"&&(this.cursor=null)},cursor:null,get trackedPointers(){return this._trackedPointers===void 0&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};E.s$.mixin(re);var ae=1,_e={target:null,data:{global:null}},Oe=function(e){function s(l,f){var I=e.call(this)||this;return f=f||{},I.renderer=l,I.autoPreventDefault=f.autoPreventDefault===void 0||f.autoPreventDefault,I.interactionFrequency=f.interactionFrequency||10,I.mouse=new Ce,I.mouse.identifier=ae,I.mouse.global.set(-999999),I.activeInteractionData={},I.activeInteractionData[ae]=I.mouse,I.interactionDataPool=[],I.eventData=new U,I.interactionDOMElement=null,I.moveWhenInside=!1,I.eventsAdded=!1,I.tickerAdded=!1,I.mouseOverRenderer=!("PointerEvent"in globalThis),I.supportsTouchEvents="ontouchstart"in globalThis,I.supportsPointerEvents=!!globalThis.PointerEvent,I.onPointerUp=I.onPointerUp.bind(I),I.processPointerUp=I.processPointerUp.bind(I),I.onPointerCancel=I.onPointerCancel.bind(I),I.processPointerCancel=I.processPointerCancel.bind(I),I.onPointerDown=I.onPointerDown.bind(I),I.processPointerDown=I.processPointerDown.bind(I),I.onPointerMove=I.onPointerMove.bind(I),I.processPointerMove=I.processPointerMove.bind(I),I.onPointerOut=I.onPointerOut.bind(I),I.processPointerOverOut=I.processPointerOverOut.bind(I),I.onPointerOver=I.onPointerOver.bind(I),I.cursorStyles={default:"inherit",pointer:"pointer"},I.currentCursorMode=null,I.cursor=null,I.resolution=1,I.delayedEvents=[],I.search=new te,I._tempDisplayObject=new E.Ql,I._eventListenerOptions={capture:!0,passive:!1},I._useSystemTicker=f.useSystemTicker===void 0||f.useSystemTicker,I.setTargetElement(I.renderer.view,I.renderer.resolution),I}return b(s,e),Object.defineProperty(s.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(l){this._useSystemTicker=l,l?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),s.prototype.hitTest=function(l,f){return _e.target=null,_e.data.global=l,f||(f=this.lastObjectRendered),this.processInteractive(_e,f,null,!0),_e.target},s.prototype.setTargetElement=function(l,f){f===void 0&&(f=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=l,this.resolution=f,this.addEvents(),this.addTickerListener()},s.prototype.addTickerListener=function(){!this.tickerAdded&&this.interactionDOMElement&&this._useSystemTicker&&(Ie.vB.system.add(this.tickerUpdate,this,Ie.uF.INTERACTION),this.tickerAdded=!0)},s.prototype.removeTickerListener=function(){this.tickerAdded&&(Ie.vB.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},s.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var l=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(l.msContentZooming="none",l.msTouchAction="none"):this.supportsPointerEvents&&(l.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},s.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var l=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(l.msContentZooming="",l.msTouchAction=""):this.supportsPointerEvents&&(l.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},s.prototype.tickerUpdate=function(l){this._deltaTime+=l,this._deltaTime<this.interactionFrequency||(this._deltaTime=0,this.update())},s.prototype.update=function(){if(this.interactionDOMElement)if(this._didMove)this._didMove=!1;else{for(var l in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(l)){var f=this.activeInteractionData[l];if(f.originalEvent&&f.pointerType!=="touch"){var I=this.configureInteractionEventForDOMEvent(this.eventData,f.originalEvent,f);this.processInteractive(I,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},s.prototype.setCursorMode=function(l){l=l||"default";var f=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(f=!1),this.currentCursorMode!==l){this.currentCursorMode=l;var I=this.cursorStyles[l];if(I)switch(typeof I){case"string":f&&(this.interactionDOMElement.style.cursor=I);break;case"function":I(l);break;case"object":f&&Object.assign(this.interactionDOMElement.style,I)}else f&&typeof l=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,l)&&(this.interactionDOMElement.style.cursor=l)}},s.prototype.dispatchEvent=function(l,f,I){I.stopPropagationHint&&l!==I.stopsPropagatingAt||(I.currentTarget=l,I.type=f,l.emit(f,I),l[f]&&l[f](I))},s.prototype.delayDispatchEvent=function(l,f,I){this.delayedEvents.push({displayObject:l,eventString:f,eventData:I})},s.prototype.mapPositionToPoint=function(l,f,I){var ue;ue=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var se=1/this.resolution;l.x=(f-ue.left)*(this.interactionDOMElement.width/ue.width)*se,l.y=(I-ue.top)*(this.interactionDOMElement.height/ue.height)*se},s.prototype.processInteractive=function(l,f,I,ue){var se=this.search.findHit(l,f,I,ue),Te=this.delayedEvents;if(!Te.length)return se;l.stopPropagationHint=!1;var Pe=Te.length;this.delayedEvents=[];for(var we=0;we<Pe;we++){var Ue=Te[we],Qe=Ue.displayObject,it=Ue.eventString,ze=Ue.eventData;ze.stopsPropagatingAt===Qe&&(ze.stopPropagationHint=!0),this.dispatchEvent(Qe,it,ze)}return se},s.prototype.onPointerDown=function(l){if(!this.supportsTouchEvents||l.pointerType!=="touch"){var f=this.normalizeToPointerData(l);this.autoPreventDefault&&f[0].isNormalized&&(l.cancelable||!("cancelable"in l))&&l.preventDefault();for(var I=f.length,ue=0;ue<I;ue++){var se=f[ue],Te=this.getInteractionDataForPointerId(se),Pe=this.configureInteractionEventForDOMEvent(this.eventData,se,Te);if(Pe.data.originalEvent=l,this.processInteractive(Pe,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",Pe),se.pointerType==="touch")this.emit("touchstart",Pe);else if(se.pointerType==="mouse"||se.pointerType==="pen"){var we=se.button===2;this.emit(we?"rightdown":"mousedown",this.eventData)}}}},s.prototype.processPointerDown=function(l,f,I){var ue=l.data,se=l.data.identifier;if(I){if(f.trackedPointers[se]||(f.trackedPointers[se]=new V(se)),this.dispatchEvent(f,"pointerdown",l),ue.pointerType==="touch")this.dispatchEvent(f,"touchstart",l);else if(ue.pointerType==="mouse"||ue.pointerType==="pen"){var Te=ue.button===2;Te?f.trackedPointers[se].rightDown=!0:f.trackedPointers[se].leftDown=!0,this.dispatchEvent(f,Te?"rightdown":"mousedown",l)}}},s.prototype.onPointerComplete=function(l,f,I){for(var ue=this.normalizeToPointerData(l),se=ue.length,Te=l.target!==this.interactionDOMElement?"outside":"",Pe=0;Pe<se;Pe++){var we=ue[Pe],Ue=this.getInteractionDataForPointerId(we),Qe=this.configureInteractionEventForDOMEvent(this.eventData,we,Ue);if(Qe.data.originalEvent=l,this.processInteractive(Qe,this.lastObjectRendered,I,f||!Te),this.emit(f?"pointercancel":"pointerup"+Te,Qe),we.pointerType==="mouse"||we.pointerType==="pen"){var it=we.button===2;this.emit(it?"rightup"+Te:"mouseup"+Te,Qe)}else we.pointerType==="touch"&&(this.emit(f?"touchcancel":"touchend"+Te,Qe),this.releaseInteractionDataForPointerId(we.pointerId))}},s.prototype.onPointerCancel=function(l){this.supportsTouchEvents&&l.pointerType==="touch"||this.onPointerComplete(l,!0,this.processPointerCancel)},s.prototype.processPointerCancel=function(l,f){var I=l.data,ue=l.data.identifier;f.trackedPointers[ue]!==void 0&&(delete f.trackedPointers[ue],this.dispatchEvent(f,"pointercancel",l),I.pointerType==="touch"&&this.dispatchEvent(f,"touchcancel",l))},s.prototype.onPointerUp=function(l){this.supportsTouchEvents&&l.pointerType==="touch"||this.onPointerComplete(l,!1,this.processPointerUp)},s.prototype.processPointerUp=function(l,f,I){var ue=l.data,se=l.data.identifier,Te=f.trackedPointers[se],Pe=ue.pointerType==="touch",we=ue.pointerType==="mouse"||ue.pointerType==="pen",Ue=!1;if(we){var Qe=ue.button===2,it=V.FLAGS,ze=Qe?it.RIGHT_DOWN:it.LEFT_DOWN,lt=Te!==void 0&&Te.flags&ze;I?(this.dispatchEvent(f,Qe?"rightup":"mouseup",l),lt&&(this.dispatchEvent(f,Qe?"rightclick":"click",l),Ue=!0)):lt&&this.dispatchEvent(f,Qe?"rightupoutside":"mouseupoutside",l),Te&&(Qe?Te.rightDown=!1:Te.leftDown=!1)}I?(this.dispatchEvent(f,"pointerup",l),Pe&&this.dispatchEvent(f,"touchend",l),Te&&(we&&!Ue||this.dispatchEvent(f,"pointertap",l),Pe&&(this.dispatchEvent(f,"tap",l),Te.over=!1))):Te&&(this.dispatchEvent(f,"pointerupoutside",l),Pe&&this.dispatchEvent(f,"touchendoutside",l)),Te&&Te.none&&delete f.trackedPointers[se]},s.prototype.onPointerMove=function(l){if(!this.supportsTouchEvents||l.pointerType!=="touch"){var f=this.normalizeToPointerData(l);f[0].pointerType!=="mouse"&&f[0].pointerType!=="pen"||(this._didMove=!0,this.cursor=null);for(var I=f.length,ue=0;ue<I;ue++){var se=f[ue],Te=this.getInteractionDataForPointerId(se),Pe=this.configureInteractionEventForDOMEvent(this.eventData,se,Te);Pe.data.originalEvent=l,this.processInteractive(Pe,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",Pe),se.pointerType==="touch"&&this.emit("touchmove",Pe),se.pointerType!=="mouse"&&se.pointerType!=="pen"||this.emit("mousemove",Pe)}f[0].pointerType==="mouse"&&this.setCursorMode(this.cursor)}},s.prototype.processPointerMove=function(l,f,I){var ue=l.data,se=ue.pointerType==="touch",Te=ue.pointerType==="mouse"||ue.pointerType==="pen";Te&&this.processPointerOverOut(l,f,I),this.moveWhenInside&&!I||(this.dispatchEvent(f,"pointermove",l),se&&this.dispatchEvent(f,"touchmove",l),Te&&this.dispatchEvent(f,"mousemove",l))},s.prototype.onPointerOut=function(l){if(!this.supportsTouchEvents||l.pointerType!=="touch"){var f=this.normalizeToPointerData(l)[0];f.pointerType==="mouse"&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var I=this.getInteractionDataForPointerId(f),ue=this.configureInteractionEventForDOMEvent(this.eventData,f,I);ue.data.originalEvent=f,this.processInteractive(ue,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",ue),f.pointerType==="mouse"||f.pointerType==="pen"?this.emit("mouseout",ue):this.releaseInteractionDataForPointerId(I.identifier)}},s.prototype.processPointerOverOut=function(l,f,I){var ue=l.data,se=l.data.identifier,Te=ue.pointerType==="mouse"||ue.pointerType==="pen",Pe=f.trackedPointers[se];I&&!Pe&&(Pe=f.trackedPointers[se]=new V(se)),Pe!==void 0&&(I&&this.mouseOverRenderer?(Pe.over||(Pe.over=!0,this.delayDispatchEvent(f,"pointerover",l),Te&&this.delayDispatchEvent(f,"mouseover",l)),Te&&this.cursor===null&&(this.cursor=f.cursor)):Pe.over&&(Pe.over=!1,this.dispatchEvent(f,"pointerout",this.eventData),Te&&this.dispatchEvent(f,"mouseout",l),Pe.none&&delete f.trackedPointers[se]))},s.prototype.onPointerOver=function(l){var f=this.normalizeToPointerData(l)[0],I=this.getInteractionDataForPointerId(f),ue=this.configureInteractionEventForDOMEvent(this.eventData,f,I);ue.data.originalEvent=f,f.pointerType==="mouse"&&(this.mouseOverRenderer=!0),this.emit("pointerover",ue),f.pointerType!=="mouse"&&f.pointerType!=="pen"||this.emit("mouseover",ue)},s.prototype.getInteractionDataForPointerId=function(l){var f,I=l.pointerId;return I===ae||l.pointerType==="mouse"?f=this.mouse:this.activeInteractionData[I]?f=this.activeInteractionData[I]:((f=this.interactionDataPool.pop()||new Ce).identifier=I,this.activeInteractionData[I]=f),f.copyEvent(l),f},s.prototype.releaseInteractionDataForPointerId=function(l){var f=this.activeInteractionData[l];f&&(delete this.activeInteractionData[l],f.reset(),this.interactionDataPool.push(f))},s.prototype.configureInteractionEventForDOMEvent=function(l,f,I){return l.data=I,this.mapPositionToPoint(I.global,f.clientX,f.clientY),f.pointerType==="touch"&&(f.globalX=I.global.x,f.globalY=I.global.y),I.originalEvent=f,l.reset(),l},s.prototype.normalizeToPointerData=function(l){var f=[];if(this.supportsTouchEvents&&l instanceof TouchEvent)for(var I=0,ue=l.changedTouches.length;I<ue;I++){var se=l.changedTouches[I];se.button===void 0&&(se.button=l.touches.length?1:0),se.buttons===void 0&&(se.buttons=l.touches.length?1:0),se.isPrimary===void 0&&(se.isPrimary=l.touches.length===1&&l.type==="touchstart"),se.width===void 0&&(se.width=se.radiusX||1),se.height===void 0&&(se.height=se.radiusY||1),se.tiltX===void 0&&(se.tiltX=0),se.tiltY===void 0&&(se.tiltY=0),se.pointerType===void 0&&(se.pointerType="touch"),se.pointerId===void 0&&(se.pointerId=se.identifier||0),se.pressure===void 0&&(se.pressure=se.force||.5),se.twist===void 0&&(se.twist=0),se.tangentialPressure===void 0&&(se.tangentialPressure=0),se.layerX===void 0&&(se.layerX=se.offsetX=se.clientX),se.layerY===void 0&&(se.layerY=se.offsetY=se.clientY),se.isNormalized=!0,f.push(se)}else if(globalThis.MouseEvent&&(!(l instanceof MouseEvent)||this.supportsPointerEvents&&l instanceof globalThis.PointerEvent))f.push(l);else{var Te=l;Te.isPrimary===void 0&&(Te.isPrimary=!0),Te.width===void 0&&(Te.width=1),Te.height===void 0&&(Te.height=1),Te.tiltX===void 0&&(Te.tiltX=0),Te.tiltY===void 0&&(Te.tiltY=0),Te.pointerType===void 0&&(Te.pointerType="mouse"),Te.pointerId===void 0&&(Te.pointerId=ae),Te.pressure===void 0&&(Te.pressure=.5),Te.twist===void 0&&(Te.twist=0),Te.tangentialPressure===void 0&&(Te.tangentialPressure=0),Te.isNormalized=!0,f.push(Te)}return f},s.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},s}(O.EventEmitter),de=d(9839),ge=function(){function e(s){var l=this;this.stage=new E.W2,s=Object.assign({forceCanvas:!1},s),this.renderer=(0,de.e6)(s),e._plugins.forEach(function(f){f.init.call(l,s)})}return e.registerPlugin=function(s){e._plugins.push(s)},e.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(e.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),e.prototype.destroy=function(s,l){var f=this,I=e._plugins.slice(0);I.reverse(),I.forEach(function(ue){ue.destroy.call(f)}),this.stage.destroy(l),this.stage=null,this.renderer.destroy(s),this.renderer=null},e._plugins=[],e}(),Ae=function(){function e(){}return e.init=function(s){var l=this;Object.defineProperty(this,"resizeTo",{set:function(f){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=f,f&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){l._resizeTo&&(l.cancelResize(),l._resizeId=requestAnimationFrame(function(){return l.resize()}))},this.cancelResize=function(){l._resizeId&&(cancelAnimationFrame(l._resizeId),l._resizeId=null)},this.resize=function(){if(l._resizeTo){var f,I;if(l.cancelResize(),l._resizeTo===globalThis.window)f=globalThis.innerWidth,I=globalThis.innerHeight;else{var ue=l._resizeTo;f=ue.clientWidth,I=ue.clientHeight}l.renderer.resize(f,I)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=s.resizeTo||null},e.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},e}();ge.registerPlugin(Ae);var xe=new be.Ae,Be=4,We=function(){function e(s){this.renderer=s}return e.prototype.image=function(s,l,f){var I=new Image;return I.src=this.base64(s,l,f),I},e.prototype.base64=function(s,l,f){return this.canvas(s).toDataURL(l,f)},e.prototype.canvas=function(s){var l,f,I,ue=this.renderer,se=!1,Te=!1;s&&(s instanceof de.TI?I=s:(I=this.renderer.generateTexture(s),Te=!0)),I?(l=I.baseTexture.resolution,f=I.frame,se=!1,ue.renderTexture.bind(I)):(l=this.renderer.resolution,se=!0,(f=xe).width=this.renderer.width,f.height=this.renderer.height,ue.renderTexture.bind(null));var Pe=Math.floor(f.width*l+1e-4),we=Math.floor(f.height*l+1e-4),Ue=new O.CanvasRenderTarget(Pe,we,1),Qe=new Uint8Array(Be*Pe*we),it=ue.gl;it.readPixels(f.x*l,f.y*l,Pe,we,it.RGBA,it.UNSIGNED_BYTE,Qe);var ze=Ue.context.getImageData(0,0,Pe,we);if(e.arrayPostDivide(Qe,ze.data),Ue.context.putImageData(ze,0,0),se){var lt=new O.CanvasRenderTarget(Ue.width,Ue.height,1);lt.context.scale(1,-1),lt.context.drawImage(Ue.canvas,0,-we),Ue.destroy(),Ue=lt}return Te&&I.destroy(!0),Ue.canvas},e.prototype.pixels=function(s){var l,f,I,ue=this.renderer,se=!1;s&&(s instanceof de.TI?I=s:(I=this.renderer.generateTexture(s),se=!0)),I?(l=I.baseTexture.resolution,f=I.frame,ue.renderTexture.bind(I)):(l=ue.resolution,(f=xe).width=ue.width,f.height=ue.height,ue.renderTexture.bind(null));var Te=f.width*l,Pe=f.height*l,we=new Uint8Array(Be*Te*Pe),Ue=ue.gl;return Ue.readPixels(f.x*l,f.y*l,Te,Pe,Ue.RGBA,Ue.UNSIGNED_BYTE,we),se&&I.destroy(!0),e.arrayPostDivide(we,we),we},e.prototype.destroy=function(){this.renderer=null},e.arrayPostDivide=function(s,l){for(var f=0;f<s.length;f+=4){var I=l[f+3]=s[f+3];I!==0?(l[f]=Math.round(Math.min(255*s[f]/I,255)),l[f+1]=Math.round(Math.min(255*s[f+1]/I,255)),l[f+2]=Math.round(Math.min(255*s[f+2]/I,255))):(l[f]=s[f],l[f+1]=s[f+1],l[f+2]=s[f+2])}},e}(),qe=function(){function e(s,l,f){l===void 0&&(l=!1),this._fn=s,this._once=l,this._thisArg=f,this._next=this._prev=this._owner=null}return e.prototype.detach=function(){return this._owner!==null&&(this._owner.detach(this),!0)},e}();function tt(e,s){return e._head?(e._tail._next=s,s._prev=e._tail,e._tail=s):(e._head=s,e._tail=s),s._owner=e,s}var vt=function(){function e(){this._head=this._tail=void 0}return e.prototype.handlers=function(s){s===void 0&&(s=!1);var l=this._head;if(s)return!!l;for(var f=[];l;)f.push(l),l=l._next;return f},e.prototype.has=function(s){if(!(s instanceof qe))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return s._owner===this},e.prototype.dispatch=function(){for(var s=arguments,l=[],f=0;f<arguments.length;f++)l[f]=s[f];var I=this._head;if(!I)return!1;for(;I;)I._once&&this.detach(I),I._fn.apply(I._thisArg,l),I=I._next;return!0},e.prototype.add=function(s,l){if(l===void 0&&(l=null),typeof s!="function")throw new Error("MiniSignal#add(): First arg must be a Function.");return tt(this,new qe(s,!1,l))},e.prototype.once=function(s,l){if(l===void 0&&(l=null),typeof s!="function")throw new Error("MiniSignal#once(): First arg must be a Function.");return tt(this,new qe(s,!0,l))},e.prototype.detach=function(s){if(!(s instanceof qe))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return s._owner!==this||(s._prev&&(s._prev._next=s._next),s._next&&(s._next._prev=s._prev),s===this._head?(this._head=s._next,s._next===null&&(this._tail=null)):s===this._tail&&(this._tail=s._prev,this._tail._next=null),s._owner=null),this},e.prototype.detachAll=function(){var s=this._head;if(!s)return this;for(this._head=this._tail=null;s;)s._owner=null,s=s._next;return this},e}();function yt(e,s){s=s||{};for(var l={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},f=l.parser[s.strictMode?"strict":"loose"].exec(e),I={},ue=14;ue--;)I[l.key[ue]]=f[ue]||"";return I[l.q.name]={},I[l.key[12]].replace(l.q.parser,function(se,Te,Pe){Te&&(I[l.q.name][Te]=Pe)}),I}var rt=!(!globalThis.XDomainRequest||"withCredentials"in new XMLHttpRequest),mt=null,Ee=0,je=200,jt=204,Ut=1223,ft=2;function oe(){}function Se(e,s,l){s&&s.indexOf(".")===0&&(s=s.substring(1)),s&&(e[s]=l)}function ke(e){return e.toString().replace("object ","")}var De=function(){function e(s,l,f){if(this._dequeue=oe,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,typeof s!="string"||typeof l!="string")throw new Error("Both name and url are required for constructing a resource.");f=f||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,l.indexOf("data:")===0),this.name=s,this.url=l,this.extension=this._getExtension(),this.data=null,this.crossOrigin=f.crossOrigin===!0?"anonymous":f.crossOrigin,this.timeout=f.timeout||0,this.loadType=f.loadType||this._determineLoadType(),this.xhrType=f.xhrType,this.metadata=f.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=oe,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new vt,this.onProgress=new vt,this.onComplete=new vt,this.onAfterMiddleware=new vt}return e.setExtensionLoadType=function(s,l){Se(e._loadTypeMap,s,l)},e.setExtensionXhrType=function(s,l){Se(e._xhrTypeMap,s,l)},Object.defineProperty(e.prototype,"isDataUrl",{get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),e.prototype.complete=function(){this._clearEvents(),this._finish()},e.prototype.abort=function(s){if(!this.error){if(this.error=new Error(s),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.prototype.load=function(s){var l=this;if(!this.isLoading)if(this.isComplete)s&&setTimeout(function(){return s(l)},1);else switch(s&&this.onComplete.once(s),this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),this.crossOrigin!==!1&&typeof this.crossOrigin=="string"||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:rt&&this.crossOrigin?this._loadXdr():this._loadXhr()}},e.prototype._hasFlag=function(s){return(this._flags&s)!=0},e.prototype._setFlag=function(s,l){this._flags=l?this._flags|s:this._flags&~s},e.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e.prototype._loadElement=function(s){this.metadata.loadElement?this.data=this.metadata.loadElement:s==="image"&&globalThis.Image!==void 0?this.data=new Image:this.data=document.createElement(s),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e.prototype._loadSourceElement=function(s){if(this.metadata.loadElement?this.data=this.metadata.loadElement:s==="audio"&&globalThis.Audio!==void 0?this.data=new Audio:this.data=document.createElement(s),this.data!==null){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var l=this.metadata.mimeType,f=0;f<this.url.length;++f)this.data.appendChild(this._createSource(s,this.url[f],Array.isArray(l)?l[f]:l));else l=this.metadata.mimeType,this.data.appendChild(this._createSource(s,this.url,Array.isArray(l)?l[0]:l));this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+s)},e.prototype._loadXhr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var s=this.xhr=new XMLHttpRequest;this.crossOrigin==="use-credentials"&&(s.withCredentials=!0),s.open("GET",this.url,!0),s.timeout=this.timeout,this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?s.responseType=e.XHR_RESPONSE_TYPE.TEXT:s.responseType=this.xhrType,s.addEventListener("error",this._boundXhrOnError,!1),s.addEventListener("timeout",this._boundXhrOnTimeout,!1),s.addEventListener("abort",this._boundXhrOnAbort,!1),s.addEventListener("progress",this._boundOnProgress,!1),s.addEventListener("load",this._boundXhrOnLoad,!1),s.send()},e.prototype._loadXdr=function(){typeof this.xhrType!="string"&&(this.xhrType=this._determineXhrType());var s=this.xhr=new globalThis.XDomainRequest;s.timeout=this.timeout||5e3,s.onerror=this._boundXhrOnError,s.ontimeout=this._boundXhrOnTimeout,s.onprogress=this._boundOnProgress,s.onload=this._boundXhrOnLoad,s.open("GET",this.url,!0),setTimeout(function(){return s.send()},1)},e.prototype._createSource=function(s,l,f){f||(f=s+"/"+this._getExtension(l));var I=document.createElement("source");return I.src=l,I.type=f,I},e.prototype._onError=function(s){this.abort("Failed to load element using: "+s.target.nodeName)},e.prototype._onProgress=function(s){s&&s.lengthComputable&&this.onProgress.dispatch(this,s.loaded/s.total)},e.prototype._onTimeout=function(){this.abort("Load timed out.")},e.prototype._xhrOnError=function(){var s=this.xhr;this.abort(ke(s)+" Request failed. Status: "+s.status+', text: "'+s.statusText+'"')},e.prototype._xhrOnTimeout=function(){var s=this.xhr;this.abort(ke(s)+" Request timed out.")},e.prototype._xhrOnAbort=function(){var s=this.xhr;this.abort(ke(s)+" Request was aborted by the user.")},e.prototype._xhrOnLoad=function(){var s=this.xhr,l="",f=s.status===void 0?je:s.status;if(s.responseType!==""&&s.responseType!=="text"&&s.responseType!==void 0||(l=s.responseText),f===Ee&&(l.length>0||s.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?f=je:f===Ut&&(f=jt),(f/100|0)===ft){if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=l,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(l),this.type=e.TYPE.JSON}catch(se){return void this.abort("Error trying to parse loaded json: "+se)}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var I=new DOMParser;this.data=I.parseFromString(l,"text/xml")}else{var ue=document.createElement("div");ue.innerHTML=l,this.data=ue}this.type=e.TYPE.XML}catch(se){return void this.abort("Error trying to parse loaded xml: "+se)}else this.data=s.response||l;this.complete()}else this.abort("["+s.status+"] "+s.statusText+": "+s.responseURL)},e.prototype._determineCrossOrigin=function(s,l){if(s.indexOf("data:")===0)return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";l=l||globalThis.location,mt||(mt=document.createElement("a")),mt.href=s;var f=yt(mt.href,{strictMode:!0}),I=!f.port&&l.port===""||f.port===l.port,ue=f.protocol?f.protocol+":":"";return f.host===l.hostname&&I&&ue===l.protocol?"":"anonymous"},e.prototype._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},e.prototype._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},e.prototype._getExtension=function(s){s===void 0&&(s=this.url);var l="";if(this.isDataUrl){var f=s.indexOf("/");l=s.substring(f+1,s.indexOf(";",f))}else{var I=s.indexOf("?"),ue=s.indexOf("#"),se=Math.min(I>-1?I:s.length,ue>-1?ue:s.length);l=(s=s.substring(0,se)).substring(s.lastIndexOf(".")+1)}return l.toLowerCase()},e.prototype._getMimeFromXhrType=function(s){switch(s){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},e}();function Ke(){}function Ve(e){return function(){for(var s=arguments,l=[],f=0;f<arguments.length;f++)l[f]=s[f];if(e===null)throw new Error("Callback was already called.");var I=e;e=null,I.apply(this,l)}}(function(e){(function(s){s[s.NONE=0]="NONE",s[s.DATA_URL=1]="DATA_URL",s[s.COMPLETE=2]="COMPLETE",s[s.LOADING=4]="LOADING"})(e.STATUS_FLAGS||(e.STATUS_FLAGS={})),function(s){s[s.UNKNOWN=0]="UNKNOWN",s[s.JSON=1]="JSON",s[s.XML=2]="XML",s[s.IMAGE=3]="IMAGE",s[s.AUDIO=4]="AUDIO",s[s.VIDEO=5]="VIDEO",s[s.TEXT=6]="TEXT"}(e.TYPE||(e.TYPE={})),function(s){s[s.XHR=1]="XHR",s[s.IMAGE=2]="IMAGE",s[s.AUDIO=3]="AUDIO",s[s.VIDEO=4]="VIDEO"}(e.LOAD_TYPE||(e.LOAD_TYPE={})),function(s){s.DEFAULT="text",s.BUFFER="arraybuffer",s.BLOB="blob",s.DOCUMENT="document",s.JSON="json",s.TEXT="text"}(e.XHR_RESPONSE_TYPE||(e.XHR_RESPONSE_TYPE={})),e._loadTypeMap={gif:e.LOAD_TYPE.IMAGE,png:e.LOAD_TYPE.IMAGE,bmp:e.LOAD_TYPE.IMAGE,jpg:e.LOAD_TYPE.IMAGE,jpeg:e.LOAD_TYPE.IMAGE,tif:e.LOAD_TYPE.IMAGE,tiff:e.LOAD_TYPE.IMAGE,webp:e.LOAD_TYPE.IMAGE,tga:e.LOAD_TYPE.IMAGE,svg:e.LOAD_TYPE.IMAGE,"svg+xml":e.LOAD_TYPE.IMAGE,mp3:e.LOAD_TYPE.AUDIO,ogg:e.LOAD_TYPE.AUDIO,wav:e.LOAD_TYPE.AUDIO,mp4:e.LOAD_TYPE.VIDEO,webm:e.LOAD_TYPE.VIDEO},e._xhrTypeMap={xhtml:e.XHR_RESPONSE_TYPE.DOCUMENT,html:e.XHR_RESPONSE_TYPE.DOCUMENT,htm:e.XHR_RESPONSE_TYPE.DOCUMENT,xml:e.XHR_RESPONSE_TYPE.DOCUMENT,tmx:e.XHR_RESPONSE_TYPE.DOCUMENT,svg:e.XHR_RESPONSE_TYPE.DOCUMENT,tsx:e.XHR_RESPONSE_TYPE.DOCUMENT,gif:e.XHR_RESPONSE_TYPE.BLOB,png:e.XHR_RESPONSE_TYPE.BLOB,bmp:e.XHR_RESPONSE_TYPE.BLOB,jpg:e.XHR_RESPONSE_TYPE.BLOB,jpeg:e.XHR_RESPONSE_TYPE.BLOB,tif:e.XHR_RESPONSE_TYPE.BLOB,tiff:e.XHR_RESPONSE_TYPE.BLOB,webp:e.XHR_RESPONSE_TYPE.BLOB,tga:e.XHR_RESPONSE_TYPE.BLOB,json:e.XHR_RESPONSE_TYPE.JSON,text:e.XHR_RESPONSE_TYPE.TEXT,txt:e.XHR_RESPONSE_TYPE.TEXT,ttf:e.XHR_RESPONSE_TYPE.BUFFER,otf:e.XHR_RESPONSE_TYPE.BUFFER},e.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="})(De||(De={}));var Je=function(){function e(s,l){this.data=s,this.callback=l}return e}(),pt=function(){function e(s,l){var f=this;if(l===void 0&&(l=1),this.workers=0,this.saturated=Ke,this.unsaturated=Ke,this.empty=Ke,this.drain=Ke,this.error=Ke,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(I,ue,se){if(se&&typeof se!="function")throw new Error("task callback must be a function");if(f.started=!0,I==null&&f.idle())setTimeout(function(){return f.drain()},1);else{var Te=new Je(I,typeof se=="function"?se:Ke);ue?f._tasks.unshift(Te):f._tasks.push(Te),setTimeout(f.process,1)}},this.process=function(){for(;!f.paused&&f.workers<f.concurrency&&f._tasks.length;){var I=f._tasks.shift();f._tasks.length===0&&f.empty(),f.workers+=1,f.workers===f.concurrency&&f.saturated(),f._worker(I.data,Ve(f._next(I)))}},this._worker=s,l===0)throw new Error("Concurrency must not be zero");this.concurrency=l,this.buffer=l/4}return e.prototype._next=function(s){var l=this;return function(){for(var f=arguments,I=[],ue=0;ue<arguments.length;ue++)I[ue]=f[ue];l.workers-=1,s.callback.apply(s,I),I[0]!=null&&l.error(I[0],s.data),l.workers<=l.concurrency-l.buffer&&l.unsaturated(),l.idle()&&l.drain(),l.process()}},e.prototype.push=function(s,l){this._insert(s,!1,l)},e.prototype.kill=function(){this.workers=0,this.drain=Ke,this.started=!1,this._tasks=[]},e.prototype.unshift=function(s,l){this._insert(s,!0,l)},e.prototype.length=function(){return this._tasks.length},e.prototype.running=function(){return this.workers},e.prototype.idle=function(){return this._tasks.length+this.workers===0},e.prototype.pause=function(){this.paused!==!0&&(this.paused=!0)},e.prototype.resume=function(){if(this.paused!==!1){this.paused=!1;for(var s=1;s<=this.concurrency;s++)this.process()}},e.eachSeries=function(s,l,f,I){var ue=0,se=s.length;function Te(Pe){Pe||ue===se?f&&f(Pe):I?setTimeout(function(){l(s[ue++],Te)},1):l(s[ue++],Te)}Te()},e.queue=function(s,l){return new e(s,l)},e}(),Et=100,Fe=/(#[\w-]+)?$/,fe=function(){function e(s,l){var f=this;s===void 0&&(s=""),l===void 0&&(l=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(Pe,we){return f._loadResource(Pe,we)},this.resources={},this.baseUrl=s,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(Pe,we){return f._loadResource(Pe,we)},this._queue=pt.queue(this._boundLoadResource,l),this._queue.pause(),this.resources={},this.onProgress=new vt,this.onError=new vt,this.onLoad=new vt,this.onStart=new vt,this.onComplete=new vt;for(var I=0;I<e._plugins.length;++I){var ue=e._plugins[I],se=ue.pre,Te=ue.use;se&&this.pre(se),Te&&this.use(Te)}this._protected=!1}return e.prototype._add=function(s,l,f,I){if(this.loading&&(!f||!f.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[s])throw new Error('Resource named "'+s+'" already exists.');if(l=this._prepareUrl(l),this.resources[s]=new De(s,l,f),typeof I=="function"&&this.resources[s].onAfterMiddleware.once(I),this.loading){for(var ue=f.parentResource,se=[],Te=0;Te<ue.children.length;++Te)ue.children[Te].isComplete||se.push(ue.children[Te]);var Pe=ue.progressChunk*(se.length+1)/(se.length+2);for(ue.children.push(this.resources[s]),ue.progressChunk=Pe,Te=0;Te<se.length;++Te)se[Te].progressChunk=Pe;this.resources[s].progressChunk=Pe}return this._queue.push(this.resources[s]),this},e.prototype.pre=function(s){return this._beforeMiddleware.push(s),this},e.prototype.use=function(s){return this._afterMiddleware.push(s),this},e.prototype.reset=function(){for(var s in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var l=this.resources[s];l._onLoadBinding&&l._onLoadBinding.detach(),l.isLoading&&l.abort("loader reset")}return this.resources={},this},e.prototype.load=function(s){if(typeof s=="function"&&this.onComplete.once(s),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var l=this._queue._tasks.length,f=Et/l,I=0;I<this._queue._tasks.length;++I)this._queue._tasks[I].data.progressChunk=f;this._onStart(),this._queue.resume()}return this},Object.defineProperty(e.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(s){this._queue.concurrency=s},enumerable:!1,configurable:!0}),e.prototype._prepareUrl=function(s){var l,f=yt(s,{strictMode:!0});if(l=f.protocol||!f.path||s.indexOf("//")===0?s:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&s.charAt(0)!=="/"?this.baseUrl+"/"+s:this.baseUrl+s,this.defaultQueryString){var I=Fe.exec(l)[0];(l=l.slice(0,l.length-I.length)).indexOf("?")!==-1?l+="&"+this.defaultQueryString:l+="?"+this.defaultQueryString,l+=I}return l},e.prototype._loadResource=function(s,l){var f=this;s._dequeue=l,pt.eachSeries(this._beforeMiddleware,function(I,ue){I.call(f,s,function(){ue(s.isComplete?{}:null)})},function(){s.isComplete?f._onLoad(s):(s._onLoadBinding=s.onComplete.once(f._onLoad,f),s.load())},!0)},e.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e.prototype._onComplete=function(){this.progress=Et,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e.prototype._onLoad=function(s){var l=this;s._onLoadBinding=null,this._resourcesParsing.push(s),s._dequeue(),pt.eachSeries(this._afterMiddleware,function(f,I){f.call(l,s,I)},function(){s.onAfterMiddleware.dispatch(s),l.progress=Math.min(Et,l.progress+s.progressChunk),l.onProgress.dispatch(l,s),s.error?l.onError.dispatch(s.error,l,s):l.onLoad.dispatch(l,s),l._resourcesParsing.splice(l._resourcesParsing.indexOf(s),1),l._queue.idle()&&l._resourcesParsing.length===0&&l._onComplete()},!0)},e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var s=e._shared;return s||((s=new e)._protected=!0,e._shared=s),s},enumerable:!1,configurable:!0}),e.registerPlugin=function(s){return e._plugins.push(s),s.add&&s.add(),e},e._plugins=[],e}();fe.prototype.add=function(e,s,l,f){if(Array.isArray(e)){for(var I=0;I<e.length;++I)this.add(e[I]);return this}if(typeof e=="object"&&(l=e,f=s||l.callback||l.onComplete,s=l.url,e=l.name||l.key||l.url),typeof s!="string"&&(f=l,l=s,s=e),typeof s!="string")throw new Error("No url passed to add resource to loader.");return typeof l=="function"&&(f=l,l=null),this._add(e,s,l,f)};var Ne=function(){function e(){}return e.init=function(s){s=Object.assign({sharedLoader:!1},s),this.loader=s.sharedLoader?fe.shared:new fe},e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e}(),Ge=function(){function e(){}return e.add=function(){De.setExtensionLoadType("svg",De.LOAD_TYPE.XHR),De.setExtensionXhrType("svg",De.XHR_RESPONSE_TYPE.TEXT)},e.use=function(s,l){if(!s.data||s.type!==De.TYPE.IMAGE&&s.extension!=="svg")l();else{var f=s.data,I=s.url,ue=s.name,se=s.metadata;de.xE.fromLoader(f,I,ue,se).then(function(Te){s.texture=Te,l()}).catch(l)}},e}(),Ze="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function ot(e){for(var s="",l=0;l<e.length;){for(var f=[0,0,0],I=[0,0,0,0],ue=0;ue<f.length;++ue)l<e.length?f[ue]=255&e.charCodeAt(l++):f[ue]=0;switch(I[0]=f[0]>>2,I[1]=(3&f[0])<<4|f[1]>>4,I[2]=(15&f[1])<<2|f[2]>>6,I[3]=63&f[2],l-(e.length-1)){case 2:I[3]=64,I[2]=64;break;case 1:I[3]=64}for(ue=0;ue<I.length;++ue)s+=Ze.charAt(I[ue])}return s}var xt=self.URL||self.webkitURL;function Mt(e,s){if(e.data){if(e.xhr&&e.xhrType===De.XHR_RESPONSE_TYPE.BLOB)if(self.Blob&&typeof e.data!="string"){if(e.data.type.indexOf("image")===0){var l=xt.createObjectURL(e.data);return e.blob=e.data,e.data=new Image,e.data.src=l,e.type=De.TYPE.IMAGE,void(e.data.onload=function(){xt.revokeObjectURL(l),e.data.onload=null,s()})}}else{var f=e.xhr.getResponseHeader("content-type");if(f&&f.indexOf("image")===0)return e.data=new Image,e.data.src="data:"+f+";base64,"+ot(e.xhr.responseText),e.type=De.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,s()})}s()}else s()}fe.registerPlugin({use:Mt}),fe.registerPlugin(Ge);var gt,st,at=d(3736);(function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"})(st||(st={}));var Dt=((gt={})[st.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,gt[st.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,gt[st.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,gt[st.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,gt[st.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,gt[st.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,gt[st.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,gt[st.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,gt[st.COMPRESSED_R11_EAC]=.5,gt[st.COMPRESSED_SIGNED_R11_EAC]=.5,gt[st.COMPRESSED_RG11_EAC]=1,gt[st.COMPRESSED_SIGNED_RG11_EAC]=1,gt[st.COMPRESSED_RGB8_ETC2]=.5,gt[st.COMPRESSED_RGBA8_ETC2_EAC]=1,gt[st.COMPRESSED_SRGB8_ETC2]=.5,gt[st.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,gt[st.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,gt[st.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,gt[st.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,gt[st.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,gt[st.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,gt[st.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,gt[st.COMPRESSED_RGB_ETC1_WEBGL]=.5,gt[st.COMPRESSED_RGB_ATC_WEBGL]=.5,gt[st.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,gt[st.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,gt),Bt=function(e,s){return Bt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var I in f)f.hasOwnProperty(I)&&(l[I]=f[I])},Bt(e,s)};function Nt(e,s){function l(){this.constructor=e}Bt(e,s),e.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}function kt(e,s,l,f){return new(l||(l=Promise))(function(I,ue){function se(we){try{Pe(f.next(we))}catch(Ue){ue(Ue)}}function Te(we){try{Pe(f.throw(we))}catch(Ue){ue(Ue)}}function Pe(we){we.done?I(we.value):new l(function(Ue){Ue(we.value)}).then(se,Te)}Pe((f=f.apply(e,s||[])).next())})}function Yt(e,s){var l,f,I,ue,se={label:0,sent:function(){if(1&I[0])throw I[1];return I[1]},trys:[],ops:[]};return ue={next:Te(0),throw:Te(1),return:Te(2)},typeof Symbol=="function"&&(ue[Symbol.iterator]=function(){return this}),ue;function Te(we){return function(Ue){return Pe([we,Ue])}}function Pe(we){if(l)throw new TypeError("Generator is already executing.");for(;se;)try{if(l=1,f&&(I=2&we[0]?f.return:we[0]?f.throw||((I=f.return)&&I.call(f),0):f.next)&&!(I=I.call(f,we[1])).done)return I;switch(f=0,I&&(we=[2&we[0],I.value]),we[0]){case 0:case 1:I=we;break;case 4:return se.label++,{value:we[1],done:!1};case 5:se.label++,f=we[1],we=[0];continue;case 7:we=se.ops.pop(),se.trys.pop();continue;default:if(I=se.trys,!((I=I.length>0&&I[I.length-1])||we[0]!==6&&we[0]!==2)){se=0;continue}if(we[0]===3&&(!I||we[1]>I[0]&&we[1]<I[3])){se.label=we[1];break}if(we[0]===6&&se.label<I[1]){se.label=I[1],I=we;break}if(I&&se.label<I[2]){se.label=I[2],se.ops.push(we);break}I[2]&&se.ops.pop(),se.trys.pop();continue}we=s.call(e,se)}catch(Ue){we=[6,Ue],f=0}finally{l=I=0}if(5&we[0])throw we[1];return{value:we[0]?we[1]:void 0,done:!0}}}var Ft,Qt,gn=function(e){function s(l,f){f===void 0&&(f={width:1,height:1,autoLoad:!0});var I,ue,se=this;return typeof l=="string"?(I=l,ue=new Uint8Array):(I=null,ue=l),(se=e.call(this,ue,f)||this).origin=I,se.buffer=ue?new de.Rv(ue):null,se.origin&&f.autoLoad!==!1&&se.load(),ue&&ue.length&&(se.loaded=!0,se.onBlobLoaded(se.buffer.rawBinaryData)),se}return Nt(s,e),s.prototype.onBlobLoaded=function(l){},s.prototype.load=function(){return kt(this,void 0,Promise,function(){var l;return Yt(this,function(f){switch(f.label){case 0:return[4,fetch(this.origin)];case 1:return[4,f.sent().blob()];case 2:return[4,f.sent().arrayBuffer()];case 3:return l=f.sent(),this.data=new Uint32Array(l),this.buffer=new de.Rv(l),this.loaded=!0,this.onBlobLoaded(l),this.update(),[2,this]}})})},s}(de.qm),zi=function(e){function s(l,f){var I=e.call(this,l,f)||this;return I.format=f.format,I.levels=f.levels||1,I._width=f.width,I._height=f.height,I._extension=s._formatToExtension(I.format),(f.levelBuffers||I.buffer)&&(I._levelBuffers=f.levelBuffers||s._createLevelBuffers(l instanceof Uint8Array?l:I.buffer.uint8View,I.format,I.levels,4,4,I.width,I.height)),I}return Nt(s,e),s.prototype.upload=function(l,f,I){var ue=l.gl;if(!l.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var se=0,Te=this.levels;se<Te;se++){var Pe=this._levelBuffers[se],we=Pe.levelID,Ue=Pe.levelWidth,Qe=Pe.levelHeight,it=Pe.levelBuffer;ue.compressedTexImage2D(ue.TEXTURE_2D,we,this.format,Ue,Qe,0,it)}return!0},s.prototype.onBlobLoaded=function(){this._levelBuffers=s._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},s._formatToExtension=function(l){if(l>=33776&&l<=33779)return"s3tc";if(l>=37488&&l<=37497)return"etc";if(l>=35840&&l<=35843)return"pvrtc";if(l>=36196)return"etc1";if(l>=35986&&l<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},s._createLevelBuffers=function(l,f,I,ue,se,Te,Pe){for(var we=new Array(I),Ue=l.byteOffset,Qe=Te,it=Pe,ze=Qe+ue-1&~(ue-1),lt=it+se-1&~(se-1),et=ze*lt*Dt[f],Tt=0;Tt<I;Tt++)we[Tt]={levelID:Tt,levelWidth:I>1?Qe:ze,levelHeight:I>1?it:lt,levelBuffer:new Uint8Array(l.buffer,Ue,et)},Ue+=et,et=(ze=(Qe=Qe>>1||1)+ue-1&~(ue-1))*(lt=(it=it>>1||1)+se-1&~(se-1))*Dt[f];return we},s}(gn),mn=function(){function e(){}return e.use=function(s,l){var f=s.data,I=this;if(s.type===De.TYPE.JSON&&f&&f.cacheID&&f.textures){for(var ue=f.textures,se=void 0,Te=void 0,Pe=0,we=ue.length;Pe<we;Pe++){var Ue=ue[Pe],Qe=Ue.src,it=Ue.format;if(it||(Te=Qe),e.textureFormats[it]){se=Qe;break}}if(!(se=se||Te))return void l(new Error("Cannot load compressed-textures in "+s.url+", make sure you provide a fallback"));if(se===s.url)return void l(new Error("URL of compressed texture cannot be the same as the manifest's URL"));var ze={crossOrigin:s.crossOrigin,metadata:s.metadata.imageMetadata,parentResource:s},lt=O.url.resolve(s.url.replace(I.baseUrl,""),se),et=f.cacheID;I.add(et,lt,ze,function(Tt){if(Tt.error)l(Tt.error);else{var Pt=Tt.texture,Lt=Pt===void 0?null:Pt,Ct=Tt.textures,Wt=Ct===void 0?{}:Ct;Object.assign(s,{texture:Lt,textures:Wt}),l()}})}else l()},e.add=function(){var s=document.createElement("canvas").getContext("webgl");if(s){var l={s3tc:s.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:s.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:s.getExtension("WEBGL_compressed_texture_etc"),etc1:s.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:s.getExtension("WEBGL_compressed_texture_pvrtc")||s.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:s.getExtension("WEBGL_compressed_texture_atc"),astc:s.getExtension("WEBGL_compressed_texture_astc")};for(var f in e.textureExtensions=l,e.textureFormats={},l){var I=l[f];I&&Object.assign(e.textureFormats,Object.getPrototypeOf(I))}}else console.warn("WebGL not available for compressed textures. Silently failing.")},e}();function _n(e,s,l){var f={textures:{},texture:null};return s&&s.map(function(I){return new de.xE(new de.VL(I,Object.assign({mipmap:at.WB.OFF,alphaMode:at.iw.NO_PREMULTIPLIED_ALPHA},l)))}).forEach(function(I,ue){var se=I.baseTexture,Te=e+"-"+(ue+1);de.VL.addToCache(se,Te),de.xE.addToCache(I,Te),ue===0&&(de.VL.addToCache(se,e),de.xE.addToCache(I,e),f.texture=I),f.textures[Te]=I}),f}De.setExtensionXhrType("dds",De.XHR_RESPONSE_TYPE.BUFFER);var ni,vi,tn=4,Si=124,ri=32,nn=20,Rn=542327876,vn={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},pr={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},rn={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4};(function(e){e[e.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",e[e.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",e[e.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",e[e.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",e[e.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",e[e.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",e[e.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",e[e.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",e[e.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",e[e.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",e[e.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",e[e.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",e[e.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",e[e.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",e[e.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",e[e.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",e[e.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",e[e.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",e[e.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",e[e.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",e[e.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",e[e.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",e[e.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",e[e.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",e[e.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",e[e.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",e[e.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",e[e.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",e[e.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",e[e.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",e[e.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",e[e.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",e[e.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",e[e.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",e[e.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",e[e.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",e[e.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",e[e.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",e[e.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",e[e.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",e[e.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",e[e.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",e[e.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",e[e.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",e[e.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",e[e.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",e[e.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",e[e.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",e[e.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",e[e.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",e[e.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",e[e.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",e[e.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",e[e.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",e[e.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",e[e.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",e[e.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",e[e.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",e[e.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",e[e.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",e[e.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",e[e.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",e[e.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",e[e.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",e[e.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",e[e.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",e[e.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",e[e.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",e[e.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",e[e.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",e[e.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",e[e.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",e[e.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",e[e.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",e[e.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",e[e.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",e[e.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",e[e.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",e[e.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",e[e.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",e[e.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",e[e.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",e[e.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",e[e.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",e[e.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",e[e.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",e[e.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",e[e.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",e[e.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",e[e.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",e[e.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",e[e.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",e[e.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",e[e.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",e[e.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",e[e.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",e[e.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",e[e.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",e[e.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",e[e.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",e[e.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",e[e.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",e[e.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",e[e.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",e[e.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",e[e.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",e[e.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",e[e.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",e[e.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",e[e.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",e[e.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",e[e.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"})(ni||(ni={})),function(e){e[e.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",e[e.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",e[e.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"}(vi||(vi={}));var Bi,ui,qi,zn=1,An=2,Pn=4,On=64,Cn=512,Ai=131072,an=861165636,Mn=894720068,Dn=808540228,sn=4,ai=((Ft={})[827611204]=st.COMPRESSED_RGBA_S3TC_DXT1_EXT,Ft[an]=st.COMPRESSED_RGBA_S3TC_DXT3_EXT,Ft[Mn]=st.COMPRESSED_RGBA_S3TC_DXT5_EXT,Ft),li=((Qt={})[ni.DXGI_FORMAT_BC1_TYPELESS]=st.COMPRESSED_RGBA_S3TC_DXT1_EXT,Qt[ni.DXGI_FORMAT_BC1_UNORM]=st.COMPRESSED_RGBA_S3TC_DXT1_EXT,Qt[ni.DXGI_FORMAT_BC2_TYPELESS]=st.COMPRESSED_RGBA_S3TC_DXT3_EXT,Qt[ni.DXGI_FORMAT_BC2_UNORM]=st.COMPRESSED_RGBA_S3TC_DXT3_EXT,Qt[ni.DXGI_FORMAT_BC3_TYPELESS]=st.COMPRESSED_RGBA_S3TC_DXT5_EXT,Qt[ni.DXGI_FORMAT_BC3_UNORM]=st.COMPRESSED_RGBA_S3TC_DXT5_EXT,Qt[ni.DXGI_FORMAT_BC1_UNORM_SRGB]=st.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,Qt[ni.DXGI_FORMAT_BC2_UNORM_SRGB]=st.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,Qt[ni.DXGI_FORMAT_BC3_UNORM_SRGB]=st.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,Qt),yn=function(){function e(){}return e.use=function(s,l){if(s.extension==="dds"&&s.data)try{Object.assign(s,_n(s.name||s.url,e.parse(s.data),s.metadata))}catch(f){return void l(f)}l()},e.parse=function(s){var l=new Uint32Array(s);if(l[0]!==Rn)throw new Error("Invalid DDS file magic word");var f=new Uint32Array(s,0,Si/Uint32Array.BYTES_PER_ELEMENT),I=f[vn.HEIGHT],ue=f[vn.WIDTH],se=f[vn.MIPMAP_COUNT],Te=new Uint32Array(s,vn.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,ri/Uint32Array.BYTES_PER_ELEMENT),Pe=Te[zn];if(Pe&Pn){var we=Te[pr.FOURCC];if(we!==Dn){var Ue=ai[we],Qe=new Uint8Array(s,tn+Si);return[new zi(Qe,{format:Ue,width:ue,height:I,levels:se})]}var it=tn+Si,ze=new Uint32Array(l.buffer,it,nn/Uint32Array.BYTES_PER_ELEMENT),lt=ze[rn.DXGI_FORMAT],et=ze[rn.RESOURCE_DIMENSION],Tt=ze[rn.MISC_FLAG],Pt=ze[rn.ARRAY_SIZE],Lt=li[lt];if(Lt===void 0)throw new Error("DDSLoader cannot parse texture data with DXGI format "+lt);if(Tt===sn)throw new Error("DDSLoader does not support cubemap textures");if(et===vi.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var Ct=new Array,Wt=tn+Si+nn;if(Pt===1)Ct.push(new Uint8Array(s,Wt));else{for(var ut=Dt[Lt],Kt=0,Ht=ue,zt=I,ti=0;ti<se;ti++)Kt+=Math.max(1,Ht+3&-4)*Math.max(1,zt+3&-4)*ut,Ht>>>=1,zt>>>=1;var xi=Wt;for(ti=0;ti<Pt;ti++)Ct.push(new Uint8Array(s,xi,Kt)),xi+=Kt}return Ct.map(function(Jt){return new zi(Jt,{format:Lt,width:ue,height:I,levels:se})})}throw Pe&On?new Error("DDSLoader does not support uncompressed texture data."):Pe&Cn?new Error("DDSLoader does not supported YUV uncompressed texture data."):Pe&Ai?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):Pe&An?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},e}();De.setExtensionXhrType("ktx",De.XHR_RESPONSE_TYPE.BUFFER);var Qi=[171,75,84,88,32,49,49,187,13,10,26,10],dr=67305985,ci={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},fr=64,Nn=((Bi={})[at.vK.UNSIGNED_BYTE]=1,Bi[at.vK.UNSIGNED_SHORT]=2,Bi[at.vK.INT]=4,Bi[at.vK.UNSIGNED_INT]=4,Bi[at.vK.FLOAT]=4,Bi[at.vK.HALF_FLOAT]=8,Bi),on=((ui={})[at.I2.RGBA]=4,ui[at.I2.RGB]=3,ui[at.I2.RG]=2,ui[at.I2.RED]=1,ui[at.I2.LUMINANCE]=1,ui[at.I2.LUMINANCE_ALPHA]=2,ui[at.I2.ALPHA]=1,ui),qn=((qi={})[at.vK.UNSIGNED_SHORT_4_4_4_4]=2,qi[at.vK.UNSIGNED_SHORT_5_5_5_1]=2,qi[at.vK.UNSIGNED_SHORT_5_6_5]=2,qi),fi=function(){function e(){}return e.use=function(s,l){if(s.extension==="ktx"&&s.data)try{var f=s.name||s.url,I=e.parse(f,s.data),ue=I.compressed,se=I.uncompressed;if(ue)Object.assign(s,_n(f,ue,s.metadata));else if(se){var Te={};se.forEach(function(Pe,we){var Ue=new de.xE(new de.VL(Pe.resource,{mipmap:at.WB.OFF,alphaMode:at.iw.NO_PREMULTIPLIED_ALPHA,type:Pe.type,format:Pe.format})),Qe=f+"-"+(we+1);de.VL.addToCache(Ue.baseTexture,Qe),de.xE.addToCache(Ue,Qe),we===0&&(Te[f]=Ue,de.VL.addToCache(Ue.baseTexture,f),de.xE.addToCache(Ue,f)),Te[Qe]=Ue}),Object.assign(s,{textures:Te})}}catch(Pe){return void l(Pe)}l()},e.parse=function(s,l){var f=new DataView(l);if(!e.validate(s,f))return null;var I=f.getUint32(ci.ENDIANNESS,!0)===dr,ue=f.getUint32(ci.GL_TYPE,I),se=f.getUint32(ci.GL_FORMAT,I),Te=f.getUint32(ci.GL_INTERNAL_FORMAT,I),Pe=f.getUint32(ci.PIXEL_WIDTH,I),we=f.getUint32(ci.PIXEL_HEIGHT,I)||1,Ue=f.getUint32(ci.PIXEL_DEPTH,I)||1,Qe=f.getUint32(ci.NUMBER_OF_ARRAY_ELEMENTS,I)||1,it=f.getUint32(ci.NUMBER_OF_FACES,I),ze=f.getUint32(ci.NUMBER_OF_MIPMAP_LEVELS,I),lt=f.getUint32(ci.BYTES_OF_KEY_VALUE_DATA,I);if(we===0||Ue!==1)throw new Error("Only 2D textures are supported");if(it!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(Qe!==1)throw new Error("WebGL does not support array textures");var et,Tt=4,Pt=4,Lt=Pe+3&-4,Ct=we+3&-4,Wt=new Array(Qe),ut=Pe*we;if(ue===0&&(ut=Lt*Ct),(et=ue!==0?Nn[ue]?Nn[ue]*on[se]:qn[ue]:Dt[Te])===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var Kt=ut*et,Ht=Pe,zt=we,ti=Lt,xi=Ct,Jt=fr+lt,si=0;si<ze;si++){for(var Zt=f.getUint32(Jt,I),Vt=Jt+4,Ti=0;Ti<Qe;Ti++){var pi=Wt[Ti];pi||(pi=Wt[Ti]=new Array(ze)),pi[si]={levelID:si,levelWidth:ze>1||ue!==0?Ht:ti,levelHeight:ze>1||ue!==0?zt:xi,levelBuffer:new Uint8Array(l,Vt,Kt)},Vt+=Kt}Jt=(Jt+=Zt+4)%4!=0?Jt+4-Jt%4:Jt,Kt=(ti=(Ht=Ht>>1||1)+Tt-1&~(Tt-1))*(xi=(zt=zt>>1||1)+Pt-1&~(Pt-1))*et}return ue!==0?{uncompressed:Wt.map(function(ii){var Di=ii[0].levelBuffer,en=!1;return ue===at.vK.FLOAT?Di=new Float32Array(ii[0].levelBuffer.buffer,ii[0].levelBuffer.byteOffset,ii[0].levelBuffer.byteLength/4):ue===at.vK.UNSIGNED_INT?(en=!0,Di=new Uint32Array(ii[0].levelBuffer.buffer,ii[0].levelBuffer.byteOffset,ii[0].levelBuffer.byteLength/4)):ue===at.vK.INT&&(en=!0,Di=new Int32Array(ii[0].levelBuffer.buffer,ii[0].levelBuffer.byteOffset,ii[0].levelBuffer.byteLength/4)),{resource:new de.qm(Di,{width:ii[0].levelWidth,height:ii[0].levelHeight}),type:ue,format:en?e.convertFormatToInteger(se):se}})}:{compressed:Wt.map(function(ii){return new zi(null,{format:Te,width:Pe,height:we,levels:ze,levelBuffers:ii})})}},e.validate=function(s,l){for(var f=0;f<Qi.length;f++)if(l.getUint8(f)!==Qi[f])return console.error(s+" is not a valid *.ktx file!"),!1;return!0},e.convertFormatToInteger=function(s){switch(s){case at.I2.RGBA:return at.I2.RGBA_INTEGER;case at.I2.RGB:return at.I2.RGB_INTEGER;case at.I2.RG:return at.I2.RG_INTEGER;case at.I2.RED:return at.I2.RED_INTEGER;default:return s}},e}(),ln=d(3685),Ii=d(1024),Hi=function(){function e(s,l,f){f===void 0&&(f=null),this._texture=s instanceof de.xE?s:null,this.baseTexture=s instanceof de.VL?s:this._texture.baseTexture,this.textures={},this.animations={},this.data=l;var I=this.baseTexture.resource;this.resolution=this._updateResolution(f||(I?I.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return e.prototype._updateResolution=function(s){s===void 0&&(s=null);var l=this.data.meta.scale,f=(0,O.getResolutionOfUrl)(s,null);return f===null&&(f=l!==void 0?parseFloat(l):1),f!==1&&this.baseTexture.setResolution(f),f},e.prototype.parse=function(s){this._batchIndex=0,this._callback=s,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},e.prototype._processFrames=function(s){for(var l=s,f=e.BATCH_SIZE;l-s<f&&l<this._frameKeys.length;){var I=this._frameKeys[l],ue=this._frames[I],se=ue.frame;if(se){var Te=null,Pe=null,we=ue.trimmed!==!1&&ue.sourceSize?ue.sourceSize:ue.frame,Ue=new be.Ae(0,0,Math.floor(we.w)/this.resolution,Math.floor(we.h)/this.resolution);Te=ue.rotated?new be.Ae(Math.floor(se.x)/this.resolution,Math.floor(se.y)/this.resolution,Math.floor(se.h)/this.resolution,Math.floor(se.w)/this.resolution):new be.Ae(Math.floor(se.x)/this.resolution,Math.floor(se.y)/this.resolution,Math.floor(se.w)/this.resolution,Math.floor(se.h)/this.resolution),ue.trimmed!==!1&&ue.spriteSourceSize&&(Pe=new be.Ae(Math.floor(ue.spriteSourceSize.x)/this.resolution,Math.floor(ue.spriteSourceSize.y)/this.resolution,Math.floor(se.w)/this.resolution,Math.floor(se.h)/this.resolution)),this.textures[I]=new de.xE(this.baseTexture,Te,Ue,Pe,ue.rotated?2:0,ue.anchor),de.xE.addToCache(this.textures[I],I)}l++}},e.prototype._processAnimations=function(){var s=this.data.animations||{};for(var l in s){this.animations[l]=[];for(var f=0;f<s[l].length;f++){var I=s[l][f];this.animations[l].push(this.textures[I])}}},e.prototype._parseComplete=function(){var s=this._callback;this._callback=null,this._batchIndex=0,s.call(this,this.textures)},e.prototype._nextBatch=function(){var s=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout(function(){s._batchIndex*e.BATCH_SIZE<s._frameKeys.length?s._nextBatch():(s._processAnimations(),s._parseComplete())},0)},e.prototype.destroy=function(s){var l;for(var f in s===void 0&&(s=!1),this.textures)this.textures[f].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,s&&((l=this._texture)===null||l===void 0||l.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},e.BATCH_SIZE=1e3,e}(),Qn=function(){function e(){}return e.use=function(s,l){var f,I,ue=this,se=s.name+"_image";if(s.data&&s.type===De.TYPE.JSON&&s.data.frames&&!ue.resources[se]){var Te=(I=(f=s.data)===null||f===void 0?void 0:f.meta)===null||I===void 0?void 0:I.related_multi_packs;if(Array.isArray(Te))for(var Pe=function(ze){if(typeof ze!="string")return"continue";var lt=ze.replace(".json",""),et=O.url.resolve(s.url.replace(ue.baseUrl,""),ze);if(ue.resources[lt]||Object.values(ue.resources).some(function(Pt){return O.url.format(O.url.parse(Pt.url))===et}))return"continue";var Tt={crossOrigin:s.crossOrigin,loadType:De.LOAD_TYPE.XHR,xhrType:De.XHR_RESPONSE_TYPE.JSON,parentResource:s,metadata:s.metadata};ue.add(lt,et,Tt)},we=0,Ue=Te;we<Ue.length;we++)Pe(Ue[we]);var Qe={crossOrigin:s.crossOrigin,metadata:s.metadata.imageMetadata,parentResource:s},it=e.getResourcePath(s,ue.baseUrl);ue.add(se,it,Qe,function(ze){if(ze.error)l(ze.error);else{var lt=new Hi(ze.texture,s.data,s.url);lt.parse(function(){s.spritesheet=lt,s.textures=lt.textures,l()})}})}else l()},e.getResourcePath=function(s,l){return s.isDataUrl?s.data.meta.image:O.url.resolve(s.url.replace(l,""),s.data.meta.image)},e}(),Ln=d(9073),ki=d(875),yi=d(3880),wi=d(2865),hn=function(e,s){return hn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var I in f)f.hasOwnProperty(I)&&(l[I]=f[I])},hn(e,s)};function bn(e,s){function l(){this.constructor=e}hn(e,s),e.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}var bi=function(){function e(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}return e}(),un=function(){function e(){}return e.test=function(s){return typeof s=="string"&&s.indexOf("info face=")===0},e.parse=function(s){var l=s.match(/^[a-z]+\s+.+$/gm),f={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var I in l){var ue=l[I].match(/^[a-z]+/gm)[0],se=l[I].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),Te={};for(var Pe in se){var we=se[Pe].split("="),Ue=we[0],Qe=we[1].replace(/"/gm,""),it=parseFloat(Qe),ze=isNaN(it)?Qe:it;Te[Ue]=ze}f[ue].push(Te)}var lt=new bi;return f.info.forEach(function(et){return lt.info.push({face:et.face,size:parseInt(et.size,10)})}),f.common.forEach(function(et){return lt.common.push({lineHeight:parseInt(et.lineHeight,10)})}),f.page.forEach(function(et){return lt.page.push({id:parseInt(et.id,10),file:et.file})}),f.char.forEach(function(et){return lt.char.push({id:parseInt(et.id,10),page:parseInt(et.page,10),x:parseInt(et.x,10),y:parseInt(et.y,10),width:parseInt(et.width,10),height:parseInt(et.height,10),xoffset:parseInt(et.xoffset,10),yoffset:parseInt(et.yoffset,10),xadvance:parseInt(et.xadvance,10)})}),f.kerning.forEach(function(et){return lt.kerning.push({first:parseInt(et.first,10),second:parseInt(et.second,10),amount:parseInt(et.amount,10)})}),f.distanceField.forEach(function(et){return lt.distanceField.push({distanceRange:parseInt(et.distanceRange,10),fieldType:et.fieldType})}),lt},e}(),Ki=function(){function e(){}return e.test=function(s){return s instanceof XMLDocument&&s.getElementsByTagName("page").length&&s.getElementsByTagName("info")[0].getAttribute("face")!==null},e.parse=function(s){for(var l=new bi,f=s.getElementsByTagName("info"),I=s.getElementsByTagName("common"),ue=s.getElementsByTagName("page"),se=s.getElementsByTagName("char"),Te=s.getElementsByTagName("kerning"),Pe=s.getElementsByTagName("distanceField"),we=0;we<f.length;we++)l.info.push({face:f[we].getAttribute("face"),size:parseInt(f[we].getAttribute("size"),10)});for(we=0;we<I.length;we++)l.common.push({lineHeight:parseInt(I[we].getAttribute("lineHeight"),10)});for(we=0;we<ue.length;we++)l.page.push({id:parseInt(ue[we].getAttribute("id"),10)||0,file:ue[we].getAttribute("file")});for(we=0;we<se.length;we++){var Ue=se[we];l.char.push({id:parseInt(Ue.getAttribute("id"),10),page:parseInt(Ue.getAttribute("page"),10)||0,x:parseInt(Ue.getAttribute("x"),10),y:parseInt(Ue.getAttribute("y"),10),width:parseInt(Ue.getAttribute("width"),10),height:parseInt(Ue.getAttribute("height"),10),xoffset:parseInt(Ue.getAttribute("xoffset"),10),yoffset:parseInt(Ue.getAttribute("yoffset"),10),xadvance:parseInt(Ue.getAttribute("xadvance"),10)})}for(we=0;we<Te.length;we++)l.kerning.push({first:parseInt(Te[we].getAttribute("first"),10),second:parseInt(Te[we].getAttribute("second"),10),amount:parseInt(Te[we].getAttribute("amount"),10)});for(we=0;we<Pe.length;we++)l.distanceField.push({fieldType:Pe[we].getAttribute("fieldType"),distanceRange:parseInt(Pe[we].getAttribute("distanceRange"),10)});return l},e}(),Bn=function(){function e(){}return e.test=function(s){if(typeof s=="string"&&s.indexOf("<font>")>-1){var l=new globalThis.DOMParser().parseFromString(s,"text/xml");return Ki.test(l)}return!1},e.parse=function(s){var l=new globalThis.DOMParser().parseFromString(s,"text/xml");return Ki.parse(l)},e}(),Ji=[un,Ki,Bn];function xn(e){for(var s=0;s<Ji.length;s++)if(Ji[s].test(e))return Ji[s];return null}function Kn(e,s,l,f,I,ue){var se,Te=l.fill;if(!Array.isArray(Te))return Te;if(Te.length===1)return Te[0];var Pe=l.dropShadow?l.dropShadowDistance:0,we=l.padding||0,Ue=e.width/f-Pe-2*we,Qe=e.height/f-Pe-2*we,it=Te.slice(),ze=l.fillGradientStops.slice();if(!ze.length)for(var lt=it.length+1,et=1;et<lt;++et)ze.push(et/lt);if(it.unshift(Te[0]),ze.unshift(0),it.push(Te[Te.length-1]),ze.push(1),l.fillGradientType===wi.M_.LINEAR_VERTICAL){se=s.createLinearGradient(Ue/2,we,Ue/2,Qe+we);var Tt=0,Pt=(ue.fontProperties.fontSize+l.strokeThickness)/Qe;for(et=0;et<I.length;et++)for(var Lt=ue.lineHeight*et,Ct=0;Ct<it.length;Ct++){var Wt=Lt/Qe+(typeof ze[Ct]=="number"?ze[Ct]:Ct/it.length)*Pt,ut=Math.max(Tt,Wt);ut=Math.min(ut,1),se.addColorStop(ut,it[Ct]),Tt=ut}}else{se=s.createLinearGradient(we,Qe/2,Ue+we,Qe/2);var Kt=it.length+1,Ht=1;for(et=0;et<it.length;et++){var zt=void 0;zt=typeof ze[et]=="number"?ze[et]:Ht/Kt,se.addColorStop(zt,it[et]),Ht++}}return se}function gr(e,s,l,f,I,ue,se){var Te=l.text,Pe=l.fontProperties;s.translate(f,I),s.scale(ue,ue);var we=se.strokeThickness/2,Ue=-se.strokeThickness/2;if(s.font=se.toFontString(),s.lineWidth=se.strokeThickness,s.textBaseline=se.textBaseline,s.lineJoin=se.lineJoin,s.miterLimit=se.miterLimit,s.fillStyle=Kn(e,s,se,ue,[Te],l),s.strokeStyle=se.stroke,se.dropShadow){var Qe=se.dropShadowColor,it=(0,O.hex2rgb)(typeof Qe=="number"?Qe:(0,O.string2hex)(Qe)),ze=se.dropShadowBlur*ue,lt=se.dropShadowDistance*ue;s.shadowColor="rgba("+255*it[0]+","+255*it[1]+","+255*it[2]+","+se.dropShadowAlpha+")",s.shadowBlur=ze,s.shadowOffsetX=Math.cos(se.dropShadowAngle)*lt,s.shadowOffsetY=Math.sin(se.dropShadowAngle)*lt}else s.shadowColor="black",s.shadowBlur=0,s.shadowOffsetX=0,s.shadowOffsetY=0;se.stroke&&se.strokeThickness&&s.strokeText(Te,we,Ue+l.lineHeight-Pe.descent),se.fill&&s.fillText(Te,we,Ue+l.lineHeight-Pe.descent),s.setTransform(1,0,0,1,0,0),s.fillStyle="rgba(0, 0, 0, 0)"}function Tn(e){return Array.from?Array.from(e):e.split("")}function mr(e){typeof e=="string"&&(e=[e]);for(var s=[],l=0,f=e.length;l<f;l++){var I=e[l];if(Array.isArray(I)){if(I.length!==2)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+I.length+".");var ue=I[0].charCodeAt(0),se=I[1].charCodeAt(0);if(se<ue)throw new Error("[BitmapFont]: Invalid character range.");for(var Te=ue,Pe=se;Te<=Pe;Te++)s.push(String.fromCharCode(Te))}else s.push.apply(s,Tn(I))}if(s.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return s}function En(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}var Fi=function(){function e(s,l,f){var I,ue,se=s.info[0],Te=s.common[0],Pe=s.page[0],we=s.distanceField[0],Ue=(0,O.getResolutionOfUrl)(Pe.file),Qe={};this._ownsTextures=f,this.font=se.face,this.size=se.size,this.lineHeight=Te.lineHeight/Ue,this.chars={},this.pageTextures=Qe;for(var it=0;it<s.page.length;it++){var ze=s.page[it],lt=ze.id,et=ze.file;Qe[lt]=l instanceof Array?l[it]:l[et],we!=null&&we.fieldType&&we.fieldType!=="none"&&(Qe[lt].baseTexture.alphaMode=at.iw.NO_PREMULTIPLIED_ALPHA)}for(it=0;it<s.char.length;it++){var Tt=s.char[it],Pt=(lt=Tt.id,Tt.page),Lt=s.char[it],Ct=Lt.x,Wt=Lt.y,ut=Lt.width,Kt=Lt.height,Ht=Lt.xoffset,zt=Lt.yoffset,ti=Lt.xadvance;Ct/=Ue,Wt/=Ue,ut/=Ue,Kt/=Ue,Ht/=Ue,zt/=Ue,ti/=Ue;var xi=new be.Ae(Ct+Qe[Pt].frame.x/Ue,Wt+Qe[Pt].frame.y/Ue,ut,Kt);this.chars[lt]={xOffset:Ht,yOffset:zt,xAdvance:ti,kerning:{},texture:new de.xE(Qe[Pt].baseTexture,xi),page:Pt}}for(it=0;it<s.kerning.length;it++){var Jt=s.kerning[it],si=Jt.first,Zt=Jt.second,Vt=Jt.amount;si/=Ue,Zt/=Ue,Vt/=Ue,this.chars[Zt]&&(this.chars[Zt].kerning[si]=Vt)}this.distanceFieldRange=we==null?void 0:we.distanceRange,this.distanceFieldType=(ue=(I=we==null?void 0:we.fieldType)===null||I===void 0?void 0:I.toLowerCase())!==null&&ue!==void 0?ue:"none"}return e.prototype.destroy=function(){for(var s in this.chars)this.chars[s].texture.destroy(),this.chars[s].texture=null;for(var s in this.pageTextures)this._ownsTextures&&this.pageTextures[s].destroy(!0),this.pageTextures[s]=null;this.chars=null,this.pageTextures=null},e.install=function(s,l,f){var I;if(s instanceof bi)I=s;else{var ue=xn(s);if(!ue)throw new Error("Unrecognized data format for font.");I=ue.parse(s)}l instanceof de.xE&&(l=[l]);var se=new e(I,l,f);return e.available[se.font]=se,se},e.uninstall=function(s){var l=e.available[s];if(!l)throw new Error("No font found named '"+s+"'");l.destroy(),delete e.available[s]},e.from=function(s,l,f){if(!s)throw new Error("[BitmapFont] Property `name` is required.");var I=Object.assign({},e.defaultOptions,f),ue=I.chars,se=I.padding,Te=I.resolution,Pe=I.textureWidth,we=I.textureHeight,Ue=mr(ue),Qe=l instanceof wi.pn?l:new wi.pn(l),it=Pe,ze=new bi;ze.info[0]={face:Qe.fontFamily,size:Qe.fontSize},ze.common[0]={lineHeight:Qe.fontSize};for(var lt,et,Tt,Pt=0,Lt=0,Ct=0,Wt=[],ut=0;ut<Ue.length;ut++){lt||((lt=document.createElement("canvas")).width=Pe,lt.height=we,et=lt.getContext("2d"),Tt=new de.VL(lt,{resolution:Te}),Wt.push(new de.xE(Tt)),ze.page.push({id:Wt.length-1,file:""}));var Kt=wi._A.measureText(Ue[ut],Qe,!1,lt),Ht=Kt.width,zt=Math.ceil(Kt.height),ti=Math.ceil((Qe.fontStyle==="italic"?2:1)*Ht);if(Lt>=we-zt*Te){if(Lt===0)throw new Error("[BitmapFont] textureHeight "+we+"px is too small for "+Qe.fontSize+"px fonts");--ut,lt=null,et=null,Tt=null,Lt=0,Pt=0,Ct=0}else if(Ct=Math.max(zt+Kt.fontProperties.descent,Ct),ti*Te+Pt>=it)--ut,Lt+=Ct*Te,Lt=Math.ceil(Lt),Pt=0,Ct=0;else{gr(lt,et,Kt,Pt,Lt,Te,Qe);var xi=En(Kt.text);ze.char.push({id:xi,page:Wt.length-1,x:Pt/Te,y:Lt/Te,width:ti,height:zt,xoffset:0,yoffset:0,xadvance:Math.ceil(Ht-(Qe.dropShadow?Qe.dropShadowDistance:0)-(Qe.stroke?Qe.strokeThickness:0))}),Pt+=(ti+2*se)*Te,Pt=Math.ceil(Pt)}}ut=0;for(var Jt=Ue.length;ut<Jt;ut++)for(var si=Ue[ut],Zt=0;Zt<Jt;Zt++){var Vt=Ue[Zt],Ti=et.measureText(si).width,pi=et.measureText(Vt).width,ii=et.measureText(si+Vt).width-(Ti+pi);ii&&ze.kerning.push({first:En(si),second:En(Vt),amount:ii})}var Di=new e(ze,Wt,!0);return e.available[s]!==void 0&&e.uninstall(s),e.available[s]=Di,Di},e.ALPHA=[["a","z"],["A","Z"]," "],e.NUMERIC=[["0","9"]],e.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],e.ASCII=[[" ","~"]],e.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:e.ALPHANUMERIC},e.available={},e}(),kn=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r
\r
}\r
`,Jn=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`,Fn=[],cn=[],Un=[],$n=function(e){function s(l,f){f===void 0&&(f={});var I=e.call(this)||this;I._tint=16777215;var ue=Object.assign({},s.styleDefaults,f),se=ue.align,Te=ue.tint,Pe=ue.maxWidth,we=ue.letterSpacing,Ue=ue.fontName,Qe=ue.fontSize;if(!Fi.available[Ue])throw new Error('Missing BitmapFont "'+Ue+'"');return I._activePagesMeshData=[],I._textWidth=0,I._textHeight=0,I._align=se,I._tint=Te,I._fontName=Ue,I._fontSize=Qe||Fi.available[Ue].size,I._text=l,I._maxWidth=Pe,I._maxLineHeight=0,I._letterSpacing=we,I._anchor=new be.AB(function(){I.dirty=!0},I,0,0),I._roundPixels=ki.X.ROUND_PIXELS,I.dirty=!0,I._textureCache={},I}return bn(s,e),s.prototype.updateText=function(){for(var l,f=Fi.available[this._fontName],I=this._fontSize/f.size,ue=new be.E9,se=[],Te=[],Pe=[],we=Tn(this._text.replace(/(?:\r\n|\r)/g,`
`)||" "),Ue=this._maxWidth*f.size/this._fontSize,Qe=f.distanceFieldType==="none"?Fn:cn,it=null,ze=0,lt=0,et=0,Tt=-1,Pt=0,Lt=0,Ct=0,Wt=0,ut=0;ut<we.length;ut++){var Kt=En(Vi=we[ut]);if(/(?:\s)/.test(Vi)&&(Tt=ut,Pt=ze,Wt++),Vi!=="\r"&&Vi!==`
`){var Ht=f.chars[Kt];if(Ht){it&&Ht.kerning[it]&&(ue.x+=Ht.kerning[it]);var zt=Un.pop()||{texture:de.xE.EMPTY,line:0,charCode:0,prevSpaces:0,position:new be.E9};zt.texture=Ht.texture,zt.line=et,zt.charCode=Kt,zt.position.x=ue.x+Ht.xOffset+this._letterSpacing/2,zt.position.y=ue.y+Ht.yOffset,zt.prevSpaces=Wt,se.push(zt),ze=zt.position.x+Math.max(Ht.xAdvance,Ht.texture.orig.width),ue.x+=Ht.xAdvance+this._letterSpacing,Ct=Math.max(Ct,Ht.yOffset+Ht.texture.height),it=Kt,Tt!==-1&&Ue>0&&ue.x>Ue&&(++Lt,(0,O.removeItems)(se,1+Tt-Lt,1+ut-Tt),ut=Tt,Tt=-1,Te.push(Pt),Pe.push(se.length>0?se[se.length-1].prevSpaces:0),lt=Math.max(lt,Pt),et++,ue.x=0,ue.y+=f.lineHeight,it=null,Wt=0)}}else Te.push(ze),Pe.push(-1),lt=Math.max(lt,ze),++et,++Lt,ue.x=0,ue.y+=f.lineHeight,it=null,Wt=0}var ti=we[we.length-1];ti!=="\r"&&ti!==`
`&&(/(?:\s)/.test(ti)&&(ze=Pt),Te.push(ze),lt=Math.max(lt,ze),Pe.push(-1));var xi=[];for(ut=0;ut<=et;ut++){var Jt=0;this._align==="right"?Jt=lt-Te[ut]:this._align==="center"?Jt=(lt-Te[ut])/2:this._align==="justify"&&(Jt=Pe[ut]<0?0:(lt-Te[ut])/Pe[ut]),xi.push(Jt)}var si=se.length,Zt={},Vt=[],Ti=this._activePagesMeshData;for(ut=0;ut<Ti.length;ut++)Qe.push(Ti[ut]);for(ut=0;ut<si;ut++){var pi=(Gi=se[ut].texture).baseTexture.uid;if(!Zt[pi]){if(!(ve=Qe.pop())){var ii=new yi.xc,Di=void 0,en=void 0;f.distanceFieldType==="none"?(Di=new yi.rY(de.xE.EMPTY),en=at.T$.NORMAL):(Di=new yi.rY(de.xE.EMPTY,{program:de.$r.from(Jn,kn),uniforms:{uFWidth:0}}),en=at.T$.NORMAL_NPM);var hr=new yi.Kj(ii,Di);hr.blendMode=en,ve={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:hr,vertices:null,uvs:null,indices:null}}ve.index=0,ve.indexCount=0,ve.vertexCount=0,ve.uvsCount=0,ve.total=0;var ur=this._textureCache;ur[pi]=ur[pi]||new de.xE(Gi.baseTexture),ve.mesh.texture=ur[pi],ve.mesh.tint=this._tint,Vt.push(ve),Zt[pi]=ve}Zt[pi].total++}for(ut=0;ut<Ti.length;ut++)Vt.indexOf(Ti[ut])===-1&&this.removeChild(Ti[ut].mesh);for(ut=0;ut<Vt.length;ut++)Vt[ut].mesh.parent!==this&&this.addChild(Vt[ut].mesh);for(var ut in this._activePagesMeshData=Vt,Zt){var Zn=(ve=Zt[ut]).total;if(!(((l=ve.indices)===null||l===void 0?void 0:l.length)>6*Zn)||ve.vertices.length<2*yi.Kj.BATCHABLE_SIZE)ve.vertices=new Float32Array(8*Zn),ve.uvs=new Float32Array(8*Zn),ve.indices=new Uint16Array(6*Zn);else for(var Xr=ve.total,Hr=ve.vertices,Vn=4*Xr*2;Vn<Hr.length;Vn++)Hr[Vn]=0;ve.mesh.size=6*Zn}for(ut=0;ut<si;ut++){var Vi,Ir=(Vi=se[ut]).position.x+xi[Vi.line]*(this._align==="justify"?Vi.prevSpaces:1);this._roundPixels&&(Ir=Math.round(Ir));var Gi,St=Ir*I,g=Vi.position.y*I,o=Zt[(Gi=Vi.texture).baseTexture.uid],Z=Gi.frame,$=Gi._uvs,pe=o.index++;o.indices[6*pe+0]=0+4*pe,o.indices[6*pe+1]=1+4*pe,o.indices[6*pe+2]=2+4*pe,o.indices[6*pe+3]=0+4*pe,o.indices[6*pe+4]=2+4*pe,o.indices[6*pe+5]=3+4*pe,o.vertices[8*pe+0]=St,o.vertices[8*pe+1]=g,o.vertices[8*pe+2]=St+Z.width*I,o.vertices[8*pe+3]=g,o.vertices[8*pe+4]=St+Z.width*I,o.vertices[8*pe+5]=g+Z.height*I,o.vertices[8*pe+6]=St,o.vertices[8*pe+7]=g+Z.height*I,o.uvs[8*pe+0]=$.x0,o.uvs[8*pe+1]=$.y0,o.uvs[8*pe+2]=$.x1,o.uvs[8*pe+3]=$.y1,o.uvs[8*pe+4]=$.x2,o.uvs[8*pe+5]=$.y2,o.uvs[8*pe+6]=$.x3,o.uvs[8*pe+7]=$.y3}for(var ut in this._textWidth=lt*I,this._textHeight=(ue.y+f.lineHeight)*I,Zt){var ve=Zt[ut];if(this.anchor.x!==0||this.anchor.y!==0)for(var Re=0,Me=this._textWidth*this.anchor.x,Ye=this._textHeight*this.anchor.y,nt=0;nt<ve.total;nt++)ve.vertices[Re++]-=Me,ve.vertices[Re++]-=Ye,ve.vertices[Re++]-=Me,ve.vertices[Re++]-=Ye,ve.vertices[Re++]-=Me,ve.vertices[Re++]-=Ye,ve.vertices[Re++]-=Me,ve.vertices[Re++]-=Ye;this._maxLineHeight=Ct*I;var Xe=ve.mesh.geometry.getBuffer("aVertexPosition"),At=ve.mesh.geometry.getBuffer("aTextureCoord"),dt=ve.mesh.geometry.getIndex();Xe.data=ve.vertices,At.data=ve.uvs,dt.data=ve.indices,Xe.update(),At.update(),dt.update()}for(ut=0;ut<se.length;ut++)Un.push(se[ut])},s.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},s.prototype._render=function(l){var f=Fi.available[this._fontName],I=f.distanceFieldRange,ue=f.distanceFieldType,se=f.size;if(ue!=="none")for(var Te=this.worldTransform,Pe=Te.a,we=Te.b,Ue=Te.c,Qe=Te.d,it=Math.sqrt(Pe*Pe+we*we),ze=Math.sqrt(Ue*Ue+Qe*Qe),lt=(Math.abs(it)+Math.abs(ze))/2,et=this._fontSize/se,Tt=0,Pt=this._activePagesMeshData;Tt<Pt.length;Tt++)Pt[Tt].mesh.shader.uniforms.uFWidth=lt*I*et*l.resolution;e.prototype._render.call(this,l)},s.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},s.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(s.prototype,"tint",{get:function(){return this._tint},set:function(l){if(this._tint!==l){this._tint=l;for(var f=0;f<this._activePagesMeshData.length;f++)this._activePagesMeshData[f].mesh.tint=l}},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"align",{get:function(){return this._align},set:function(l){this._align!==l&&(this._align=l,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"fontName",{get:function(){return this._fontName},set:function(l){if(!Fi.available[l])throw new Error('Missing BitmapFont "'+l+'"');this._fontName!==l&&(this._fontName=l,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"fontSize",{get:function(){return this._fontSize},set:function(l){this._fontSize!==l&&(this._fontSize=l,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"anchor",{get:function(){return this._anchor},set:function(l){typeof l=="number"?this._anchor.set(l):this._anchor.copyFrom(l)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"text",{get:function(){return this._text},set:function(l){l=String(l??""),this._text!==l&&(this._text=l,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(l){this._maxWidth!==l&&(this._maxWidth=l,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(l){this._letterSpacing!==l&&(this._letterSpacing=l,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(l){l!==this._roundPixels&&(this._roundPixels=l,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),s.prototype.destroy=function(l){var f=this._textureCache;for(var I in f)f[I].destroy(),delete f[I];this._textureCache=null,e.prototype.destroy.call(this,l)},s.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0},s}(E.W2),Ri=function(){function e(){}return e.add=function(){De.setExtensionXhrType("fnt",De.XHR_RESPONSE_TYPE.TEXT)},e.use=function(s,l){var f=xn(s.data);if(f)for(var I=e.getBaseUrl(this,s),ue=f.parse(s.data),se={},Te=function(et){se[et.metadata.pageFile]=et.texture,Object.keys(se).length===ue.page.length&&(s.bitmapFont=Fi.install(ue,se,!0),l())},Pe=0;Pe<ue.page.length;++Pe){var we=ue.page[Pe].file,Ue=I+we,Qe=!1;for(var it in this.resources){var ze=this.resources[it];if(ze.url===Ue){ze.metadata.pageFile=we,ze.texture?Te(ze):ze.onAfterMiddleware.add(Te),Qe=!0;break}}if(!Qe){var lt={crossOrigin:s.crossOrigin,loadType:De.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:we},s.metadata.imageMetadata),parentResource:s};this.add(Ue,lt,Te)}}else l()},e.getBaseUrl=function(s,l){var f=l.isDataUrl?"":e.dirname(l.url);return l.isDataUrl&&(f==="."&&(f=""),s.baseUrl&&f&&s.baseUrl.charAt(s.baseUrl.length-1)==="/"&&(f+="/")),(f=f.replace(s.baseUrl,""))&&f.charAt(f.length-1)!=="/"&&(f+="/"),f},e.dirname=function(s){var l=s.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return l===s?".":l===""?"/":l},e}(),gi=function(e,s){return gi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var I in f)f.hasOwnProperty(I)&&(l[I]=f[I])},gi(e,s)};function Gn(e,s){function l(){this.constructor=e}gi(e,s),e.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}var er=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`,_r=function(e){function s(l){l===void 0&&(l=1);var f=e.call(this,de.kP,er,{uAlpha:1})||this;return f.alpha=l,f}return Gn(s,e),Object.defineProperty(s.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(l){this.uniforms.uAlpha=l},enumerable:!1,configurable:!0}),s}(de.wn),ji=function(e,s){return ji=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var I in f)f.hasOwnProperty(I)&&(l[I]=f[I])},ji(e,s)};function Xn(e,s){function l(){this.constructor=e}ji(e,s),e.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}var Hn=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function pn(e,s){var l,f=Math.ceil(e/2),I=Hn,ue="";l=s?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var se=0;se<e;se++){var Te=l.replace("%index%",se.toString());ue+=Te=Te.replace("%sampleIndex%",se-(f-1)+".0"),ue+=`
`}return I=(I=I.replace("%blur%",ue)).replace("%size%",e.toString())}var tr,_,t,i,r,m,H,ie,ce,me,Le,He,$e,ht,bt,It,Rt,wt,ei,hi={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},Pi=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function ir(e){for(var s,l=hi[e],f=l.length,I=Pi,ue="",se="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",Te=0;Te<e;Te++){var Pe=se.replace("%index%",Te.toString());s=Te,Te>=f&&(s=e-Te-1),ue+=Pe=Pe.replace("%value%",l[s].toString()),ue+=`
`}return I=(I=I.replace("%blur%",ue)).replace("%size%",e.toString())}(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(tr||(tr={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(_||(_={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(t||(t={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(i||(i={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(r||(r={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(m||(m={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(H||(H={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(ie||(ie={})),function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"}(ce||(ce={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(me||(me={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(Le||(Le={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"}(He||(He={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}($e||($e={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(ht||(ht={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(bt||(bt={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(It||(It={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(Rt||(Rt={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(wt||(wt={})),function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(ei||(ei={}));var dn=function(e){function s(l,f,I,ue,se){f===void 0&&(f=8),I===void 0&&(I=4),ue===void 0&&(ue=ki.X.FILTER_RESOLUTION),se===void 0&&(se=5);var Te=this,Pe=pn(se,l),we=ir(se);return(Te=e.call(this,Pe,we)||this).horizontal=l,Te.resolution=ue,Te._quality=0,Te.quality=I,Te.blur=f,Te}return Xn(s,e),s.prototype.apply=function(l,f,I,ue){if(I?this.horizontal?this.uniforms.strength=1/I.width*(I.width/f.width):this.uniforms.strength=1/I.height*(I.height/f.height):this.horizontal?this.uniforms.strength=1/l.renderer.width*(l.renderer.width/f.width):this.uniforms.strength=1/l.renderer.height*(l.renderer.height/f.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)l.applyFilter(this,f,I,ue);else{var se=l.getFilterTexture(),Te=l.renderer,Pe=f,we=se;this.state.blend=!1,l.applyFilter(this,Pe,we,ht.CLEAR);for(var Ue=1;Ue<this.passes-1;Ue++){l.bindAndClear(Pe,ht.BLIT),this.uniforms.uSampler=we;var Qe=we;we=Pe,Pe=Qe,Te.shader.bind(this),Te.geometry.draw(5)}this.state.blend=!0,l.applyFilter(this,we,I,ue),l.returnFilterTexture(se)}},Object.defineProperty(s.prototype,"blur",{get:function(){return this.strength},set:function(l){this.padding=1+2*Math.abs(l),this.strength=l},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"quality",{get:function(){return this._quality},set:function(l){this._quality=l,this.passes=l},enumerable:!1,configurable:!0}),s}(de.wn),nr=function(e){function s(l,f,I,ue){l===void 0&&(l=8),f===void 0&&(f=4),I===void 0&&(I=ki.X.FILTER_RESOLUTION),ue===void 0&&(ue=5);var se=e.call(this)||this;return se.blurXFilter=new dn(!0,l,f,I,ue),se.blurYFilter=new dn(!1,l,f,I,ue),se.resolution=I,se.quality=f,se.blur=l,se.repeatEdgePixels=!1,se}return Xn(s,e),s.prototype.apply=function(l,f,I,ue){var se=Math.abs(this.blurXFilter.strength),Te=Math.abs(this.blurYFilter.strength);if(se&&Te){var Pe=l.getFilterTexture();this.blurXFilter.apply(l,f,Pe,ht.CLEAR),this.blurYFilter.apply(l,Pe,I,ue),l.returnFilterTexture(Pe)}else Te?this.blurYFilter.apply(l,f,I,ue):this.blurXFilter.apply(l,f,I,ue)},s.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(s.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(l){this.blurXFilter.blur=this.blurYFilter.blur=l,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(l){this.blurXFilter.quality=this.blurYFilter.quality=l},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(l){this.blurXFilter.blur=l,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(l){this.blurYFilter.blur=l,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(l){this.blurYFilter.blendMode=l},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(l){this._repeatEdgePixels=l,this.updatePadding()},enumerable:!1,configurable:!0}),s}(de.wn),Wi=function(e,s){return Wi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var I in f)f.hasOwnProperty(I)&&(l[I]=f[I])},Wi(e,s)};function jr(e,s){function l(){this.constructor=e}Wi(e,s),e.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}var wr=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`,rr=function(e){function s(){var l=this,f={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(l=e.call(this,de.Y9,wr,f)||this).alpha=1,l}return jr(s,e),s.prototype._loadMatrix=function(l,f){f===void 0&&(f=!1);var I=l;f&&(this._multiply(I,this.uniforms.m,l),I=this._colorMatrix(I)),this.uniforms.m=I},s.prototype._multiply=function(l,f,I){return l[0]=f[0]*I[0]+f[1]*I[5]+f[2]*I[10]+f[3]*I[15],l[1]=f[0]*I[1]+f[1]*I[6]+f[2]*I[11]+f[3]*I[16],l[2]=f[0]*I[2]+f[1]*I[7]+f[2]*I[12]+f[3]*I[17],l[3]=f[0]*I[3]+f[1]*I[8]+f[2]*I[13]+f[3]*I[18],l[4]=f[0]*I[4]+f[1]*I[9]+f[2]*I[14]+f[3]*I[19]+f[4],l[5]=f[5]*I[0]+f[6]*I[5]+f[7]*I[10]+f[8]*I[15],l[6]=f[5]*I[1]+f[6]*I[6]+f[7]*I[11]+f[8]*I[16],l[7]=f[5]*I[2]+f[6]*I[7]+f[7]*I[12]+f[8]*I[17],l[8]=f[5]*I[3]+f[6]*I[8]+f[7]*I[13]+f[8]*I[18],l[9]=f[5]*I[4]+f[6]*I[9]+f[7]*I[14]+f[8]*I[19]+f[9],l[10]=f[10]*I[0]+f[11]*I[5]+f[12]*I[10]+f[13]*I[15],l[11]=f[10]*I[1]+f[11]*I[6]+f[12]*I[11]+f[13]*I[16],l[12]=f[10]*I[2]+f[11]*I[7]+f[12]*I[12]+f[13]*I[17],l[13]=f[10]*I[3]+f[11]*I[8]+f[12]*I[13]+f[13]*I[18],l[14]=f[10]*I[4]+f[11]*I[9]+f[12]*I[14]+f[13]*I[19]+f[14],l[15]=f[15]*I[0]+f[16]*I[5]+f[17]*I[10]+f[18]*I[15],l[16]=f[15]*I[1]+f[16]*I[6]+f[17]*I[11]+f[18]*I[16],l[17]=f[15]*I[2]+f[16]*I[7]+f[17]*I[12]+f[18]*I[17],l[18]=f[15]*I[3]+f[16]*I[8]+f[17]*I[13]+f[18]*I[18],l[19]=f[15]*I[4]+f[16]*I[9]+f[17]*I[14]+f[18]*I[19]+f[19],l},s.prototype._colorMatrix=function(l){var f=new Float32Array(l);return f[4]/=255,f[9]/=255,f[14]/=255,f[19]/=255,f},s.prototype.brightness=function(l,f){var I=[l,0,0,0,0,0,l,0,0,0,0,0,l,0,0,0,0,0,1,0];this._loadMatrix(I,f)},s.prototype.tint=function(l,f){var I=[(l>>16&255)/255,0,0,0,0,0,(l>>8&255)/255,0,0,0,0,0,(255&l)/255,0,0,0,0,0,1,0];this._loadMatrix(I,f)},s.prototype.greyscale=function(l,f){var I=[l,l,l,0,0,l,l,l,0,0,l,l,l,0,0,0,0,0,1,0];this._loadMatrix(I,f)},s.prototype.blackAndWhite=function(l){var f=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(f,l)},s.prototype.hue=function(l,f){l=(l||0)/180*Math.PI;var I=Math.cos(l),ue=Math.sin(l),se=1/3,Te=(0,Math.sqrt)(se),Pe=[I+(1-I)*se,se*(1-I)-Te*ue,se*(1-I)+Te*ue,0,0,se*(1-I)+Te*ue,I+se*(1-I),se*(1-I)-Te*ue,0,0,se*(1-I)-Te*ue,se*(1-I)+Te*ue,I+se*(1-I),0,0,0,0,0,1,0];this._loadMatrix(Pe,f)},s.prototype.contrast=function(l,f){var I=(l||0)+1,ue=-.5*(I-1),se=[I,0,0,0,ue,0,I,0,0,ue,0,0,I,0,ue,0,0,0,1,0];this._loadMatrix(se,f)},s.prototype.saturate=function(l,f){l===void 0&&(l=0);var I=2*l/3+1,ue=-.5*(I-1),se=[I,ue,ue,0,0,ue,I,ue,0,0,ue,ue,I,0,0,0,0,0,1,0];this._loadMatrix(se,f)},s.prototype.desaturate=function(){this.saturate(-1)},s.prototype.negative=function(l){var f=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(f,l)},s.prototype.sepia=function(l){var f=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(f,l)},s.prototype.technicolor=function(l){var f=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(f,l)},s.prototype.polaroid=function(l){var f=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(f,l)},s.prototype.toBGR=function(l){var f=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(f,l)},s.prototype.kodachrome=function(l){var f=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(f,l)},s.prototype.browni=function(l){var f=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(f,l)},s.prototype.vintage=function(l){var f=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(f,l)},s.prototype.colorTone=function(l,f,I,ue,se){var Te=((I=I||16770432)>>16&255)/255,Pe=(I>>8&255)/255,we=(255&I)/255,Ue=((ue=ue||3375104)>>16&255)/255,Qe=(ue>>8&255)/255,it=(255&ue)/255,ze=[.3,.59,.11,0,0,Te,Pe,we,l=l||.2,0,Ue,Qe,it,f=f||.15,0,Te-Ue,Pe-Qe,we-it,0,0];this._loadMatrix(ze,se)},s.prototype.night=function(l,f){var I=[-2*(l=l||.1),-l,0,0,0,-l,0,l,0,0,0,l,2*l,0,0,0,0,0,1,0];this._loadMatrix(I,f)},s.prototype.predator=function(l,f){var I=[11.224130630493164*l,-4.794486999511719*l,-2.8746118545532227*l,0*l,.40342438220977783*l,-3.6330697536468506*l,9.193157196044922*l,-2.951810836791992*l,0*l,-1.316135048866272*l,-3.2184197902679443*l,-4.2375030517578125*l,7.476448059082031*l,0*l,.8044459223747253*l,0,0,0,1,0];this._loadMatrix(I,f)},s.prototype.lsd=function(l){var f=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(f,l)},s.prototype.reset=function(){var l=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(l,!1)},Object.defineProperty(s.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(l){this.uniforms.m=l},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(l){this.uniforms.uAlpha=l},enumerable:!1,configurable:!0}),s}(de.wn);rr.prototype.grayscale=rr.prototype.greyscale;var Oi=function(e,s){return Oi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var I in f)f.hasOwnProperty(I)&&(l[I]=f[I])},Oi(e,s)};function $i(e,s){function l(){this.constructor=e}Oi(e,s),e.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}var Wr=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,Rr=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`,vr=function(e){function s(l,f){var I=this,ue=new be.y3;return l.renderable=!1,(I=e.call(this,Rr,Wr,{mapSampler:l._texture,filterMatrix:ue,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=l,I.maskMatrix=ue,f==null&&(f=20),I.scale=new be.E9(f,f),I}return $i(s,e),s.prototype.apply=function(l,f,I,ue){this.uniforms.filterMatrix=l.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var se=this.maskSprite.worldTransform,Te=Math.sqrt(se.a*se.a+se.b*se.b),Pe=Math.sqrt(se.c*se.c+se.d*se.d);Te!==0&&Pe!==0&&(this.uniforms.rotation[0]=se.a/Te,this.uniforms.rotation[1]=se.b/Te,this.uniforms.rotation[2]=se.c/Pe,this.uniforms.rotation[3]=se.d/Pe),l.applyFilter(this,f,I,ue)},Object.defineProperty(s.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(l){this.uniforms.mapSampler=l},enumerable:!1,configurable:!0}),s}(de.wn),jn=function(e,s){return jn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var I in f)f.hasOwnProperty(I)&&(l[I]=f[I])},jn(e,s)};function Pr(e,s){function l(){this.constructor=e}jn(e,s),e.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}var Zr=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`,Or=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,Vr=function(e){function s(){return e.call(this,Zr,Or)||this}return Pr(s,e),s}(de.wn),mi=function(e,s){return mi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var I in f)f.hasOwnProperty(I)&&(l[I]=f[I])},mi(e,s)};function Sn(e,s){function l(){this.constructor=e}mi(e,s),e.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}var Ar,yr,br,xr,In,Cr,Mr,Dr,Nr,Lr,wn,Br,kr,Tr,ar,sr,Er,Ui,Sr,Wn=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`,_i=function(e){function s(l,f){l===void 0&&(l=.5),f===void 0&&(f=Math.random());var I=e.call(this,de.Y9,Wn,{uNoise:0,uSeed:0})||this;return I.noise=l,I.seed=f,I}return Sn(s,e),Object.defineProperty(s.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(l){this.uniforms.uNoise=l},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(l){this.uniforms.uSeed=l},enumerable:!1,configurable:!0}),s}(de.wn),fn=d(5510);(function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"})(Ar||(Ar={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(yr||(yr={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(br||(br={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(xr||(xr={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(In||(In={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(Cr||(Cr={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(Mr||(Mr={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(Dr||(Dr={})),function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"}(Nr||(Nr={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(Lr||(Lr={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(wn||(wn={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"}(Br||(Br={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(kr||(kr={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(Tr||(Tr={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(ar||(ar={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(sr||(sr={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(Er||(Er={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(Ui||(Ui={})),function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(Sr||(Sr={}));var Fr=new be.y3;E.s$.prototype._cacheAsBitmap=!1,E.s$.prototype._cacheData=null,E.s$.prototype._cacheAsBitmapResolution=null,E.s$.prototype._cacheAsBitmapMultisample=Ui.NONE;var Ur=function(){function e(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}return e}();Object.defineProperties(E.s$.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){var s;this._cacheAsBitmap!==e&&(this._cacheAsBitmap=e,e?(this._cacheData||(this._cacheData=new Ur),(s=this._cacheData).originalRender=this.render,s.originalRenderCanvas=this.renderCanvas,s.originalUpdateTransform=this.updateTransform,s.originalCalculateBounds=this.calculateBounds,s.originalGetLocalBounds=this.getLocalBounds,s.originalDestroy=this.destroy,s.originalContainsPoint=this.containsPoint,s.originalMask=this._mask,s.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((s=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=s.originalRender,this.renderCanvas=s.originalRenderCanvas,this.calculateBounds=s.originalCalculateBounds,this.getLocalBounds=s.originalGetLocalBounds,this.destroy=s.originalDestroy,this.updateTransform=s.originalUpdateTransform,this.containsPoint=s.originalContainsPoint,this._mask=s.originalMask,this.filterArea=s.originalFilterArea))}}}),E.s$.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},E.s$.prototype._initCachedDisplayObject=function(e){var s;if(!this._cacheData||!this._cacheData.sprite){var l=this.alpha;this.alpha=1,e.batch.flush();var f=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var I=this.filters[0].padding;f.pad(I)}f.ceil(ki.X.RESOLUTION);var ue=e.renderTexture.current,se=e.renderTexture.sourceFrame.clone(),Te=e.renderTexture.destinationFrame.clone(),Pe=e.projection.transform,we=de.TI.create({width:f.width,height:f.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:(s=this.cacheAsBitmapMultisample)!==null&&s!==void 0?s:e.multisample}),Ue="cacheAsBitmap_"+(0,O.uid)();this._cacheData.textureCacheId=Ue,de.VL.addToCache(we.baseTexture,Ue),de.xE.addToCache(we,Ue);var Qe=this.transform.localTransform.copyTo(Fr).invert().translate(-f.x,-f.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:we,clear:!0,transform:Qe,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=Pe,e.renderTexture.bind(ue,se,Te),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=l;var it=new fn.j(we);it.transform.worldTransform=this.transform.worldTransform,it.anchor.x=-f.x/f.width,it.anchor.y=-f.y/f.height,it.alpha=l,it._bounds=this._bounds,this._cacheData.sprite=it,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=it.containsPoint.bind(it)}},E.s$.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},E.s$.prototype._initCachedDisplayObjectCanvas=function(e){if(!this._cacheData||!this._cacheData.sprite){var s=this.getLocalBounds(null,!0),l=this.alpha;this.alpha=1;var f=e.context,I=e._projTransform;s.ceil(ki.X.RESOLUTION);var ue=de.TI.create({width:s.width,height:s.height}),se="cacheAsBitmap_"+(0,O.uid)();this._cacheData.textureCacheId=se,de.VL.addToCache(ue.baseTexture,se),de.xE.addToCache(ue,se);var Te=Fr;this.transform.localTransform.copyTo(Te),Te.invert(),Te.tx-=s.x,Te.ty-=s.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:ue,clear:!0,transform:Te,skipUpdateTransform:!1}),e.context=f,e._projTransform=I,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=l;var Pe=new fn.j(ue);Pe.transform.worldTransform=this.transform.worldTransform,Pe.anchor.x=-s.x/s.width,Pe.anchor.y=-s.y/s.height,Pe.alpha=l,Pe._bounds=this._bounds,this._cacheData.sprite=Pe,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=Pe.containsPoint.bind(Pe)}},E.s$.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},E.s$.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},E.s$.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,de.VL.removeFromCache(this._cacheData.textureCacheId),de.xE.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},E.s$.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)},E.s$.prototype.name=null,E.W2.prototype.getChildByName=function(e,s){for(var l=0,f=this.children.length;l<f;l++)if(this.children[l].name===e)return this.children[l];if(s){for(l=0,f=this.children.length;l<f;l++)if(this.children[l].getChildByName){var I=this.children[l].getChildByName(e,!0);if(I)return I}}return null},E.s$.prototype.getGlobalPosition=function(e,s){return e===void 0&&(e=new be.E9),s===void 0&&(s=!1),this.parent?this.parent.toGlobal(this.position,e,s):(e.x=this.position.x,e.y=this.position.y),e};var Ci=d(8838),Zi=d(9838),Yr=d(7584),Mi=function(e,s){return Mi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,f){l.__proto__=f}||function(l,f){for(var I in f)f.hasOwnProperty(I)&&(l[I]=f[I])},Mi(e,s)};function Gr(e,s){function l(){this.constructor=e}Mi(e,s),e.prototype=s===null?Object.create(s):(l.prototype=s.prototype,new l)}var or=function(e){function s(l,f){f===void 0&&(f=!0);var I=e.call(this,l[0]instanceof de.xE?l[0]:l[0].texture)||this;return I._textures=null,I._durations=null,I._autoUpdate=f,I._isConnectedToTicker=!1,I.animationSpeed=1,I.loop=!0,I.updateAnchor=!1,I.onComplete=null,I.onFrameChange=null,I.onLoop=null,I._currentTime=0,I._playing=!1,I._previousFrame=null,I.textures=l,I}return Gr(s,e),s.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Ie.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1))},s.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Ie.vB.shared.add(this.update,this,Ie.uF.HIGH),this._isConnectedToTicker=!0))},s.prototype.gotoAndStop=function(l){this.stop();var f=this.currentFrame;this._currentTime=l,f!==this.currentFrame&&this.updateTexture()},s.prototype.gotoAndPlay=function(l){var f=this.currentFrame;this._currentTime=l,f!==this.currentFrame&&this.updateTexture(),this.play()},s.prototype.update=function(l){if(this._playing){var f=this.animationSpeed*l,I=this.currentFrame;if(this._durations!==null){var ue=this._currentTime%1*this._durations[this.currentFrame];for(ue+=f/60*1e3;ue<0;)this._currentTime--,ue+=this._durations[this.currentFrame];var se=Math.sign(this.animationSpeed*l);for(this._currentTime=Math.floor(this._currentTime);ue>=this._durations[this.currentFrame];)ue-=this._durations[this.currentFrame]*se,this._currentTime+=se;this._currentTime+=ue/this._durations[this.currentFrame]}else this._currentTime+=f;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):I!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<I||this.animationSpeed<0&&this.currentFrame>I)&&this.onLoop(),this.updateTexture())}},s.prototype.updateTexture=function(){var l=this.currentFrame;this._previousFrame!==l&&(this._previousFrame=l,this._texture=this._textures[l],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},s.prototype.destroy=function(l){this.stop(),e.prototype.destroy.call(this,l),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},s.fromFrames=function(l){for(var f=[],I=0;I<l.length;++I)f.push(de.xE.from(l[I]));return new s(f)},s.fromImages=function(l){for(var f=[],I=0;I<l.length;++I)f.push(de.xE.from(l[I]));return new s(f)},Object.defineProperty(s.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"textures",{get:function(){return this._textures},set:function(l){if(l[0]instanceof de.xE)this._textures=l,this._durations=null;else{this._textures=[],this._durations=[];for(var f=0;f<l.length;f++)this._textures.push(l[f].texture),this._durations.push(l[f].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"currentFrame",{get:function(){var l=Math.floor(this._currentTime)%this._textures.length;return l<0&&(l+=this._textures.length),l},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(l){l!==this._autoUpdate&&(this._autoUpdate=l,!this._autoUpdate&&this._isConnectedToTicker?(Ie.vB.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Ie.vB.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),s}(fn.j);de.Th.registerPlugin("accessibility",ne),de.Th.registerPlugin("extract",We),de.Th.registerPlugin("interaction",Oe),de.Th.registerPlugin("particle",ln.P),de.Th.registerPlugin("prepare",Ii.B9),de.Th.registerPlugin("batch",de.Bv),de.Th.registerPlugin("tilingSprite",Ln.S),fe.registerPlugin(Ri),fe.registerPlugin(mn),fe.registerPlugin(yn),fe.registerPlugin(fi),fe.registerPlugin(Qn),ge.registerPlugin(Ie.Sb),ge.registerPlugin(Ne);var lr="6.3.0",zr={AlphaFilter:_r,BlurFilter:nr,BlurFilterPass:dn,ColorMatrixFilter:rr,DisplacementFilter:vr,FXAAFilter:Vr,NoiseFilter:_i}},1919:ye=>{function le(d,B){return Object.prototype.hasOwnProperty.call(d,B)}ye.exports=function(d,B,h,P){B=B||"&",h=h||"=";var W={};if(typeof d!="string"||d.length===0)return W;var z=/\+/g;d=d.split(B);var M=1e3;P&&typeof P.maxKeys=="number"&&(M=P.maxKeys);var R=d.length;M>0&&R>M&&(R=M);for(var F=0;F<R;++F){var Y,S,v,n,a=d[F].replace(z,"%20"),u=a.indexOf(h);u>=0?(Y=a.substr(0,u),S=a.substr(u+1)):(Y=a,S=""),v=decodeURIComponent(Y),n=decodeURIComponent(S),le(W,v)?Array.isArray(W[v])?W[v].push(n):W[v]=[W[v],n]:W[v]=n}return W}},3651:ye=>{var le=function(d){switch(typeof d){case"string":return d;case"boolean":return d?"true":"false";case"number":return isFinite(d)?d:"";default:return""}};ye.exports=function(d,B,h,P){return B=B||"&",h=h||"=",d===null&&(d=void 0),typeof d=="object"?Object.keys(d).map(function(W){var z=encodeURIComponent(le(W))+h;return Array.isArray(d[W])?d[W].map(function(M){return z+encodeURIComponent(le(M))}).join(B):z+encodeURIComponent(le(d[W]))}).join(B):P?encodeURIComponent(le(P))+h+encodeURIComponent(le(d)):""}},4709:(ye,le,d)=>{le.decode=le.parse=d(1919),le.encode=le.stringify=d(3651)},1088:(ye,le,d)=>{d.r(le),d.d(le,{__assign:()=>P,__asyncDelegator:()=>C,__asyncGenerator:()=>k,__asyncValues:()=>c,__await:()=>N,__awaiter:()=>F,__classPrivateFieldGet:()=>O,__classPrivateFieldIn:()=>J,__classPrivateFieldSet:()=>E,__createBinding:()=>S,__decorate:()=>z,__exportStar:()=>v,__extends:()=>h,__generator:()=>Y,__importDefault:()=>G,__importStar:()=>D,__makeTemplateObject:()=>x,__metadata:()=>R,__param:()=>M,__read:()=>a,__rest:()=>W,__spread:()=>u,__spreadArray:()=>w,__spreadArrays:()=>p,__values:()=>n});var B=function(q,K){return B=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,T){A.__proto__=T}||function(A,T){for(var y in T)Object.prototype.hasOwnProperty.call(T,y)&&(A[y]=T[y])},B(q,K)};function h(q,K){if(typeof K!="function"&&K!==null)throw new TypeError("Class extends value "+String(K)+" is not a constructor or null");function A(){this.constructor=q}B(q,K),q.prototype=K===null?Object.create(K):(A.prototype=K.prototype,new A)}var P=function(){return P=Object.assign||function(q){for(var K,A=1,T=arguments.length;A<T;A++)for(var y in K=arguments[A])Object.prototype.hasOwnProperty.call(K,y)&&(q[y]=K[y]);return q},P.apply(this,arguments)};function W(q,K){var A={};for(var T in q)Object.prototype.hasOwnProperty.call(q,T)&&K.indexOf(T)<0&&(A[T]=q[T]);if(q!=null&&typeof Object.getOwnPropertySymbols=="function"){var y=0;for(T=Object.getOwnPropertySymbols(q);y<T.length;y++)K.indexOf(T[y])<0&&Object.prototype.propertyIsEnumerable.call(q,T[y])&&(A[T[y]]=q[T[y]])}return A}function z(q,K,A,T){var y,L=arguments.length,j=L<3?K:T===null?T=Object.getOwnPropertyDescriptor(K,A):T;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")j=Reflect.decorate(q,K,A,T);else for(var Q=q.length-1;Q>=0;Q--)(y=q[Q])&&(j=(L<3?y(j):L>3?y(K,A,j):y(K,A))||j);return L>3&&j&&Object.defineProperty(K,A,j),j}function M(q,K){return function(A,T){K(A,T,q)}}function R(q,K){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(q,K)}function F(q,K,A,T){function y(L){return L instanceof A?L:new A(function(j){j(L)})}return new(A||(A=Promise))(function(L,j){function Q(be){try{ne(T.next(be))}catch(Ie){j(Ie)}}function ee(be){try{ne(T.throw(be))}catch(Ie){j(Ie)}}function ne(be){be.done?L(be.value):y(be.value).then(Q,ee)}ne((T=T.apply(q,K||[])).next())})}function Y(q,K){var A,T,y,L,j={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return L={next:Q(0),throw:Q(1),return:Q(2)},typeof Symbol=="function"&&(L[Symbol.iterator]=function(){return this}),L;function Q(ne){return function(be){return ee([ne,be])}}function ee(ne){if(A)throw new TypeError("Generator is already executing.");for(;L&&(L=0,ne[0]&&(j=0)),j;)try{if(A=1,T&&(y=2&ne[0]?T.return:ne[0]?T.throw||((y=T.return)&&y.call(T),0):T.next)&&!(y=y.call(T,ne[1])).done)return y;switch(T=0,y&&(ne=[2&ne[0],y.value]),ne[0]){case 0:case 1:y=ne;break;case 4:return j.label++,{value:ne[1],done:!1};case 5:j.label++,T=ne[1],ne=[0];continue;case 7:ne=j.ops.pop(),j.trys.pop();continue;default:if(y=j.trys,!((y=y.length>0&&y[y.length-1])||ne[0]!==6&&ne[0]!==2)){j=0;continue}if(ne[0]===3&&(!y||ne[1]>y[0]&&ne[1]<y[3])){j.label=ne[1];break}if(ne[0]===6&&j.label<y[1]){j.label=y[1],y=ne;break}if(y&&j.label<y[2]){j.label=y[2],j.ops.push(ne);break}y[2]&&j.ops.pop(),j.trys.pop();continue}ne=K.call(q,j)}catch(be){ne=[6,be],T=0}finally{A=y=0}if(5&ne[0])throw ne[1];return{value:ne[0]?ne[1]:void 0,done:!0}}}var S=Object.create?function(q,K,A,T){T===void 0&&(T=A);var y=Object.getOwnPropertyDescriptor(K,A);y&&!("get"in y?!K.__esModule:y.writable||y.configurable)||(y={enumerable:!0,get:function(){return K[A]}}),Object.defineProperty(q,T,y)}:function(q,K,A,T){T===void 0&&(T=A),q[T]=K[A]};function v(q,K){for(var A in q)A==="default"||Object.prototype.hasOwnProperty.call(K,A)||S(K,q,A)}function n(q){var K=typeof Symbol=="function"&&Symbol.iterator,A=K&&q[K],T=0;if(A)return A.call(q);if(q&&typeof q.length=="number")return{next:function(){return q&&T>=q.length&&(q=void 0),{value:q&&q[T++],done:!q}}};throw new TypeError(K?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(q,K){var A=typeof Symbol=="function"&&q[Symbol.iterator];if(!A)return q;var T,y,L=A.call(q),j=[];try{for(;(K===void 0||K-- >0)&&!(T=L.next()).done;)j.push(T.value)}catch(Q){y={error:Q}}finally{try{T&&!T.done&&(A=L.return)&&A.call(L)}finally{if(y)throw y.error}}return j}function u(){for(var q=[],K=0;K<arguments.length;K++)q=q.concat(a(arguments[K]));return q}function p(){for(var q=0,K=0,A=arguments.length;K<A;K++)q+=arguments[K].length;var T=Array(q),y=0;for(K=0;K<A;K++)for(var L=arguments[K],j=0,Q=L.length;j<Q;j++,y++)T[y]=L[j];return T}function w(q,K,A){if(A||arguments.length===2)for(var T,y=0,L=K.length;y<L;y++)!T&&y in K||(T||(T=Array.prototype.slice.call(K,0,y)),T[y]=K[y]);return q.concat(T||Array.prototype.slice.call(K))}function N(q){return this instanceof N?(this.v=q,this):new N(q)}function k(q,K,A){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var T,y=A.apply(q,K||[]),L=[];return T={},j("next"),j("throw"),j("return"),T[Symbol.asyncIterator]=function(){return this},T;function j(Ce){y[Ce]&&(T[Ce]=function(he){return new Promise(function(b,U){L.push([Ce,he,b,U])>1||Q(Ce,he)})})}function Q(Ce,he){try{ee(y[Ce](he))}catch(b){Ie(L[0][3],b)}}function ee(Ce){Ce.value instanceof N?Promise.resolve(Ce.value.v).then(ne,be):Ie(L[0][2],Ce)}function ne(Ce){Q("next",Ce)}function be(Ce){Q("throw",Ce)}function Ie(Ce,he){Ce(he),L.shift(),L.length&&Q(L[0][0],L[0][1])}}function C(q){var K,A;return K={},T("next"),T("throw",function(y){throw y}),T("return"),K[Symbol.iterator]=function(){return this},K;function T(y,L){K[y]=q[y]?function(j){return(A=!A)?{value:N(q[y](j)),done:y==="return"}:L?L(j):j}:L}}function c(q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var K,A=q[Symbol.asyncIterator];return A?A.call(q):(q=typeof n=="function"?n(q):q[Symbol.iterator](),K={},T("next"),T("throw"),T("return"),K[Symbol.asyncIterator]=function(){return this},K);function T(L){K[L]=q[L]&&function(j){return new Promise(function(Q,ee){y(Q,ee,(j=q[L](j)).done,j.value)})}}function y(L,j,Q,ee){Promise.resolve(ee).then(function(ne){L({value:ne,done:Q})},j)}}function x(q,K){return Object.defineProperty?Object.defineProperty(q,"raw",{value:K}):q.raw=K,q}var X=Object.create?function(q,K){Object.defineProperty(q,"default",{enumerable:!0,value:K})}:function(q,K){q.default=K};function D(q){if(q&&q.__esModule)return q;var K={};if(q!=null)for(var A in q)A!=="default"&&Object.prototype.hasOwnProperty.call(q,A)&&S(K,q,A);return X(K,q),K}function G(q){return q&&q.__esModule?q:{default:q}}function O(q,K,A,T){if(A==="a"&&!T)throw new TypeError("Private accessor was defined without a getter");if(typeof K=="function"?q!==K||!T:!K.has(q))throw new TypeError("Cannot read private member from an object whose class did not declare it");return A==="m"?T:A==="a"?T.call(q):T?T.value:K.get(q)}function E(q,K,A,T,y){if(T==="m")throw new TypeError("Private method is not writable");if(T==="a"&&!y)throw new TypeError("Private accessor was defined without a setter");if(typeof K=="function"?q!==K||!y:!K.has(q))throw new TypeError("Cannot write private member to an object whose class did not declare it");return T==="a"?y.call(q,A):y?y.value=A:K.set(q,A),A}function J(q,K){if(K===null||typeof K!="object"&&typeof K!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof q=="function"?K===q:q.has(K)}},9079:function(ye,le,d){var B;ye=d.nmd(ye),function(h){le&&le.nodeType,ye&&ye.nodeType;var P=typeof d.g=="object"&&d.g;P.global!==P&&P.window!==P&&P.self;var W,z=2147483647,M=36,R=1,F=26,Y=38,S=700,v=72,n=128,a="-",u=/^xn--/,p=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,N={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},k=M-R,C=Math.floor,c=String.fromCharCode;function x(L){throw RangeError(N[L])}function X(L,j){for(var Q=L.length,ee=[];Q--;)ee[Q]=j(L[Q]);return ee}function D(L,j){var Q=L.split("@"),ee="";return Q.length>1&&(ee=Q[0]+"@",L=Q[1]),ee+X((L=L.replace(w,".")).split("."),j).join(".")}function G(L){for(var j,Q,ee=[],ne=0,be=L.length;ne<be;)(j=L.charCodeAt(ne++))>=55296&&j<=56319&&ne<be?(64512&(Q=L.charCodeAt(ne++)))==56320?ee.push(((1023&j)<<10)+(1023&Q)+65536):(ee.push(j),ne--):ee.push(j);return ee}function O(L){return X(L,function(j){var Q="";return j>65535&&(Q+=c((j-=65536)>>>10&1023|55296),j=56320|1023&j),Q+=c(j)}).join("")}function E(L){return L-48<10?L-22:L-65<26?L-65:L-97<26?L-97:M}function J(L,j){return L+22+75*(L<26)-((j!=0)<<5)}function q(L,j,Q){var ee=0;for(L=Q?C(L/S):L>>1,L+=C(L/j);L>k*F>>1;ee+=M)L=C(L/k);return C(ee+(k+1)*L/(L+Y))}function K(L){var j,Q,ee,ne,be,Ie,Ce,he,b,U,V=[],te=L.length,re=0,ae=n,_e=v;for((Q=L.lastIndexOf(a))<0&&(Q=0),ee=0;ee<Q;++ee)L.charCodeAt(ee)>=128&&x("not-basic"),V.push(L.charCodeAt(ee));for(ne=Q>0?Q+1:0;ne<te;){for(be=re,Ie=1,Ce=M;ne>=te&&x("invalid-input"),((he=E(L.charCodeAt(ne++)))>=M||he>C((z-re)/Ie))&&x("overflow"),re+=he*Ie,!(he<(b=Ce<=_e?R:Ce>=_e+F?F:Ce-_e));Ce+=M)Ie>C(z/(U=M-b))&&x("overflow"),Ie*=U;_e=q(re-be,j=V.length+1,be==0),C(re/j)>z-ae&&x("overflow"),ae+=C(re/j),re%=j,V.splice(re++,0,ae)}return O(V)}function A(L){var j,Q,ee,ne,be,Ie,Ce,he,b,U,V,te,re,ae,_e,Oe=[];for(te=(L=G(L)).length,j=n,Q=0,be=v,Ie=0;Ie<te;++Ie)(V=L[Ie])<128&&Oe.push(c(V));for(ee=ne=Oe.length,ne&&Oe.push(a);ee<te;){for(Ce=z,Ie=0;Ie<te;++Ie)(V=L[Ie])>=j&&V<Ce&&(Ce=V);for(Ce-j>C((z-Q)/(re=ee+1))&&x("overflow"),Q+=(Ce-j)*re,j=Ce,Ie=0;Ie<te;++Ie)if((V=L[Ie])<j&&++Q>z&&x("overflow"),V==j){for(he=Q,b=M;!(he<(U=b<=be?R:b>=be+F?F:b-be));b+=M)_e=he-U,ae=M-U,Oe.push(c(J(U+_e%ae,0))),he=C(_e/ae);Oe.push(c(J(he,0))),be=q(Q,re,ee==ne),Q=0,++ee}++Q,++j}return Oe.join("")}function T(L){return D(L,function(j){return u.test(j)?K(j.slice(4).toLowerCase()):j})}function y(L){return D(L,function(j){return p.test(j)?"xn--"+A(j):j})}W={version:"1.3.2",ucs2:{decode:G,encode:O},decode:K,encode:A,toASCII:y,toUnicode:T},(B=(function(){return W}).call(le,d,le,ye))===void 0||(ye.exports=B)}()},1096:(ye,le,d)=>{var B=d(9079),h=d(1046);function P(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}le.Qc=k,le.DB=c,le.WU=C;var W=/^([a-z0-9.+-]+:)/i,z=/:[0-9]*$/,M=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,R=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r",`
`,"	"]),F=["'"].concat(R),Y=["%","/","?",";","#"].concat(F),S=["/","?","#"],v=255,n=/^[+a-z0-9A-Z_-]{0,63}$/,a=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,u={javascript:!0,"javascript:":!0},p={javascript:!0,"javascript:":!0},w={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},N=d(4709);function k(x,X,D){if(x&&h.isObject(x)&&x instanceof P)return x;var G=new P;return G.parse(x,X,D),G}function C(x){return h.isString(x)&&(x=k(x)),x instanceof P?x.format():P.prototype.format.call(x)}function c(x,X){return k(x,!1,!0).resolve(X)}P.prototype.parse=function(x,X,D){if(!h.isString(x))throw new TypeError("Parameter 'url' must be a string, not "+typeof x);var G=x.indexOf("?"),O=G!==-1&&G<x.indexOf("#")?"?":"#",E=x.split(O),J=/\\/g;E[0]=E[0].replace(J,"/");var q=x=E.join(O);if(q=q.trim(),!D&&x.split("#").length===1){var K=M.exec(q);if(K)return this.path=q,this.href=q,this.pathname=K[1],K[2]?(this.search=K[2],this.query=X?N.parse(this.search.substr(1)):this.search.substr(1)):X&&(this.search="",this.query={}),this}var A=W.exec(q);if(A){var T=(A=A[0]).toLowerCase();this.protocol=T,q=q.substr(A.length)}if(D||A||q.match(/^\/\/[^@\/]+@[^@\/]+/)){var y=q.substr(0,2)==="//";!y||A&&p[A]||(q=q.substr(2),this.slashes=!0)}if(!p[A]&&(y||A&&!w[A])){for(var L,j,Q=-1,ee=0;ee<S.length;ee++)(ne=q.indexOf(S[ee]))!==-1&&(Q===-1||ne<Q)&&(Q=ne);for((j=Q===-1?q.lastIndexOf("@"):q.lastIndexOf("@",Q))!==-1&&(L=q.slice(0,j),q=q.slice(j+1),this.auth=decodeURIComponent(L)),Q=-1,ee=0;ee<Y.length;ee++){var ne;(ne=q.indexOf(Y[ee]))!==-1&&(Q===-1||ne<Q)&&(Q=ne)}Q===-1&&(Q=q.length),this.host=q.slice(0,Q),q=q.slice(Q),this.parseHost(),this.hostname=this.hostname||"";var be=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!be)for(var Ie=this.hostname.split(/\./),Ce=(ee=0,Ie.length);ee<Ce;ee++){var he=Ie[ee];if(he&&!he.match(n)){for(var b="",U=0,V=he.length;U<V;U++)he.charCodeAt(U)>127?b+="x":b+=he[U];if(!b.match(n)){var te=Ie.slice(0,ee),re=Ie.slice(ee+1),ae=he.match(a);ae&&(te.push(ae[1]),re.unshift(ae[2])),re.length&&(q="/"+re.join(".")+q),this.hostname=te.join(".");break}}}this.hostname.length>v?this.hostname="":this.hostname=this.hostname.toLowerCase(),be||(this.hostname=B.toASCII(this.hostname));var _e=this.port?":"+this.port:"",Oe=this.hostname||"";this.host=Oe+_e,this.href+=this.host,be&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),q[0]!=="/"&&(q="/"+q))}if(!u[T])for(ee=0,Ce=F.length;ee<Ce;ee++){var de=F[ee];if(q.indexOf(de)!==-1){var ge=encodeURIComponent(de);ge===de&&(ge=escape(de)),q=q.split(de).join(ge)}}var Ae=q.indexOf("#");Ae!==-1&&(this.hash=q.substr(Ae),q=q.slice(0,Ae));var xe=q.indexOf("?");if(xe!==-1?(this.search=q.substr(xe),this.query=q.substr(xe+1),X&&(this.query=N.parse(this.query)),q=q.slice(0,xe)):X&&(this.search="",this.query={}),q&&(this.pathname=q),w[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){_e=this.pathname||"";var Be=this.search||"";this.path=_e+Be}return this.href=this.format(),this},P.prototype.format=function(){var x=this.auth||"";x&&(x=(x=encodeURIComponent(x)).replace(/%3A/i,":"),x+="@");var X=this.protocol||"",D=this.pathname||"",G=this.hash||"",O=!1,E="";this.host?O=x+this.host:this.hostname&&(O=x+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(O+=":"+this.port)),this.query&&h.isObject(this.query)&&Object.keys(this.query).length&&(E=N.stringify(this.query));var J=this.search||E&&"?"+E||"";return X&&X.substr(-1)!==":"&&(X+=":"),this.slashes||(!X||w[X])&&O!==!1?(O="//"+(O||""),D&&D.charAt(0)!=="/"&&(D="/"+D)):O||(O=""),G&&G.charAt(0)!=="#"&&(G="#"+G),J&&J.charAt(0)!=="?"&&(J="?"+J),X+O+(D=D.replace(/[?#]/g,function(q){return encodeURIComponent(q)}))+(J=J.replace("#","%23"))+G},P.prototype.resolve=function(x){return this.resolveObject(k(x,!1,!0)).format()},P.prototype.resolveObject=function(x){if(h.isString(x)){var X=new P;X.parse(x,!1,!0),x=X}for(var D=new P,G=Object.keys(this),O=0;O<G.length;O++){var E=G[O];D[E]=this[E]}if(D.hash=x.hash,x.href==="")return D.href=D.format(),D;if(x.slashes&&!x.protocol){for(var J=Object.keys(x),q=0;q<J.length;q++){var K=J[q];K!=="protocol"&&(D[K]=x[K])}return w[D.protocol]&&D.hostname&&!D.pathname&&(D.path=D.pathname="/"),D.href=D.format(),D}if(x.protocol&&x.protocol!==D.protocol){if(!w[x.protocol]){for(var A=Object.keys(x),T=0;T<A.length;T++){var y=A[T];D[y]=x[y]}return D.href=D.format(),D}if(D.protocol=x.protocol,x.host||p[x.protocol])D.pathname=x.pathname;else{for(var L=(x.pathname||"").split("/");L.length&&!(x.host=L.shift()););x.host||(x.host=""),x.hostname||(x.hostname=""),L[0]!==""&&L.unshift(""),L.length<2&&L.unshift(""),D.pathname=L.join("/")}if(D.search=x.search,D.query=x.query,D.host=x.host||"",D.auth=x.auth,D.hostname=x.hostname||x.host,D.port=x.port,D.pathname||D.search){var j=D.pathname||"",Q=D.search||"";D.path=j+Q}return D.slashes=D.slashes||x.slashes,D.href=D.format(),D}var ee=D.pathname&&D.pathname.charAt(0)==="/",ne=x.host||x.pathname&&x.pathname.charAt(0)==="/",be=ne||ee||D.host&&x.pathname,Ie=be,Ce=D.pathname&&D.pathname.split("/")||[],he=(L=x.pathname&&x.pathname.split("/")||[],D.protocol&&!w[D.protocol]);if(he&&(D.hostname="",D.port=null,D.host&&(Ce[0]===""?Ce[0]=D.host:Ce.unshift(D.host)),D.host="",x.protocol&&(x.hostname=null,x.port=null,x.host&&(L[0]===""?L[0]=x.host:L.unshift(x.host)),x.host=null),be=be&&(L[0]===""||Ce[0]==="")),ne)D.host=x.host||x.host===""?x.host:D.host,D.hostname=x.hostname||x.hostname===""?x.hostname:D.hostname,D.search=x.search,D.query=x.query,Ce=L;else if(L.length)Ce||(Ce=[]),Ce.pop(),Ce=Ce.concat(L),D.search=x.search,D.query=x.query;else if(!h.isNullOrUndefined(x.search))return he&&(D.hostname=D.host=Ce.shift(),(re=!!(D.host&&D.host.indexOf("@")>0)&&D.host.split("@"))&&(D.auth=re.shift(),D.host=D.hostname=re.shift())),D.search=x.search,D.query=x.query,h.isNull(D.pathname)&&h.isNull(D.search)||(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.href=D.format(),D;if(!Ce.length)return D.pathname=null,D.search?D.path="/"+D.search:D.path=null,D.href=D.format(),D;for(var b=Ce.slice(-1)[0],U=(D.host||x.host||Ce.length>1)&&(b==="."||b==="..")||b==="",V=0,te=Ce.length;te>=0;te--)(b=Ce[te])==="."?Ce.splice(te,1):b===".."?(Ce.splice(te,1),V++):V&&(Ce.splice(te,1),V--);if(!be&&!Ie)for(;V--;V)Ce.unshift("..");!be||Ce[0]===""||Ce[0]&&Ce[0].charAt(0)==="/"||Ce.unshift(""),U&&Ce.join("/").substr(-1)!=="/"&&Ce.push("");var re,ae=Ce[0]===""||Ce[0]&&Ce[0].charAt(0)==="/";return he&&(D.hostname=D.host=ae?"":Ce.length?Ce.shift():"",(re=!!(D.host&&D.host.indexOf("@")>0)&&D.host.split("@"))&&(D.auth=re.shift(),D.host=D.hostname=re.shift())),(be=be||D.host&&Ce.length)&&!ae&&Ce.unshift(""),Ce.length?D.pathname=Ce.join("/"):(D.pathname=null,D.path=null),h.isNull(D.pathname)&&h.isNull(D.search)||(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.auth=x.auth||D.auth,D.slashes=D.slashes||x.slashes,D.href=D.format(),D},P.prototype.parseHost=function(){var x=this.host,X=z.exec(x);X&&((X=X[0])!==":"&&(this.port=X.substr(1)),x=x.substr(0,x.length-X.length)),x&&(this.hostname=x)}},1046:ye=>{ye.exports={isString:function(le){return typeof le=="string"},isObject:function(le){return typeof le=="object"&&le!==null},isNull:function(le){return le===null},isNullOrUndefined:function(le){return le==null}}},4852:function(ye,le){(function(){function d(oe,Se,ke){return oe.call.apply(oe.bind,arguments)}function B(oe,Se,ke){if(!oe)throw Error();if(2<arguments.length){var De=Array.prototype.slice.call(arguments,2);return function(){var Ke=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Ke,De),oe.apply(Se,Ke)}}return function(){return oe.apply(Se,arguments)}}function h(oe,Se,ke){return(h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:B).apply(null,arguments)}var P=Date.now||function(){return+new Date};function W(oe,Se){this.a=oe,this.o=Se||oe,this.c=this.o.document}var z=!!window.FontFace;function M(oe,Se,ke,De){if(Se=oe.c.createElement(Se),ke)for(var Ke in ke)ke.hasOwnProperty(Ke)&&(Ke=="style"?Se.style.cssText=ke[Ke]:Se.setAttribute(Ke,ke[Ke]));return De&&Se.appendChild(oe.c.createTextNode(De)),Se}function R(oe,Se,ke){(oe=oe.c.getElementsByTagName(Se)[0])||(oe=document.documentElement),oe.insertBefore(ke,oe.lastChild)}function F(oe){oe.parentNode&&oe.parentNode.removeChild(oe)}function Y(oe,Se,ke){Se=Se||[],ke=ke||[];for(var De=oe.className.split(/\s+/),Ke=0;Ke<Se.length;Ke+=1){for(var Ve=!1,Je=0;Je<De.length;Je+=1)if(Se[Ke]===De[Je]){Ve=!0;break}Ve||De.push(Se[Ke])}for(Se=[],Ke=0;Ke<De.length;Ke+=1){for(Ve=!1,Je=0;Je<ke.length;Je+=1)if(De[Ke]===ke[Je]){Ve=!0;break}Ve||Se.push(De[Ke])}oe.className=Se.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function S(oe,Se){for(var ke=oe.className.split(/\s+/),De=0,Ke=ke.length;De<Ke;De++)if(ke[De]==Se)return!0;return!1}function v(oe){return oe.o.location.hostname||oe.a.location.hostname}function n(oe,Se,ke){function De(){pt&&Ke&&Ve&&(pt(Je),pt=null)}Se=M(oe,"link",{rel:"stylesheet",href:Se,media:"all"});var Ke=!1,Ve=!0,Je=null,pt=ke||null;z?(Se.onload=function(){Ke=!0,De()},Se.onerror=function(){Ke=!0,Je=Error("Stylesheet failed to load"),De()}):setTimeout(function(){Ke=!0,De()},0),R(oe,"head",Se)}function a(oe,Se,ke,De){var Ke=oe.c.getElementsByTagName("head")[0];if(Ke){var Ve=M(oe,"script",{src:Se}),Je=!1;return Ve.onload=Ve.onreadystatechange=function(){Je||this.readyState&&this.readyState!="loaded"&&this.readyState!="complete"||(Je=!0,ke&&ke(null),Ve.onload=Ve.onreadystatechange=null,Ve.parentNode.tagName=="HEAD"&&Ke.removeChild(Ve))},Ke.appendChild(Ve),setTimeout(function(){Je||(Je=!0,ke&&ke(Error("Script load timeout")))},De||5e3),Ve}return null}function u(){this.a=0,this.c=null}function p(oe){return oe.a++,function(){oe.a--,N(oe)}}function w(oe,Se){oe.c=Se,N(oe)}function N(oe){oe.a==0&&oe.c&&(oe.c(),oe.c=null)}function k(oe){this.a=oe||"-"}function C(oe,Se){this.c=oe,this.f=4,this.a="n";var ke=(Se||"n4").match(/^([nio])([1-9])$/i);ke&&(this.a=ke[1],this.f=parseInt(ke[2],10))}function c(oe){return D(oe)+" "+oe.f+"00 300px "+x(oe.c)}function x(oe){var Se=[];oe=oe.split(/,\s*/);for(var ke=0;ke<oe.length;ke++){var De=oe[ke].replace(/['"]/g,"");De.indexOf(" ")!=-1||/^\d/.test(De)?Se.push("'"+De+"'"):Se.push(De)}return Se.join(",")}function X(oe){return oe.a+oe.f}function D(oe){var Se="normal";return oe.a==="o"?Se="oblique":oe.a==="i"&&(Se="italic"),Se}function G(oe){var Se=4,ke="n",De=null;return oe&&((De=oe.match(/(normal|oblique|italic)/i))&&De[1]&&(ke=De[1].substr(0,1).toLowerCase()),(De=oe.match(/([1-9]00|normal|bold)/i))&&De[1]&&(/bold/i.test(De[1])?Se=7:/[1-9]00/.test(De[1])&&(Se=parseInt(De[1].substr(0,1),10)))),ke+Se}function O(oe,Se){this.c=oe,this.f=oe.o.document.documentElement,this.h=Se,this.a=new k("-"),this.j=Se.events!==!1,this.g=Se.classes!==!1}function E(oe){oe.g&&Y(oe.f,[oe.a.c("wf","loading")]),q(oe,"loading")}function J(oe){if(oe.g){var Se=S(oe.f,oe.a.c("wf","active")),ke=[],De=[oe.a.c("wf","loading")];Se||ke.push(oe.a.c("wf","inactive")),Y(oe.f,ke,De)}q(oe,"inactive")}function q(oe,Se,ke){oe.j&&oe.h[Se]&&(ke?oe.h[Se](ke.c,X(ke)):oe.h[Se]())}function K(){this.c={}}function A(oe,Se,ke){var De,Ke=[];for(De in Se)if(Se.hasOwnProperty(De)){var Ve=oe.c[De];Ve&&Ke.push(Ve(Se[De],ke))}return Ke}function T(oe,Se){this.c=oe,this.f=Se,this.a=M(this.c,"span",{"aria-hidden":"true"},this.f)}function y(oe){R(oe.c,"body",oe.a)}function L(oe){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+x(oe.c)+";font-style:"+D(oe)+";font-weight:"+oe.f+"00;"}function j(oe,Se,ke,De,Ke,Ve){this.g=oe,this.j=Se,this.a=De,this.c=ke,this.f=Ke||3e3,this.h=Ve||void 0}function Q(oe,Se,ke,De,Ke,Ve,Je){this.v=oe,this.B=Se,this.c=ke,this.a=De,this.s=Je||"BESbswy",this.f={},this.w=Ke||3e3,this.u=Ve||null,this.m=this.j=this.h=this.g=null,this.g=new T(this.c,this.s),this.h=new T(this.c,this.s),this.j=new T(this.c,this.s),this.m=new T(this.c,this.s),oe=L(oe=new C(this.a.c+",serif",X(this.a))),this.g.a.style.cssText=oe,oe=L(oe=new C(this.a.c+",sans-serif",X(this.a))),this.h.a.style.cssText=oe,oe=L(oe=new C("serif",X(this.a))),this.j.a.style.cssText=oe,oe=L(oe=new C("sans-serif",X(this.a))),this.m.a.style.cssText=oe,y(this.g),y(this.h),y(this.j),y(this.m)}k.prototype.c=function(oe){for(var Se=[],ke=0;ke<arguments.length;ke++)Se.push(arguments[ke].replace(/[\W_]+/g,"").toLowerCase());return Se.join(this.a)},j.prototype.start=function(){var oe=this.c.o.document,Se=this,ke=P(),De=new Promise(function(Je,pt){function Et(){P()-ke>=Se.f?pt():oe.fonts.load(c(Se.a),Se.h).then(function(Fe){1<=Fe.length?Je():setTimeout(Et,25)},function(){pt()})}Et()}),Ke=null,Ve=new Promise(function(Je,pt){Ke=setTimeout(pt,Se.f)});Promise.race([Ve,De]).then(function(){Ke&&(clearTimeout(Ke),Ke=null),Se.g(Se.a)},function(){Se.j(Se.a)})};var ee={D:"serif",C:"sans-serif"},ne=null;function be(){if(ne===null){var oe=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);ne=!!oe&&(536>parseInt(oe[1],10)||parseInt(oe[1],10)===536&&11>=parseInt(oe[2],10))}return ne}function Ie(oe,Se,ke){for(var De in ee)if(ee.hasOwnProperty(De)&&Se===oe.f[ee[De]]&&ke===oe.f[ee[De]])return!0;return!1}function Ce(oe){var Se,ke=oe.g.a.offsetWidth,De=oe.h.a.offsetWidth;(Se=ke===oe.f.serif&&De===oe.f["sans-serif"])||(Se=be()&&Ie(oe,ke,De)),Se?P()-oe.A>=oe.w?be()&&Ie(oe,ke,De)&&(oe.u===null||oe.u.hasOwnProperty(oe.a.c))?b(oe,oe.v):b(oe,oe.B):he(oe):b(oe,oe.v)}function he(oe){setTimeout(h(function(){Ce(this)},oe),50)}function b(oe,Se){setTimeout(h(function(){F(this.g.a),F(this.h.a),F(this.j.a),F(this.m.a),Se(this.a)},oe),0)}function U(oe,Se,ke){this.c=oe,this.a=Se,this.f=0,this.m=this.j=!1,this.s=ke}Q.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=P(),Ce(this)};var V=null;function te(oe){--oe.f==0&&oe.j&&(oe.m?((oe=oe.a).g&&Y(oe.f,[oe.a.c("wf","active")],[oe.a.c("wf","loading"),oe.a.c("wf","inactive")]),q(oe,"active")):J(oe.a))}function re(oe){this.j=oe,this.a=new K,this.h=0,this.f=this.g=!0}function ae(oe,Se,ke,De,Ke){var Ve=--oe.h==0;(oe.f||oe.g)&&setTimeout(function(){var Je=Ke||null,pt=De||{};if(ke.length===0&&Ve)J(Se.a);else{Se.f+=ke.length,Ve&&(Se.j=Ve);var Et,Fe=[];for(Et=0;Et<ke.length;Et++){var fe=ke[Et],Ne=pt[fe.c],Ge=Se.a,Ze=fe;if(Ge.g&&Y(Ge.f,[Ge.a.c("wf",Ze.c,X(Ze).toString(),"loading")]),q(Ge,"fontloading",Ze),Ge=null,V===null)if(window.FontFace){Ze=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var ot=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);V=Ze?42<parseInt(Ze[1],10):!ot}else V=!1;Ge=V?new j(h(Se.g,Se),h(Se.h,Se),Se.c,fe,Se.s,Ne):new Q(h(Se.g,Se),h(Se.h,Se),Se.c,fe,Se.s,Je,Ne),Fe.push(Ge)}for(Et=0;Et<Fe.length;Et++)Fe[Et].start()}},0)}function _e(oe,Se,ke){var De=[],Ke=ke.timeout;E(Se),De=A(oe.a,ke,oe.c);var Ve=new U(oe.c,Se,Ke);for(oe.h=De.length,Se=0,ke=De.length;Se<ke;Se++)De[Se].load(function(Je,pt,Et){ae(oe,Ve,Je,pt,Et)})}function Oe(oe,Se){this.c=oe,this.a=Se}function de(oe,Se){this.c=oe,this.a=Se}function ge(oe,Se){this.c=oe||Ae,this.a=[],this.f=[],this.g=Se||""}U.prototype.g=function(oe){var Se=this.a;Se.g&&Y(Se.f,[Se.a.c("wf",oe.c,X(oe).toString(),"active")],[Se.a.c("wf",oe.c,X(oe).toString(),"loading"),Se.a.c("wf",oe.c,X(oe).toString(),"inactive")]),q(Se,"fontactive",oe),this.m=!0,te(this)},U.prototype.h=function(oe){var Se=this.a;if(Se.g){var ke=S(Se.f,Se.a.c("wf",oe.c,X(oe).toString(),"active")),De=[],Ke=[Se.a.c("wf",oe.c,X(oe).toString(),"loading")];ke||De.push(Se.a.c("wf",oe.c,X(oe).toString(),"inactive")),Y(Se.f,De,Ke)}q(Se,"fontinactive",oe),te(this)},re.prototype.load=function(oe){this.c=new W(this.j,oe.context||this.j),this.g=oe.events!==!1,this.f=oe.classes!==!1,_e(this,new O(this.c,oe),oe)},Oe.prototype.load=function(oe){function Se(){if(Ve["__mti_fntLst"+De]){var Je,pt=Ve["__mti_fntLst"+De](),Et=[];if(pt)for(var Fe=0;Fe<pt.length;Fe++){var fe=pt[Fe].fontfamily;pt[Fe].fontStyle!=null&&pt[Fe].fontWeight!=null?(Je=pt[Fe].fontStyle+pt[Fe].fontWeight,Et.push(new C(fe,Je))):Et.push(new C(fe))}oe(Et)}else setTimeout(function(){Se()},50)}var ke=this,De=ke.a.projectId,Ke=ke.a.version;if(De){var Ve=ke.c.o;a(this.c,(ke.a.api||"https://fast.fonts.net/jsapi")+"/"+De+".js"+(Ke?"?v="+Ke:""),function(Je){Je?oe([]):(Ve["__MonotypeConfiguration__"+De]=function(){return ke.a},Se())}).id="__MonotypeAPIScript__"+De}else oe([])},de.prototype.load=function(oe){var Se,ke,De=this.a.urls||[],Ke=this.a.families||[],Ve=this.a.testStrings||{},Je=new u;for(Se=0,ke=De.length;Se<ke;Se++)n(this.c,De[Se],p(Je));var pt=[];for(Se=0,ke=Ke.length;Se<ke;Se++)if((De=Ke[Se].split(":"))[1])for(var Et=De[1].split(","),Fe=0;Fe<Et.length;Fe+=1)pt.push(new C(De[0],Et[Fe]));else pt.push(new C(De[0]));w(Je,function(){oe(pt,Ve)})};var Ae="https://fonts.googleapis.com/css";function xe(oe,Se){for(var ke=Se.length,De=0;De<ke;De++){var Ke=Se[De].split(":");Ke.length==3&&oe.f.push(Ke.pop());var Ve="";Ke.length==2&&Ke[1]!=""&&(Ve=":"),oe.a.push(Ke.join(Ve))}}function Be(oe){if(oe.a.length==0)throw Error("No fonts to load!");if(oe.c.indexOf("kit=")!=-1)return oe.c;for(var Se=oe.a.length,ke=[],De=0;De<Se;De++)ke.push(oe.a[De].replace(/ /g,"+"));return Se=oe.c+"?family="+ke.join("%7C"),0<oe.f.length&&(Se+="&subset="+oe.f.join(",")),0<oe.g.length&&(Se+="&text="+encodeURIComponent(oe.g)),Se}function We(oe){this.f=oe,this.a=[],this.c={}}var qe={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},tt={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},vt={i:"i",italic:"i",n:"n",normal:"n"},yt=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function rt(oe){for(var Se=oe.f.length,ke=0;ke<Se;ke++){var De=oe.f[ke].split(":"),Ke=De[0].replace(/\+/g," "),Ve=["n4"];if(2<=De.length){var Je;if(Je=[],pt=De[1])for(var pt,Et=(pt=pt.split(",")).length,Fe=0;Fe<Et;Fe++){var fe;if((fe=pt[Fe]).match(/^[\w-]+$/))if((Ge=yt.exec(fe.toLowerCase()))==null)fe="";else{if(fe=(fe=Ge[2])==null||fe==""?"n":vt[fe],(Ge=Ge[1])==null||Ge=="")Ge="4";else var Ne=tt[Ge],Ge=Ne||(isNaN(Ge)?"4":Ge.substr(0,1));fe=[fe,Ge].join("")}else fe="";fe&&Je.push(fe)}0<Je.length&&(Ve=Je),De.length==3&&(Je=[],0<(De=(De=De[2])?De.split(","):Je).length&&(De=qe[De[0]])&&(oe.c[Ke]=De))}for(oe.c[Ke]||(De=qe[Ke])&&(oe.c[Ke]=De),De=0;De<Ve.length;De+=1)oe.a.push(new C(Ke,Ve[De]))}}function mt(oe,Se){this.c=oe,this.a=Se}var Ee={Arimo:!0,Cousine:!0,Tinos:!0};function je(oe,Se){this.c=oe,this.a=Se}function jt(oe,Se){this.c=oe,this.f=Se,this.a=[]}mt.prototype.load=function(oe){var Se=new u,ke=this.c,De=new ge(this.a.api,this.a.text),Ke=this.a.families;xe(De,Ke);var Ve=new We(Ke);rt(Ve),n(ke,Be(De),p(Se)),w(Se,function(){oe(Ve.a,Ve.c,Ee)})},je.prototype.load=function(oe){var Se=this.a.id,ke=this.c.o;Se?a(this.c,(this.a.api||"https://use.typekit.net")+"/"+Se+".js",function(De){if(De)oe([]);else if(ke.Typekit&&ke.Typekit.config&&ke.Typekit.config.fn){De=ke.Typekit.config.fn;for(var Ke=[],Ve=0;Ve<De.length;Ve+=2)for(var Je=De[Ve],pt=De[Ve+1],Et=0;Et<pt.length;Et++)Ke.push(new C(Je,pt[Et]));try{ke.Typekit.load({events:!1,classes:!1,async:!0})}catch{}oe(Ke)}},2e3):oe([])},jt.prototype.load=function(oe){var Se=this.f.id,ke=this.c.o,De=this;Se?(ke.__webfontfontdeckmodule__||(ke.__webfontfontdeckmodule__={}),ke.__webfontfontdeckmodule__[Se]=function(Ke,Ve){for(var Je=0,pt=Ve.fonts.length;Je<pt;++Je){var Et=Ve.fonts[Je];De.a.push(new C(Et.name,G("font-weight:"+Et.weight+";font-style:"+Et.style)))}oe(De.a)},a(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+v(this.c)+"/"+Se+".js",function(Ke){Ke&&oe([])})):oe([])};var Ut=new re(window);Ut.a.c.custom=function(oe,Se){return new de(Se,oe)},Ut.a.c.fontdeck=function(oe,Se){return new jt(Se,oe)},Ut.a.c.monotype=function(oe,Se){return new Oe(Se,oe)},Ut.a.c.typekit=function(oe,Se){return new je(Se,oe)},Ut.a.c.google=function(oe,Se){return new mt(Se,oe)};var ft={load:h(Ut.load,Ut)};typeof define=="function"&&define.amd?define(function(){return ft}):ye!==void 0&&ye.exports?ye.exports=ft:(window.WebFont=ft,window.WebFontConfig&&Ut.load(window.WebFontConfig))})()},6426:(ye,le,d)=>{var B=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||B!==void 0&&B,h={searchParams:"URLSearchParams"in B,iterable:"Symbol"in B&&"iterator"in Symbol,blob:"FileReader"in B&&"Blob"in B&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in B,arrayBuffer:"ArrayBuffer"in B};function P(E){return E&&DataView.prototype.isPrototypeOf(E)}if(h.arrayBuffer)var W=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],z=ArrayBuffer.isView||function(E){return E&&W.indexOf(Object.prototype.toString.call(E))>-1};function M(E){if(typeof E!="string"&&(E=String(E)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(E)||E==="")throw new TypeError('Invalid character in header field name: "'+E+'"');return E.toLowerCase()}function R(E){return typeof E!="string"&&(E=String(E)),E}function F(E){var J={next:function(){var q=E.shift();return{done:q===void 0,value:q}}};return h.iterable&&(J[Symbol.iterator]=function(){return J}),J}function Y(E){this.map={},E instanceof Y?E.forEach(function(J,q){this.append(q,J)},this):Array.isArray(E)?E.forEach(function(J){this.append(J[0],J[1])},this):E&&Object.getOwnPropertyNames(E).forEach(function(J){this.append(J,E[J])},this)}function S(E){if(E.bodyUsed)return Promise.reject(new TypeError("Already read"));E.bodyUsed=!0}function v(E){return new Promise(function(J,q){E.onload=function(){J(E.result)},E.onerror=function(){q(E.error)}})}function n(E){var J=new FileReader,q=v(J);return J.readAsArrayBuffer(E),q}function a(E){var J=new FileReader,q=v(J);return J.readAsText(E),q}function u(E){for(var J=new Uint8Array(E),q=new Array(J.length),K=0;K<J.length;K++)q[K]=String.fromCharCode(J[K]);return q.join("")}function p(E){if(E.slice)return E.slice(0);var J=new Uint8Array(E.byteLength);return J.set(new Uint8Array(E)),J.buffer}function w(){return this.bodyUsed=!1,this._initBody=function(E){this.bodyUsed=this.bodyUsed,this._bodyInit=E,E?typeof E=="string"?this._bodyText=E:h.blob&&Blob.prototype.isPrototypeOf(E)?this._bodyBlob=E:h.formData&&FormData.prototype.isPrototypeOf(E)?this._bodyFormData=E:h.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)?this._bodyText=E.toString():h.arrayBuffer&&h.blob&&P(E)?(this._bodyArrayBuffer=p(E.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):h.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(E)||z(E))?this._bodyArrayBuffer=p(E):this._bodyText=E=Object.prototype.toString.call(E):this._bodyText="",this.headers.get("content-type")||(typeof E=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):h.searchParams&&URLSearchParams.prototype.isPrototypeOf(E)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h.blob&&(this.blob=function(){var E=S(this);if(E)return E;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){if(this._bodyArrayBuffer){var E=S(this);return E||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}return this.blob().then(n)}),this.text=function(){var E=S(this);if(E)return E;if(this._bodyBlob)return a(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(u(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},h.formData&&(this.formData=function(){return this.text().then(c)}),this.json=function(){return this.text().then(JSON.parse)},this}Y.prototype.append=function(E,J){E=M(E),J=R(J);var q=this.map[E];this.map[E]=q?q+", "+J:J},Y.prototype.delete=function(E){delete this.map[M(E)]},Y.prototype.get=function(E){return E=M(E),this.has(E)?this.map[E]:null},Y.prototype.has=function(E){return this.map.hasOwnProperty(M(E))},Y.prototype.set=function(E,J){this.map[M(E)]=R(J)},Y.prototype.forEach=function(E,J){for(var q in this.map)this.map.hasOwnProperty(q)&&E.call(J,this.map[q],q,this)},Y.prototype.keys=function(){var E=[];return this.forEach(function(J,q){E.push(q)}),F(E)},Y.prototype.values=function(){var E=[];return this.forEach(function(J){E.push(J)}),F(E)},Y.prototype.entries=function(){var E=[];return this.forEach(function(J,q){E.push([q,J])}),F(E)},h.iterable&&(Y.prototype[Symbol.iterator]=Y.prototype.entries);var N=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function k(E){var J=E.toUpperCase();return N.indexOf(J)>-1?J:E}function C(E,J){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var q=(J=J||{}).body;if(E instanceof C){if(E.bodyUsed)throw new TypeError("Already read");this.url=E.url,this.credentials=E.credentials,J.headers||(this.headers=new Y(E.headers)),this.method=E.method,this.mode=E.mode,this.signal=E.signal,q||E._bodyInit==null||(q=E._bodyInit,E.bodyUsed=!0)}else this.url=String(E);if(this.credentials=J.credentials||this.credentials||"same-origin",!J.headers&&this.headers||(this.headers=new Y(J.headers)),this.method=k(J.method||this.method||"GET"),this.mode=J.mode||this.mode||null,this.signal=J.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&q)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(q),!(this.method!=="GET"&&this.method!=="HEAD"||J.cache!=="no-store"&&J.cache!=="no-cache")){var K=/([?&])_=[^&]*/;if(K.test(this.url))this.url=this.url.replace(K,"$1_="+new Date().getTime());else{var A=/\?/;this.url+=(A.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}function c(E){var J=new FormData;return E.trim().split("&").forEach(function(q){if(q){var K=q.split("="),A=K.shift().replace(/\+/g," "),T=K.join("=").replace(/\+/g," ");J.append(decodeURIComponent(A),decodeURIComponent(T))}}),J}function x(E){var J=new Y;return E.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(q){return q.indexOf(`
`)===0?q.substr(1,q.length):q}).forEach(function(q){var K=q.split(":"),A=K.shift().trim();if(A){var T=K.join(":").trim();J.append(A,T)}}),J}function X(E,J){if(!(this instanceof X))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');J||(J={}),this.type="default",this.status=J.status===void 0?200:J.status,this.ok=this.status>=200&&this.status<300,this.statusText=J.statusText===void 0?"":""+J.statusText,this.headers=new Y(J.headers),this.url=J.url||"",this._initBody(E)}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})},w.call(C.prototype),w.call(X.prototype),X.prototype.clone=function(){return new X(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Y(this.headers),url:this.url})},X.error=function(){var E=new X(null,{status:0,statusText:""});return E.type="error",E};var D=[301,302,303,307,308];X.redirect=function(E,J){if(D.indexOf(J)===-1)throw new RangeError("Invalid status code");return new X(null,{status:J,headers:{location:E}})};var G=B.DOMException;try{new G}catch{(G=function(J,q){this.message=J,this.name=q;var K=Error(J);this.stack=K.stack}).prototype=Object.create(Error.prototype),G.prototype.constructor=G}function O(E,J){return new Promise(function(q,K){var A=new C(E,J);if(A.signal&&A.signal.aborted)return K(new G("Aborted","AbortError"));var T=new XMLHttpRequest;function y(){T.abort()}function L(j){try{return j===""&&B.location.href?B.location.href:j}catch{return j}}T.onload=function(){var j={status:T.status,statusText:T.statusText,headers:x(T.getAllResponseHeaders()||"")};j.url="responseURL"in T?T.responseURL:j.headers.get("X-Request-URL");var Q="response"in T?T.response:T.responseText;setTimeout(function(){q(new X(Q,j))},0)},T.onerror=function(){setTimeout(function(){K(new TypeError("Network request failed"))},0)},T.ontimeout=function(){setTimeout(function(){K(new TypeError("Network request failed"))},0)},T.onabort=function(){setTimeout(function(){K(new G("Aborted","AbortError"))},0)},T.open(A.method,L(A.url),!0),A.credentials==="include"?T.withCredentials=!0:A.credentials==="omit"&&(T.withCredentials=!1),"responseType"in T&&(h.blob?T.responseType="blob":h.arrayBuffer&&A.headers.get("Content-Type")&&A.headers.get("Content-Type").indexOf("application/octet-stream")!==-1&&(T.responseType="arraybuffer")),!J||typeof J.headers!="object"||J.headers instanceof Y?A.headers.forEach(function(j,Q){T.setRequestHeader(Q,j)}):Object.getOwnPropertyNames(J.headers).forEach(function(j){T.setRequestHeader(j,R(J.headers[j]))}),A.signal&&(A.signal.addEventListener("abort",y),T.onreadystatechange=function(){T.readyState===4&&A.signal.removeEventListener("abort",y)}),T.send(A._bodyInit===void 0?null:A._bodyInit)})}O.polyfill=!0,B.fetch||(B.fetch=O,B.Headers=Y,B.Request=C,B.Response=X)},2895:(ye,le,d)=>{var B;(function(){var h=function(){this.init()};h.prototype={init:function(){var n=this||P;return n._counter=1e3,n._html5AudioPool=[],n.html5PoolSize=10,n._codecs={},n._howls=[],n._muted=!1,n._volume=1,n._canPlayEvent="canplaythrough",n._navigator=typeof window<"u"&&window.navigator?window.navigator:null,n.masterGain=null,n.noAudio=!1,n.usingWebAudio=!0,n.autoSuspend=!0,n.ctx=null,n.autoUnlock=!0,n._setup(),n},volume:function(n){var a=this||P;if(n=parseFloat(n),a.ctx||v(),n!==void 0&&n>=0&&n<=1){if(a._volume=n,a._muted)return a;a.usingWebAudio&&a.masterGain.gain.setValueAtTime(n,P.ctx.currentTime);for(var u=0;u<a._howls.length;u++)if(!a._howls[u]._webAudio)for(var p=a._howls[u]._getSoundIds(),w=0;w<p.length;w++){var N=a._howls[u]._soundById(p[w]);N&&N._node&&(N._node.volume=N._volume*n)}return a}return a._volume},mute:function(n){var a=this||P;a.ctx||v(),a._muted=n,a.usingWebAudio&&a.masterGain.gain.setValueAtTime(n?0:a._volume,P.ctx.currentTime);for(var u=0;u<a._howls.length;u++)if(!a._howls[u]._webAudio)for(var p=a._howls[u]._getSoundIds(),w=0;w<p.length;w++){var N=a._howls[u]._soundById(p[w]);N&&N._node&&(N._node.muted=!!n||N._muted)}return a},stop:function(){for(var n=this||P,a=0;a<n._howls.length;a++)n._howls[a].stop();return n},unload:function(){for(var n=this||P,a=n._howls.length-1;a>=0;a--)n._howls[a].unload();return n.usingWebAudio&&n.ctx&&n.ctx.close!==void 0&&(n.ctx.close(),n.ctx=null,v()),n},codecs:function(n){return(this||P)._codecs[n.replace(/^x-/,"")]},_setup:function(){var n=this||P;if(n.state=n.ctx&&n.ctx.state||"suspended",n._autoSuspend(),!n.usingWebAudio)if(typeof Audio<"u")try{new Audio().oncanplaythrough===void 0&&(n._canPlayEvent="canplay")}catch{n.noAudio=!0}else n.noAudio=!0;try{new Audio().muted&&(n.noAudio=!0)}catch{}return n.noAudio||n._setupCodecs(),n},_setupCodecs:function(){var n=this||P,a=null;try{a=typeof Audio<"u"?new Audio:null}catch{return n}if(!a||typeof a.canPlayType!="function")return n;var u=a.canPlayType("audio/mpeg;").replace(/^no$/,""),p=n._navigator?n._navigator.userAgent:"",w=p.match(/OPR\/([0-6].)/g),N=w&&parseInt(w[0].split("/")[1],10)<33,k=p.indexOf("Safari")!==-1&&p.indexOf("Chrome")===-1,C=p.match(/Version\/(.*?) /),c=k&&C&&parseInt(C[1],10)<15;return n._codecs={mp3:!(N||!u&&!a.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!u,opus:!!a.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!a.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(a.canPlayType('audio/wav; codecs="1"')||a.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!a.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!a.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(a.canPlayType("audio/x-m4a;")||a.canPlayType("audio/m4a;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(a.canPlayType("audio/x-m4b;")||a.canPlayType("audio/m4b;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(a.canPlayType("audio/x-mp4;")||a.canPlayType("audio/mp4;")||a.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!(c||!a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!(c||!a.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!a.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(a.canPlayType("audio/x-flac;")||a.canPlayType("audio/flac;")).replace(/^no$/,"")},n},_unlockAudio:function(){var n=this||P;if(!n._audioUnlocked&&n.ctx){n._audioUnlocked=!1,n.autoUnlock=!1,n._mobileUnloaded||n.ctx.sampleRate===44100||(n._mobileUnloaded=!0,n.unload()),n._scratchBuffer=n.ctx.createBuffer(1,1,22050);var a=function(u){for(;n._html5AudioPool.length<n.html5PoolSize;)try{var p=new Audio;p._unlocked=!0,n._releaseHtml5Audio(p)}catch{n.noAudio=!0;break}for(var w=0;w<n._howls.length;w++)if(!n._howls[w]._webAudio)for(var N=n._howls[w]._getSoundIds(),k=0;k<N.length;k++){var C=n._howls[w]._soundById(N[k]);C&&C._node&&!C._node._unlocked&&(C._node._unlocked=!0,C._node.load())}n._autoResume();var c=n.ctx.createBufferSource();c.buffer=n._scratchBuffer,c.connect(n.ctx.destination),c.start===void 0?c.noteOn(0):c.start(0),typeof n.ctx.resume=="function"&&n.ctx.resume(),c.onended=function(){c.disconnect(0),n._audioUnlocked=!0,document.removeEventListener("touchstart",a,!0),document.removeEventListener("touchend",a,!0),document.removeEventListener("click",a,!0),document.removeEventListener("keydown",a,!0);for(var x=0;x<n._howls.length;x++)n._howls[x]._emit("unlock")}};return document.addEventListener("touchstart",a,!0),document.addEventListener("touchend",a,!0),document.addEventListener("click",a,!0),document.addEventListener("keydown",a,!0),n}},_obtainHtml5Audio:function(){var n=this||P;if(n._html5AudioPool.length)return n._html5AudioPool.pop();var a=new Audio().play();return a&&typeof Promise<"u"&&(a instanceof Promise||typeof a.then=="function")&&a.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(n){var a=this||P;return n._unlocked&&a._html5AudioPool.push(n),a},_autoSuspend:function(){var n=this;if(n.autoSuspend&&n.ctx&&n.ctx.suspend!==void 0&&P.usingWebAudio){for(var a=0;a<n._howls.length;a++)if(n._howls[a]._webAudio){for(var u=0;u<n._howls[a]._sounds.length;u++)if(!n._howls[a]._sounds[u]._paused)return n}return n._suspendTimer&&clearTimeout(n._suspendTimer),n._suspendTimer=setTimeout(function(){if(n.autoSuspend){n._suspendTimer=null,n.state="suspending";var p=function(){n.state="suspended",n._resumeAfterSuspend&&(delete n._resumeAfterSuspend,n._autoResume())};n.ctx.suspend().then(p,p)}},3e4),n}},_autoResume:function(){var n=this;if(n.ctx&&n.ctx.resume!==void 0&&P.usingWebAudio)return n.state==="running"&&n.ctx.state!=="interrupted"&&n._suspendTimer?(clearTimeout(n._suspendTimer),n._suspendTimer=null):n.state==="suspended"||n.state==="running"&&n.ctx.state==="interrupted"?(n.ctx.resume().then(function(){n.state="running";for(var a=0;a<n._howls.length;a++)n._howls[a]._emit("resume")}),n._suspendTimer&&(clearTimeout(n._suspendTimer),n._suspendTimer=null)):n.state==="suspending"&&(n._resumeAfterSuspend=!0),n}};var P=new h,W=function(n){var a=this;n.src&&n.src.length!==0?a.init(n):console.error("An array of source files must be passed with any new Howl.")};W.prototype={init:function(n){var a=this;return P.ctx||v(),a._autoplay=n.autoplay||!1,a._format=typeof n.format!="string"?n.format:[n.format],a._html5=n.html5||!1,a._muted=n.mute||!1,a._loop=n.loop||!1,a._pool=n.pool||5,a._preload=typeof n.preload!="boolean"&&n.preload!=="metadata"||n.preload,a._rate=n.rate||1,a._sprite=n.sprite||{},a._src=typeof n.src!="string"?n.src:[n.src],a._volume=n.volume!==void 0?n.volume:1,a._xhr={method:n.xhr&&n.xhr.method?n.xhr.method:"GET",headers:n.xhr&&n.xhr.headers?n.xhr.headers:null,withCredentials:!(!n.xhr||!n.xhr.withCredentials)&&n.xhr.withCredentials},a._duration=0,a._state="unloaded",a._sounds=[],a._endTimers={},a._queue=[],a._playLock=!1,a._onend=n.onend?[{fn:n.onend}]:[],a._onfade=n.onfade?[{fn:n.onfade}]:[],a._onload=n.onload?[{fn:n.onload}]:[],a._onloaderror=n.onloaderror?[{fn:n.onloaderror}]:[],a._onplayerror=n.onplayerror?[{fn:n.onplayerror}]:[],a._onpause=n.onpause?[{fn:n.onpause}]:[],a._onplay=n.onplay?[{fn:n.onplay}]:[],a._onstop=n.onstop?[{fn:n.onstop}]:[],a._onmute=n.onmute?[{fn:n.onmute}]:[],a._onvolume=n.onvolume?[{fn:n.onvolume}]:[],a._onrate=n.onrate?[{fn:n.onrate}]:[],a._onseek=n.onseek?[{fn:n.onseek}]:[],a._onunlock=n.onunlock?[{fn:n.onunlock}]:[],a._onresume=[],a._webAudio=P.usingWebAudio&&!a._html5,P.ctx!==void 0&&P.ctx&&P.autoUnlock&&P._unlockAudio(),P._howls.push(a),a._autoplay&&a._queue.push({event:"play",action:function(){a.play()}}),a._preload&&a._preload!=="none"&&a.load(),a},load:function(){var n=this,a=null;if(!P.noAudio){typeof n._src=="string"&&(n._src=[n._src]);for(var u=0;u<n._src.length;u++){var p,w;if(n._format&&n._format[u])p=n._format[u];else{if(typeof(w=n._src[u])!="string"){n._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}(p=/^data:audio\/([^;,]+);/i.exec(w))||(p=/\.([^.]+)$/.exec(w.split("?",1)[0])),p&&(p=p[1].toLowerCase())}if(p||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),p&&P.codecs(p)){a=n._src[u];break}}return a?(n._src=a,n._state="loading",window.location.protocol==="https:"&&a.slice(0,5)==="http:"&&(n._html5=!0,n._webAudio=!1),new z(n),n._webAudio&&R(n),n):void n._emit("loaderror",null,"No codec support for selected audio sources.")}n._emit("loaderror",null,"No audio support.")},play:function(n,a){var u=this,p=null;if(typeof n=="number")p=n,n=null;else{if(typeof n=="string"&&u._state==="loaded"&&!u._sprite[n])return null;if(n===void 0&&(n="__default",!u._playLock)){for(var w=0,N=0;N<u._sounds.length;N++)u._sounds[N]._paused&&!u._sounds[N]._ended&&(w++,p=u._sounds[N]._id);w===1?n=null:p=null}}var k=p?u._soundById(p):u._inactiveSound();if(!k)return null;if(p&&!n&&(n=k._sprite||"__default"),u._state!=="loaded"){k._sprite=n,k._ended=!1;var C=k._id;return u._queue.push({event:"play",action:function(){u.play(C)}}),C}if(p&&!k._paused)return a||u._loadQueue("play"),k._id;u._webAudio&&P._autoResume();var c=Math.max(0,k._seek>0?k._seek:u._sprite[n][0]/1e3),x=Math.max(0,(u._sprite[n][0]+u._sprite[n][1])/1e3-c),X=1e3*x/Math.abs(k._rate),D=u._sprite[n][0]/1e3,G=(u._sprite[n][0]+u._sprite[n][1])/1e3;k._sprite=n,k._ended=!1;var O=function(){k._paused=!1,k._seek=c,k._start=D,k._stop=G,k._loop=!(!k._loop&&!u._sprite[n][2])};if(!(c>=G)){var E=k._node;if(u._webAudio){var J=function(){u._playLock=!1,O(),u._refreshBuffer(k);var T=k._muted||u._muted?0:k._volume;E.gain.setValueAtTime(T,P.ctx.currentTime),k._playStart=P.ctx.currentTime,E.bufferSource.start===void 0?k._loop?E.bufferSource.noteGrainOn(0,c,86400):E.bufferSource.noteGrainOn(0,c,x):k._loop?E.bufferSource.start(0,c,86400):E.bufferSource.start(0,c,x),X!==1/0&&(u._endTimers[k._id]=setTimeout(u._ended.bind(u,k),X)),a||setTimeout(function(){u._emit("play",k._id),u._loadQueue()},0)};P.state==="running"&&P.ctx.state!=="interrupted"?J():(u._playLock=!0,u.once("resume",J),u._clearTimer(k._id))}else{var q=function(){E.currentTime=c,E.muted=k._muted||u._muted||P._muted||E.muted,E.volume=k._volume*P.volume(),E.playbackRate=k._rate;try{var T=E.play();if(T&&typeof Promise<"u"&&(T instanceof Promise||typeof T.then=="function")?(u._playLock=!0,O(),T.then(function(){u._playLock=!1,E._unlocked=!0,a?u._loadQueue():u._emit("play",k._id)}).catch(function(){u._playLock=!1,u._emit("playerror",k._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),k._ended=!0,k._paused=!0})):a||(u._playLock=!1,O(),u._emit("play",k._id)),E.playbackRate=k._rate,E.paused)return void u._emit("playerror",k._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");n!=="__default"||k._loop?u._endTimers[k._id]=setTimeout(u._ended.bind(u,k),X):(u._endTimers[k._id]=function(){u._ended(k),E.removeEventListener("ended",u._endTimers[k._id],!1)},E.addEventListener("ended",u._endTimers[k._id],!1))}catch(y){u._emit("playerror",k._id,y)}};E.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(E.src=u._src,E.load());var K=window&&window.ejecta||!E.readyState&&P._navigator.isCocoonJS;if(E.readyState>=3||K)q();else{u._playLock=!0,u._state="loading";var A=function(){u._state="loaded",q(),E.removeEventListener(P._canPlayEvent,A,!1)};E.addEventListener(P._canPlayEvent,A,!1),u._clearTimer(k._id)}}return k._id}u._ended(k)},pause:function(n){var a=this;if(a._state!=="loaded"||a._playLock)return a._queue.push({event:"pause",action:function(){a.pause(n)}}),a;for(var u=a._getSoundIds(n),p=0;p<u.length;p++){a._clearTimer(u[p]);var w=a._soundById(u[p]);if(w&&!w._paused&&(w._seek=a.seek(u[p]),w._rateSeek=0,w._paused=!0,a._stopFade(u[p]),w._node))if(a._webAudio){if(!w._node.bufferSource)continue;w._node.bufferSource.stop===void 0?w._node.bufferSource.noteOff(0):w._node.bufferSource.stop(0),a._cleanBuffer(w._node)}else isNaN(w._node.duration)&&w._node.duration!==1/0||w._node.pause();arguments[1]||a._emit("pause",w?w._id:null)}return a},stop:function(n,a){var u=this;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"stop",action:function(){u.stop(n)}}),u;for(var p=u._getSoundIds(n),w=0;w<p.length;w++){u._clearTimer(p[w]);var N=u._soundById(p[w]);N&&(N._seek=N._start||0,N._rateSeek=0,N._paused=!0,N._ended=!0,u._stopFade(p[w]),N._node&&(u._webAudio?N._node.bufferSource&&(N._node.bufferSource.stop===void 0?N._node.bufferSource.noteOff(0):N._node.bufferSource.stop(0),u._cleanBuffer(N._node)):isNaN(N._node.duration)&&N._node.duration!==1/0||(N._node.currentTime=N._start||0,N._node.pause(),N._node.duration===1/0&&u._clearSound(N._node))),a||u._emit("stop",N._id))}return u},mute:function(n,a){var u=this;if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"mute",action:function(){u.mute(n,a)}}),u;if(a===void 0){if(typeof n!="boolean")return u._muted;u._muted=n}for(var p=u._getSoundIds(a),w=0;w<p.length;w++){var N=u._soundById(p[w]);N&&(N._muted=n,N._interval&&u._stopFade(N._id),u._webAudio&&N._node?N._node.gain.setValueAtTime(n?0:N._volume,P.ctx.currentTime):N._node&&(N._node.muted=!!P._muted||n),u._emit("mute",N._id))}return u},volume:function(){var n,a,u,p=this,w=arguments;if(w.length===0)return p._volume;if(w.length===1||w.length===2&&w[1]===void 0?p._getSoundIds().indexOf(w[0])>=0?a=parseInt(w[0],10):n=parseFloat(w[0]):w.length>=2&&(n=parseFloat(w[0]),a=parseInt(w[1],10)),!(n!==void 0&&n>=0&&n<=1))return(u=a?p._soundById(a):p._sounds[0])?u._volume:0;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"volume",action:function(){p.volume.apply(p,w)}}),p;a===void 0&&(p._volume=n),a=p._getSoundIds(a);for(var N=0;N<a.length;N++)(u=p._soundById(a[N]))&&(u._volume=n,w[2]||p._stopFade(a[N]),p._webAudio&&u._node&&!u._muted?u._node.gain.setValueAtTime(n,P.ctx.currentTime):u._node&&!u._muted&&(u._node.volume=n*P.volume()),p._emit("volume",u._id));return p},fade:function(n,a,u,p){var w=this;if(w._state!=="loaded"||w._playLock)return w._queue.push({event:"fade",action:function(){w.fade(n,a,u,p)}}),w;n=Math.min(Math.max(0,parseFloat(n)),1),a=Math.min(Math.max(0,parseFloat(a)),1),u=parseFloat(u),w.volume(n,p);for(var N=w._getSoundIds(p),k=0;k<N.length;k++){var C=w._soundById(N[k]);if(C){if(p||w._stopFade(N[k]),w._webAudio&&!C._muted){var c=P.ctx.currentTime,x=c+u/1e3;C._volume=n,C._node.gain.setValueAtTime(n,c),C._node.gain.linearRampToValueAtTime(a,x)}w._startFadeInterval(C,n,a,u,N[k],p===void 0)}}return w},_startFadeInterval:function(n,a,u,p,w,N){var k=this,C=a,c=u-a,x=Math.abs(c/.01),X=Math.max(4,x>0?p/x:p),D=Date.now();n._fadeTo=u,n._interval=setInterval(function(){var G=(Date.now()-D)/p;D=Date.now(),C+=c*G,C=Math.round(100*C)/100,C=c<0?Math.max(u,C):Math.min(u,C),k._webAudio?n._volume=C:k.volume(C,n._id,!0),N&&(k._volume=C),(u<a&&C<=u||u>a&&C>=u)&&(clearInterval(n._interval),n._interval=null,n._fadeTo=null,k.volume(u,n._id),k._emit("fade",n._id))},X)},_stopFade:function(n){var a=this,u=a._soundById(n);return u&&u._interval&&(a._webAudio&&u._node.gain.cancelScheduledValues(P.ctx.currentTime),clearInterval(u._interval),u._interval=null,a.volume(u._fadeTo,n),u._fadeTo=null,a._emit("fade",n)),a},loop:function(){var n,a,u,p=this,w=arguments;if(w.length===0)return p._loop;if(w.length===1){if(typeof w[0]!="boolean")return!!(u=p._soundById(parseInt(w[0],10)))&&u._loop;n=w[0],p._loop=n}else w.length===2&&(n=w[0],a=parseInt(w[1],10));for(var N=p._getSoundIds(a),k=0;k<N.length;k++)(u=p._soundById(N[k]))&&(u._loop=n,p._webAudio&&u._node&&u._node.bufferSource&&(u._node.bufferSource.loop=n,n&&(u._node.bufferSource.loopStart=u._start||0,u._node.bufferSource.loopEnd=u._stop,p.playing(N[k])&&(p.pause(N[k],!0),p.play(N[k],!0)))));return p},rate:function(){var n,a,u,p=this,w=arguments;if(w.length===0?a=p._sounds[0]._id:w.length===1?p._getSoundIds().indexOf(w[0])>=0?a=parseInt(w[0],10):n=parseFloat(w[0]):w.length===2&&(n=parseFloat(w[0]),a=parseInt(w[1],10)),typeof n!="number")return(u=p._soundById(a))?u._rate:p._rate;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"rate",action:function(){p.rate.apply(p,w)}}),p;a===void 0&&(p._rate=n),a=p._getSoundIds(a);for(var N=0;N<a.length;N++)if(u=p._soundById(a[N])){p.playing(a[N])&&(u._rateSeek=p.seek(a[N]),u._playStart=p._webAudio?P.ctx.currentTime:u._playStart),u._rate=n,p._webAudio&&u._node&&u._node.bufferSource?u._node.bufferSource.playbackRate.setValueAtTime(n,P.ctx.currentTime):u._node&&(u._node.playbackRate=n);var k=p.seek(a[N]),C=1e3*((p._sprite[u._sprite][0]+p._sprite[u._sprite][1])/1e3-k)/Math.abs(u._rate);!p._endTimers[a[N]]&&u._paused||(p._clearTimer(a[N]),p._endTimers[a[N]]=setTimeout(p._ended.bind(p,u),C)),p._emit("rate",u._id)}return p},seek:function(){var n,a,u=this,p=arguments;if(p.length===0?u._sounds.length&&(a=u._sounds[0]._id):p.length===1?u._getSoundIds().indexOf(p[0])>=0?a=parseInt(p[0],10):u._sounds.length&&(a=u._sounds[0]._id,n=parseFloat(p[0])):p.length===2&&(n=parseFloat(p[0]),a=parseInt(p[1],10)),a===void 0)return 0;if(typeof n=="number"&&(u._state!=="loaded"||u._playLock))return u._queue.push({event:"seek",action:function(){u.seek.apply(u,p)}}),u;var w=u._soundById(a);if(w){if(!(typeof n=="number"&&n>=0)){if(u._webAudio){var N=u.playing(a)?P.ctx.currentTime-w._playStart:0,k=w._rateSeek?w._rateSeek-w._seek:0;return w._seek+(k+N*Math.abs(w._rate))}return w._node.currentTime}var C=u.playing(a);C&&u.pause(a,!0),w._seek=n,w._ended=!1,u._clearTimer(a),u._webAudio||!w._node||isNaN(w._node.duration)||(w._node.currentTime=n);var c=function(){C&&u.play(a,!0),u._emit("seek",a)};if(C&&!u._webAudio){var x=function(){u._playLock?setTimeout(x,0):c()};setTimeout(x,0)}else c()}return u},playing:function(n){var a=this;if(typeof n=="number"){var u=a._soundById(n);return!!u&&!u._paused}for(var p=0;p<a._sounds.length;p++)if(!a._sounds[p]._paused)return!0;return!1},duration:function(n){var a=this,u=a._duration,p=a._soundById(n);return p&&(u=a._sprite[p._sprite][1]/1e3),u},state:function(){return this._state},unload:function(){for(var n=this,a=n._sounds,u=0;u<a.length;u++)a[u]._paused||n.stop(a[u]._id),n._webAudio||(n._clearSound(a[u]._node),a[u]._node.removeEventListener("error",a[u]._errorFn,!1),a[u]._node.removeEventListener(P._canPlayEvent,a[u]._loadFn,!1),a[u]._node.removeEventListener("ended",a[u]._endFn,!1),P._releaseHtml5Audio(a[u]._node)),delete a[u]._node,n._clearTimer(a[u]._id);var p=P._howls.indexOf(n);p>=0&&P._howls.splice(p,1);var w=!0;for(u=0;u<P._howls.length;u++)if(P._howls[u]._src===n._src||n._src.indexOf(P._howls[u]._src)>=0){w=!1;break}return M&&w&&delete M[n._src],P.noAudio=!1,n._state="unloaded",n._sounds=[],n=null,null},on:function(n,a,u,p){var w=this,N=w["_on"+n];return typeof a=="function"&&N.push(p?{id:u,fn:a,once:p}:{id:u,fn:a}),w},off:function(n,a,u){var p=this,w=p["_on"+n],N=0;if(typeof a=="number"&&(u=a,a=null),a||u)for(N=0;N<w.length;N++){var k=u===w[N].id;if(a===w[N].fn&&k||!a&&k){w.splice(N,1);break}}else if(n)p["_on"+n]=[];else{var C=Object.keys(p);for(N=0;N<C.length;N++)C[N].indexOf("_on")===0&&Array.isArray(p[C[N]])&&(p[C[N]]=[])}return p},once:function(n,a,u){var p=this;return p.on(n,a,u,1),p},_emit:function(n,a,u){for(var p=this,w=p["_on"+n],N=w.length-1;N>=0;N--)w[N].id&&w[N].id!==a&&n!=="load"||(setTimeout((function(k){k.call(this,a,u)}).bind(p,w[N].fn),0),w[N].once&&p.off(n,w[N].fn,w[N].id));return p._loadQueue(n),p},_loadQueue:function(n){var a=this;if(a._queue.length>0){var u=a._queue[0];u.event===n&&(a._queue.shift(),a._loadQueue()),n||u.action()}return a},_ended:function(n){var a=this,u=n._sprite;if(!a._webAudio&&n._node&&!n._node.paused&&!n._node.ended&&n._node.currentTime<n._stop)return setTimeout(a._ended.bind(a,n),100),a;var p=!(!n._loop&&!a._sprite[u][2]);if(a._emit("end",n._id),!a._webAudio&&p&&a.stop(n._id,!0).play(n._id),a._webAudio&&p){a._emit("play",n._id),n._seek=n._start||0,n._rateSeek=0,n._playStart=P.ctx.currentTime;var w=1e3*(n._stop-n._start)/Math.abs(n._rate);a._endTimers[n._id]=setTimeout(a._ended.bind(a,n),w)}return a._webAudio&&!p&&(n._paused=!0,n._ended=!0,n._seek=n._start||0,n._rateSeek=0,a._clearTimer(n._id),a._cleanBuffer(n._node),P._autoSuspend()),a._webAudio||p||a.stop(n._id,!0),a},_clearTimer:function(n){var a=this;if(a._endTimers[n]){if(typeof a._endTimers[n]!="function")clearTimeout(a._endTimers[n]);else{var u=a._soundById(n);u&&u._node&&u._node.removeEventListener("ended",a._endTimers[n],!1)}delete a._endTimers[n]}return a},_soundById:function(n){for(var a=this,u=0;u<a._sounds.length;u++)if(n===a._sounds[u]._id)return a._sounds[u];return null},_inactiveSound:function(){var n=this;n._drain();for(var a=0;a<n._sounds.length;a++)if(n._sounds[a]._ended)return n._sounds[a].reset();return new z(n)},_drain:function(){var n=this,a=n._pool,u=0,p=0;if(!(n._sounds.length<a)){for(p=0;p<n._sounds.length;p++)n._sounds[p]._ended&&u++;for(p=n._sounds.length-1;p>=0;p--){if(u<=a)return;n._sounds[p]._ended&&(n._webAudio&&n._sounds[p]._node&&n._sounds[p]._node.disconnect(0),n._sounds.splice(p,1),u--)}}},_getSoundIds:function(n){var a=this;if(n===void 0){for(var u=[],p=0;p<a._sounds.length;p++)u.push(a._sounds[p]._id);return u}return[n]},_refreshBuffer:function(n){var a=this;return n._node.bufferSource=P.ctx.createBufferSource(),n._node.bufferSource.buffer=M[a._src],n._panner?n._node.bufferSource.connect(n._panner):n._node.bufferSource.connect(n._node),n._node.bufferSource.loop=n._loop,n._loop&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop||0),n._node.bufferSource.playbackRate.setValueAtTime(n._rate,P.ctx.currentTime),a},_cleanBuffer:function(n){var a=this,u=P._navigator&&P._navigator.vendor.indexOf("Apple")>=0;if(P._scratchBuffer&&n.bufferSource&&(n.bufferSource.onended=null,n.bufferSource.disconnect(0),u))try{n.bufferSource.buffer=P._scratchBuffer}catch{}return n.bufferSource=null,a},_clearSound:function(n){/MSIE |Trident\//.test(P._navigator&&P._navigator.userAgent)||(n.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var z=function(n){this._parent=n,this.init()};z.prototype={init:function(){var n=this,a=n._parent;return n._muted=a._muted,n._loop=a._loop,n._volume=a._volume,n._rate=a._rate,n._seek=0,n._paused=!0,n._ended=!0,n._sprite="__default",n._id=++P._counter,a._sounds.push(n),n.create(),n},create:function(){var n=this,a=n._parent,u=P._muted||n._muted||n._parent._muted?0:n._volume;return a._webAudio?(n._node=P.ctx.createGain===void 0?P.ctx.createGainNode():P.ctx.createGain(),n._node.gain.setValueAtTime(u,P.ctx.currentTime),n._node.paused=!0,n._node.connect(P.masterGain)):P.noAudio||(n._node=P._obtainHtml5Audio(),n._errorFn=n._errorListener.bind(n),n._node.addEventListener("error",n._errorFn,!1),n._loadFn=n._loadListener.bind(n),n._node.addEventListener(P._canPlayEvent,n._loadFn,!1),n._endFn=n._endListener.bind(n),n._node.addEventListener("ended",n._endFn,!1),n._node.src=a._src,n._node.preload=a._preload===!0?"auto":a._preload,n._node.volume=u*P.volume(),n._node.load()),n},reset:function(){var n=this,a=n._parent;return n._muted=a._muted,n._loop=a._loop,n._volume=a._volume,n._rate=a._rate,n._seek=0,n._rateSeek=0,n._paused=!0,n._ended=!0,n._sprite="__default",n._id=++P._counter,n},_errorListener:function(){var n=this;n._parent._emit("loaderror",n._id,n._node.error?n._node.error.code:0),n._node.removeEventListener("error",n._errorFn,!1)},_loadListener:function(){var n=this,a=n._parent;a._duration=Math.ceil(10*n._node.duration)/10,Object.keys(a._sprite).length===0&&(a._sprite={__default:[0,1e3*a._duration]}),a._state!=="loaded"&&(a._state="loaded",a._emit("load"),a._loadQueue()),n._node.removeEventListener(P._canPlayEvent,n._loadFn,!1)},_endListener:function(){var n=this,a=n._parent;a._duration===1/0&&(a._duration=Math.ceil(10*n._node.duration)/10,a._sprite.__default[1]===1/0&&(a._sprite.__default[1]=1e3*a._duration),a._ended(n)),n._node.removeEventListener("ended",n._endFn,!1)}};var M={},R=function(n){var a=n._src;if(M[a])return n._duration=M[a].duration,void S(n);if(/^data:[^;]+;base64,/.test(a)){for(var u=atob(a.split(",")[1]),p=new Uint8Array(u.length),w=0;w<u.length;++w)p[w]=u.charCodeAt(w);Y(p.buffer,n)}else{var N=new XMLHttpRequest;N.open(n._xhr.method,a,!0),N.withCredentials=n._xhr.withCredentials,N.responseType="arraybuffer",n._xhr.headers&&Object.keys(n._xhr.headers).forEach(function(k){N.setRequestHeader(k,n._xhr.headers[k])}),N.onload=function(){var k=(N.status+"")[0];k==="0"||k==="2"||k==="3"?Y(N.response,n):n._emit("loaderror",null,"Failed loading audio file with status: "+N.status+".")},N.onerror=function(){n._webAudio&&(n._html5=!0,n._webAudio=!1,n._sounds=[],delete M[a],n.load())},F(N)}},F=function(n){try{n.send()}catch{n.onerror()}},Y=function(n,a){var u=function(){a._emit("loaderror",null,"Decoding audio data failed.")},p=function(w){w&&a._sounds.length>0?(M[a._src]=w,S(a,w)):u()};typeof Promise<"u"&&P.ctx.decodeAudioData.length===1?P.ctx.decodeAudioData(n).then(p).catch(u):P.ctx.decodeAudioData(n,p,u)},S=function(n,a){a&&!n._duration&&(n._duration=a.duration),Object.keys(n._sprite).length===0&&(n._sprite={__default:[0,1e3*n._duration]}),n._state!=="loaded"&&(n._state="loaded",n._emit("load"),n._loadQueue())},v=function(){if(P.usingWebAudio){try{typeof AudioContext<"u"?P.ctx=new AudioContext:typeof webkitAudioContext<"u"?P.ctx=new webkitAudioContext:P.usingWebAudio=!1}catch{P.usingWebAudio=!1}P.ctx||(P.usingWebAudio=!1);var n=/iP(hone|od|ad)/.test(P._navigator&&P._navigator.platform),a=P._navigator&&P._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),u=a?parseInt(a[1],10):null;if(n&&u&&u<9){var p=/safari/.test(P._navigator&&P._navigator.userAgent.toLowerCase());P._navigator&&!p&&(P.usingWebAudio=!1)}P.usingWebAudio&&(P.masterGain=P.ctx.createGain===void 0?P.ctx.createGainNode():P.ctx.createGain(),P.masterGain.gain.setValueAtTime(P._muted?0:P._volume,P.ctx.currentTime),P.masterGain.connect(P.ctx.destination)),P._setup()}};(B=(function(){return{Howler:P,Howl:W}}).apply(le,[]))!==void 0&&(ye.exports=B),d.g!==void 0?(d.g.HowlerGlobal=h,d.g.Howler=P,d.g.Howl=W,d.g.Sound=z):typeof window<"u"&&(window.HowlerGlobal=h,window.Howler=P,window.Howl=W,window.Sound=z)})()}},Xt={};function ct(ye){var le=Xt[ye];if(le!==void 0)return le.exports;var d=Xt[ye]={id:ye,loaded:!1,exports:{}};return Ot[ye].call(d.exports,d,d.exports,ct),d.loaded=!0,d.exports}ct.m=Ot,ct.n=ye=>{var le=ye&&ye.__esModule?()=>ye.default:()=>ye;return ct.d(le,{a:le}),le},Gt=Object.getPrototypeOf?ye=>Object.getPrototypeOf(ye):ye=>ye.__proto__,ct.t=function(ye,le){if(1&le&&(ye=this(ye)),8&le||typeof ye=="object"&&ye&&(4&le&&ye.__esModule||16&le&&typeof ye.then=="function"))return ye;var d=Object.create(null);ct.r(d);var B={};oi=oi||[null,Gt({}),Gt([]),Gt(Gt)];for(var h=2&le&&ye;typeof h=="object"&&!~oi.indexOf(h);h=Gt(h))Object.getOwnPropertyNames(h).forEach(P=>B[P]=()=>ye[P]);return B.default=()=>ye,ct.d(d,B),d},ct.d=(ye,le)=>{for(var d in le)ct.o(le,d)&&!ct.o(ye,d)&&Object.defineProperty(ye,d,{enumerable:!0,get:le[d]})},ct.f={},ct.e=ye=>Promise.all(Object.keys(ct.f).reduce((le,d)=>(ct.f[d](ye,le),le),[])),ct.u=ye=>"chunks/"+ye+".js",ct.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),ct.hmd=ye=>((ye=Object.create(ye)).children||(ye.children=[]),Object.defineProperty(ye,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+ye.id)}}),ye),ct.o=(ye,le)=>Object.prototype.hasOwnProperty.call(ye,le),di={},ct.l=(ye,le,d,B)=>{if(di[ye])di[ye].push(le);else{var h,P;if(d!==void 0)for(var W=document.getElementsByTagName("script"),z=0;z<W.length;z++){var M=W[z];if(M.getAttribute("src")==ye){h=M;break}}h||(P=!0,(h=document.createElement("script")).charset="utf-8",h.timeout=120,ct.nc&&h.setAttribute("nonce",ct.nc),h.src=ye),di[ye]=[le];var R=(Y,S)=>{h.onerror=h.onload=null,clearTimeout(F);var v=di[ye];if(delete di[ye],h.parentNode&&h.parentNode.removeChild(h),v&&v.forEach(n=>n(S)),Y)return Y(S)},F=setTimeout(R.bind(null,void 0,{type:"timeout",target:h}),12e4);h.onerror=R.bind(null,h.onerror),h.onload=R.bind(null,h.onload),P&&document.head.appendChild(h)}},ct.r=ye=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ye,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ye,"__esModule",{value:!0})},ct.nmd=ye=>(ye.paths=[],ye.children||(ye.children=[]),ye),(()=>{var ye;ct.g.importScripts&&(ye=ct.g.location+"");var le=ct.g.document;if(!ye&&le&&(le.currentScript&&(ye=le.currentScript.src),!ye)){var d=le.getElementsByTagName("script");d.length&&(ye=d[d.length-1].src)}if(!ye)throw new Error("Automatic publicPath is not supported in this browser");ye=ye.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),ct.p=ye})(),(()=>{var ye={296:0};ct.f.j=(B,h)=>{var P=ct.o(ye,B)?ye[B]:void 0;if(P!==0)if(P)h.push(P[2]);else{var W=new Promise((F,Y)=>P=ye[B]=[F,Y]);h.push(P[2]=W);var z=ct.p+ct.u(B),M=new Error,R=F=>{if(ct.o(ye,B)&&((P=ye[B])!==0&&(ye[B]=void 0),P)){var Y=F&&(F.type==="load"?"missing":F.type),S=F&&F.target&&F.target.src;M.message="Loading chunk "+B+` failed.
(`+Y+": "+S+")",M.name="ChunkLoadError",M.type=Y,M.request=S,P[1](M)}};ct.l(z,R,"chunk-"+B,B)}};var le=(B,h)=>{var P,W,[z,M,R]=h,F=0;if(z.some(Y=>ye[Y]!==0)){for(P in M)ct.o(M,P)&&(ct.m[P]=M[P]);R&&R(ct)}for(B&&B(h);F<z.length;F++)W=z[F],ct.o(ye,W)&&ye[W]&&ye[W][0](),ye[W]=0},d=self.webpackChunk=self.webpackChunk||[];d.forEach(le.bind(null,0)),d.push=le.bind(null,d.push.bind(d))})(),ct(3410),ct(6426),ct(4852),ct(2895),ct(5410),ct(5067)};Kr();Jr();
